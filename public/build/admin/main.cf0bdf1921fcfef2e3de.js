/*! For license information please see main.cf0bdf1921fcfef2e3de.js.LICENSE.txt */
!function(){var e,t,n={20748:function(e,t,n){"use strict";var i,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=(i=n(96540))&&i.__esModule?i:{default:i};t.A=function(e){var t=e.fill,n=void 0===t?"currentColor":t,i=e.width,s=void 0===i?24:i,a=e.height,l=void 0===a?24:a,c=e.style,u=void 0===c?{}:c,d=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["fill","width","height","style"]);return o.default.createElement("svg",r({viewBox:"0 0 24 24",style:r({fill:n,width:s,height:l},u)},d),o.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))}},54657:function(e,t,n){"use strict";var i,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=(i=n(96540))&&i.__esModule?i:{default:i};t.A=function(e){var t=e.fill,n=void 0===t?"currentColor":t,i=e.width,s=void 0===i?24:i,a=e.height,l=void 0===a?24:a,c=e.style,u=void 0===c?{}:c,d=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["fill","width","height","style"]);return o.default.createElement("svg",r({viewBox:"0 0 24 24",style:r({fill:n,width:s,height:l},u)},d),o.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},14018:function(e,t){"use strict";function n(e,t){return{validate:e,compare:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0,t.fullFormats={date:n(o,s),time:n(l,c),"date-time":n((function(e){const t=e.split(u);return 2===t.length&&o(t[0])&&l(t[1],!0)}),d),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:function(e){return h.test(e)&&p.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:function(e){if(y.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}},uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:function(e){return f.lastIndex=0,f.test(e)},int32:{type:"number",validate:function(e){return Number.isInteger(e)&&e<=g&&e>=m}},int64:{type:"number",validate:function(e){return Number.isInteger(e)}},float:{type:"number",validate:b},double:{type:"number",validate:b},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:n(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:n(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,c),"date-time":n(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,d),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);const i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,r=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(e){const t=i.exec(e);if(!t)return!1;const n=+t[1],o=+t[2],s=+t[3];return o>=1&&o<=12&&s>=1&&s<=(2===o&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(n)?29:r[o])}function s(e,t){if(e&&t)return e>t?1:e<t?-1:0}const a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function l(e,t){const n=a.exec(e);if(!n)return!1;const i=+n[1],r=+n[2],o=+n[3],s=n[5];return(i<=23&&r<=59&&o<=59||23===i&&59===r&&60===o)&&(!t||""!==s)}function c(e,t){if(!e||!t)return;const n=a.exec(e),i=a.exec(t);return n&&i?(e=n[1]+n[2]+n[3]+(n[4]||""))>(t=i[1]+i[2]+i[3]+(i[4]||""))?1:e<t?-1:0:void 0}const u=/t|\s/i;function d(e,t){if(!e||!t)return;const[n,i]=e.split(u),[r,o]=t.split(u),a=s(n,r);return void 0!==a?a||c(i,o):void 0}const h=/\/|:/,p=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,f=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm,m=-(2**31),g=2**31-1;function b(){return!0}const y=/[^\\]\\Z/},68182:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(14018),r=n(26461),o=n(99029),s=new o.Name("fullFormats"),a=new o.Name("fastFormats"),l=(e,t={keywords:!0})=>{if(Array.isArray(t))return c(e,t,i.fullFormats,s),e;const[n,o]="fast"===t.mode?[i.fastFormats,a]:[i.fullFormats,s];return c(e,t.formats||i.formatNames,n,o),t.keywords&&r.default(e),e};function c(e,t,n,i){var r,s;null!==(r=(s=e.opts.code).formats)&&void 0!==r||(s.formats=o._`require("ajv-formats/dist/formats").${i}`);for(const i of t)e.addFormat(i,n[i])}l.get=(e,t="full")=>{const n=("fast"===t?i.fastFormats:i.fullFormats)[e];if(!n)throw new Error(`Unknown format "${e}"`);return n},e.exports=t=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},26461:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const i=n(63282),r=n(99029),o=r.operators,s={formatMaximum:{okStr:"<=",ok:o.LTE,fail:o.GT},formatMinimum:{okStr:">=",ok:o.GTE,fail:o.LT},formatExclusiveMaximum:{okStr:"<",ok:o.LT,fail:o.GTE},formatExclusiveMinimum:{okStr:">",ok:o.GT,fail:o.LTE}},a={message:({keyword:e,schemaCode:t})=>r.str`should be ${s[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>r._`{comparison: ${s[e].okStr}, limit: ${t}}`};t.formatLimitDefinition={keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:a,code(e){const{gen:t,data:n,schemaCode:o,keyword:a,it:l}=e,{opts:c,self:u}=l;if(!c.validateFormats)return;const d=new i.KeywordCxt(l,u.RULES.all.format.definition,"format");function h(e){return r._`${e}.compare(${n}, ${o}) ${s[a].fail} 0`}d.$data?function(){const n=t.scopeValue("formats",{ref:u.formats,code:c.code.formats}),i=t.const("fmt",r._`${n}[${d.schemaCode}]`);e.fail$data(r.or(r._`typeof ${i} != "object"`,r._`${i} instanceof RegExp`,r._`typeof ${i}.compare != "function"`,h(i)))}():function(){const n=d.schema,i=u.formats[n];if(!i||!0===i)return;if("object"!=typeof i||i instanceof RegExp||"function"!=typeof i.compare)throw new Error(`"${a}": format "${n}" does not define "compare" function`);const o=t.scopeValue("formats",{key:n,ref:i,code:c.code.formats?r._`${c.code.formats}${r.getProperty(n)}`:void 0});e.fail$data(h(o))}()},dependencies:["format"]},t.default=e=>(e.addKeyword(t.formatLimitDefinition),e)},63282:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const i=n(4042),r=n(86144),o=n(36653),s=n(72079),a=["/properties"],l="http://json-schema.org/draft-07/schema";class c extends i.default{_addVocabularies(){super._addVocabularies(),r.default.forEach((e=>this.addVocabulary(e))),this.opts.discriminator&&this.addKeyword(o.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(s,a):s;this.addMetaSchema(e,l,!1),this.refs["http://json-schema.org/schema"]=l}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var u=n(62586);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var d=n(99029);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var h=n(13558);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return h.default}});var p=n(34551);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return p.default}})},41520:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class n{}t._CodeOrName=n,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class i extends n{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=i;class r extends n{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof i&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function o(e,...t){const n=[e[0]];let i=0;for(;i<t.length;)l(n,t[i]),n.push(e[++i]);return new r(n)}t._Code=r,t.nil=new r(""),t._=o;const s=new r("+");function a(e,...t){const n=[u(e[0])];let i=0;for(;i<t.length;)n.push(s),l(n,t[i]),n.push(s,u(e[++i]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===s){const n=c(e[t-1],e[t+1]);if(void 0!==n){e.splice(t-1,3,n);continue}e[t++]="+"}t++}}(n),new r(n)}function l(e,t){var n;t instanceof r?e.push(...t._items):t instanceof i?e.push(t):e.push("number"==typeof(n=t)||"boolean"==typeof n||null===n?n:u(Array.isArray(n)?n.join(","):n))}function c(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof i||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof i?void 0:`"${e}${t.slice(1)}`}function u(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=a,t.addCodeArg=l,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:a`${e}${t}`},t.stringify=function(e){return new r(u(e))},t.safeStringify=u,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new r(`.${e}`):o`[${e}]`},t.getEsmExportName=function(e){if("string"==typeof e&&t.IDENTIFIER.test(e))return new r(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)},t.regexpCode=function(e){return new r(e.toString())}},99029:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const i=n(41520),r=n(57845);var o=n(41520);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return o.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return o.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return o.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return o.Name}});var s=n(57845);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),t.operators={GT:new i._Code(">"),GTE:new i._Code(">="),LT:new i._Code("<"),LTE:new i._Code("<="),EQ:new i._Code("==="),NEQ:new i._Code("!=="),NOT:new i._Code("!"),OR:new i._Code("||"),AND:new i._Code("&&"),ADD:new i._Code("+")};class a{optimizeNodes(){return this}optimizeNames(e,t){return this}}class l extends a{constructor(e,t,n){super(),this.varKind=e,this.name=t,this.rhs=n}render({es5:e,_n:t}){const n=e?r.varKinds.var:this.varKind,i=void 0===this.rhs?"":` = ${this.rhs}`;return`${n} ${this.name}${i};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=D(this.rhs,e,t)),this}get names(){return this.rhs instanceof i._CodeOrName?this.rhs.names:{}}}class c extends a{constructor(e,t,n){super(),this.lhs=e,this.rhs=t,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof i.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=D(this.rhs,e,t),this}get names(){return P(this.lhs instanceof i.Name?{}:{...this.lhs.names},this.rhs)}}class u extends c{constructor(e,t,n,i){super(e,n,i),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class d extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class h extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}}class p extends a{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class f extends a{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=D(this.code,e,t),this}get names(){return this.code instanceof i._CodeOrName?this.code.names:{}}}class m extends a{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce(((t,n)=>t+n.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const n=e[t].optimizeNodes();Array.isArray(n)?e.splice(t,1,...n):n?e[t]=n:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:n}=this;let i=n.length;for(;i--;){const r=n[i];r.optimizeNames(e,t)||(L(e,r.names),n.splice(i,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>M(e,t.names)),{})}}class g extends m{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class b extends m{}class y extends g{}y.kind="else";class v extends g{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new y(e):e}return t?!1===e?t instanceof v?t:t.nodes:this.nodes.length?this:new v(A(e),t instanceof v?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var n;if(this.else=null===(n=this.else)||void 0===n?void 0:n.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=D(this.condition,e,t),this}get names(){const e=super.names;return P(e,this.condition),this.else&&M(e,this.else.names),e}}v.kind="if";class _ extends g{}_.kind="for";class w extends _{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=D(this.iteration,e,t),this}get names(){return M(super.names,this.iteration.names)}}class k extends _{constructor(e,t,n,i){super(),this.varKind=e,this.name=t,this.from=n,this.to=i}render(e){const t=e.es5?r.varKinds.var:this.varKind,{name:n,from:i,to:o}=this;return`for(${t} ${n}=${i}; ${n}<${o}; ${n}++)`+super.render(e)}get names(){const e=P(super.names,this.from);return P(e,this.to)}}class C extends _{constructor(e,t,n,i){super(),this.loop=e,this.varKind=t,this.name=n,this.iterable=i}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=D(this.iterable,e,t),this}get names(){return M(super.names,this.iterable.names)}}class E extends g{constructor(e,t,n){super(),this.name=e,this.args=t,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}E.kind="func";class x extends m{render(e){return"return "+super.render(e)}}x.kind="return";class S extends g{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var n,i;return super.optimizeNames(e,t),null===(n=this.catch)||void 0===n||n.optimizeNames(e,t),null===(i=this.finally)||void 0===i||i.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&M(e,this.catch.names),this.finally&&M(e,this.finally.names),e}}class O extends g{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}O.kind="catch";class T extends g{render(e){return"finally"+super.render(e)}}function M(e,t){for(const n in t)e[n]=(e[n]||0)+(t[n]||0);return e}function P(e,t){return t instanceof i._CodeOrName?M(e,t.names):e}function D(e,t,n){return e instanceof i.Name?o(e):(r=e)instanceof i._Code&&r._items.some((e=>e instanceof i.Name&&1===t[e.str]&&void 0!==n[e.str]))?new i._Code(e._items.reduce(((e,t)=>(t instanceof i.Name&&(t=o(t)),t instanceof i._Code?e.push(...t._items):e.push(t),e)),[])):e;var r;function o(e){const i=n[e.str];return void 0===i||1!==t[e.str]?e:(delete t[e.str],i)}}function L(e,t){for(const n in t)e[n]=(e[n]||0)-(t[n]||0)}function A(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:i._`!${j(e)}`}T.kind="finally",t.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new r.Scope({parent:e}),this._nodes=[new b]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const n=this._extScope.value(e,t);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,n,i){const r=this._scope.toName(t);return void 0!==n&&i&&(this._constants[r.str]=n),this._leafNode(new l(e,r,n)),r}const(e,t,n){return this._def(r.varKinds.const,e,t,n)}let(e,t,n){return this._def(r.varKinds.let,e,t,n)}var(e,t,n){return this._def(r.varKinds.var,e,t,n)}assign(e,t,n){return this._leafNode(new c(e,t,n))}add(e,n){return this._leafNode(new u(e,t.operators.ADD,n))}code(e){return"function"==typeof e?e():e!==i.nil&&this._leafNode(new f(e)),this}object(...e){const t=["{"];for(const[n,r]of e)t.length>1&&t.push(","),t.push(n),(n!==r||this.opts.es5)&&(t.push(":"),(0,i.addCodeArg)(t,r));return t.push("}"),new i._Code(t)}if(e,t,n){if(this._blockNode(new v(e)),t&&n)this.code(t).else().code(n).endIf();else if(t)this.code(t).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new v(e))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(v,y)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new w(e),t)}forRange(e,t,n,i,o=(this.opts.es5?r.varKinds.var:r.varKinds.let)){const s=this._scope.toName(e);return this._for(new k(o,s,t,n),(()=>i(s)))}forOf(e,t,n,o=r.varKinds.const){const s=this._scope.toName(e);if(this.opts.es5){const e=t instanceof i.Name?t:this.var("_arr",t);return this.forRange("_i",0,i._`${e}.length`,(t=>{this.var(s,i._`${e}[${t}]`),n(s)}))}return this._for(new C("of",o,s,t),(()=>n(s)))}forIn(e,t,n,o=(this.opts.es5?r.varKinds.var:r.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,i._`Object.keys(${t})`,n);const s=this._scope.toName(e);return this._for(new C("in",o,s,t),(()=>n(s)))}endFor(){return this._endBlockNode(_)}label(e){return this._leafNode(new d(e))}break(e){return this._leafNode(new h(e))}return(e){const t=new x;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(x)}try(e,t,n){if(!t&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');const i=new S;if(this._blockNode(i),this.code(e),t){const e=this.name("e");this._currNode=i.catch=new O(e),t(e)}return n&&(this._currNode=i.finally=new T,this.code(n)),this._endBlockNode(O,T)}throw(e){return this._leafNode(new p(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const n=this._nodes.length-t;if(n<0||void 0!==e&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=i.nil,n,r){return this._blockNode(new E(e,t,n)),r&&this.code(r).endFunc(),this}endFunc(){return this._endBlockNode(E)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const n=this._currNode;if(n instanceof e||t&&n instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof v))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},t.not=A;const z=R(t.operators.AND);t.and=function(...e){return e.reduce(z)};const I=R(t.operators.OR);function R(e){return(t,n)=>t===i.nil?n:n===i.nil?t:i._`${j(t)} ${e} ${j(n)}`}function j(e){return e instanceof i.Name?e:i._`(${e})`}t.or=function(...e){return e.reduce(I)}},57845:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const i=n(41520);class r extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var o;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(o=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new i.Name("const"),let:new i.Name("let"),var:new i.Name("var")};class s{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof i.Name?e:this.name(e)}name(e){return new i.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,n;if((null===(n=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===n?void 0:n.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=s;class a extends i.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:n}){this.value=e,this.scopePath=i._`.${new i.Name(t)}[${n}]`}}t.ValueScopeName=a;const l=i._`\n`;t.ValueScope=class extends s{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?l:i.nil}}get(){return this._scope}name(e){return new a(e,this._newName(e))}value(e,t){var n;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const i=this.toName(e),{prefix:r}=i,o=null!==(n=t.key)&&void 0!==n?n:t.ref;let s=this._values[r];if(s){const e=s.get(o);if(e)return e}else s=this._values[r]=new Map;s.set(o,i);const a=this._scope[r]||(this._scope[r]=[]),l=a.length;return a[l]=t.ref,i.setValue(t,{property:r,itemIndex:l}),i}getValue(e,t){const n=this._values[e];if(n)return n.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return i._`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,n){return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,n)}_reduceValues(e,n,s={},a){let l=i.nil;for(const c in e){const u=e[c];if(!u)continue;const d=s[c]=s[c]||new Map;u.forEach((e=>{if(d.has(e))return;d.set(e,o.Started);let s=n(e);if(s){const n=this.opts.es5?t.varKinds.var:t.varKinds.const;l=i._`${l}${n} ${e} = ${s};${this.opts._n}`}else{if(!(s=null==a?void 0:a(e)))throw new r(e);l=i._`${l}${s}${this.opts._n}`}d.set(e,o.Completed)}))}return l}}},48708:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const i=n(99029),r=n(94227),o=n(42023);function s(e,t){const n=e.const("err",t);e.if(i._`${o.default.vErrors} === null`,(()=>e.assign(o.default.vErrors,i._`[${n}]`)),i._`${o.default.vErrors}.push(${n})`),e.code(i._`${o.default.errors}++`)}function a(e,t){const{gen:n,validateName:r,schemaEnv:o}=e;o.$async?n.throw(i._`new ${e.ValidationError}(${t})`):(n.assign(i._`${r}.errors`,t),n.return(!1))}t.keywordError={message:({keyword:e})=>i.str`must pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?i.str`"${e}" keyword must be ${t} ($data)`:i.str`"${e}" keyword is invalid ($data)`},t.reportError=function(e,n=t.keywordError,r,o){const{it:l}=e,{gen:u,compositeRule:d,allErrors:h}=l,p=c(e,n,r);(null!=o?o:d||h)?s(u,p):a(l,i._`[${p}]`)},t.reportExtraError=function(e,n=t.keywordError,i){const{it:r}=e,{gen:l,compositeRule:u,allErrors:d}=r;s(l,c(e,n,i)),u||d||a(r,o.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(o.default.errors,t),e.if(i._`${o.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(i._`${o.default.vErrors}.length`,t)),(()=>e.assign(o.default.vErrors,null)))))},t.extendErrors=function({gen:e,keyword:t,schemaValue:n,data:r,errsCount:s,it:a}){if(void 0===s)throw new Error("ajv implementation error");const l=e.name("err");e.forRange("i",s,o.default.errors,(s=>{e.const(l,i._`${o.default.vErrors}[${s}]`),e.if(i._`${l}.instancePath === undefined`,(()=>e.assign(i._`${l}.instancePath`,(0,i.strConcat)(o.default.instancePath,a.errorPath)))),e.assign(i._`${l}.schemaPath`,i.str`${a.errSchemaPath}/${t}`),a.opts.verbose&&(e.assign(i._`${l}.schema`,n),e.assign(i._`${l}.data`,r))}))};const l={keyword:new i.Name("keyword"),schemaPath:new i.Name("schemaPath"),params:new i.Name("params"),propertyName:new i.Name("propertyName"),message:new i.Name("message"),schema:new i.Name("schema"),parentSchema:new i.Name("parentSchema")};function c(e,t,n){const{createErrors:r}=e.it;return!1===r?i._`{}`:function(e,t,n={}){const{gen:r,it:s}=e,a=[u(s,n),d(e,n)];return function(e,{params:t,message:n},r){const{keyword:s,data:a,schemaValue:c,it:u}=e,{opts:d,propertyName:h,topSchemaRef:p,schemaPath:f}=u;r.push([l.keyword,s],[l.params,"function"==typeof t?t(e):t||i._`{}`]),d.messages&&r.push([l.message,"function"==typeof n?n(e):n]),d.verbose&&r.push([l.schema,c],[l.parentSchema,i._`${p}${f}`],[o.default.data,a]),h&&r.push([l.propertyName,h])}(e,t,a),r.object(...a)}(e,t,n)}function u({errorPath:e},{instancePath:t}){const n=t?i.str`${e}${(0,r.getErrorPath)(t,r.Type.Str)}`:e;return[o.default.instancePath,(0,i.strConcat)(o.default.instancePath,n)]}function d({keyword:e,it:{errSchemaPath:t}},{schemaPath:n,parentSchema:o}){let s=o?t:i.str`${t}/${e}`;return n&&(s=i.str`${s}${(0,r.getErrorPath)(n,r.Type.Str)}`),[l.schemaPath,s]}},73835:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const i=n(99029),r=n(13558),o=n(42023),s=n(66939),a=n(94227),l=n(62586);class c{constructor(e){var t;let n;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,s.normalizeId)(null==n?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==n?void 0:n.$async,this.refs={}}}function u(e){const t=h.call(this,e);if(t)return t;const n=(0,s.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:a,lines:c}=this.opts.code,{ownProperties:u}=this.opts,d=new i.CodeGen(this.scope,{es5:a,lines:c,ownProperties:u});let p;e.$async&&(p=d.scopeValue("Error",{ref:r.default,code:i._`require("ajv/dist/runtime/validation_error").default`}));const f=d.scopeName("validate");e.validateName=f;const m={gen:d,allErrors:this.opts.allErrors,data:o.default.data,parentData:o.default.parentData,parentDataProperty:o.default.parentDataProperty,dataNames:[o.default.data],dataPathArr:[i.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,i.stringify)(e.schema)}:{ref:e.schema}),validateName:f,ValidationError:p,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:i.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:i._`""`,opts:this.opts,self:this};let g;try{this._compilations.add(e),(0,l.validateFunctionCode)(m),d.optimize(this.opts.code.optimize);const t=d.toString();g=`${d.scopeRefs(o.default.scope)}return ${t}`,this.opts.code.process&&(g=this.opts.code.process(g,e));const n=new Function(`${o.default.self}`,`${o.default.scope}`,g)(this,this.scope.get());if(this.scope.value(f,{ref:n}),n.errors=null,n.schema=e.schema,n.schemaEnv=e,e.$async&&(n.$async=!0),!0===this.opts.code.source&&(n.source={validateName:f,validateCode:t,scopeValues:d._values}),this.opts.unevaluated){const{props:e,items:t}=m;n.evaluated={props:e instanceof i.Name?void 0:e,items:t instanceof i.Name?void 0:t,dynamicProps:e instanceof i.Name,dynamicItems:t instanceof i.Name},n.source&&(n.source.evaluated=(0,i.stringify)(n.evaluated))}return e.validate=n,e}catch(t){throw delete e.validate,delete e.validateName,g&&this.logger.error("Error compiling schema, function code:",g),t}finally{this._compilations.delete(e)}}function d(e){return(0,s.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:u.call(this,e)}function h(e){for(const i of this._compilations)if(n=e,(t=i).schema===n.schema&&t.root===n.root&&t.baseId===n.baseId)return i;var t,n}function p(e,t){let n;for(;"string"==typeof(n=this.refs[t]);)t=n;return n||this.schemas[t]||f.call(this,e,t)}function f(e,t){const n=this.opts.uriResolver.parse(t),i=(0,s._getFullPath)(this.opts.uriResolver,n);let r=(0,s.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&i===r)return g.call(this,n,e);const o=(0,s.normalizeId)(i),a=this.refs[o]||this.schemas[o];if("string"==typeof a){const t=f.call(this,e,a);if("object"!=typeof(null==t?void 0:t.schema))return;return g.call(this,n,t)}if("object"==typeof(null==a?void 0:a.schema)){if(a.validate||u.call(this,a),o===(0,s.normalizeId)(t)){const{schema:t}=a,{schemaId:n}=this.opts,i=t[n];return i&&(r=(0,s.resolveUrl)(this.opts.uriResolver,r,i)),new c({schema:t,schemaId:n,root:e,baseId:r})}return g.call(this,n,a)}}t.SchemaEnv=c,t.compileSchema=u,t.resolveRef=function(e,t,n){var i;n=(0,s.resolveUrl)(this.opts.uriResolver,t,n);const r=e.refs[n];if(r)return r;let o=p.call(this,e,n);if(void 0===o){const r=null===(i=e.localRefs)||void 0===i?void 0:i[n],{schemaId:s}=this.opts;r&&(o=new c({schema:r,schemaId:s,root:e,baseId:t}))}return void 0!==o?e.refs[n]=d.call(this,o):void 0},t.getCompilingSchema=h,t.resolveSchema=f;const m=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function g(e,{baseId:t,schema:n,root:i}){var r;if("/"!==(null===(r=e.fragment)||void 0===r?void 0:r[0]))return;for(const i of e.fragment.slice(1).split("/")){if("boolean"==typeof n)return;const e=n[(0,a.unescapeFragment)(i)];if(void 0===e)return;const r="object"==typeof(n=e)&&n[this.opts.schemaId];!m.has(i)&&r&&(t=(0,s.resolveUrl)(this.opts.uriResolver,t,r))}let o;if("boolean"!=typeof n&&n.$ref&&!(0,a.schemaHasRulesButRef)(n,this.RULES)){const e=(0,s.resolveUrl)(this.opts.uriResolver,t,n.$ref);o=f.call(this,i,e)}const{schemaId:l}=this.opts;return o=o||new c({schema:n,schemaId:l,root:i,baseId:t}),o.schema!==o.root.schema?o:void 0}},42023:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r={data:new i.Name("data"),valCxt:new i.Name("valCxt"),instancePath:new i.Name("instancePath"),parentData:new i.Name("parentData"),parentDataProperty:new i.Name("parentDataProperty"),rootData:new i.Name("rootData"),dynamicAnchors:new i.Name("dynamicAnchors"),vErrors:new i.Name("vErrors"),errors:new i.Name("errors"),this:new i.Name("this"),self:new i.Name("self"),scope:new i.Name("scope"),json:new i.Name("json"),jsonPos:new i.Name("jsonPos"),jsonLen:new i.Name("jsonLen"),jsonPart:new i.Name("jsonPart")};t.default=r},34551:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(66939);class r extends Error{constructor(e,t,n,r){super(r||`can't resolve reference ${n} from id ${t}`),this.missingRef=(0,i.resolveUrl)(e,t,n),this.missingSchema=(0,i.normalizeId)((0,i.getFullPath)(e,this.missingRef))}}t.default=r},66939:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const i=n(94227),r=n(32017),o=n(7106),s=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!l(e):!!t&&c(e)<=t)};const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function l(e){for(const t in e){if(a.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(l))return!0;if("object"==typeof n&&l(n))return!0}return!1}function c(e){let t=0;for(const n in e){if("$ref"===n)return 1/0;if(t++,!s.has(n)&&("object"==typeof e[n]&&(0,i.eachItem)(e[n],(e=>t+=c(e))),t===1/0))return 1/0}return t}function u(e,t="",n){!1!==n&&(t=p(t));const i=e.parse(t);return d(e,i)}function d(e,t){return e.serialize(t).split("#")[0]+"#"}t.getFullPath=u,t._getFullPath=d;const h=/#\/?$/;function p(e){return e?e.replace(h,""):""}t.normalizeId=p,t.resolveUrl=function(e,t,n){return n=p(n),e.resolve(t,n)};const f=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e,t){if("boolean"==typeof e)return{};const{schemaId:n,uriResolver:i}=this.opts,s=p(e[n]||t),a={"":s},l=u(i,s,!1),c={},d=new Set;return o(e,{allKeys:!0},((e,t,i,r)=>{if(void 0===r)return;const o=l+t;let s=a[r];function u(t){const n=this.opts.uriResolver.resolve;if(t=p(s?n(s,t):t),d.has(t))throw m(t);d.add(t);let i=this.refs[t];return"string"==typeof i&&(i=this.refs[i]),"object"==typeof i?h(e,i.schema,t):t!==p(o)&&("#"===t[0]?(h(e,c[t],t),c[t]=e):this.refs[t]=o),t}function g(e){if("string"==typeof e){if(!f.test(e))throw new Error(`invalid anchor "${e}"`);u.call(this,`#${e}`)}}"string"==typeof e[n]&&(s=u.call(this,e[n])),g.call(this,e.$anchor),g.call(this,e.$dynamicAnchor),a[t]=s})),c;function h(e,t,n){if(void 0!==t&&!r(e,t))throw m(n)}function m(e){return new Error(`reference "${e}" resolves to more than one schema`)}}},10396:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const n=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&n.has(e)},t.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},94227:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const i=n(99029),r=n(41520);function o(e,t=e.schema){const{opts:n,self:i}=e;if(!n.strictSchema)return;if("boolean"==typeof t)return;const r=i.RULES.keywords;for(const n in t)r[n]||f(e,`unknown keyword: "${n}"`)}function s(e,t){if("boolean"==typeof e)return!e;for(const n in e)if(t[n])return!0;return!1}function a(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function l(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function c({mergeNames:e,mergeToName:t,mergeValues:n,resultToName:r}){return(o,s,a,l)=>{const c=void 0===a?s:a instanceof i.Name?(s instanceof i.Name?e(o,s,a):t(o,s,a),a):s instanceof i.Name?(t(o,a,s),s):n(s,a);return l!==i.Name||c instanceof i.Name?c:r(o,c)}}function u(e,t){if(!0===t)return e.var("props",!0);const n=e.var("props",i._`{}`);return void 0!==t&&d(e,n,t),n}function d(e,t,n){Object.keys(n).forEach((n=>e.assign(i._`${t}${(0,i.getProperty)(n)}`,!0)))}t.toHash=function(e){const t={};for(const n of e)t[n]=!0;return t},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(o(e,t),!s(t,e.self.RULES.all))},t.checkUnknownRules=o,t.schemaHasRules=s,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const n in e)if("$ref"!==n&&t.all[n])return!0;return!1},t.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},n,r,o){if(!o){if("number"==typeof n||"boolean"==typeof n)return n;if("string"==typeof n)return i._`${n}`}return i._`${e}${t}${(0,i.getProperty)(r)}`},t.unescapeFragment=function(e){return l(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(a(e))},t.escapeJsonPointer=a,t.unescapeJsonPointer=l,t.eachItem=function(e,t){if(Array.isArray(e))for(const n of e)t(n);else t(e)},t.mergeEvaluated={props:c({mergeNames:(e,t,n)=>e.if(i._`${n} !== true && ${t} !== undefined`,(()=>{e.if(i._`${t} === true`,(()=>e.assign(n,!0)),(()=>e.assign(n,i._`${n} || {}`).code(i._`Object.assign(${n}, ${t})`)))})),mergeToName:(e,t,n)=>e.if(i._`${n} !== true`,(()=>{!0===t?e.assign(n,!0):(e.assign(n,i._`${n} || {}`),d(e,n,t))})),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:u}),items:c({mergeNames:(e,t,n)=>e.if(i._`${n} !== true && ${t} !== undefined`,(()=>e.assign(n,i._`${t} === true ? true : ${n} > ${t} ? ${n} : ${t}`))),mergeToName:(e,t,n)=>e.if(i._`${n} !== true`,(()=>e.assign(n,!0===t||i._`${n} > ${t} ? ${n} : ${t}`))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=u,t.setEvaluated=d;const h={};var p;function f(e,t,n=e.opts.strictSchema){if(n){if(t=`strict mode: ${t}`,!0===n)throw new Error(t);e.self.logger.warn(t)}}t.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:h[t.code]||(h[t.code]=new r._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(p=t.Type||(t.Type={})),t.getErrorPath=function(e,t,n){if(e instanceof i.Name){const r=t===p.Num;return n?r?i._`"[" + ${e} + "]"`:i._`"['" + ${e} + "']"`:r?i._`"/" + ${e}`:i._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?(0,i.getProperty)(e).toString():"/"+a(e)},t.checkStrictMode=f},7887:function(e,t){"use strict";function n(e,t){return t.rules.some((t=>i(e,t)))}function i(e,t){var n;return void 0!==e[t.keyword]||(null===(n=t.definition.implements)||void 0===n?void 0:n.some((t=>void 0!==e[t])))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function({schema:e,self:t},i){const r=t.RULES.types[i];return r&&!0!==r&&n(e,r)},t.shouldUseGroup=n,t.shouldUseRule=i},28727:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const i=n(48708),r=n(99029),o=n(42023),s={message:"boolean schema is false"};function a(e,t){const{gen:n,data:r}=e,o={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,i.reportError)(o,s,void 0,t)}t.topBoolOrEmptySchema=function(e){const{gen:t,schema:n,validateName:i}=e;!1===n?a(e,!1):"object"==typeof n&&!0===n.$async?t.return(o.default.data):(t.assign(r._`${i}.errors`,null),t.return(!0))},t.boolOrEmptySchema=function(e,t){const{gen:n,schema:i}=e;!1===i?(n.var(t,!1),a(e)):n.var(t,!0)}},10208:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const i=n(10396),r=n(7887),o=n(48708),s=n(99029),a=n(94227);var l;function c(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(i.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(l=t.DataType||(t.DataType={})),t.getSchemaTypes=function(e){const t=c(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=c,t.coerceAndCheckDataType=function(e,t){const{gen:n,data:i,opts:o}=e,a=function(e,t){return t?e.filter((e=>u.has(e)||"array"===t&&"array"===e)):[]}(t,o.coerceTypes),c=t.length>0&&!(0===a.length&&1===t.length&&(0,r.schemaHasRulesForType)(e,t[0]));if(c){const r=h(t,i,o.strictNumbers,l.Wrong);n.if(r,(()=>{a.length?function(e,t,n){const{gen:i,data:r,opts:o}=e,a=i.let("dataType",s._`typeof ${r}`),l=i.let("coerced",s._`undefined`);"array"===o.coerceTypes&&i.if(s._`${a} == 'object' && Array.isArray(${r}) && ${r}.length == 1`,(()=>i.assign(r,s._`${r}[0]`).assign(a,s._`typeof ${r}`).if(h(t,r,o.strictNumbers),(()=>i.assign(l,r))))),i.if(s._`${l} !== undefined`);for(const e of n)(u.has(e)||"array"===e&&"array"===o.coerceTypes)&&c(e);function c(e){switch(e){case"string":return void i.elseIf(s._`${a} == "number" || ${a} == "boolean"`).assign(l,s._`"" + ${r}`).elseIf(s._`${r} === null`).assign(l,s._`""`);case"number":return void i.elseIf(s._`${a} == "boolean" || ${r} === null
              || (${a} == "string" && ${r} && ${r} == +${r})`).assign(l,s._`+${r}`);case"integer":return void i.elseIf(s._`${a} === "boolean" || ${r} === null
              || (${a} === "string" && ${r} && ${r} == +${r} && !(${r} % 1))`).assign(l,s._`+${r}`);case"boolean":return void i.elseIf(s._`${r} === "false" || ${r} === 0 || ${r} === null`).assign(l,!1).elseIf(s._`${r} === "true" || ${r} === 1`).assign(l,!0);case"null":return i.elseIf(s._`${r} === "" || ${r} === 0 || ${r} === false`),void i.assign(l,null);case"array":i.elseIf(s._`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${r} === null`).assign(l,s._`[${r}]`)}}i.else(),f(e),i.endIf(),i.if(s._`${l} !== undefined`,(()=>{i.assign(r,l),function({gen:e,parentData:t,parentDataProperty:n},i){e.if(s._`${t} !== undefined`,(()=>e.assign(s._`${t}[${n}]`,i)))}(e,l)}))}(e,t,a):f(e)}))}return c};const u=new Set(["string","number","integer","boolean","null"]);function d(e,t,n,i=l.Correct){const r=i===l.Correct?s.operators.EQ:s.operators.NEQ;let o;switch(e){case"null":return s._`${t} ${r} null`;case"array":o=s._`Array.isArray(${t})`;break;case"object":o=s._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":o=a(s._`!(${t} % 1) && !isNaN(${t})`);break;case"number":o=a();break;default:return s._`typeof ${t} ${r} ${e}`}return i===l.Correct?o:(0,s.not)(o);function a(e=s.nil){return(0,s.and)(s._`typeof ${t} == "number"`,e,n?s._`isFinite(${t})`:s.nil)}}function h(e,t,n,i){if(1===e.length)return d(e[0],t,n,i);let r;const o=(0,a.toHash)(e);if(o.array&&o.object){const e=s._`typeof ${t} != "object"`;r=o.null?e:s._`!${t} || ${e}`,delete o.null,delete o.array,delete o.object}else r=s.nil;o.number&&delete o.integer;for(const e in o)r=(0,s.and)(r,d(e,t,n,i));return r}t.checkDataType=d,t.checkDataTypes=h;const p={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?s._`{type: ${e}}`:s._`{type: ${t}}`};function f(e){const t=function(e){const{gen:t,data:n,schema:i}=e,r=(0,a.schemaRefOrVal)(e,i,"type");return{gen:t,keyword:"type",data:n,schema:i.type,schemaCode:r,schemaValue:r,parentSchema:i,params:{},it:e}}(e);(0,o.reportError)(t,p)}t.reportTypeError=f},7870:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;const i=n(99029),r=n(94227);function o(e,t,n){const{gen:o,compositeRule:s,data:a,opts:l}=e;if(void 0===n)return;const c=i._`${a}${(0,i.getProperty)(t)}`;if(s)return void(0,r.checkStrictMode)(e,`default is ignored for: ${c}`);let u=i._`${c} === undefined`;"empty"===l.useDefaults&&(u=i._`${u} || ${c} === null || ${c} === ""`),o.if(u,i._`${c} = ${(0,i.stringify)(n)}`)}t.assignDefaults=function(e,t){const{properties:n,items:i}=e.schema;if("object"===t&&n)for(const t in n)o(e,t,n[t].default);else"array"===t&&Array.isArray(i)&&i.forEach(((t,n)=>o(e,n,t.default)))}},62586:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;const i=n(28727),r=n(10208),o=n(7887),s=n(10208),a=n(7870),l=n(33673),c=n(24495),u=n(99029),d=n(42023),h=n(66939),p=n(94227),f=n(48708);function m({gen:e,validateName:t,schema:n,schemaEnv:i,opts:r},o){r.code.es5?e.func(t,u._`${d.default.data}, ${d.default.valCxt}`,i.$async,(()=>{e.code(u._`"use strict"; ${g(n,r)}`),function(e,t){e.if(d.default.valCxt,(()=>{e.var(d.default.instancePath,u._`${d.default.valCxt}.${d.default.instancePath}`),e.var(d.default.parentData,u._`${d.default.valCxt}.${d.default.parentData}`),e.var(d.default.parentDataProperty,u._`${d.default.valCxt}.${d.default.parentDataProperty}`),e.var(d.default.rootData,u._`${d.default.valCxt}.${d.default.rootData}`),t.dynamicRef&&e.var(d.default.dynamicAnchors,u._`${d.default.valCxt}.${d.default.dynamicAnchors}`)}),(()=>{e.var(d.default.instancePath,u._`""`),e.var(d.default.parentData,u._`undefined`),e.var(d.default.parentDataProperty,u._`undefined`),e.var(d.default.rootData,d.default.data),t.dynamicRef&&e.var(d.default.dynamicAnchors,u._`{}`)}))}(e,r),e.code(o)})):e.func(t,u._`${d.default.data}, ${function(e){return u._`{${d.default.instancePath}="", ${d.default.parentData}, ${d.default.parentDataProperty}, ${d.default.rootData}=${d.default.data}${e.dynamicRef?u._`, ${d.default.dynamicAnchors}={}`:u.nil}}={}`}(r)}`,i.$async,(()=>e.code(g(n,r)).code(o)))}function g(e,t){const n="object"==typeof e&&e[t.schemaId];return n&&(t.code.source||t.code.process)?u._`/*# sourceURL=${n} */`:u.nil}function b({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function y(e){return"boolean"!=typeof e.schema}function v(e){(0,p.checkUnknownRules)(e),function(e){const{schema:t,errSchemaPath:n,opts:i,self:r}=e;t.$ref&&i.ignoreKeywordsWithRef&&(0,p.schemaHasRulesButRef)(t,r.RULES)&&r.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}(e)}function _(e,t){if(e.opts.jtd)return k(e,[],!1,t);const n=(0,r.getSchemaTypes)(e.schema);k(e,n,!(0,r.coerceAndCheckDataType)(e,n),t)}function w({gen:e,schemaEnv:t,schema:n,errSchemaPath:i,opts:r}){const o=n.$comment;if(!0===r.$comment)e.code(u._`${d.default.self}.logger.log(${o})`);else if("function"==typeof r.$comment){const n=u.str`${i}/$comment`,r=e.scopeValue("root",{ref:t.root});e.code(u._`${d.default.self}.opts.$comment(${o}, ${n}, ${r}.schema)`)}}function k(e,t,n,i){const{gen:r,schema:a,data:l,allErrors:c,opts:h,self:f}=e,{RULES:m}=f;function g(p){(0,o.shouldUseGroup)(a,p)&&(p.type?(r.if((0,s.checkDataType)(p.type,l,h.strictNumbers)),C(e,p),1===t.length&&t[0]===p.type&&n&&(r.else(),(0,s.reportTypeError)(e)),r.endIf()):C(e,p),c||r.if(u._`${d.default.errors} === ${i||0}`))}!a.$ref||!h.ignoreKeywordsWithRef&&(0,p.schemaHasRulesButRef)(a,m)?(h.jtd||function(e,t){!e.schemaEnv.meta&&e.opts.strictTypes&&(function(e,t){t.length&&(e.dataTypes.length?(t.forEach((t=>{E(e.dataTypes,t)||x(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)})),function(e,t){const n=[];for(const i of e.dataTypes)E(t,i)?n.push(i):t.includes("integer")&&"number"===i&&n.push("integer");e.dataTypes=n}(e,t)):e.dataTypes=t)}(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&x(e,"use allowUnionTypes to allow union type keyword")}(e,t),function(e,t){const n=e.self.RULES.all;for(const i in n){const r=n[i];if("object"==typeof r&&(0,o.shouldUseRule)(e.schema,r)){const{type:n}=r.definition;n.length&&!n.some((e=>{return i=e,(n=t).includes(i)||"number"===i&&n.includes("integer");var n,i}))&&x(e,`missing type "${n.join(",")}" for keyword "${i}"`)}}}(e,e.dataTypes))}(e,t),r.block((()=>{for(const e of m.rules)g(e);g(m.post)}))):r.block((()=>O(e,"$ref",m.all.$ref.definition)))}function C(e,t){const{gen:n,schema:i,opts:{useDefaults:r}}=e;r&&(0,a.assignDefaults)(e,t.type),n.block((()=>{for(const n of t.rules)(0,o.shouldUseRule)(i,n)&&O(e,n.keyword,n.definition,t.type)}))}function E(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function x(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,(0,p.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=function(e){y(e)&&(v(e),b(e))?function(e){const{schema:t,opts:n,gen:i}=e;m(e,(()=>{n.$comment&&t.$comment&&w(e),function(e){const{schema:t,opts:n}=e;void 0!==t.default&&n.useDefaults&&n.strictSchema&&(0,p.checkStrictMode)(e,"default is ignored in the schema root")}(e),i.let(d.default.vErrors,null),i.let(d.default.errors,0),n.unevaluated&&function(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",u._`${n}.evaluated`),t.if(u._`${e.evaluated}.dynamicProps`,(()=>t.assign(u._`${e.evaluated}.props`,u._`undefined`))),t.if(u._`${e.evaluated}.dynamicItems`,(()=>t.assign(u._`${e.evaluated}.items`,u._`undefined`)))}(e),_(e),function(e){const{gen:t,schemaEnv:n,validateName:i,ValidationError:r,opts:o}=e;n.$async?t.if(u._`${d.default.errors} === 0`,(()=>t.return(d.default.data)),(()=>t.throw(u._`new ${r}(${d.default.vErrors})`))):(t.assign(u._`${i}.errors`,d.default.vErrors),o.unevaluated&&function({gen:e,evaluated:t,props:n,items:i}){n instanceof u.Name&&e.assign(u._`${t}.props`,n),i instanceof u.Name&&e.assign(u._`${t}.items`,i)}(e),t.return(u._`${d.default.errors} === 0`))}(e)}))}(e):m(e,(()=>(0,i.topBoolOrEmptySchema)(e)))};class S{constructor(e,t,n){if((0,l.validateKeywordUsage)(e,t,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,p.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",P(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,l.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",d.default.errors))}result(e,t,n){this.failResult((0,u.not)(e),t,n)}failResult(e,t,n){this.gen.if(e),n?n():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,u.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(u._`${t} !== undefined && (${(0,u.or)(this.invalid$data(),e)})`)}error(e,t,n){if(t)return this.setParams(t),this._error(e,n),void this.setParams({});this._error(e,n)}_error(e,t){(e?f.reportExtraError:f.reportError)(this,this.def.error,t)}$dataError(){(0,f.reportError)(this,this.def.$dataError||f.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,f.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,n=u.nil){this.gen.block((()=>{this.check$data(e,n),t()}))}check$data(e=u.nil,t=u.nil){if(!this.$data)return;const{gen:n,schemaCode:i,schemaType:r,def:o}=this;n.if((0,u.or)(u._`${i} === undefined`,t)),e!==u.nil&&n.assign(e,!0),(r.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==u.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:n,def:i,it:r}=this;return(0,u.or)(function(){if(n.length){if(!(t instanceof u.Name))throw new Error("ajv implementation error");const e=Array.isArray(n)?n:[n];return u._`${(0,s.checkDataTypes)(e,t,r.opts.strictNumbers,s.DataType.Wrong)}`}return u.nil}(),function(){if(i.validateSchema){const n=e.scopeValue("validate$data",{ref:i.validateSchema});return u._`!${n}(${t})`}return u.nil}())}subschema(e,t){const n=(0,c.getSubschema)(this.it,e);(0,c.extendSubschemaData)(n,this.it,e),(0,c.extendSubschemaMode)(n,e);const r={...this.it,...n,items:void 0,props:void 0};return function(e,t){y(e)&&(v(e),b(e))?function(e,t){const{schema:n,gen:i,opts:r}=e;r.$comment&&n.$comment&&w(e),function(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,h.resolveUrl)(e.opts.uriResolver,e.baseId,t))}(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const o=i.const("_errs",d.default.errors);_(e,o),i.var(t,u._`${o} === ${d.default.errors}`)}(e,t):(0,i.boolOrEmptySchema)(e,t)}(r,t),r}mergeEvaluated(e,t){const{it:n,gen:i}=this;n.opts.unevaluated&&(!0!==n.props&&void 0!==e.props&&(n.props=p.mergeEvaluated.props(i,e.props,n.props,t)),!0!==n.items&&void 0!==e.items&&(n.items=p.mergeEvaluated.items(i,e.items,n.items,t)))}mergeValidEvaluated(e,t){const{it:n,gen:i}=this;if(n.opts.unevaluated&&(!0!==n.props||!0!==n.items))return i.if(t,(()=>this.mergeEvaluated(e,u.Name))),!0}}function O(e,t,n,i){const r=new S(e,n,t);"code"in n?n.code(r,i):r.$data&&n.validate?(0,l.funcKeywordCode)(r,n):"macro"in n?(0,l.macroKeywordCode)(r,n):(n.compile||n.validate)&&(0,l.funcKeywordCode)(r,n)}t.KeywordCxt=S;const T=/^\/(?:[^~]|~0|~1)*$/,M=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function P(e,{dataLevel:t,dataNames:n,dataPathArr:i}){let r,o;if(""===e)return d.default.rootData;if("/"===e[0]){if(!T.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);r=e,o=d.default.rootData}else{const s=M.exec(e);if(!s)throw new Error(`Invalid JSON-pointer: ${e}`);const a=+s[1];if(r=s[2],"#"===r){if(a>=t)throw new Error(l("property/index",a));return i[t-a]}if(a>t)throw new Error(l("data",a));if(o=n[t-a],!r)return o}let s=o;const a=r.split("/");for(const e of a)e&&(o=u._`${o}${(0,u.getProperty)((0,p.unescapeJsonPointer)(e))}`,s=u._`${s} && ${o}`);return s;function l(e,n){return`Cannot access ${e} ${n} levels up, current level is ${t}`}}t.getData=P},33673:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;const i=n(99029),r=n(42023),o=n(15765),s=n(48708);function a(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,(()=>t.assign(n,i._`${r.parentData}[${r.parentDataProperty}]`)))}function l(e,t,n){if(void 0===n)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof n?{ref:n}:{ref:n,code:(0,i.stringify)(n)})}t.macroKeywordCode=function(e,t){const{gen:n,keyword:r,schema:o,parentSchema:s,it:a}=e,c=t.macro.call(a.self,o,s,a),u=l(n,r,c);!1!==a.opts.validateSchema&&a.self.validateSchema(c,!0);const d=n.name("valid");e.subschema({schema:c,schemaPath:i.nil,errSchemaPath:`${a.errSchemaPath}/${r}`,topSchemaRef:u,compositeRule:!0},d),e.pass(d,(()=>e.error(!0)))},t.funcKeywordCode=function(e,t){var n;const{gen:c,keyword:u,schema:d,parentSchema:h,$data:p,it:f}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}(f,t);const m=!p&&t.compile?t.compile.call(f.self,d,h,f):t.validate,g=l(c,u,m),b=c.let("valid");function y(n=(t.async?i._`await `:i.nil)){const s=f.opts.passContext?r.default.this:r.default.self,a=!("compile"in t&&!p||!1===t.schema);c.assign(b,i._`${n}${(0,o.callValidateCode)(e,g,s,a)}`,t.modifying)}function v(e){var n;c.if((0,i.not)(null!==(n=t.valid)&&void 0!==n?n:b),e)}e.block$data(b,(function(){if(!1===t.errors)y(),t.modifying&&a(e),v((()=>e.error()));else{const n=t.async?function(){const e=c.let("ruleErrs",null);return c.try((()=>y(i._`await `)),(t=>c.assign(b,!1).if(i._`${t} instanceof ${f.ValidationError}`,(()=>c.assign(e,i._`${t}.errors`)),(()=>c.throw(t))))),e}():function(){const e=i._`${g}.errors`;return c.assign(e,null),y(i.nil),e}();t.modifying&&a(e),v((()=>function(e,t){const{gen:n}=e;n.if(i._`Array.isArray(${t})`,(()=>{n.assign(r.default.vErrors,i._`${r.default.vErrors} === null ? ${t} : ${r.default.vErrors}.concat(${t})`).assign(r.default.errors,i._`${r.default.vErrors}.length`),(0,s.extendErrors)(e)}),(()=>e.error()))}(e,n)))}})),e.ok(null!==(n=t.valid)&&void 0!==n?n:b)},t.validSchemaType=function(e,t,n=!1){return!t.length||t.some((t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||n&&void 0===e))},t.validateKeywordUsage=function({schema:e,opts:t,self:n,errSchemaPath:i},r,o){if(Array.isArray(r.keyword)?!r.keyword.includes(o):r.keyword!==o)throw new Error("ajv implementation error");const s=r.dependencies;if(null==s?void 0:s.some((t=>!Object.prototype.hasOwnProperty.call(e,t))))throw new Error(`parent schema must have dependencies of ${o}: ${s.join(",")}`);if(r.validateSchema&&!r.validateSchema(e[o])){const e=`keyword "${o}" value is invalid at path "${i}": `+n.errorsText(r.validateSchema.errors);if("log"!==t.validateSchema)throw new Error(e);n.logger.error(e)}}},24495:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;const i=n(99029),r=n(94227);t.getSubschema=function(e,{keyword:t,schemaProp:n,schema:o,schemaPath:s,errSchemaPath:a,topSchemaRef:l}){if(void 0!==t&&void 0!==o)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){const o=e.schema[t];return void 0===n?{schema:o,schemaPath:i._`${e.schemaPath}${(0,i.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:o[n],schemaPath:i._`${e.schemaPath}${(0,i.getProperty)(t)}${(0,i.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,r.escapeFragment)(n)}`}}if(void 0!==o){if(void 0===s||void 0===a||void 0===l)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:o,schemaPath:s,topSchemaRef:l,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function(e,t,{dataProp:n,dataPropType:o,data:s,dataTypes:a,propertyName:l}){if(void 0!==s&&void 0!==n)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:c}=t;if(void 0!==n){const{errorPath:s,dataPathArr:a,opts:l}=t;u(c.let("data",i._`${t.data}${(0,i.getProperty)(n)}`,!0)),e.errorPath=i.str`${s}${(0,r.getErrorPath)(n,o,l.jsPropertySyntax)}`,e.parentDataProperty=i._`${n}`,e.dataPathArr=[...a,e.parentDataProperty]}function u(n){e.data=n,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,n]}void 0!==s&&(u(s instanceof i.Name?s:c.let("data",s,!0)),void 0!==l&&(e.propertyName=l)),a&&(e.dataTypes=a)},t.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:i,createErrors:r,allErrors:o}){void 0!==i&&(e.compositeRule=i),void 0!==r&&(e.createErrors=r),void 0!==o&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=n}},4042:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var i=n(62586);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return i.KeywordCxt}});var r=n(99029);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const o=n(13558),s=n(34551),a=n(10396),l=n(73835),c=n(99029),u=n(66939),d=n(10208),h=n(94227),p=n(63837),f=n(55944),m=(e,t)=>new RegExp(e,t);m.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],b=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},v={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function _(e){var t,n,i,r,o,s,a,l,c,u,d,h,p,g,b,y,v,_,w,k,C,E,x,S,O;const T=e.strict,M=null===(t=e.code)||void 0===t?void 0:t.optimize,P=!0===M||void 0===M?1:M||0,D=null!==(i=null===(n=e.code)||void 0===n?void 0:n.regExp)&&void 0!==i?i:m,L=null!==(r=e.uriResolver)&&void 0!==r?r:f.default;return{strictSchema:null===(s=null!==(o=e.strictSchema)&&void 0!==o?o:T)||void 0===s||s,strictNumbers:null===(l=null!==(a=e.strictNumbers)&&void 0!==a?a:T)||void 0===l||l,strictTypes:null!==(u=null!==(c=e.strictTypes)&&void 0!==c?c:T)&&void 0!==u?u:"log",strictTuples:null!==(h=null!==(d=e.strictTuples)&&void 0!==d?d:T)&&void 0!==h?h:"log",strictRequired:null!==(g=null!==(p=e.strictRequired)&&void 0!==p?p:T)&&void 0!==g&&g,code:e.code?{...e.code,optimize:P,regExp:D}:{optimize:P,regExp:D},loopRequired:null!==(b=e.loopRequired)&&void 0!==b?b:200,loopEnum:null!==(y=e.loopEnum)&&void 0!==y?y:200,meta:null===(v=e.meta)||void 0===v||v,messages:null===(_=e.messages)||void 0===_||_,inlineRefs:null===(w=e.inlineRefs)||void 0===w||w,schemaId:null!==(k=e.schemaId)&&void 0!==k?k:"$id",addUsedSchema:null===(C=e.addUsedSchema)||void 0===C||C,validateSchema:null===(E=e.validateSchema)||void 0===E||E,validateFormats:null===(x=e.validateFormats)||void 0===x||x,unicodeRegExp:null===(S=e.unicodeRegExp)||void 0===S||S,int32range:null===(O=e.int32range)||void 0===O||O,uriResolver:L}}class w{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,..._(e)};const{es5:t,lines:n}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:b,es5:t,lines:n}),this.logger=function(e){if(!1===e)return T;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const i=e.validateFormats;e.validateFormats=!1,this.RULES=(0,a.getRules)(),k.call(this,y,e,"NOT SUPPORTED"),k.call(this,v,e,"DEPRECATED","warn"),this._metaOpts=O.call(this),e.formats&&x.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&S.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),E.call(this),e.validateFormats=i}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:n}=this.opts;let i=p;"id"===n&&(i={...p},i.id=i.$id,delete i.$id),t&&e&&this.addMetaSchema(i,i[n],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let n;if("string"==typeof e){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);const i=n(t);return"$async"in n||(this.errors=n.errors),i}compile(e,t){const n=this._addSchema(e,t);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:n}=this.opts;return i.call(this,e,t);async function i(e,t){await r.call(this,e.$schema);const n=this._addSchema(e,t);return n.validate||o.call(this,n)}async function r(e){e&&!this.getSchema(e)&&await i.call(this,{$ref:e},!0)}async function o(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof s.default))throw t;return a.call(this,t),await l.call(this,t.missingSchema),o.call(this,e)}}function a({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function l(e){const n=await c.call(this,e);this.refs[e]||await r.call(this,n.$schema),this.refs[e]||this.addSchema(n,e,t)}async function c(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=n(e))}finally{delete this._loading[e]}}}addSchema(e,t,n,i=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,n,i);return this}let r;if("object"==typeof e){const{schemaId:t}=this.opts;if(r=e[t],void 0!==r&&"string"!=typeof r)throw new Error(`schema ${t} must be string`)}return t=(0,u.normalizeId)(t||r),this._checkUnique(t),this.schemas[t]=this._addSchema(e,n,t,i,!0),this}addMetaSchema(e,t,n=this.opts.validateSchema){return this.addSchema(e,t,!0,n),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let n;if(n=e.$schema,void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const i=this.validate(n,e);if(!i&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return i}getSchema(e){let t;for(;"string"==typeof(t=C.call(this,e));)e=t;if(void 0===t){const{schemaId:n}=this.opts,i=new l.SchemaEnv({schema:{},schemaId:n});if(t=l.resolveSchema.call(this,i,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=C.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let n=e[this.opts.schemaId];return n&&(n=(0,u.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let n;if("string"==typeof e)n=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=n);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(n=(t=e).keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(P.call(this,n,t),!t)return(0,h.eachItem)(n,(e=>D.call(this,e))),this;A.call(this,t);const i={...t,type:(0,d.getJSONTypes)(t.type),schemaType:(0,d.getJSONTypes)(t.schemaType)};return(0,h.eachItem)(n,0===i.type.length?e=>D.call(this,e,i):e=>i.type.forEach((t=>D.call(this,e,i,t)))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const n of t.rules){const t=n.rules.findIndex((t=>t.keyword===e));t>=0&&n.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:n="data"}={}){return e&&0!==e.length?e.map((e=>`${n}${e.instancePath} ${e.message}`)).reduce(((e,n)=>e+t+n)):"No errors"}$dataMetaSchema(e,t){const n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const i of t){const t=i.split("/").slice(1);let r=e;for(const e of t)r=r[e];for(const e in n){const t=n[e];if("object"!=typeof t)continue;const{$data:i}=t.definition,o=r[e];i&&o&&(r[e]=I(o))}}return e}_removeAllSchemas(e,t){for(const n in e){const i=e[n];t&&!t.test(n)||("string"==typeof i?delete e[n]:i&&!i.meta&&(this._cache.delete(i.schema),delete e[n]))}}_addSchema(e,t,n,i=this.opts.validateSchema,r=this.opts.addUsedSchema){let o;const{schemaId:s}=this.opts;if("object"==typeof e)o=e[s];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let a=this._cache.get(e);if(void 0!==a)return a;n=(0,u.normalizeId)(o||n);const c=u.getSchemaRefs.call(this,e,n);return a=new l.SchemaEnv({schema:e,schemaId:s,meta:t,baseId:n,localRefs:c}),this._cache.set(a.schema,a),r&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=a),i&&this.validateSchema(e,!0),a}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):l.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,e)}finally{this.opts=t}}}function k(e,t,n,i="error"){for(const r in e){const o=r;o in t&&this.logger[i](`${n}: option ${r}. ${e[o]}`)}}function C(e){return e=(0,u.normalizeId)(e),this.schemas[e]||this.refs[e]}function E(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function x(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function S(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const n=e[t];n.keyword||(n.keyword=t),this.addKeyword(n)}}}function O(){const e={...this.opts};for(const t of g)delete e[t];return e}t.default=w,w.ValidationError=o.default,w.MissingRefError=s.default;const T={log(){},warn(){},error(){}},M=/^[a-z_$][a-z0-9_$:-]*$/i;function P(e,t){const{RULES:n}=this;if((0,h.eachItem)(e,(e=>{if(n.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!M.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function D(e,t,n){var i;const r=null==t?void 0:t.post;if(n&&r)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:o}=this;let s=r?o.post:o.rules.find((({type:e})=>e===n));if(s||(s={type:n,rules:[]},o.rules.push(s)),o.keywords[e]=!0,!t)return;const a={keyword:e,definition:{...t,type:(0,d.getJSONTypes)(t.type),schemaType:(0,d.getJSONTypes)(t.schemaType)}};t.before?L.call(this,s,a,t.before):s.rules.push(a),o.all[e]=a,null===(i=t.implements)||void 0===i||i.forEach((e=>this.addKeyword(e)))}function L(e,t,n){const i=e.rules.findIndex((e=>e.keyword===n));i>=0?e.rules.splice(i,0,t):(e.rules.push(t),this.logger.warn(`rule ${n} is not defined`))}function A(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=I(t)),e.validateSchema=this.compile(t,!0))}const z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function I(e){return{anyOf:[e,z]}}},76250:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(32017);i.code='require("ajv/dist/runtime/equal").default',t.default=i},53853:function(e,t){"use strict";function n(e){const t=e.length;let n,i=0,r=0;for(;r<t;)i++,n=e.charCodeAt(r++),n>=55296&&n<=56319&&r<t&&(n=e.charCodeAt(r),56320==(64512&n)&&r++);return i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,n.code='require("ajv/dist/runtime/ucs2length").default'},55944:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(46579);i.code='require("ajv/dist/runtime/uri").default',t.default=i},13558:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.default=n},15457:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;const i=n(99029),r=n(94227),o={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>i.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>i._`{limit: ${e}}`},code(e){const{parentSchema:t,it:n}=e,{items:i}=t;Array.isArray(i)?s(e,i):(0,r.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas')}};function s(e,t){const{gen:n,schema:o,data:s,keyword:a,it:l}=e;l.items=!0;const c=n.const("len",i._`${s}.length`);if(!1===o)e.setParams({len:t.length}),e.pass(i._`${c} <= ${t.length}`);else if("object"==typeof o&&!(0,r.alwaysValidSchema)(l,o)){const o=n.var("valid",i._`${c} <= ${t.length}`);n.if((0,i.not)(o),(()=>function(o){n.forRange("i",t.length,c,(t=>{e.subschema({keyword:a,dataProp:t,dataPropType:r.Type.Num},o),l.allErrors||n.if((0,i.not)(o),(()=>n.break()))}))}(o))),e.ok(o)}}t.validateAdditionalItems=s,t.default=o},38660:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(15765),r=n(99029),o=n(42023),s=n(94227),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>r._`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:n,parentSchema:a,data:l,errsCount:c,it:u}=e;if(!c)throw new Error("ajv implementation error");const{allErrors:d,opts:h}=u;if(u.props=!0,"all"!==h.removeAdditional&&(0,s.alwaysValidSchema)(u,n))return;const p=(0,i.allSchemaProperties)(a.properties),f=(0,i.allSchemaProperties)(a.patternProperties);function m(e){t.code(r._`delete ${l}[${e}]`)}function g(i){if("all"===h.removeAdditional||h.removeAdditional&&!1===n)m(i);else{if(!1===n)return e.setParams({additionalProperty:i}),e.error(),void(d||t.break());if("object"==typeof n&&!(0,s.alwaysValidSchema)(u,n)){const n=t.name("valid");"failing"===h.removeAdditional?(b(i,n,!1),t.if((0,r.not)(n),(()=>{e.reset(),m(i)}))):(b(i,n),d||t.if((0,r.not)(n),(()=>t.break())))}}}function b(t,n,i){const r={keyword:"additionalProperties",dataProp:t,dataPropType:s.Type.Str};!1===i&&Object.assign(r,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(r,n)}t.forIn("key",l,(n=>{p.length||f.length?t.if(function(n){let o;if(p.length>8){const e=(0,s.schemaRefOrVal)(u,a.properties,"properties");o=(0,i.isOwnProperty)(t,e,n)}else o=p.length?(0,r.or)(...p.map((e=>r._`${n} === ${e}`))):r.nil;return f.length&&(o=(0,r.or)(o,...f.map((t=>r._`${(0,i.usePattern)(e,t)}.test(${n})`)))),(0,r.not)(o)}(n),(()=>g(n))):g(n)})),e.ok(r._`${c} === ${o.default.errors}`)}};t.default=a},15844:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(94227),r={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const o=t.name("valid");n.forEach(((t,n)=>{if((0,i.alwaysValidSchema)(r,t))return;const s=e.subschema({keyword:"allOf",schemaProp:n},o);e.ok(o),e.mergeEvaluated(s)}))}};t.default=r},16505:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:n(15765).validateUnion,error:{message:"must match a schema in anyOf"}};t.default=i},12661:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=n(94227),o={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?i.str`must contain at least ${e} valid item(s)`:i.str`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?i._`{minContains: ${e}}`:i._`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:n,parentSchema:o,data:s,it:a}=e;let l,c;const{minContains:u,maxContains:d}=o;a.opts.next?(l=void 0===u?1:u,c=d):l=1;const h=t.const("len",i._`${s}.length`);if(e.setParams({min:l,max:c}),void 0===c&&0===l)return void(0,r.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==c&&l>c)return(0,r.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,r.alwaysValidSchema)(a,n)){let t=i._`${h} >= ${l}`;return void 0!==c&&(t=i._`${t} && ${h} <= ${c}`),void e.pass(t)}a.items=!0;const p=t.name("valid");function f(){const e=t.name("_valid"),n=t.let("count",0);m(e,(()=>t.if(e,(()=>function(e){t.code(i._`${e}++`),void 0===c?t.if(i._`${e} >= ${l}`,(()=>t.assign(p,!0).break())):(t.if(i._`${e} > ${c}`,(()=>t.assign(p,!1).break())),1===l?t.assign(p,!0):t.if(i._`${e} >= ${l}`,(()=>t.assign(p,!0))))}(n)))))}function m(n,i){t.forRange("i",0,h,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:r.Type.Num,compositeRule:!0},n),i()}))}void 0===c&&1===l?m(p,(()=>t.if(p,(()=>t.break())))):0===l?(t.let(p,!0),void 0!==c&&t.if(i._`${s}.length > 0`,f)):(t.let(p,!1),f()),e.result(p,(()=>e.reset()))}};t.default=o},83025:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const i=n(99029),r=n(94227),o=n(15765);t.error={message:({params:{property:e,depsCount:t,deps:n}})=>{const r=1===t?"property":"properties";return i.str`must have ${r} ${n} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:n,missingProperty:r}})=>i._`{property: ${e},
    missingProperty: ${r},
    depsCount: ${t},
    deps: ${n}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,n]=function({schema:e}){const t={},n={};for(const i in e)"__proto__"!==i&&((Array.isArray(e[i])?t:n)[i]=e[i]);return[t,n]}(e);a(e,t),l(e,n)}};function a(e,t=e.schema){const{gen:n,data:r,it:s}=e;if(0===Object.keys(t).length)return;const a=n.let("missing");for(const l in t){const c=t[l];if(0===c.length)continue;const u=(0,o.propertyInData)(n,r,l,s.opts.ownProperties);e.setParams({property:l,depsCount:c.length,deps:c.join(", ")}),s.allErrors?n.if(u,(()=>{for(const t of c)(0,o.checkReportMissingProp)(e,t)})):(n.if(i._`${u} && (${(0,o.checkMissingProp)(e,c,a)})`),(0,o.reportMissingProp)(e,a),n.else())}}function l(e,t=e.schema){const{gen:n,data:i,keyword:s,it:a}=e,l=n.name("valid");for(const c in t)(0,r.alwaysValidSchema)(a,t[c])||(n.if((0,o.propertyInData)(n,i,c,a.opts.ownProperties),(()=>{const t=e.subschema({keyword:s,schemaProp:c},l);e.mergeValidEvaluated(t,l)}),(()=>n.var(l,!0))),e.ok(l))}t.validatePropertyDeps=a,t.validateSchemaDeps=l,t.default=s},1239:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=n(94227),o={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>i.str`must match "${e.ifClause}" schema`,params:({params:e})=>i._`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:n,it:o}=e;void 0===n.then&&void 0===n.else&&(0,r.checkStrictMode)(o,'"if" without "then" and "else" is ignored');const a=s(o,"then"),l=s(o,"else");if(!a&&!l)return;const c=t.let("valid",!0),u=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(t)}(),e.reset(),a&&l){const n=t.let("ifClause");e.setParams({ifClause:n}),t.if(u,d("then",n),d("else",n))}else a?t.if(u,d("then")):t.if((0,i.not)(u),d("else"));function d(n,r){return()=>{const o=e.subschema({keyword:n},u);t.assign(c,u),e.mergeValidEvaluated(o,c),r?t.assign(r,i._`${n}`):e.setParams({ifClause:n})}}e.pass(c,(()=>e.error(!0)))}};function s(e,t){const n=e.schema[t];return void 0!==n&&!(0,r.alwaysValidSchema)(e,n)}t.default=o},56378:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(15457),r=n(65354),o=n(20494),s=n(93966),a=n(12661),l=n(83025),c=n(19713),u=n(38660),d=n(40117),h=n(45333),p=n(57923),f=n(16505),m=n(96163),g=n(15844),b=n(1239),y=n(14426);t.default=function(e=!1){const t=[p.default,f.default,m.default,g.default,b.default,y.default,c.default,u.default,l.default,d.default,h.default];return e?t.push(r.default,s.default):t.push(i.default,o.default),t.push(a.default),t}},20494:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;const i=n(99029),r=n(94227),o=n(15765),s={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return a(e,"additionalItems",t);n.items=!0,(0,r.alwaysValidSchema)(n,t)||e.ok((0,o.validateArray)(e))}};function a(e,t,n=e.schema){const{gen:o,parentSchema:s,data:a,keyword:l,it:c}=e;!function(e){const{opts:i,errSchemaPath:o}=c,s=n.length,a=s===e.minItems&&(s===e.maxItems||!1===e[t]);if(i.strictTuples&&!a){const e=`"${l}" is ${s}-tuple, but minItems or maxItems/${t} are not specified or different at path "${o}"`;(0,r.checkStrictMode)(c,e,i.strictTuples)}}(s),c.opts.unevaluated&&n.length&&!0!==c.items&&(c.items=r.mergeEvaluated.items(o,n.length,c.items));const u=o.name("valid"),d=o.const("len",i._`${a}.length`);n.forEach(((t,n)=>{(0,r.alwaysValidSchema)(c,t)||(o.if(i._`${d} > ${n}`,(()=>e.subschema({keyword:l,schemaProp:n,dataProp:n},u))),e.ok(u))}))}t.validateTuple=a,t.default=s},93966:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=n(94227),o=n(15765),s=n(15457),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>i.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>i._`{limit: ${e}}`},code(e){const{schema:t,parentSchema:n,it:i}=e,{prefixItems:a}=n;i.items=!0,(0,r.alwaysValidSchema)(i,t)||(a?(0,s.validateAdditionalItems)(e,a):e.ok((0,o.validateArray)(e)))}};t.default=a},57923:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(94227),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,i.alwaysValidSchema)(r,n))return void e.fail();const o=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),e.failResult(o,(()=>e.reset()),(()=>e.error()))},error:{message:"must NOT be valid"}};t.default=r},96163:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=n(94227),o={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>i._`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:n,parentSchema:o,it:s}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(s.opts.discriminator&&o.discriminator)return;const a=n,l=t.let("valid",!1),c=t.let("passing",null),u=t.name("_valid");e.setParams({passing:c}),t.block((function(){a.forEach(((n,o)=>{let a;(0,r.alwaysValidSchema)(s,n)?t.var(u,!0):a=e.subschema({keyword:"oneOf",schemaProp:o,compositeRule:!0},u),o>0&&t.if(i._`${u} && ${l}`).assign(l,!1).assign(c,i._`[${c}, ${o}]`).else(),t.if(u,(()=>{t.assign(l,!0),t.assign(c,o),a&&e.mergeEvaluated(a,i.Name)}))}))})),e.result(l,(()=>e.reset()),(()=>e.error(!0)))}};t.default=o},45333:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(15765),r=n(99029),o=n(94227),s=n(94227),a={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:a,parentSchema:l,it:c}=e,{opts:u}=c,d=(0,i.allSchemaProperties)(n),h=d.filter((e=>(0,o.alwaysValidSchema)(c,n[e])));if(0===d.length||h.length===d.length&&(!c.opts.unevaluated||!0===c.props))return;const p=u.strictSchema&&!u.allowMatchingProperties&&l.properties,f=t.name("valid");!0===c.props||c.props instanceof r.Name||(c.props=(0,s.evaluatedPropsToName)(t,c.props));const{props:m}=c;function g(e){for(const t in p)new RegExp(e).test(t)&&(0,o.checkStrictMode)(c,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function b(n){t.forIn("key",a,(o=>{t.if(r._`${(0,i.usePattern)(e,n)}.test(${o})`,(()=>{const i=h.includes(n);i||e.subschema({keyword:"patternProperties",schemaProp:n,dataProp:o,dataPropType:s.Type.Str},f),c.opts.unevaluated&&!0!==m?t.assign(r._`${m}[${o}]`,!0):i||c.allErrors||t.if((0,r.not)(f),(()=>t.break()))}))}))}!function(){for(const e of d)p&&g(e),c.allErrors?b(e):(t.var(f,!0),b(e),t.if(f))}()}};t.default=a},65354:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(20494),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,i.validateTuple)(e,"items")};t.default=r},40117:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(62586),r=n(15765),o=n(94227),s=n(38660),a={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:a,data:l,it:c}=e;"all"===c.opts.removeAdditional&&void 0===a.additionalProperties&&s.default.code(new i.KeywordCxt(c,s.default,"additionalProperties"));const u=(0,r.allSchemaProperties)(n);for(const e of u)c.definedProperties.add(e);c.opts.unevaluated&&u.length&&!0!==c.props&&(c.props=o.mergeEvaluated.props(t,(0,o.toHash)(u),c.props));const d=u.filter((e=>!(0,o.alwaysValidSchema)(c,n[e])));if(0===d.length)return;const h=t.name("valid");for(const n of d)p(n)?f(n):(t.if((0,r.propertyInData)(t,l,n,c.opts.ownProperties)),f(n),c.allErrors||t.else().var(h,!0),t.endIf()),e.it.definedProperties.add(n),e.ok(h);function p(e){return c.opts.useDefaults&&!c.compositeRule&&void 0!==n[e].default}function f(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},h)}}};t.default=a},19713:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=n(94227),o={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>i._`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:n,data:o,it:s}=e;if((0,r.alwaysValidSchema)(s,n))return;const a=t.name("valid");t.forIn("key",o,(n=>{e.setParams({propertyName:n}),e.subschema({keyword:"propertyNames",data:n,dataTypes:["string"],propertyName:n,compositeRule:!0},a),t.if((0,i.not)(a),(()=>{e.error(!0),s.allErrors||t.break()}))})),e.ok(a)}};t.default=o},14426:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(94227),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){void 0===t.if&&(0,i.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};t.default=r},15765:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const i=n(99029),r=n(94227),o=n(42023),s=n(94227);function a(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:i._`Object.prototype.hasOwnProperty`})}function l(e,t,n){return i._`${a(e)}.call(${t}, ${n})`}function c(e,t,n,r){const o=i._`${t}${(0,i.getProperty)(n)} === undefined`;return r?(0,i.or)(o,(0,i.not)(l(e,t,n))):o}function u(e){return e?Object.keys(e).filter((e=>"__proto__"!==e)):[]}t.checkReportMissingProp=function(e,t){const{gen:n,data:r,it:o}=e;n.if(c(n,r,t,o.opts.ownProperties),(()=>{e.setParams({missingProperty:i._`${t}`},!0),e.error()}))},t.checkMissingProp=function({gen:e,data:t,it:{opts:n}},r,o){return(0,i.or)(...r.map((r=>(0,i.and)(c(e,t,r,n.ownProperties),i._`${o} = ${r}`))))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=a,t.isOwnProperty=l,t.propertyInData=function(e,t,n,r){const o=i._`${t}${(0,i.getProperty)(n)} !== undefined`;return r?i._`${o} && ${l(e,t,n)}`:o},t.noPropertyInData=c,t.allSchemaProperties=u,t.schemaProperties=function(e,t){return u(t).filter((n=>!(0,r.alwaysValidSchema)(e,t[n])))},t.callValidateCode=function({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:s,errorPath:a},it:l},c,u,d){const h=d?i._`${e}, ${t}, ${r}${s}`:t,p=[[o.default.instancePath,(0,i.strConcat)(o.default.instancePath,a)],[o.default.parentData,l.parentData],[o.default.parentDataProperty,l.parentDataProperty],[o.default.rootData,o.default.rootData]];l.opts.dynamicRef&&p.push([o.default.dynamicAnchors,o.default.dynamicAnchors]);const f=i._`${h}, ${n.object(...p)}`;return u!==i.nil?i._`${c}.call(${u}, ${f})`:i._`${c}(${f})`};const d=i._`new RegExp`;t.usePattern=function({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:o}=t.code,a=o(n,r);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:i._`${"new RegExp"===o.code?d:(0,s.useFunc)(e,o)}(${n}, ${r})`})},t.validateArray=function(e){const{gen:t,data:n,keyword:o,it:s}=e,a=t.name("valid");if(s.allErrors){const e=t.let("valid",!0);return l((()=>t.assign(e,!1))),e}return t.var(a,!0),l((()=>t.break())),a;function l(s){const l=t.const("len",i._`${n}.length`);t.forRange("i",0,l,(n=>{e.subschema({keyword:o,dataProp:n,dataPropType:r.Type.Num},a),t.if((0,i.not)(a),s)}))}},t.validateUnion=function(e){const{gen:t,schema:n,keyword:o,it:s}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some((e=>(0,r.alwaysValidSchema)(s,e)))&&!s.opts.unevaluated)return;const a=t.let("valid",!1),l=t.name("_valid");t.block((()=>n.forEach(((n,r)=>{const s=e.subschema({keyword:o,schemaProp:r,compositeRule:!0},l);t.assign(a,i._`${a} || ${l}`),e.mergeValidEvaluated(s,l)||t.if((0,i.not)(a))})))),e.result(a,(()=>e.reset()),(()=>e.error(!0)))}},83463:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=n},72128:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(83463),r=n(13693),o=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",i.default,r.default];t.default=o},13693:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const i=n(34551),r=n(15765),o=n(99029),s=n(42023),a=n(73835),l=n(94227),c={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:s,schemaEnv:l,validateName:c,opts:h,self:p}=r,{root:f}=l;if(("#"===n||"#/"===n)&&s===f.baseId)return function(){if(l===f)return d(e,c,l,l.$async);const n=t.scopeValue("root",{ref:f});return d(e,o._`${n}.validate`,f,f.$async)}();const m=a.resolveRef.call(p,f,s,n);if(void 0===m)throw new i.default(r.opts.uriResolver,s,n);return m instanceof a.SchemaEnv?function(t){const n=u(e,t);d(e,n,t,t.$async)}(m):function(i){const r=t.scopeValue("schema",!0===h.code.source?{ref:i,code:(0,o.stringify)(i)}:{ref:i}),s=t.name("valid"),a=e.subschema({schema:i,dataTypes:[],schemaPath:o.nil,topSchemaRef:r,errSchemaPath:n},s);e.mergeEvaluated(a),e.ok(s)}(m)}};function u(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):o._`${n.scopeValue("wrapper",{ref:t})}.validate`}function d(e,t,n,i){const{gen:a,it:c}=e,{allErrors:u,schemaEnv:d,opts:h}=c,p=h.passContext?s.default.this:o.nil;function f(e){const t=o._`${e}.errors`;a.assign(s.default.vErrors,o._`${s.default.vErrors} === null ? ${t} : ${s.default.vErrors}.concat(${t})`),a.assign(s.default.errors,o._`${s.default.vErrors}.length`)}function m(e){var t;if(!c.opts.unevaluated)return;const i=null===(t=null==n?void 0:n.validate)||void 0===t?void 0:t.evaluated;if(!0!==c.props)if(i&&!i.dynamicProps)void 0!==i.props&&(c.props=l.mergeEvaluated.props(a,i.props,c.props));else{const t=a.var("props",o._`${e}.evaluated.props`);c.props=l.mergeEvaluated.props(a,t,c.props,o.Name)}if(!0!==c.items)if(i&&!i.dynamicItems)void 0!==i.items&&(c.items=l.mergeEvaluated.items(a,i.items,c.items));else{const t=a.var("items",o._`${e}.evaluated.items`);c.items=l.mergeEvaluated.items(a,t,c.items,o.Name)}}i?function(){if(!d.$async)throw new Error("async schema referenced by sync schema");const n=a.let("valid");a.try((()=>{a.code(o._`await ${(0,r.callValidateCode)(e,t,p)}`),m(t),u||a.assign(n,!0)}),(e=>{a.if(o._`!(${e} instanceof ${c.ValidationError})`,(()=>a.throw(e))),f(e),u||a.assign(n,!1)})),e.ok(n)}():e.result((0,r.callValidateCode)(e,t,p),(()=>m(t)),(()=>f(t)))}t.getValidate=u,t.callRef=d,t.default=c},36653:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=n(97652),o=n(73835),s=n(94227),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===r.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>i._`{error: ${e}, tag: ${n}, tagValue: ${t}}`},code(e){const{gen:t,data:n,schema:a,parentSchema:l,it:c}=e,{oneOf:u}=l;if(!c.opts.discriminator)throw new Error("discriminator: requires discriminator option");const d=a.propertyName;if("string"!=typeof d)throw new Error("discriminator: requires propertyName");if(a.mapping)throw new Error("discriminator: mapping is not supported");if(!u)throw new Error("discriminator: requires oneOf keyword");const h=t.let("valid",!1),p=t.const("tag",i._`${n}${(0,i.getProperty)(d)}`);function f(n){const r=t.name("valid"),o=e.subschema({keyword:"oneOf",schemaProp:n},r);return e.mergeEvaluated(o,i.Name),r}t.if(i._`typeof ${p} == "string"`,(()=>function(){const n=function(){var e;const t={},n=r(l);let i=!0;for(let t=0;t<u.length;t++){let l=u[t];(null==l?void 0:l.$ref)&&!(0,s.schemaHasRulesButRef)(l,c.self.RULES)&&(l=o.resolveRef.call(c.self,c.schemaEnv.root,c.baseId,null==l?void 0:l.$ref),l instanceof o.SchemaEnv&&(l=l.schema));const h=null===(e=null==l?void 0:l.properties)||void 0===e?void 0:e[d];if("object"!=typeof h)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${d}"`);i=i&&(n||r(l)),a(h,t)}if(!i)throw new Error(`discriminator: "${d}" must be required`);return t;function r({required:e}){return Array.isArray(e)&&e.includes(d)}function a(e,t){if(e.const)h(e.const,t);else{if(!e.enum)throw new Error(`discriminator: "properties/${d}" must have "const" or "enum"`);for(const n of e.enum)h(n,t)}}function h(e,n){if("string"!=typeof e||e in t)throw new Error(`discriminator: "${d}" values must be unique strings`);t[e]=n}}();t.if(!1);for(const e in n)t.elseIf(i._`${p} === ${e}`),t.assign(h,f(n[e]));t.else(),e.error(!1,{discrError:r.DiscrError.Mapping,tag:p,tagName:d}),t.endIf()}()),(()=>e.error(!1,{discrError:r.DiscrError.Tag,tag:p,tagName:d}))),e.ok(h)}};t.default=a},97652:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,(n=t.DiscrError||(t.DiscrError={})).Tag="tag",n.Mapping="mapping"},86144:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(72128),r=n(67060),o=n(56378),s=n(97532),a=n(69857),l=[i.default,r.default,(0,o.default)(),s.default,a.metadataVocabulary,a.contentVocabulary];t.default=l},94737:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>i.str`must match format "${e}"`,params:({schemaCode:e})=>i._`{format: ${e}}`},code(e,t){const{gen:n,data:r,$data:o,schema:s,schemaCode:a,it:l}=e,{opts:c,errSchemaPath:u,schemaEnv:d,self:h}=l;c.validateFormats&&(o?function(){const o=n.scopeValue("formats",{ref:h.formats,code:c.code.formats}),s=n.const("fDef",i._`${o}[${a}]`),l=n.let("fType"),u=n.let("format");n.if(i._`typeof ${s} == "object" && !(${s} instanceof RegExp)`,(()=>n.assign(l,i._`${s}.type || "string"`).assign(u,i._`${s}.validate`)),(()=>n.assign(l,i._`"string"`).assign(u,s))),e.fail$data((0,i.or)(!1===c.strictSchema?i.nil:i._`${a} && !${u}`,function(){const e=d.$async?i._`(${s}.async ? await ${u}(${r}) : ${u}(${r}))`:i._`${u}(${r})`,n=i._`(typeof ${u} == "function" ? ${e} : ${u}.test(${r}))`;return i._`${u} && ${u} !== true && ${l} === ${t} && !${n}`}()))}():function(){const o=h.formats[s];if(!o)return void function(){if(!1!==c.strictSchema)throw new Error(e());function e(){return`unknown format "${s}" ignored in schema at path "${u}"`}h.logger.warn(e())}();if(!0===o)return;const[a,l,p]=function(e){const t=e instanceof RegExp?(0,i.regexpCode)(e):c.code.formats?i._`${c.code.formats}${(0,i.getProperty)(s)}`:void 0,r=n.scopeValue("formats",{key:s,ref:e,code:t});return"object"!=typeof e||e instanceof RegExp?["string",e,r]:[e.type||"string",e.validate,i._`${r}.validate`]}(o);a===t&&e.pass(function(){if("object"==typeof o&&!(o instanceof RegExp)&&o.async){if(!d.$async)throw new Error("async format in sync schema");return i._`await ${p}(${r})`}return"function"==typeof l?i._`${p}(${r})`:i._`${p}.test(${r})`}())}())}};t.default=r},97532:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=[n(94737).default];t.default=i},69857:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},27935:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=n(94227),o=n(76250),s={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>i._`{allowedValue: ${e}}`},code(e){const{gen:t,data:n,$data:s,schemaCode:a,schema:l}=e;s||l&&"object"==typeof l?e.fail$data(i._`!${(0,r.useFunc)(t,o.default)}(${n}, ${a})`):e.fail(i._`${l} !== ${n}`)}};t.default=s},28643:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=n(94227),o=n(76250),s={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>i._`{allowedValues: ${e}}`},code(e){const{gen:t,data:n,$data:s,schema:a,schemaCode:l,it:c}=e;if(!s&&0===a.length)throw new Error("enum must have non-empty array");const u=a.length>=c.opts.loopEnum;let d;const h=()=>null!=d?d:d=(0,r.useFunc)(t,o.default);let p;if(u||s)p=t.let("valid"),e.block$data(p,(function(){t.assign(p,!1),t.forOf("v",l,(e=>t.if(i._`${h()}(${n}, ${e})`,(()=>t.assign(p,!0).break()))))}));else{if(!Array.isArray(a))throw new Error("ajv implementation error");const e=t.const("vSchema",l);p=(0,i.or)(...a.map(((t,r)=>function(e,t){const r=a[t];return"object"==typeof r&&null!==r?i._`${h()}(${n}, ${e}[${t}])`:i._`${n} === ${r}`}(e,r))))}e.pass(p)}};t.default=s},67060:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(75882),r=n(63439),o=n(77307),s=n(90422),a=n(34486),l=n(34003),c=n(61163),u=n(60617),d=n(27935),h=n(28643),p=[i.default,r.default,o.default,s.default,a.default,l.default,c.default,u.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},d.default,h.default];t.default=p},61163:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxItems"===e?"more":"fewer";return i.str`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>i._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:r}=e,o="maxItems"===t?i.operators.GT:i.operators.LT;e.fail$data(i._`${n}.length ${o} ${r}`)}};t.default=r},77307:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=n(94227),o=n(53853),s={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxLength"===e?"more":"fewer";return i.str`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>i._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:s,it:a}=e,l="maxLength"===t?i.operators.GT:i.operators.LT,c=!1===a.opts.unicode?i._`${n}.length`:i._`${(0,r.useFunc)(e.gen,o.default)}(${n})`;e.fail$data(i._`${c} ${l} ${s}`)}};t.default=s},75882:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r=i.operators,o={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},s={message:({keyword:e,schemaCode:t})=>i.str`must be ${o[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>i._`{comparison: ${o[e].okStr}, limit: ${t}}`},a={keyword:Object.keys(o),type:"number",schemaType:"number",$data:!0,error:s,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data(i._`${n} ${o[t].fail} ${r} || isNaN(${n})`)}};t.default=a},34486:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxProperties"===e?"more":"fewer";return i.str`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>i._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:r}=e,o="maxProperties"===t?i.operators.GT:i.operators.LT;e.fail$data(i._`Object.keys(${n}).length ${o} ${r}`)}};t.default=r},63439:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99029),r={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>i.str`must be multiple of ${e}`,params:({schemaCode:e})=>i._`{multipleOf: ${e}}`},code(e){const{gen:t,data:n,schemaCode:r,it:o}=e,s=o.opts.multipleOfPrecision,a=t.let("res"),l=s?i._`Math.abs(Math.round(${a}) - ${a}) > 1e-${s}`:i._`${a} !== parseInt(${a})`;e.fail$data(i._`(${r} === 0 || (${a} = ${n}/${r}, ${l}))`)}};t.default=r},90422:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(15765),r=n(99029),o={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>r.str`must match pattern "${e}"`,params:({schemaCode:e})=>r._`{pattern: ${e}}`},code(e){const{data:t,$data:n,schema:o,schemaCode:s,it:a}=e,l=a.opts.unicodeRegExp?"u":"",c=n?r._`(new RegExp(${s}, ${l}))`:(0,i.usePattern)(e,o);e.fail$data(r._`!${c}.test(${t})`)}};t.default=o},34003:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(15765),r=n(99029),o=n(94227),s={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>r.str`must have required property '${e}'`,params:({params:{missingProperty:e}})=>r._`{missingProperty: ${e}}`},code(e){const{gen:t,schema:n,schemaCode:s,data:a,$data:l,it:c}=e,{opts:u}=c;if(!l&&0===n.length)return;const d=n.length>=u.loopRequired;if(c.allErrors?function(){if(d||l)e.block$data(r.nil,h);else for(const t of n)(0,i.checkReportMissingProp)(e,t)}():function(){const o=t.let("missing");if(d||l){const n=t.let("valid",!0);e.block$data(n,(()=>function(n,o){e.setParams({missingProperty:n}),t.forOf(n,s,(()=>{t.assign(o,(0,i.propertyInData)(t,a,n,u.ownProperties)),t.if((0,r.not)(o),(()=>{e.error(),t.break()}))}),r.nil)}(o,n))),e.ok(n)}else t.if((0,i.checkMissingProp)(e,n,o)),(0,i.reportMissingProp)(e,o),t.else()}(),u.strictRequired){const t=e.parentSchema.properties,{definedProperties:i}=e.it;for(const e of n)if(void 0===(null==t?void 0:t[e])&&!i.has(e)){const t=`required property "${e}" is not defined at "${c.schemaEnv.baseId+c.errSchemaPath}" (strictRequired)`;(0,o.checkStrictMode)(c,t,c.opts.strictRequired)}}function h(){t.forOf("prop",s,(n=>{e.setParams({missingProperty:n}),t.if((0,i.noPropertyInData)(t,a,n,u.ownProperties),(()=>e.error()))}))}}};t.default=s},60617:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(10208),r=n(99029),o=n(94227),s=n(76250),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>r.str`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>r._`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:n,$data:a,schema:l,parentSchema:c,schemaCode:u,it:d}=e;if(!a&&!l)return;const h=t.let("valid"),p=c.items?(0,i.getSchemaTypes)(c.items):[];function f(o,s){const a=t.name("item"),l=(0,i.checkDataTypes)(p,a,d.opts.strictNumbers,i.DataType.Wrong),c=t.const("indices",r._`{}`);t.for(r._`;${o}--;`,(()=>{t.let(a,r._`${n}[${o}]`),t.if(l,r._`continue`),p.length>1&&t.if(r._`typeof ${a} == "string"`,r._`${a} += "_"`),t.if(r._`typeof ${c}[${a}] == "number"`,(()=>{t.assign(s,r._`${c}[${a}]`),e.error(),t.assign(h,!1).break()})).code(r._`${c}[${a}] = ${o}`)}))}function m(i,a){const l=(0,o.useFunc)(t,s.default),c=t.name("outer");t.label(c).for(r._`;${i}--;`,(()=>t.for(r._`${a} = ${i}; ${a}--;`,(()=>t.if(r._`${l}(${n}[${i}], ${n}[${a}])`,(()=>{e.error(),t.assign(h,!1).break(c)}))))))}e.block$data(h,(function(){const i=t.let("i",r._`${n}.length`),o=t.let("j");e.setParams({i:i,j:o}),t.assign(h,!0),t.if(r._`${i} > 1`,(()=>(p.length>0&&!p.some((e=>"object"===e||"array"===e))?f:m)(i,o)))}),r._`${u} === false`),e.ok(h)}};t.default=a},9455:function(e,t){"use strict";t.A=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),i=e.name||"",r=(e.type||"").toLowerCase(),o=r.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?i.toLowerCase().endsWith(t):t.endsWith("/*")?o===t.replace(/\/.*$/,""):r===t}))}return!0}},75195:function(e,t){var n,i,r,o;o=function(){var e={__esModule:!0};e.Routing=e.Router=void 0;var t=function(){function t(e,t){this.context_=e||{base_url:"",prefix:"",host:"",port:"",scheme:"",locale:""},this.setRoutes(t||{})}return t.getInstance=function(){return e.Routing},t.setData=function(e){t.getInstance().setRoutingData(e)},t.prototype.setRoutingData=function(e){this.setBaseUrl(e.base_url),this.setRoutes(e.routes),void 0!==e.prefix&&this.setPrefix(e.prefix),void 0!==e.port&&this.setPort(e.port),void 0!==e.locale&&this.setLocale(e.locale),this.setHost(e.host),void 0!==e.scheme&&this.setScheme(e.scheme)},t.prototype.setRoutes=function(e){this.routes_=Object.freeze(e)},t.prototype.getRoutes=function(){return this.routes_},t.prototype.setBaseUrl=function(e){this.context_.base_url=e},t.prototype.getBaseUrl=function(){return this.context_.base_url},t.prototype.setPrefix=function(e){this.context_.prefix=e},t.prototype.setScheme=function(e){this.context_.scheme=e},t.prototype.getScheme=function(){return this.context_.scheme},t.prototype.setHost=function(e){this.context_.host=e},t.prototype.getHost=function(){return this.context_.host},t.prototype.setPort=function(e){this.context_.port=e},t.prototype.getPort=function(){return this.context_.port},t.prototype.setLocale=function(e){this.context_.locale=e},t.prototype.getLocale=function(){return this.context_.locale},t.prototype.buildQueryParams=function(e,t,n){var i,r=this,o=new RegExp(/\[\]$/);if(t instanceof Array)t.forEach((function(t,i){o.test(e)?n(e,t):r.buildQueryParams(e+"["+("object"==typeof t?i:"")+"]",t,n)}));else if("object"==typeof t)for(i in t)this.buildQueryParams(e+"["+i+"]",t[i],n);else n(e,t)},t.prototype.getRoute=function(e){var t=[this.context_.prefix+e,e+"."+this.context_.locale,this.context_.prefix+e+"."+this.context_.locale,e];for(var n in t)if(t[n]in this.routes_)return this.routes_[t[n]];throw new Error('The route "'+e+'" does not exist.')},t.prototype.generate=function(e,n,i){var r=this.getRoute(e),o=n||{},s=Object.assign({},o),a="",l=!0,c="",u=void 0===this.getPort()||null===this.getPort()?"":this.getPort();if(r.tokens.forEach((function(n){if("text"===n[0]&&"string"==typeof n[1])return a=t.encodePathComponent(n[1])+a,void(l=!1);if("variable"!==n[0])throw new Error('The token type "'+n[0]+'" is not supported.');6===n.length&&!0===n[5]&&(l=!1);var i=r.defaults&&!Array.isArray(r.defaults)&&"string"==typeof n[3]&&n[3]in r.defaults;if(!1===l||!i||"string"==typeof n[3]&&n[3]in o&&!Array.isArray(r.defaults)&&o[n[3]]!=r.defaults[n[3]]){var c=void 0;if("string"==typeof n[3]&&n[3]in o)c=o[n[3]],delete s[n[3]];else{if("string"!=typeof n[3]||!i||Array.isArray(r.defaults)){if(l)return;throw new Error('The route "'+e+'" requires the parameter "'+n[3]+'".')}c=r.defaults[n[3]]}if(!0!==c&&!1!==c&&""!==c||!l){var u=t.encodePathComponent(c);"null"===u&&null===c&&(u=""),a=n[1]+u+a}l=!1}else i&&"string"==typeof n[3]&&n[3]in s&&delete s[n[3]]})),""===a&&(a="/"),r.hosttokens.forEach((function(e){var t;"text"!==e[0]?"variable"===e[0]&&(e[3]in o?(t=o[e[3]],delete s[e[3]]):r.defaults&&!Array.isArray(r.defaults)&&e[3]in r.defaults&&(t=r.defaults[e[3]]),c=e[1]+t+c):c=e[1]+c})),a=this.context_.base_url+a,r.requirements&&"_scheme"in r.requirements&&this.getScheme()!=r.requirements._scheme){var d=c||this.getHost();a=r.requirements._scheme+"://"+d+(d.indexOf(":"+u)>-1||""===u?"":":"+u)+a}else void 0!==r.schemes&&void 0!==r.schemes[0]&&this.getScheme()!==r.schemes[0]?(d=c||this.getHost(),a=r.schemes[0]+"://"+d+(d.indexOf(":"+u)>-1||""===u?"":":"+u)+a):c&&this.getHost()!==c+(c.indexOf(":"+u)>-1||""===u?"":":"+u)?a=this.getScheme()+"://"+c+(c.indexOf(":"+u)>-1||""===u?"":":"+u)+a:!0===i&&(a=this.getScheme()+"://"+this.getHost()+(this.getHost().indexOf(":"+u)>-1||""===u?"":":"+u)+a);if(Object.keys(s).length>0){var h=[],p=function(e,n){n=null===(n="function"==typeof n?n():n)?"":n,h.push(t.encodeQueryComponent(e)+"="+t.encodeQueryComponent(n))};for(var f in s)s.hasOwnProperty(f)&&this.buildQueryParams(f,s[f],p);a=a+"?"+h.join("&")}return a},t.customEncodeURIComponent=function(e){return encodeURIComponent(e).replace(/%2F/g,"/").replace(/%40/g,"@").replace(/%3A/g,":").replace(/%21/g,"!").replace(/%3B/g,";").replace(/%2C/g,",").replace(/%2A/g,"*").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/'/g,"%27")},t.encodePathComponent=function(e){return t.customEncodeURIComponent(e).replace(/%3D/g,"=").replace(/%2B/g,"+").replace(/%21/g,"!").replace(/%7C/g,"|")},t.encodeQueryComponent=function(e){return t.customEncodeURIComponent(e).replace(/%3F/g,"?")},t}();return e.Router=t,e.Routing=new t,e.default=e.Routing,{Router:e.Router,Routing:e.Routing}}(),i=[],void 0===(r="function"==typeof(n=o.Routing)?n.apply(t,i):n)||(e.exports=r)},57576:function(e){var t;t=function(){return function(){var e={686:function(e,t,n){"use strict";n.d(t,{default:function(){return _}});var i=n(279),r=n.n(i),o=n(370),s=n.n(o),a=n(817),l=n.n(a);function c(e){try{return document.execCommand(e)}catch(e){return!1}}var u=function(e){var t=l()(e);return c("cut"),t},d=function(e,t){var n=function(e){var t="rtl"===document.documentElement.getAttribute("dir"),n=document.createElement("textarea");n.style.fontSize="12pt",n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[t?"right":"left"]="-9999px";var i=window.pageYOffset||document.documentElement.scrollTop;return n.style.top="".concat(i,"px"),n.setAttribute("readonly",""),n.value=e,n}(e);t.container.appendChild(n);var i=l()(n);return c("copy"),n.remove(),i},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body},n="";return"string"==typeof e?n=d(e,t):e instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(null==e?void 0:e.type)?n=d(e.value,t):(n=l()(e),c("copy")),n};function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function m(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function y(e,t){var n="data-clipboard-".concat(e);if(t.hasAttribute(n))return t.getAttribute(n)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(l,e);var t,n,i,r,o,a=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(o){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,e)});function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=a.call(this)).resolveOptions(t),n.listenClick(e),n}return t=l,n=[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===f(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=s()(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget,n=this.action(t)||"copy",i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.action,n=void 0===t?"copy":t,i=e.container,r=e.target,o=e.text;if("copy"!==n&&"cut"!==n)throw new Error('Invalid "action" value, use either "copy" or "cut"');if(void 0!==r){if(!r||"object"!==p(r)||1!==r.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===n&&r.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===n&&(r.hasAttribute("readonly")||r.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}return o?h(o,{container:i}):r?"cut"===n?u(r):h(r,{container:i}):void 0}({action:n,container:this.container,target:this.target(t),text:this.text(t)});this.emit(i?"success":"error",{action:n,text:i,trigger:t,clearSelection:function(){t&&t.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(e){return y("action",e)}},{key:"defaultTarget",value:function(e){var t=y("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return y("text",e)}},{key:"destroy",value:function(){this.listener.destroy()}}],i=[{key:"copy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body};return h(e,t)}},{key:"cut",value:function(e){return u(e)}},{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach((function(e){n=n&&!!document.queryCommandSupported(e)})),n}}],n&&m(t.prototype,n),i&&m(t,i),l}(r()),_=v},828:function(e){if("undefined"!=typeof Element&&!Element.prototype.matches){var t=Element.prototype;t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},438:function(e,t,n){var i=n(828);function r(e,t,n,i,r){var s=o.apply(this,arguments);return e.addEventListener(n,s,r),{destroy:function(){e.removeEventListener(n,s,r)}}}function o(e,t,n,r){return function(n){n.delegateTarget=i(n.target,t),n.delegateTarget&&r.call(e,n)}}e.exports=function(e,t,n,i,o){return"function"==typeof e.addEventListener?r.apply(null,arguments):"function"==typeof n?r.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return r(e,t,n,i,o)})))}},879:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},370:function(e,t,n){var i=n(879),r=n(438);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!i.string(t))throw new TypeError("Second argument must be a String");if(!i.fn(n))throw new TypeError("Third argument must be a Function");if(i.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(i.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,n)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,n)}))}}}(e,t,n);if(i.string(e))return function(e,t,n){return r(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},817:function(e){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var i=window.getSelection(),r=document.createRange();r.selectNodeContents(e),i.removeAllRanges(),i.addRange(r),t=i.toString()}return t}},279:function(e){function t(){}t.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var i=this;function r(){i.off(e,r),t.apply(n,arguments)}return r._=t,this.on(e,r,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,r=n.length;i<r;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],r=[];if(i&&t)for(var o=0,s=i.length;o<s;o++)i[o].fn!==t&&i[o].fn._!==t&&r.push(i[o]);return r.length?n[e]=r:delete n[e],this}},e.exports=t,e.exports.TinyEmitter=t}},t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={exports:{}};return e[i](r,r.exports,n),r.exports}return n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n(686)}().default},e.exports=t()},15659:function(e,t,n){const i=n(8156),r={};for(const e of Object.keys(i))r[i[e]]=e;const o={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};e.exports=o;for(const e of Object.keys(o)){if(!("channels"in o[e]))throw new Error("missing channels property: "+e);if(!("labels"in o[e]))throw new Error("missing channel labels property: "+e);if(o[e].labels.length!==o[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:n}=o[e];delete o[e].channels,delete o[e].labels,Object.defineProperty(o[e],"channels",{value:t}),Object.defineProperty(o[e],"labels",{value:n})}o.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,i=e[2]/255,r=Math.min(t,n,i),o=Math.max(t,n,i),s=o-r;let a,l;o===r?a=0:t===o?a=(n-i)/s:n===o?a=2+(i-t)/s:i===o&&(a=4+(t-n)/s),a=Math.min(60*a,360),a<0&&(a+=360);const c=(r+o)/2;return l=o===r?0:c<=.5?s/(o+r):s/(2-o-r),[a,100*l,100*c]},o.rgb.hsv=function(e){let t,n,i,r,o;const s=e[0]/255,a=e[1]/255,l=e[2]/255,c=Math.max(s,a,l),u=c-Math.min(s,a,l),d=function(e){return(c-e)/6/u+.5};return 0===u?(r=0,o=0):(o=u/c,t=d(s),n=d(a),i=d(l),s===c?r=i-n:a===c?r=1/3+t-i:l===c&&(r=2/3+n-t),r<0?r+=1:r>1&&(r-=1)),[360*r,100*o,100*c]},o.rgb.hwb=function(e){const t=e[0],n=e[1];let i=e[2];const r=o.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(n,i));return i=1-1/255*Math.max(t,Math.max(n,i)),[r,100*s,100*i]},o.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,i=e[2]/255,r=Math.min(1-t,1-n,1-i);return[100*((1-t-r)/(1-r)||0),100*((1-n-r)/(1-r)||0),100*((1-i-r)/(1-r)||0),100*r]},o.rgb.keyword=function(e){const t=r[e];if(t)return t;let n,o=1/0;for(const t of Object.keys(i)){const r=(a=i[t],((s=e)[0]-a[0])**2+(s[1]-a[1])**2+(s[2]-a[2])**2);r<o&&(o=r,n=t)}var s,a;return n},o.keyword.rgb=function(e){return i[e]},o.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,i=e[2]/255;return t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92,[100*(.4124*t+.3576*n+.1805*i),100*(.2126*t+.7152*n+.0722*i),100*(.0193*t+.1192*n+.9505*i)]},o.rgb.lab=function(e){const t=o.rgb.xyz(e);let n=t[0],i=t[1],r=t[2];return n/=95.047,i/=100,r/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,[116*i-16,500*(n-i),200*(i-r)]},o.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,i=e[2]/100;let r,o,s;if(0===n)return s=255*i,[s,s,s];r=i<.5?i*(1+n):i+n-i*n;const a=2*i-r,l=[0,0,0];for(let e=0;e<3;e++)o=t+1/3*-(e-1),o<0&&o++,o>1&&o--,s=6*o<1?a+6*(r-a)*o:2*o<1?r:3*o<2?a+(r-a)*(2/3-o)*6:a,l[e]=255*s;return l},o.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,i=e[2]/100,r=n;const o=Math.max(i,.01);return i*=2,n*=i<=1?i:2-i,r*=o<=1?o:2-o,[t,100*(0===i?2*r/(o+r):2*n/(i+n)),(i+n)/2*100]},o.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let i=e[2]/100;const r=Math.floor(t)%6,o=t-Math.floor(t),s=255*i*(1-n),a=255*i*(1-n*o),l=255*i*(1-n*(1-o));switch(i*=255,r){case 0:return[i,l,s];case 1:return[a,i,s];case 2:return[s,i,l];case 3:return[s,a,i];case 4:return[l,s,i];case 5:return[i,s,a]}},o.hsv.hsl=function(e){const t=e[0],n=e[1]/100,i=e[2]/100,r=Math.max(i,.01);let o,s;s=(2-n)*i;const a=(2-n)*r;return o=n*r,o/=a<=1?a:2-a,o=o||0,s/=2,[t,100*o,100*s]},o.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,i=e[2]/100;const r=n+i;let o;r>1&&(n/=r,i/=r);const s=Math.floor(6*t),a=1-i;o=6*t-s,1&s&&(o=1-o);const l=n+o*(a-n);let c,u,d;switch(s){default:case 6:case 0:c=a,u=l,d=n;break;case 1:c=l,u=a,d=n;break;case 2:c=n,u=a,d=l;break;case 3:c=n,u=l,d=a;break;case 4:c=l,u=n,d=a;break;case 5:c=a,u=n,d=l}return[255*c,255*u,255*d]},o.cmyk.rgb=function(e){const t=e[0]/100,n=e[1]/100,i=e[2]/100,r=e[3]/100;return[255*(1-Math.min(1,t*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r)),255*(1-Math.min(1,i*(1-r)+r))]},o.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,i=e[2]/100;let r,o,s;return r=3.2406*t+-1.5372*n+-.4986*i,o=-.9689*t+1.8758*n+.0415*i,s=.0557*t+-.204*n+1.057*i,r=r>.0031308?1.055*r**(1/2.4)-.055:12.92*r,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,r=Math.min(Math.max(0,r),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[255*r,255*o,255*s]},o.xyz.lab=function(e){let t=e[0],n=e[1],i=e[2];return t/=95.047,n/=100,i/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,[116*n-16,500*(t-n),200*(n-i)]},o.lab.xyz=function(e){let t,n,i;n=(e[0]+16)/116,t=e[1]/500+n,i=n-e[2]/200;const r=n**3,o=t**3,s=i**3;return n=r>.008856?r:(n-16/116)/7.787,t=o>.008856?o:(t-16/116)/7.787,i=s>.008856?s:(i-16/116)/7.787,t*=95.047,n*=100,i*=108.883,[t,n,i]},o.lab.lch=function(e){const t=e[0],n=e[1],i=e[2];let r;return r=360*Math.atan2(i,n)/2/Math.PI,r<0&&(r+=360),[t,Math.sqrt(n*n+i*i),r]},o.lch.lab=function(e){const t=e[0],n=e[1],i=e[2]/360*2*Math.PI;return[t,n*Math.cos(i),n*Math.sin(i)]},o.rgb.ansi16=function(e,t=null){const[n,i,r]=e;let s=null===t?o.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),0===s)return 30;let a=30+(Math.round(r/255)<<2|Math.round(i/255)<<1|Math.round(n/255));return 2===s&&(a+=60),a},o.hsv.ansi16=function(e){return o.rgb.ansi16(o.hsv.rgb(e),e[2])},o.rgb.ansi256=function(e){const t=e[0],n=e[1],i=e[2];return t===n&&n===i?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5)},o.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},o.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;return e-=16,[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},o.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},o.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let n=t[0];3===t[0].length&&(n=n.split("").map((e=>e+e)).join(""));const i=parseInt(n,16);return[i>>16&255,i>>8&255,255&i]},o.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,i=e[2]/255,r=Math.max(Math.max(t,n),i),o=Math.min(Math.min(t,n),i),s=r-o;let a,l;return a=s<1?o/(1-s):0,l=s<=0?0:r===t?(n-i)/s%6:r===n?2+(i-t)/s:4+(t-n)/s,l/=6,l%=1,[360*l,100*s,100*a]},o.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,i=n<.5?2*t*n:2*t*(1-n);let r=0;return i<1&&(r=(n-.5*i)/(1-i)),[e[0],100*i,100*r]},o.hsv.hcg=function(e){const t=e[1]/100,n=e[2]/100,i=t*n;let r=0;return i<1&&(r=(n-i)/(1-i)),[e[0],100*i,100*r]},o.hcg.rgb=function(e){const t=e[0]/360,n=e[1]/100,i=e[2]/100;if(0===n)return[255*i,255*i,255*i];const r=[0,0,0],o=t%1*6,s=o%1,a=1-s;let l=0;switch(Math.floor(o)){case 0:r[0]=1,r[1]=s,r[2]=0;break;case 1:r[0]=a,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=s;break;case 3:r[0]=0,r[1]=a,r[2]=1;break;case 4:r[0]=s,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=a}return l=(1-n)*i,[255*(n*r[0]+l),255*(n*r[1]+l),255*(n*r[2]+l)]},o.hcg.hsv=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);let i=0;return n>0&&(i=t/n),[e[0],100*i,100*n]},o.hcg.hsl=function(e){const t=e[1]/100,n=e[2]/100*(1-t)+.5*t;let i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],100*i,100*n]},o.hcg.hwb=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},o.hwb.hcg=function(e){const t=e[1]/100,n=1-e[2]/100,i=n-t;let r=0;return i<1&&(r=(n-i)/(1-i)),[e[0],100*i,100*r]},o.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},o.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},o.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},o.gray.hsl=function(e){return[0,0,e[0]]},o.gray.hsv=o.gray.hsl,o.gray.hwb=function(e){return[0,100,e[0]]},o.gray.cmyk=function(e){return[0,0,0,e[0]]},o.gray.lab=function(e){return[e[0],0,0]},o.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},o.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},10734:function(e,t,n){const i=n(15659),r=n(8507),o={};Object.keys(i).forEach((e=>{o[e]={},Object.defineProperty(o[e],"channels",{value:i[e].channels}),Object.defineProperty(o[e],"labels",{value:i[e].labels});const t=r(e);Object.keys(t).forEach((n=>{const i=t[n];o[e][n]=function(e){const t=function(...t){const n=t[0];if(null==n)return n;n.length>1&&(t=n);const i=e(t);if("object"==typeof i)for(let e=i.length,t=0;t<e;t++)i[t]=Math.round(i[t]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}(i),o[e][n].raw=function(e){const t=function(...t){const n=t[0];return null==n?n:(n.length>1&&(t=n),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(i)}))})),e.exports=o},8507:function(e,t,n){const i=n(15659);function r(e,t){return function(n){return t(e(n))}}function o(e,t){const n=[t[e].parent,e];let o=i[t[e].parent][e],s=t[e].parent;for(;t[s].parent;)n.unshift(t[s].parent),o=r(i[t[s].parent][s],o),s=t[s].parent;return o.conversion=n,o}e.exports=function(e){const t=function(e){const t=function(){const e={},t=Object.keys(i);for(let n=t.length,i=0;i<n;i++)e[t[i]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;){const e=n.pop(),r=Object.keys(i[e]);for(let i=r.length,o=0;o<i;o++){const i=r[o],s=t[i];-1===s.distance&&(s.distance=t[e].distance+1,s.parent=e,n.unshift(i))}}return t}(e),n={},r=Object.keys(t);for(let e=r.length,i=0;i<e;i++){const e=r[i];null!==t[e].parent&&(n[e]=o(e,t))}return n}},8156:function(e){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},17965:function(e,t,n){"use strict";var i=n(16426),r={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,o,s,a,l,c,u=!1;t||(t={}),n=t.debug||!1;try{if(s=i(),a=document.createRange(),l=document.getSelection(),(c=document.createElement("span")).textContent=e,c.ariaHidden="true",c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",(function(i){if(i.stopPropagation(),t.format)if(i.preventDefault(),void 0===i.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=r[t.format]||r.default;window.clipboardData.setData(o,e)}else i.clipboardData.clearData(),i.clipboardData.setData(t.format,e);t.onCopy&&(i.preventDefault(),t.onCopy(i.clipboardData))})),document.body.appendChild(c),a.selectNodeContents(c),l.addRange(a),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(i){n&&console.error("unable to copy using execCommand: ",i),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(i){n&&console.error("unable to copy using clipboardData: ",i),n&&console.error("falling back to prompt"),o=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(o,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(a):l.removeAllRanges()),c&&document.body.removeChild(c),s()}return u}},17334:function(e){function t(e,t=100,n={}){if("function"!=typeof e)throw new TypeError(`Expected the first parameter to be a function, got \`${typeof e}\`.`);if(t<0)throw new RangeError("`wait` must not be negative.");const{immediate:i}="boolean"==typeof n?{immediate:n}:n;let r,o,s,a,l;function c(){const n=Date.now()-a;if(n<t&&n>=0)s=setTimeout(c,t-n);else if(s=void 0,!i){const t=r,n=o;r=void 0,o=void 0,l=e.apply(t,n)}}const u=function(...n){if(r&&this!==r)throw new Error("Debounced method called with different contexts.");r=this,o=n,a=Date.now();const u=i&&!s;if(s||(s=setTimeout(c,t)),u){const t=r,n=o;r=void 0,o=void 0,l=e.apply(t,n)}return l};return u.clear=()=>{s&&(clearTimeout(s),s=void 0)},u.flush=()=>{if(!s)return;const t=r,n=o;r=void 0,o=void 0,l=e.apply(t,n),clearTimeout(s),s=void 0},u}e.exports.debounce=t,e.exports=t},14744:function(e){"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?a((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function r(e,t,n){return e.concat(t).map((function(e){return i(e,n)}))}function o(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function s(e,t){try{return t in e}catch(e){return!1}}function a(e,n,l){(l=l||{}).arrayMerge=l.arrayMerge||r,l.isMergeableObject=l.isMergeableObject||t,l.cloneUnlessOtherwiseSpecified=i;var c=Array.isArray(n);return c===Array.isArray(e)?c?l.arrayMerge(e,n,l):function(e,t,n){var r={};return n.isMergeableObject(e)&&o(e).forEach((function(t){r[t]=i(e[t],n)})),o(t).forEach((function(o){(function(e,t){return s(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(s(e,o)&&n.isMergeableObject(t[o])?r[o]=function(e,t){if(!t.customMerge)return a;var n=t.customMerge(e);return"function"==typeof n?n:a}(o,n)(e[o],t[o],n):r[o]=i(t[o],n))})),r}(e,n,l):i(n,l)}a.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return a(e,n,t)}),{})};var l=a;e.exports=l},39786:function(e,t,n){var i,r;!function(o,s){"use strict";void 0===(r="function"==typeof(i=s)?i.call(t,n,t,e):i)||(e.exports=r)}(window,(function(){"use strict";var e=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0;n<t.length;n++){var i=t[n]+"MatchesSelector";if(e[i])return i}}();return function(t,n){return t[e](n)}}))},94460:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attributeNames=t.elementNames=void 0,t.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map((function(e){return[e.toLowerCase(),e]}))),t.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((function(e){return[e.toLowerCase(),e]})))},53806:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.render=void 0;var a=s(n(45413)),l=n(72730),c=n(94460),u=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function d(e){return e.replace(/"/g,"&quot;")}var h=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function p(e,t){void 0===t&&(t={});for(var n=("length"in e?e:[e]),i="",r=0;r<n.length;r++)i+=f(n[r],t);return i}function f(e,t){switch(e.type){case a.Root:return p(e.children,t);case a.Doctype:case a.Directive:return"<".concat(e.data,">");case a.Comment:return"\x3c!--".concat(e.data,"--\x3e");case a.CDATA:return function(e){return"<![CDATA[".concat(e.children[0].data,"]]>")}(e);case a.Script:case a.Style:case a.Tag:return function(e,t){var n;"foreign"===t.xmlMode&&(e.name=null!==(n=c.elementNames.get(e.name))&&void 0!==n?n:e.name,e.parent&&m.has(e.parent.name)&&(t=i(i({},t),{xmlMode:!1}))),!t.xmlMode&&g.has(e.name)&&(t=i(i({},t),{xmlMode:"foreign"}));var r="<".concat(e.name),o=function(e,t){var n;if(e){var i=!1===(null!==(n=t.encodeEntities)&&void 0!==n?n:t.decodeEntities)?d:t.xmlMode||"utf8"!==t.encodeEntities?l.encodeXML:l.escapeAttribute;return Object.keys(e).map((function(n){var r,o,s=null!==(r=e[n])&&void 0!==r?r:"";return"foreign"===t.xmlMode&&(n=null!==(o=c.attributeNames.get(n))&&void 0!==o?o:n),t.emptyAttrs||t.xmlMode||""!==s?"".concat(n,'="').concat(i(s),'"'):n})).join(" ")}}(e.attribs,t);return o&&(r+=" ".concat(o)),0===e.children.length&&(t.xmlMode?!1!==t.selfClosingTags:t.selfClosingTags&&h.has(e.name))?(t.xmlMode||(r+=" "),r+="/>"):(r+=">",e.children.length>0&&(r+=p(e.children,t)),!t.xmlMode&&h.has(e.name)||(r+="</".concat(e.name,">"))),r}(e,t);case a.Text:return function(e,t){var n,i=e.data||"";return!1===(null!==(n=t.encodeEntities)&&void 0!==n?n:t.decodeEntities)||!t.xmlMode&&e.parent&&u.has(e.parent.name)||(i=t.xmlMode||"utf8"!==t.encodeEntities?(0,l.encodeXML)(i):(0,l.escapeText)(i)),i}(e,t)}}t.render=p,t.default=p;var m=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),g=new Set(["svg","math"])},45413:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0,function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(n=t.ElementType||(t.ElementType={})),t.isTag=function(e){return e.type===n.Tag||e.type===n.Script||e.type===n.Style},t.Root=n.Root,t.Text=n.Text,t.Directive=n.Directive,t.Comment=n.Comment,t.Script=n.Script,t.Style=n.Style,t.Tag=n.Tag,t.CDATA=n.CDATA,t.Doctype=n.Doctype},41141:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var o=n(45413),s=n(36957);r(n(36957),t);var a={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},l=function(){function e(e,t,n){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof t&&(n=t,t=a),"object"==typeof e&&(t=e,e=void 0),this.callback=null!=e?e:null,this.options=null!=t?t:a,this.elementCB=null!=n?n:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var n=this.options.xmlMode?o.ElementType.Tag:void 0,i=new s.Element(e,t,void 0,n);this.addNode(i),this.tagStack.push(i)},e.prototype.ontext=function(e){var t=this.lastNode;if(t&&t.type===o.ElementType.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{var n=new s.Text(e);this.addNode(n),this.lastNode=n}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===o.ElementType.Comment)this.lastNode.data+=e;else{var t=new s.Comment(e);this.addNode(t),this.lastNode=t}},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new s.Text(""),t=new s.CDATA([e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var n=new s.ProcessingInstruction(e,t);this.addNode(n)},e.prototype.handleCallback=function(e){if("function"==typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],n=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),n&&(e.prev=n,n.next=e),e.parent=t,this.lastNode=null},e}();t.DomHandler=l,t.default=l},36957:function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNode=t.hasChildren=t.isDocument=t.isDirective=t.isComment=t.isText=t.isCDATA=t.isTag=t.Element=t.Document=t.CDATA=t.NodeWithChildren=t.ProcessingInstruction=t.Comment=t.Text=t.DataNode=t.Node=void 0;var s=n(45413),a=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),k(this,e)},e}();t.Node=a;var l=function(e){function t(t){var n=e.call(this)||this;return n.data=t,n}return r(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(a);t.DataNode=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.Text,t}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(l);t.Text=c;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.Comment,t}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(l);t.Comment=u;var d=function(e){function t(t,n){var i=e.call(this,n)||this;return i.name=t,i.type=s.ElementType.Directive,i}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(l);t.ProcessingInstruction=d;var h=function(e){function t(t){var n=e.call(this)||this;return n.children=t,n}return r(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(a);t.NodeWithChildren=h;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.CDATA,t}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(h);t.CDATA=p;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.Root,t}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(h);t.Document=f;var m=function(e){function t(t,n,i,r){void 0===i&&(i=[]),void 0===r&&(r="script"===t?s.ElementType.Script:"style"===t?s.ElementType.Style:s.ElementType.Tag);var o=e.call(this,i)||this;return o.name=t,o.attribs=n,o.type=r,o}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map((function(t){var n,i;return{name:t,value:e.attribs[t],namespace:null===(n=e["x-attribsNamespace"])||void 0===n?void 0:n[t],prefix:null===(i=e["x-attribsPrefix"])||void 0===i?void 0:i[t]}}))},enumerable:!1,configurable:!0}),t}(h);function g(e){return(0,s.isTag)(e)}function b(e){return e.type===s.ElementType.CDATA}function y(e){return e.type===s.ElementType.Text}function v(e){return e.type===s.ElementType.Comment}function _(e){return e.type===s.ElementType.Directive}function w(e){return e.type===s.ElementType.Root}function k(e,t){var n;if(void 0===t&&(t=!1),y(e))n=new c(e.data);else if(v(e))n=new u(e.data);else if(g(e)){var i=t?C(e.children):[],r=new m(e.name,o({},e.attribs),i);i.forEach((function(e){return e.parent=r})),null!=e.namespace&&(r.namespace=e.namespace),e["x-attribsNamespace"]&&(r["x-attribsNamespace"]=o({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(r["x-attribsPrefix"]=o({},e["x-attribsPrefix"])),n=r}else if(b(e)){i=t?C(e.children):[];var s=new p(i);i.forEach((function(e){return e.parent=s})),n=s}else if(w(e)){i=t?C(e.children):[];var a=new f(i);i.forEach((function(e){return e.parent=a})),e["x-mode"]&&(a["x-mode"]=e["x-mode"]),n=a}else{if(!_(e))throw new Error("Not implemented yet: ".concat(e.type));var l=new d(e.name,e.data);null!=e["x-name"]&&(l["x-name"]=e["x-name"],l["x-publicId"]=e["x-publicId"],l["x-systemId"]=e["x-systemId"]),n=l}return n.startIndex=e.startIndex,n.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function C(e){for(var t=e.map((function(e){return k(e,!0)})),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}t.Element=m,t.isTag=g,t.isCDATA=b,t.isText=y,t.isComment=v,t.isDirective=_,t.isDocument=w,t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},t.cloneNode=k},54437:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFeed=void 0;var i=n(76037),r=n(43209);t.getFeed=function(e){var t=l(d,e);return t?"feed"===t.name?function(e){var t,n=e.children,i={type:"atom",items:(0,r.getElementsByTagName)("entry",n).map((function(e){var t,n=e.children,i={media:a(n)};u(i,"id","id",n),u(i,"title","title",n);var r=null===(t=l("link",n))||void 0===t?void 0:t.attribs.href;r&&(i.link=r);var o=c("summary",n)||c("content",n);o&&(i.description=o);var s=c("updated",n);return s&&(i.pubDate=new Date(s)),i}))};u(i,"id","id",n),u(i,"title","title",n);var o=null===(t=l("link",n))||void 0===t?void 0:t.attribs.href;o&&(i.link=o),u(i,"description","subtitle",n);var s=c("updated",n);return s&&(i.updated=new Date(s)),u(i,"author","email",n,!0),i}(t):function(e){var t,n,i=null!==(n=null===(t=l("channel",e.children))||void 0===t?void 0:t.children)&&void 0!==n?n:[],o={type:e.name.substr(0,3),id:"",items:(0,r.getElementsByTagName)("item",e.children).map((function(e){var t=e.children,n={media:a(t)};u(n,"id","guid",t),u(n,"title","title",t),u(n,"link","link",t),u(n,"description","description",t);var i=c("pubDate",t)||c("dc:date",t);return i&&(n.pubDate=new Date(i)),n}))};u(o,"title","title",i),u(o,"link","link",i),u(o,"description","description",i);var s=c("lastBuildDate",i);return s&&(o.updated=new Date(s)),u(o,"author","managingEditor",i,!0),o}(t):null};var o=["url","type","lang"],s=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function a(e){return(0,r.getElementsByTagName)("media:content",e).map((function(e){for(var t=e.attribs,n={medium:t.medium,isDefault:!!t.isDefault},i=0,r=o;i<r.length;i++)t[c=r[i]]&&(n[c]=t[c]);for(var a=0,l=s;a<l.length;a++){var c;t[c=l[a]]&&(n[c]=parseInt(t[c],10))}return t.expression&&(n.expression=t.expression),n}))}function l(e,t){return(0,r.getElementsByTagName)(e,t,!0,1)[0]}function c(e,t,n){return void 0===n&&(n=!1),(0,i.textContent)((0,r.getElementsByTagName)(e,t,n,1)).trim()}function u(e,t,n,i,r){void 0===r&&(r=!1);var o=c(n,i,r);o&&(e[t]=o)}function d(e){return"rss"===e||"feed"===e||"rdf:RDF"===e}},45397:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniqueSort=t.compareDocumentPosition=t.DocumentPosition=t.removeSubsets=void 0;var i,r=n(41141);function o(e,t){var n=[],o=[];if(e===t)return 0;for(var s=(0,r.hasChildren)(e)?e:e.parent;s;)n.unshift(s),s=s.parent;for(s=(0,r.hasChildren)(t)?t:t.parent;s;)o.unshift(s),s=s.parent;for(var a=Math.min(n.length,o.length),l=0;l<a&&n[l]===o[l];)l++;if(0===l)return i.DISCONNECTED;var c=n[l-1],u=c.children,d=n[l],h=o[l];return u.indexOf(d)>u.indexOf(h)?c===t?i.FOLLOWING|i.CONTAINED_BY:i.FOLLOWING:c===e?i.PRECEDING|i.CONTAINS:i.PRECEDING}t.removeSubsets=function(e){for(var t=e.length;--t>=0;){var n=e[t];if(t>0&&e.lastIndexOf(n,t-1)>=0)e.splice(t,1);else for(var i=n.parent;i;i=i.parent)if(e.includes(i)){e.splice(t,1);break}}return e},function(e){e[e.DISCONNECTED=1]="DISCONNECTED",e[e.PRECEDING=2]="PRECEDING",e[e.FOLLOWING=4]="FOLLOWING",e[e.CONTAINS=8]="CONTAINS",e[e.CONTAINED_BY=16]="CONTAINED_BY"}(i=t.DocumentPosition||(t.DocumentPosition={})),t.compareDocumentPosition=o,t.uniqueSort=function(e){return(e=e.filter((function(e,t,n){return!n.includes(e,t+1)}))).sort((function(e,t){var n=o(e,t);return n&i.PRECEDING?-1:n&i.FOLLOWING?1:0})),e}},98888:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.hasChildren=t.isDocument=t.isComment=t.isText=t.isCDATA=t.isTag=void 0,r(n(76037),t),r(n(8938),t),r(n(73403),t),r(n(90718),t),r(n(43209),t),r(n(45397),t),r(n(54437),t);var o=n(41141);Object.defineProperty(t,"isTag",{enumerable:!0,get:function(){return o.isTag}}),Object.defineProperty(t,"isCDATA",{enumerable:!0,get:function(){return o.isCDATA}}),Object.defineProperty(t,"isText",{enumerable:!0,get:function(){return o.isText}}),Object.defineProperty(t,"isComment",{enumerable:!0,get:function(){return o.isComment}}),Object.defineProperty(t,"isDocument",{enumerable:!0,get:function(){return o.isDocument}}),Object.defineProperty(t,"hasChildren",{enumerable:!0,get:function(){return o.hasChildren}})},43209:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getElementsByTagType=t.getElementsByTagName=t.getElementById=t.getElements=t.testElement=void 0;var i=n(41141),r=n(90718),o={tag_name:function(e){return"function"==typeof e?function(t){return(0,i.isTag)(t)&&e(t.name)}:"*"===e?i.isTag:function(t){return(0,i.isTag)(t)&&t.name===e}},tag_type:function(e){return"function"==typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"==typeof e?function(t){return(0,i.isText)(t)&&e(t.data)}:function(t){return(0,i.isText)(t)&&t.data===e}}};function s(e,t){return"function"==typeof t?function(n){return(0,i.isTag)(n)&&t(n.attribs[e])}:function(n){return(0,i.isTag)(n)&&n.attribs[e]===t}}function a(e,t){return function(n){return e(n)||t(n)}}function l(e){var t=Object.keys(e).map((function(t){var n=e[t];return Object.prototype.hasOwnProperty.call(o,t)?o[t](n):s(t,n)}));return 0===t.length?null:t.reduce(a)}t.testElement=function(e,t){var n=l(e);return!n||n(t)},t.getElements=function(e,t,n,i){void 0===i&&(i=1/0);var o=l(e);return o?(0,r.filter)(o,t,n,i):[]},t.getElementById=function(e,t,n){return void 0===n&&(n=!0),Array.isArray(t)||(t=[t]),(0,r.findOne)(s("id",e),t,n)},t.getElementsByTagName=function(e,t,n,i){return void 0===n&&(n=!0),void 0===i&&(i=1/0),(0,r.filter)(o.tag_name(e),t,n,i)},t.getElementsByTagType=function(e,t,n,i){return void 0===n&&(n=!0),void 0===i&&(i=1/0),(0,r.filter)(o.tag_type(e),t,n,i)}},73403:function(e,t){"use strict";function n(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children,n=t.lastIndexOf(e);n>=0&&t.splice(n,1)}e.next=null,e.prev=null,e.parent=null}Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=t.prependChild=t.append=t.appendChild=t.replaceElement=t.removeElement=void 0,t.removeElement=n,t.replaceElement=function(e,t){var n=t.prev=e.prev;n&&(n.next=t);var i=t.next=e.next;i&&(i.prev=t);var r=t.parent=e.parent;if(r){var o=r.children;o[o.lastIndexOf(e)]=t,e.parent=null}},t.appendChild=function(e,t){if(n(t),t.next=null,t.parent=e,e.children.push(t)>1){var i=e.children[e.children.length-2];i.next=t,t.prev=i}else t.prev=null},t.append=function(e,t){n(t);var i=e.parent,r=e.next;if(t.next=r,t.prev=e,e.next=t,t.parent=i,r){if(r.prev=t,i){var o=i.children;o.splice(o.lastIndexOf(r),0,t)}}else i&&i.children.push(t)},t.prependChild=function(e,t){if(n(t),t.parent=e,t.prev=null,1!==e.children.unshift(t)){var i=e.children[1];i.prev=t,t.next=i}else t.next=null},t.prepend=function(e,t){n(t);var i=e.parent;if(i){var r=i.children;r.splice(r.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=i,t.prev=e.prev,t.next=e,e.prev=t}},90718:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findAll=t.existsOne=t.findOne=t.findOneChild=t.find=t.filter=void 0;var i=n(41141);function r(e,t,n,r){for(var o=[],s=[t],a=[0];;)if(a[0]>=s[0].length){if(1===a.length)return o;s.shift(),a.shift()}else{var l=s[0][a[0]++];if(e(l)&&(o.push(l),--r<=0))return o;n&&(0,i.hasChildren)(l)&&l.children.length>0&&(a.unshift(0),s.unshift(l.children))}}t.filter=function(e,t,n,i){return void 0===n&&(n=!0),void 0===i&&(i=1/0),r(e,Array.isArray(t)?t:[t],n,i)},t.find=r,t.findOneChild=function(e,t){return t.find(e)},t.findOne=function e(t,n,r){void 0===r&&(r=!0);for(var o=null,s=0;s<n.length&&!o;s++){var a=n[s];(0,i.isTag)(a)&&(t(a)?o=a:r&&a.children.length>0&&(o=e(t,a.children,!0)))}return o},t.existsOne=function e(t,n){return n.some((function(n){return(0,i.isTag)(n)&&(t(n)||e(t,n.children))}))},t.findAll=function(e,t){for(var n=[],r=[t],o=[0];;)if(o[0]>=r[0].length){if(1===r.length)return n;r.shift(),o.shift()}else{var s=r[0][o[0]++];(0,i.isTag)(s)&&(e(s)&&n.push(s),s.children.length>0&&(o.unshift(0),r.unshift(s.children)))}}},76037:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.innerText=t.textContent=t.getText=t.getInnerHTML=t.getOuterHTML=void 0;var r=n(41141),o=i(n(53806)),s=n(45413);function a(e,t){return(0,o.default)(e,t)}t.getOuterHTML=a,t.getInnerHTML=function(e,t){return(0,r.hasChildren)(e)?e.children.map((function(e){return a(e,t)})).join(""):""},t.getText=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,r.isTag)(t)?"br"===t.name?"\n":e(t.children):(0,r.isCDATA)(t)?e(t.children):(0,r.isText)(t)?t.data:""},t.textContent=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,r.hasChildren)(t)&&!(0,r.isComment)(t)?e(t.children):(0,r.isText)(t)?t.data:""},t.innerText=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,r.hasChildren)(t)&&(t.type===s.ElementType.Tag||(0,r.isCDATA)(t))?e(t.children):(0,r.isText)(t)?t.data:""}},8938:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prevElementSibling=t.nextElementSibling=t.getName=t.hasAttrib=t.getAttributeValue=t.getSiblings=t.getParent=t.getChildren=void 0;var i=n(41141);function r(e){return(0,i.hasChildren)(e)?e.children:[]}function o(e){return e.parent||null}t.getChildren=r,t.getParent=o,t.getSiblings=function(e){var t=o(e);if(null!=t)return r(t);for(var n=[e],i=e.prev,s=e.next;null!=i;)n.unshift(i),i=i.prev;for(;null!=s;)n.push(s),s=s.next;return n},t.getAttributeValue=function(e,t){var n;return null===(n=e.attribs)||void 0===n?void 0:n[t]},t.hasAttrib=function(e,t){return null!=e.attribs&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&null!=e.attribs[t]},t.getName=function(e){return e.name},t.nextElementSibling=function(e){for(var t=e.next;null!==t&&!(0,i.isTag)(t);)t=t.next;return t},t.prevElementSibling=function(e){for(var t=e.prev;null!==t&&!(0,i.isTag)(t);)t=t.prev;return t}},79878:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXML=t.decodeHTMLStrict=t.decodeHTMLAttribute=t.decodeHTML=t.determineBranch=t.EntityDecoder=t.DecodingMode=t.BinTrieFlags=t.fromCodePoint=t.replaceCodePoint=t.decodeCodePoint=t.xmlDecodeTree=t.htmlDecodeTree=void 0;var a=s(n(13603));t.htmlDecodeTree=a.default;var l=s(n(22517));t.xmlDecodeTree=l.default;var c=o(n(55096));t.decodeCodePoint=c.default;var u,d,h,p,f=n(55096);function m(e){return e>=u.ZERO&&e<=u.NINE}Object.defineProperty(t,"replaceCodePoint",{enumerable:!0,get:function(){return f.replaceCodePoint}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return f.fromCodePoint}}),function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"}(u||(u={})),function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"}(d=t.BinTrieFlags||(t.BinTrieFlags={})),function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"}(h||(h={})),function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"}(p=t.DecodingMode||(t.DecodingMode={}));var g=function(){function e(e,t,n){this.decodeTree=e,this.emitCodePoint=t,this.errors=n,this.state=h.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=p.Strict}return e.prototype.startEntity=function(e){this.decodeMode=e,this.state=h.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},e.prototype.write=function(e,t){switch(this.state){case h.EntityStart:return e.charCodeAt(t)===u.NUM?(this.state=h.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=h.NamedEntity,this.stateNamedEntity(e,t));case h.NumericStart:return this.stateNumericStart(e,t);case h.NumericDecimal:return this.stateNumericDecimal(e,t);case h.NumericHex:return this.stateNumericHex(e,t);case h.NamedEntity:return this.stateNamedEntity(e,t)}},e.prototype.stateNumericStart=function(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===u.LOWER_X?(this.state=h.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=h.NumericDecimal,this.stateNumericDecimal(e,t))},e.prototype.addToNumericResult=function(e,t,n,i){if(t!==n){var r=n-t;this.result=this.result*Math.pow(i,r)+parseInt(e.substr(t,r),i),this.consumed+=r}},e.prototype.stateNumericHex=function(e,t){for(var n,i=t;t<e.length;){var r=e.charCodeAt(t);if(!(m(r)||(n=r,n>=u.UPPER_A&&n<=u.UPPER_F||n>=u.LOWER_A&&n<=u.LOWER_F)))return this.addToNumericResult(e,i,t,16),this.emitNumericEntity(r,3);t+=1}return this.addToNumericResult(e,i,t,16),-1},e.prototype.stateNumericDecimal=function(e,t){for(var n=t;t<e.length;){var i=e.charCodeAt(t);if(!m(i))return this.addToNumericResult(e,n,t,10),this.emitNumericEntity(i,2);t+=1}return this.addToNumericResult(e,n,t,10),-1},e.prototype.emitNumericEntity=function(e,t){var n;if(this.consumed<=t)return null===(n=this.errors)||void 0===n||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===u.SEMI)this.consumed+=1;else if(this.decodeMode===p.Strict)return 0;return this.emitCodePoint((0,c.replaceCodePoint)(this.result),this.consumed),this.errors&&(e!==u.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},e.prototype.stateNamedEntity=function(e,t){for(var n=this.decodeTree,i=n[this.treeIndex],r=(i&d.VALUE_LENGTH)>>14;t<e.length;t++,this.excess++){var o=e.charCodeAt(t);if(this.treeIndex=y(n,i,this.treeIndex+Math.max(1,r),o),this.treeIndex<0)return 0===this.result||this.decodeMode===p.Attribute&&(0===r||((s=o)===u.EQUALS||function(e){return e>=u.UPPER_A&&e<=u.UPPER_Z||e>=u.LOWER_A&&e<=u.LOWER_Z||m(e)}(s)))?0:this.emitNotTerminatedNamedEntity();if(0!=(r=((i=n[this.treeIndex])&d.VALUE_LENGTH)>>14)){if(o===u.SEMI)return this.emitNamedEntityData(this.treeIndex,r,this.consumed+this.excess);this.decodeMode!==p.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}var s;return-1},e.prototype.emitNotTerminatedNamedEntity=function(){var e,t=this.result,n=(this.decodeTree[t]&d.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,n,this.consumed),null===(e=this.errors)||void 0===e||e.missingSemicolonAfterCharacterReference(),this.consumed},e.prototype.emitNamedEntityData=function(e,t,n){var i=this.decodeTree;return this.emitCodePoint(1===t?i[e]&~d.VALUE_LENGTH:i[e+1],n),3===t&&this.emitCodePoint(i[e+2],n),n},e.prototype.end=function(){var e;switch(this.state){case h.NamedEntity:return 0===this.result||this.decodeMode===p.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case h.NumericDecimal:return this.emitNumericEntity(0,2);case h.NumericHex:return this.emitNumericEntity(0,3);case h.NumericStart:return null===(e=this.errors)||void 0===e||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case h.EntityStart:return 0}},e}();function b(e){var t="",n=new g(e,(function(e){return t+=(0,c.fromCodePoint)(e)}));return function(e,i){for(var r=0,o=0;(o=e.indexOf("&",o))>=0;){t+=e.slice(r,o),n.startEntity(i);var s=n.write(e,o+1);if(s<0){r=o+n.end();break}r=o+s,o=0===s?r+1:r}var a=t+e.slice(r);return t="",a}}function y(e,t,n,i){var r=(t&d.BRANCH_LENGTH)>>7,o=t&d.JUMP_TABLE;if(0===r)return 0!==o&&i===o?n:-1;if(o){var s=i-o;return s<0||s>=r?-1:e[n+s]-1}for(var a=n,l=a+r-1;a<=l;){var c=a+l>>>1,u=e[c];if(u<i)a=c+1;else{if(!(u>i))return e[c+r];l=c-1}}return-1}t.EntityDecoder=g,t.determineBranch=y;var v=b(a.default),_=b(l.default);t.decodeHTML=function(e,t){return void 0===t&&(t=p.Legacy),v(e,t)},t.decodeHTMLAttribute=function(e){return v(e,p.Attribute)},t.decodeHTMLStrict=function(e){return v(e,p.Strict)},t.decodeXML=function(e){return _(e,p.Strict)}},55096:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.replaceCodePoint=t.fromCodePoint=void 0;var i=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function r(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=i.get(e))&&void 0!==t?t:e}t.fromCodePoint=null!==(n=String.fromCodePoint)&&void 0!==n?n:function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+String.fromCharCode(e)},t.replaceCodePoint=r,t.default=function(e){return(0,t.fromCodePoint)(r(e))}},71818:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.encodeNonAsciiHTML=t.encodeHTML=void 0;var r=i(n(35504)),o=n(5987),s=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function a(e,t){for(var n,i="",s=0;null!==(n=e.exec(t));){var a=n.index;i+=t.substring(s,a);var l=t.charCodeAt(a),c=r.default.get(l);if("object"==typeof c){if(a+1<t.length){var u=t.charCodeAt(a+1),d="number"==typeof c.n?c.n===u?c.o:void 0:c.n.get(u);if(void 0!==d){i+=d,s=e.lastIndex+=1;continue}}c=c.v}if(void 0!==c)i+=c,s=a+1;else{var h=(0,o.getCodePoint)(t,a);i+="&#x".concat(h.toString(16),";"),s=e.lastIndex+=Number(h!==l)}}return i+t.substr(s)}t.encodeHTML=function(e){return a(s,e)},t.encodeNonAsciiHTML=function(e){return a(o.xmlReplacer,e)}},5987:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.getCodePoint=t.xmlReplacer=void 0,t.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var n=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);function i(e){for(var i,r="",o=0;null!==(i=t.xmlReplacer.exec(e));){var s=i.index,a=e.charCodeAt(s),l=n.get(a);void 0!==l?(r+=e.substring(o,s)+l,o=s+1):(r+="".concat(e.substring(o,s),"&#x").concat((0,t.getCodePoint)(e,s).toString(16),";"),o=t.xmlReplacer.lastIndex+=Number(55296==(64512&a)))}return r+e.substr(o)}function r(e,t){return function(n){for(var i,r=0,o="";i=e.exec(n);)r!==i.index&&(o+=n.substring(r,i.index)),o+=t.get(i[0].charCodeAt(0)),r=i.index+1;return o+n.substring(r)}}t.getCodePoint=null!=String.prototype.codePointAt?function(e,t){return e.codePointAt(t)}:function(e,t){return 55296==(64512&e.charCodeAt(t))?1024*(e.charCodeAt(t)-55296)+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t)},t.encodeXML=i,t.escape=i,t.escapeUTF8=r(/[&<>'"]/g,n),t.escapeAttribute=r(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),t.escapeText=r(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))},13603:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map((function(e){return e.charCodeAt(0)})))},22517:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=new Uint16Array("aglq\t\0\0p;os;t;t;uot;".split("").map((function(e){return e.charCodeAt(0)})))},35504:function(e,t){"use strict";function n(e){for(var t=1;t<e.length;t++)e[t][0]+=e[t-1][0]+1;return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=new Map(n([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(n([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(n([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(n([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]))},72730:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLAttribute=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.DecodingMode=t.EntityDecoder=t.encodeHTML5=t.encodeHTML4=t.encodeNonAsciiHTML=t.encodeHTML=t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.encode=t.decodeStrict=t.decode=t.EncodingMode=t.EntityLevel=void 0;var i,r,o=n(79878),s=n(71818),a=n(5987);function l(e,t){if(void 0===t&&(t=i.XML),("number"==typeof t?t:t.level)===i.HTML){var n="object"==typeof t?t.mode:void 0;return(0,o.decodeHTML)(e,n)}return(0,o.decodeXML)(e)}!function(e){e[e.XML=0]="XML",e[e.HTML=1]="HTML"}(i=t.EntityLevel||(t.EntityLevel={})),function(e){e[e.UTF8=0]="UTF8",e[e.ASCII=1]="ASCII",e[e.Extensive=2]="Extensive",e[e.Attribute=3]="Attribute",e[e.Text=4]="Text"}(r=t.EncodingMode||(t.EncodingMode={})),t.decode=l,t.decodeStrict=function(e,t){var n;void 0===t&&(t=i.XML);var r="number"==typeof t?{level:t}:t;return null!==(n=r.mode)&&void 0!==n||(r.mode=o.DecodingMode.Strict),l(e,r)},t.encode=function(e,t){void 0===t&&(t=i.XML);var n="number"==typeof t?{level:t}:t;return n.mode===r.UTF8?(0,a.escapeUTF8)(e):n.mode===r.Attribute?(0,a.escapeAttribute)(e):n.mode===r.Text?(0,a.escapeText)(e):n.level===i.HTML?n.mode===r.ASCII?(0,s.encodeNonAsciiHTML)(e):(0,s.encodeHTML)(e):(0,a.encodeXML)(e)};var c=n(5987);Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return c.encodeXML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return c.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return c.escapeUTF8}}),Object.defineProperty(t,"escapeAttribute",{enumerable:!0,get:function(){return c.escapeAttribute}}),Object.defineProperty(t,"escapeText",{enumerable:!0,get:function(){return c.escapeText}});var u=n(71818);Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return u.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return u.encodeNonAsciiHTML}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return u.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return u.encodeHTML}});var d=n(79878);Object.defineProperty(t,"EntityDecoder",{enumerable:!0,get:function(){return d.EntityDecoder}}),Object.defineProperty(t,"DecodingMode",{enumerable:!0,get:function(){return d.DecodingMode}}),Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return d.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTMLAttribute",{enumerable:!0,get:function(){return d.decodeHTMLAttribute}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return d.decodeXML}})},32137:function(e,t,n){var i,r;"undefined"!=typeof window&&window,void 0===(r="function"==typeof(i=function(){"use strict";function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},i=n[e]=n[e]||[];return-1==i.indexOf(t)&&i.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=n.indexOf(t);return-1!=i&&n.splice(i,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var i=this._onceEvents&&this._onceEvents[e],r=0;r<n.length;r++){var o=n[r];i&&i[o]&&(this.off(e,o),delete i[o]),o.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e})?i.call(t,n,t,e):i)||(e.exports=r)},32017:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,r,o;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=i;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=i;0!=r--;){var s=o[r];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n}},977:function(e,t,n){var i,r;!function(o,s){i=[n(39786)],r=function(e){return function(e,t){"use strict";var n={extend:function(e,t){for(var n in t)e[n]=t[n];return e},modulo:function(e,t){return(e%t+t)%t}},i=Array.prototype.slice;n.makeArray=function(e){return Array.isArray(e)?e:null==e?[]:"object"==typeof e&&"number"==typeof e.length?i.call(e):[e]},n.removeFrom=function(e,t){var n=e.indexOf(t);-1!=n&&e.splice(n,1)},n.getParent=function(e,n){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,t(e,n))return e},n.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},n.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.filterFindElements=function(e,i){e=n.makeArray(e);var r=[];return e.forEach((function(e){if(e instanceof HTMLElement)if(i){t(e,i)&&r.push(e);for(var n=e.querySelectorAll(i),o=0;o<n.length;o++)r.push(n[o])}else r.push(e)})),r},n.debounceMethod=function(e,t,n){n=n||100;var i=e.prototype[t],r=t+"Timeout";e.prototype[t]=function(){var e=this[r];clearTimeout(e);var t=arguments,o=this;this[r]=setTimeout((function(){i.apply(o,t),delete o[r]}),n)}},n.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},n.toDashed=function(e){return e.replace(/(.)([A-Z])/g,(function(e,t,n){return t+"-"+n})).toLowerCase()};var r=e.console;return n.htmlInit=function(t,i){n.docReady((function(){var o=n.toDashed(i),s="data-"+o,a=document.querySelectorAll("["+s+"]"),l=document.querySelectorAll(".js-"+o),c=n.makeArray(a).concat(n.makeArray(l)),u=s+"-options",d=e.jQuery;c.forEach((function(e){var n,o=e.getAttribute(s)||e.getAttribute(u);try{n=o&&JSON.parse(o)}catch(t){return void(r&&r.error("Error parsing "+s+" on "+e.className+": "+t))}var a=new t(e,n);d&&d.data(e,i,a)}))}))},n}(o,e)}.apply(t,i),void 0===r||(e.exports=r)}(window)},47593:function(e){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString;e.exports=function(e,i,r){if("[object Function]"!==n.call(i))throw new TypeError("iterator must be a function");var o=e.length;if(o===+o)for(var s=0;s<o;s++)i.call(r,e[s],s,e);else for(var a in e)t.call(e,a)&&i.call(r,e[a],a,e)}},21485:function(e,t,n){var i,r;window,void 0===(r="function"==typeof(i=function(){"use strict";function e(e){var t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}var t="undefined"==typeof console?function(){}:function(e){console.error(e)},n=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],i=n.length;function r(e){var n=getComputedStyle(e);return n||t("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),n}var o,s=!1;function a(t){if(function(){if(!s){s=!0;var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(t);var i=r(t);o=200==Math.round(e(i.width)),a.isBoxSizeOuter=o,n.removeChild(t)}}(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var l=r(t);if("none"==l.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<i;t++)e[n[t]]=0;return e}();var c={};c.width=t.offsetWidth,c.height=t.offsetHeight;for(var u=c.isBorderBox="border-box"==l.boxSizing,d=0;d<i;d++){var h=n[d],p=l[h],f=parseFloat(p);c[h]=isNaN(f)?0:f}var m=c.paddingLeft+c.paddingRight,g=c.paddingTop+c.paddingBottom,b=c.marginLeft+c.marginRight,y=c.marginTop+c.marginBottom,v=c.borderLeftWidth+c.borderRightWidth,_=c.borderTopWidth+c.borderBottomWidth,w=u&&o,k=e(l.width);!1!==k&&(c.width=k+(w?0:m+v));var C=e(l.height);return!1!==C&&(c.height=C+(w?0:g+_)),c.innerWidth=c.width-(m+v),c.innerHeight=c.height-(g+_),c.outerWidth=c.width+b,c.outerHeight=c.height+y,c}}return a})?i.call(t,n,t,e):i)||(e.exports=r)},11724:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=void 0;var s=o(n(57918)),a=n(79878),l=new Set(["input","option","optgroup","select","button","datalist","textarea"]),c=new Set(["p"]),u=new Set(["thead","tbody"]),d=new Set(["dd","dt"]),h=new Set(["rt","rp"]),p=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",c],["h1",c],["h2",c],["h3",c],["h4",c],["h5",c],["h6",c],["select",l],["input",l],["output",l],["button",l],["datalist",l],["textarea",l],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",d],["dt",d],["address",c],["article",c],["aside",c],["blockquote",c],["details",c],["div",c],["dl",c],["fieldset",c],["figcaption",c],["figure",c],["footer",c],["form",c],["header",c],["hr",c],["main",c],["nav",c],["ol",c],["pre",c],["section",c],["table",c],["ul",c],["rt",h],["rp",h],["tbody",u],["tfoot",u]]),f=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),m=new Set(["math","svg"]),g=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),b=/\s|\//,y=function(){function e(e,t){var n,i,r,o,a;void 0===t&&(t={}),this.options=t,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=null!=e?e:{},this.lowerCaseTagNames=null!==(n=t.lowerCaseTags)&&void 0!==n?n:!t.xmlMode,this.lowerCaseAttributeNames=null!==(i=t.lowerCaseAttributeNames)&&void 0!==i?i:!t.xmlMode,this.tokenizer=new(null!==(r=t.Tokenizer)&&void 0!==r?r:s.default)(this.options,this),null===(a=(o=this.cbs).onparserinit)||void 0===a||a.call(o,this)}return e.prototype.ontext=function(e,t){var n,i,r=this.getSlice(e,t);this.endIndex=t-1,null===(i=(n=this.cbs).ontext)||void 0===i||i.call(n,r),this.startIndex=t},e.prototype.ontextentity=function(e){var t,n,i=this.tokenizer.getSectionStart();this.endIndex=i-1,null===(n=(t=this.cbs).ontext)||void 0===n||n.call(t,(0,a.fromCodePoint)(e)),this.startIndex=i},e.prototype.isVoidElement=function(e){return!this.options.xmlMode&&f.has(e)},e.prototype.onopentagname=function(e,t){this.endIndex=t;var n=this.getSlice(e,t);this.lowerCaseTagNames&&(n=n.toLowerCase()),this.emitOpenTag(n)},e.prototype.emitOpenTag=function(e){var t,n,i,r;this.openTagStart=this.startIndex,this.tagname=e;var o=!this.options.xmlMode&&p.get(e);if(o)for(;this.stack.length>0&&o.has(this.stack[this.stack.length-1]);){var s=this.stack.pop();null===(n=(t=this.cbs).onclosetag)||void 0===n||n.call(t,s,!0)}this.isVoidElement(e)||(this.stack.push(e),m.has(e)?this.foreignContext.push(!0):g.has(e)&&this.foreignContext.push(!1)),null===(r=(i=this.cbs).onopentagname)||void 0===r||r.call(i,e),this.cbs.onopentag&&(this.attribs={})},e.prototype.endOpenTag=function(e){var t,n;this.startIndex=this.openTagStart,this.attribs&&(null===(n=(t=this.cbs).onopentag)||void 0===n||n.call(t,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},e.prototype.onopentagend=function(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1},e.prototype.onclosetag=function(e,t){var n,i,r,o,s,a;this.endIndex=t;var l=this.getSlice(e,t);if(this.lowerCaseTagNames&&(l=l.toLowerCase()),(m.has(l)||g.has(l))&&this.foreignContext.pop(),this.isVoidElement(l))this.options.xmlMode||"br"!==l||(null===(i=(n=this.cbs).onopentagname)||void 0===i||i.call(n,"br"),null===(o=(r=this.cbs).onopentag)||void 0===o||o.call(r,"br",{},!0),null===(a=(s=this.cbs).onclosetag)||void 0===a||a.call(s,"br",!1));else{var c=this.stack.lastIndexOf(l);if(-1!==c)if(this.cbs.onclosetag)for(var u=this.stack.length-c;u--;)this.cbs.onclosetag(this.stack.pop(),0!==u);else this.stack.length=c;else this.options.xmlMode||"p"!==l||(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=t+1},e.prototype.onselfclosingtag=function(e){this.endIndex=e,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)},e.prototype.closeCurrentTag=function(e){var t,n,i=this.tagname;this.endOpenTag(e),this.stack[this.stack.length-1]===i&&(null===(n=(t=this.cbs).onclosetag)||void 0===n||n.call(t,i,!e),this.stack.pop())},e.prototype.onattribname=function(e,t){this.startIndex=e;var n=this.getSlice(e,t);this.attribname=this.lowerCaseAttributeNames?n.toLowerCase():n},e.prototype.onattribdata=function(e,t){this.attribvalue+=this.getSlice(e,t)},e.prototype.onattribentity=function(e){this.attribvalue+=(0,a.fromCodePoint)(e)},e.prototype.onattribend=function(e,t){var n,i;this.endIndex=t,null===(i=(n=this.cbs).onattribute)||void 0===i||i.call(n,this.attribname,this.attribvalue,e===s.QuoteType.Double?'"':e===s.QuoteType.Single?"'":e===s.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},e.prototype.getInstructionName=function(e){var t=e.search(b),n=t<0?e:e.substr(0,t);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n},e.prototype.ondeclaration=function(e,t){this.endIndex=t;var n=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){var i=this.getInstructionName(n);this.cbs.onprocessinginstruction("!".concat(i),"!".concat(n))}this.startIndex=t+1},e.prototype.onprocessinginstruction=function(e,t){this.endIndex=t;var n=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){var i=this.getInstructionName(n);this.cbs.onprocessinginstruction("?".concat(i),"?".concat(n))}this.startIndex=t+1},e.prototype.oncomment=function(e,t,n){var i,r,o,s;this.endIndex=t,null===(r=(i=this.cbs).oncomment)||void 0===r||r.call(i,this.getSlice(e,t-n)),null===(s=(o=this.cbs).oncommentend)||void 0===s||s.call(o),this.startIndex=t+1},e.prototype.oncdata=function(e,t,n){var i,r,o,s,a,l,c,u,d,h;this.endIndex=t;var p=this.getSlice(e,t-n);this.options.xmlMode||this.options.recognizeCDATA?(null===(r=(i=this.cbs).oncdatastart)||void 0===r||r.call(i),null===(s=(o=this.cbs).ontext)||void 0===s||s.call(o,p),null===(l=(a=this.cbs).oncdataend)||void 0===l||l.call(a)):(null===(u=(c=this.cbs).oncomment)||void 0===u||u.call(c,"[CDATA[".concat(p,"]]")),null===(h=(d=this.cbs).oncommentend)||void 0===h||h.call(d)),this.startIndex=t+1},e.prototype.onend=function(){var e,t;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var n=this.stack.length;n>0;this.cbs.onclosetag(this.stack[--n],!0));}null===(t=(e=this.cbs).onend)||void 0===t||t.call(e)},e.prototype.reset=function(){var e,t,n,i;null===(t=(e=this.cbs).onreset)||void 0===t||t.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,null===(i=(n=this.cbs).onparserinit)||void 0===i||i.call(n,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},e.prototype.parseComplete=function(e){this.reset(),this.end(e)},e.prototype.getSlice=function(e,t){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var n=this.buffers[0].slice(e-this.bufferOffset,t-this.bufferOffset);t-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),n+=this.buffers[0].slice(0,t-this.bufferOffset);return n},e.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},e.prototype.write=function(e){var t,n;this.ended?null===(n=(t=this.cbs).onerror)||void 0===n||n.call(t,new Error(".write() after done!")):(this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++))},e.prototype.end=function(e){var t,n;this.ended?null===(n=(t=this.cbs).onerror)||void 0===n||n.call(t,new Error(".end() after done!")):(e&&this.write(e),this.ended=!0,this.tokenizer.end())},e.prototype.pause=function(){this.tokenizer.pause()},e.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},e.prototype.parseChunk=function(e){this.write(e)},e.prototype.done=function(e){this.end(e)},e}();t.Parser=y},57918:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuoteType=void 0;var i,r,o,s=n(79878);function a(e){return e===i.Space||e===i.NewLine||e===i.Tab||e===i.FormFeed||e===i.CarriageReturn}function l(e){return e===i.Slash||e===i.Gt||a(e)}function c(e){return e>=i.Zero&&e<=i.Nine}!function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"}(i||(i={})),function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.SpecialStartSequence=23]="SpecialStartSequence",e[e.InSpecialTag=24]="InSpecialTag",e[e.BeforeEntity=25]="BeforeEntity",e[e.BeforeNumericEntity=26]="BeforeNumericEntity",e[e.InNamedEntity=27]="InNamedEntity",e[e.InNumericEntity=28]="InNumericEntity",e[e.InHexEntity=29]="InHexEntity"}(r||(r={})),function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"}(o=t.QuoteType||(t.QuoteType={}));var u={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},d=function(){function e(e,t){var n=e.xmlMode,i=void 0!==n&&n,o=e.decodeEntities,a=void 0===o||o;this.cbs=t,this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=i,this.decodeEntities=a,this.entityTrie=i?s.xmlDecodeTree:s.htmlDecodeTree}return e.prototype.reset=function(){this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},e.prototype.write=function(e){this.offset+=this.buffer.length,this.buffer=e,this.parse()},e.prototype.end=function(){this.running&&this.finish()},e.prototype.pause=function(){this.running=!1},e.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},e.prototype.getIndex=function(){return this.index},e.prototype.getSectionStart=function(){return this.sectionStart},e.prototype.stateText=function(e){e===i.Lt||!this.decodeEntities&&this.fastForwardTo(i.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=r.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&e===i.Amp&&(this.state=r.BeforeEntity)},e.prototype.stateSpecialStartSequence=function(e){var t=this.sequenceIndex===this.currentSequence.length;if(t?l(e):(32|e)===this.currentSequence[this.sequenceIndex]){if(!t)return void this.sequenceIndex++}else this.isSpecial=!1;this.sequenceIndex=0,this.state=r.InTagName,this.stateInTagName(e)},e.prototype.stateInSpecialTag=function(e){if(this.sequenceIndex===this.currentSequence.length){if(e===i.Gt||a(e)){var t=this.index-this.currentSequence.length;if(this.sectionStart<t){var n=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=n}return this.isSpecial=!1,this.sectionStart=t+2,void this.stateInClosingTagName(e)}this.sequenceIndex=0}(32|e)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:0===this.sequenceIndex?this.currentSequence===u.TitleEnd?this.decodeEntities&&e===i.Amp&&(this.state=r.BeforeEntity):this.fastForwardTo(i.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=Number(e===i.Lt)},e.prototype.stateCDATASequence=function(e){e===u.Cdata[this.sequenceIndex]?++this.sequenceIndex===u.Cdata.length&&(this.state=r.InCommentLike,this.currentSequence=u.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=r.InDeclaration,this.stateInDeclaration(e))},e.prototype.fastForwardTo=function(e){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===e)return!0;return this.index=this.buffer.length+this.offset-1,!1},e.prototype.stateInCommentLike=function(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===u.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=r.Text):0===this.sequenceIndex?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},e.prototype.isTagStartChar=function(e){return this.xmlMode?!l(e):function(e){return e>=i.LowerA&&e<=i.LowerZ||e>=i.UpperA&&e<=i.UpperZ}(e)},e.prototype.startSpecial=function(e,t){this.isSpecial=!0,this.currentSequence=e,this.sequenceIndex=t,this.state=r.SpecialStartSequence},e.prototype.stateBeforeTagName=function(e){if(e===i.ExclamationMark)this.state=r.BeforeDeclaration,this.sectionStart=this.index+1;else if(e===i.Questionmark)this.state=r.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(e)){var t=32|e;this.sectionStart=this.index,this.xmlMode||t!==u.TitleEnd[2]?this.state=this.xmlMode||t!==u.ScriptEnd[2]?r.InTagName:r.BeforeSpecialS:this.startSpecial(u.TitleEnd,3)}else e===i.Slash?this.state=r.BeforeClosingTagName:(this.state=r.Text,this.stateText(e))},e.prototype.stateInTagName=function(e){l(e)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(e))},e.prototype.stateBeforeClosingTagName=function(e){a(e)||(e===i.Gt?this.state=r.Text:(this.state=this.isTagStartChar(e)?r.InClosingTagName:r.InSpecialComment,this.sectionStart=this.index))},e.prototype.stateInClosingTagName=function(e){(e===i.Gt||a(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterClosingTagName,this.stateAfterClosingTagName(e))},e.prototype.stateAfterClosingTagName=function(e){(e===i.Gt||this.fastForwardTo(i.Gt))&&(this.state=r.Text,this.baseState=r.Text,this.sectionStart=this.index+1)},e.prototype.stateBeforeAttributeName=function(e){e===i.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=r.InSpecialTag,this.sequenceIndex=0):this.state=r.Text,this.baseState=this.state,this.sectionStart=this.index+1):e===i.Slash?this.state=r.InSelfClosingTag:a(e)||(this.state=r.InAttributeName,this.sectionStart=this.index)},e.prototype.stateInSelfClosingTag=function(e){e===i.Gt?(this.cbs.onselfclosingtag(this.index),this.state=r.Text,this.baseState=r.Text,this.sectionStart=this.index+1,this.isSpecial=!1):a(e)||(this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(e))},e.prototype.stateInAttributeName=function(e){(e===i.Eq||l(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterAttributeName,this.stateAfterAttributeName(e))},e.prototype.stateAfterAttributeName=function(e){e===i.Eq?this.state=r.BeforeAttributeValue:e===i.Slash||e===i.Gt?(this.cbs.onattribend(o.NoValue,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(e)):a(e)||(this.cbs.onattribend(o.NoValue,this.index),this.state=r.InAttributeName,this.sectionStart=this.index)},e.prototype.stateBeforeAttributeValue=function(e){e===i.DoubleQuote?(this.state=r.InAttributeValueDq,this.sectionStart=this.index+1):e===i.SingleQuote?(this.state=r.InAttributeValueSq,this.sectionStart=this.index+1):a(e)||(this.sectionStart=this.index,this.state=r.InAttributeValueNq,this.stateInAttributeValueNoQuotes(e))},e.prototype.handleInAttributeValue=function(e,t){e===t||!this.decodeEntities&&this.fastForwardTo(t)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(t===i.DoubleQuote?o.Double:o.Single,this.index),this.state=r.BeforeAttributeName):this.decodeEntities&&e===i.Amp&&(this.baseState=this.state,this.state=r.BeforeEntity)},e.prototype.stateInAttributeValueDoubleQuotes=function(e){this.handleInAttributeValue(e,i.DoubleQuote)},e.prototype.stateInAttributeValueSingleQuotes=function(e){this.handleInAttributeValue(e,i.SingleQuote)},e.prototype.stateInAttributeValueNoQuotes=function(e){a(e)||e===i.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(o.Unquoted,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(e)):this.decodeEntities&&e===i.Amp&&(this.baseState=this.state,this.state=r.BeforeEntity)},e.prototype.stateBeforeDeclaration=function(e){e===i.OpeningSquareBracket?(this.state=r.CDATASequence,this.sequenceIndex=0):this.state=e===i.Dash?r.BeforeComment:r.InDeclaration},e.prototype.stateInDeclaration=function(e){(e===i.Gt||this.fastForwardTo(i.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},e.prototype.stateInProcessingInstruction=function(e){(e===i.Gt||this.fastForwardTo(i.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},e.prototype.stateBeforeComment=function(e){e===i.Dash?(this.state=r.InCommentLike,this.currentSequence=u.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=r.InDeclaration},e.prototype.stateInSpecialComment=function(e){(e===i.Gt||this.fastForwardTo(i.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=r.Text,this.sectionStart=this.index+1)},e.prototype.stateBeforeSpecialS=function(e){var t=32|e;t===u.ScriptEnd[3]?this.startSpecial(u.ScriptEnd,4):t===u.StyleEnd[3]?this.startSpecial(u.StyleEnd,4):(this.state=r.InTagName,this.stateInTagName(e))},e.prototype.stateBeforeEntity=function(e){this.entityExcess=1,this.entityResult=0,e===i.Number?this.state=r.BeforeNumericEntity:e===i.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=r.InNamedEntity,this.stateInNamedEntity(e))},e.prototype.stateInNamedEntity=function(e){if(this.entityExcess+=1,this.trieIndex=(0,s.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,e),this.trieIndex<0)return this.emitNamedEntity(),void this.index--;this.trieCurrent=this.entityTrie[this.trieIndex];var t=this.trieCurrent&s.BinTrieFlags.VALUE_LENGTH;if(t){var n=(t>>14)-1;if(this.allowLegacyEntity()||e===i.Semi){var r=this.index-this.entityExcess+1;r>this.sectionStart&&this.emitPartial(this.sectionStart,r),this.entityResult=this.trieIndex,this.trieIndex+=n,this.entityExcess=0,this.sectionStart=this.index+1,0===n&&this.emitNamedEntity()}else this.trieIndex+=n}},e.prototype.emitNamedEntity=function(){if(this.state=this.baseState,0!==this.entityResult)switch((this.entityTrie[this.entityResult]&s.BinTrieFlags.VALUE_LENGTH)>>14){case 1:this.emitCodePoint(this.entityTrie[this.entityResult]&~s.BinTrieFlags.VALUE_LENGTH);break;case 2:this.emitCodePoint(this.entityTrie[this.entityResult+1]);break;case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}},e.prototype.stateBeforeNumericEntity=function(e){(32|e)===i.LowerX?(this.entityExcess++,this.state=r.InHexEntity):(this.state=r.InNumericEntity,this.stateInNumericEntity(e))},e.prototype.emitNumericEntity=function(e){var t=this.index-this.entityExcess-1;t+2+Number(this.state===r.InHexEntity)!==this.index&&(t>this.sectionStart&&this.emitPartial(this.sectionStart,t),this.sectionStart=this.index+Number(e),this.emitCodePoint((0,s.replaceCodePoint)(this.entityResult))),this.state=this.baseState},e.prototype.stateInNumericEntity=function(e){e===i.Semi?this.emitNumericEntity(!0):c(e)?(this.entityResult=10*this.entityResult+(e-i.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},e.prototype.stateInHexEntity=function(e){e===i.Semi?this.emitNumericEntity(!0):c(e)?(this.entityResult=16*this.entityResult+(e-i.Zero),this.entityExcess++):function(e){return e>=i.UpperA&&e<=i.UpperF||e>=i.LowerA&&e<=i.LowerF}(e)?(this.entityResult=16*this.entityResult+((32|e)-i.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},e.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===r.Text||this.baseState===r.InSpecialTag)},e.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===r.Text||this.state===r.InSpecialTag&&0===this.sequenceIndex?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):this.state!==r.InAttributeValueDq&&this.state!==r.InAttributeValueSq&&this.state!==r.InAttributeValueNq||(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},e.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},e.prototype.parse=function(){for(;this.shouldContinue();){var e=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case r.Text:this.stateText(e);break;case r.SpecialStartSequence:this.stateSpecialStartSequence(e);break;case r.InSpecialTag:this.stateInSpecialTag(e);break;case r.CDATASequence:this.stateCDATASequence(e);break;case r.InAttributeValueDq:this.stateInAttributeValueDoubleQuotes(e);break;case r.InAttributeName:this.stateInAttributeName(e);break;case r.InCommentLike:this.stateInCommentLike(e);break;case r.InSpecialComment:this.stateInSpecialComment(e);break;case r.BeforeAttributeName:this.stateBeforeAttributeName(e);break;case r.InTagName:this.stateInTagName(e);break;case r.InClosingTagName:this.stateInClosingTagName(e);break;case r.BeforeTagName:this.stateBeforeTagName(e);break;case r.AfterAttributeName:this.stateAfterAttributeName(e);break;case r.InAttributeValueSq:this.stateInAttributeValueSingleQuotes(e);break;case r.BeforeAttributeValue:this.stateBeforeAttributeValue(e);break;case r.BeforeClosingTagName:this.stateBeforeClosingTagName(e);break;case r.AfterClosingTagName:this.stateAfterClosingTagName(e);break;case r.BeforeSpecialS:this.stateBeforeSpecialS(e);break;case r.InAttributeValueNq:this.stateInAttributeValueNoQuotes(e);break;case r.InSelfClosingTag:this.stateInSelfClosingTag(e);break;case r.InDeclaration:this.stateInDeclaration(e);break;case r.BeforeDeclaration:this.stateBeforeDeclaration(e);break;case r.BeforeComment:this.stateBeforeComment(e);break;case r.InProcessingInstruction:this.stateInProcessingInstruction(e);break;case r.InNamedEntity:this.stateInNamedEntity(e);break;case r.BeforeEntity:this.stateBeforeEntity(e);break;case r.InHexEntity:this.stateInHexEntity(e);break;case r.InNumericEntity:this.stateInNumericEntity(e);break;default:this.stateBeforeNumericEntity(e)}this.index++}this.cleanup()},e.prototype.finish=function(){this.state===r.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},e.prototype.handleTrailingData=function(){var e=this.buffer.length+this.offset;this.state===r.InCommentLike?this.currentSequence===u.CdataEnd?this.cbs.oncdata(this.sectionStart,e,0):this.cbs.oncomment(this.sectionStart,e,0):this.state===r.InNumericEntity&&this.allowLegacyEntity()||this.state===r.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===r.InTagName||this.state===r.BeforeAttributeName||this.state===r.BeforeAttributeValue||this.state===r.AfterAttributeName||this.state===r.InAttributeName||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueDq||this.state===r.InAttributeValueNq||this.state===r.InClosingTagName||this.cbs.ontext(this.sectionStart,e)},e.prototype.emitPartial=function(e,t){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?this.cbs.onattribdata(e,t):this.cbs.ontext(e,t)},e.prototype.emitCodePoint=function(e){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?this.cbs.onattribentity(e):this.cbs.ontextentity(e)},e}();t.default=d},78659:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomUtils=t.parseFeed=t.getFeed=t.ElementType=t.Tokenizer=t.createDomStream=t.parseDOM=t.parseDocument=t.DefaultHandler=t.DomHandler=t.Parser=void 0;var a=n(11724),l=n(11724);Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return l.Parser}});var c=n(41141),u=n(41141);function d(e,t){var n=new c.DomHandler(void 0,t);return new a.Parser(n,t).end(e),n.root}function h(e,t){return d(e,t).children}Object.defineProperty(t,"DomHandler",{enumerable:!0,get:function(){return u.DomHandler}}),Object.defineProperty(t,"DefaultHandler",{enumerable:!0,get:function(){return u.DomHandler}}),t.parseDocument=d,t.parseDOM=h,t.createDomStream=function(e,t,n){var i=new c.DomHandler(e,t,n);return new a.Parser(i,t)};var p=n(57918);Object.defineProperty(t,"Tokenizer",{enumerable:!0,get:function(){return s(p).default}}),t.ElementType=o(n(45413));var f=n(98888),m=n(98888);Object.defineProperty(t,"getFeed",{enumerable:!0,get:function(){return m.getFeed}});var g={xmlMode:!0};t.parseFeed=function(e,t){return void 0===t&&(t=g),(0,f.getFeed)(h(e,t))},t.DomUtils=o(n(98888))},47943:function(e,t,n){var i,r;!function(o,s){"use strict";i=[n(32137)],r=function(e){return function(e,t){var n=e.jQuery,i=e.console;function r(e,t){for(var n in t)e[n]=t[n];return e}var o=Array.prototype.slice;function s(e,t,a){if(!(this instanceof s))return new s(e,t,a);var l,c=e;"string"==typeof e&&(c=document.querySelectorAll(e)),c?(this.elements=(l=c,Array.isArray(l)?l:"object"==typeof l&&"number"==typeof l.length?o.call(l):[l]),this.options=r({},this.options),"function"==typeof t?a=t:r(this.options,t),a&&this.on("always",a),this.getImages(),n&&(this.jqDeferred=new n.Deferred),setTimeout(this.check.bind(this))):i.error("Bad element for imagesLoaded "+(c||e))}s.prototype=Object.create(t.prototype),s.prototype.options={},s.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},s.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&a[t]){for(var n=e.querySelectorAll("img"),i=0;i<n.length;i++){var r=n[i];this.addImage(r)}if("string"==typeof this.options.background){var o=e.querySelectorAll(this.options.background);for(i=0;i<o.length;i++){var s=o[i];this.addElementBackgroundImages(s)}}}};var a={1:!0,9:!0,11:!0};function l(e){this.img=e}function c(e,t){this.url=e,this.element=t,this.img=new Image}return s.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(t.backgroundImage);null!==i;){var r=i&&i[2];r&&this.addBackground(r,e),i=n.exec(t.backgroundImage)}},s.prototype.addImage=function(e){var t=new l(e);this.images.push(t)},s.prototype.addBackground=function(e,t){var n=new c(e,t);this.images.push(n)},s.prototype.check=function(){var e=this;function t(t,n,i){setTimeout((function(){e.progress(t,n,i)}))}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach((function(e){e.once("progress",t),e.check()})):this.complete()},s.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&i&&i.log("progress: "+n,e,t)},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},l.prototype=Object.create(t.prototype),l.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},l.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},l.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},l.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},l.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},l.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},c.prototype=Object.create(l.prototype),c.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},c.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},c.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},s.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((n=t).fn.imagesLoaded=function(e,t){return new s(this,e,t).jqDeferred.promise(n(this))})},s.makeJQueryPlugin(),s}(o,e)}.apply(t,i),void 0===r||(e.exports=r)}("undefined"!=typeof window?window:this)},20311:function(e){"use strict";e.exports=function(e,t,n,i,r,o,s,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,r,o,s,a],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},78682:function(e,t){"use strict";function n(e){return"[object Object]"===Object.prototype.toString.call(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isPlainObject=function(e){var t,i;return!1!==n(e)&&(void 0===(t=e.constructor)||!1!==n(i=t.prototype)&&!1!==i.hasOwnProperty("isPrototypeOf"))}},47403:function(e,t,n){"use strict";var i=n(24994),r=i(n(17383)),o=i(n(34579)),s=n(39378),a=n(36711),l=n(34878),c=n(22631),u=function(){function e(t,n){(0,r.default)(this,e),this._grammar=t,this._exprStr=n,this._ast=null}return(0,o.default)(e,[{key:"compile",value:function(){var e=new a(this._grammar),t=new l(this._grammar),n=e.tokenize(this._exprStr);return t.addTokens(n),this._ast=t.complete(),this}},{key:"eval",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._eval(e,Promise)}},{key:"evalSync",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._eval(e,c);if(t.error)throw t.error;return t.value}},{key:"_eval",value:function(e,t){var n=this;return t.resolve().then((function(){var i=n._getAst();return new s(n._grammar,e,void 0,t).eval(i)}))}},{key:"_getAst",value:function(){return this._ast||this.compile(),this._ast}}]),e}();e.exports=u},91892:function(e,t,n){"use strict";var i=n(24994),r=i(n(43693)),o=i(n(17383)),s=i(n(34579)),a=n(47403),l=n(35812).getGrammar,c=function(){function e(){(0,o.default)(this,e),this.expr=this.expr.bind(this),this._grammar=l()}return(0,s.default)(e,[{key:"addBinaryOp",value:function(e,t,n,i){this._addGrammarElement(e,(0,r.default)({type:"binaryOp",precedence:t},i?"evalOnDemand":"eval",n))}},{key:"addFunction",value:function(e,t){this._grammar.functions[e]=t}},{key:"addFunctions",value:function(e){for(var t in e)this._grammar.functions[t]=e[t]}},{key:"addUnaryOp",value:function(e,t){this._addGrammarElement(e,{type:"unaryOp",weight:1/0,eval:t})}},{key:"addTransform",value:function(e,t){this._grammar.transforms[e]=t}},{key:"addTransforms",value:function(e){for(var t in e)this._grammar.transforms[t]=e[t]}},{key:"compile",value:function(e){return this.createExpression(e).compile()}},{key:"createExpression",value:function(e){return new a(this._grammar,e)}},{key:"getFunction",value:function(e){return this._grammar.functions[e]}},{key:"getTransform",value:function(e){return this._grammar.transforms[e]}},{key:"eval",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.createExpression(e).eval(t)}},{key:"evalSync",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.createExpression(e).evalSync(t)}},{key:"expr",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=e.reduce((function(e,t,i){return e+(t+(i<n.length?n[i]:""))}),"");return this.createExpression(r)}},{key:"removeOp",value:function(e){!this._grammar.elements[e]||"binaryOp"!==this._grammar.elements[e].type&&"unaryOp"!==this._grammar.elements[e].type||delete this._grammar.elements[e]}},{key:"_addGrammarElement",value:function(e,t){this._grammar.elements[e]=t}}]),e}();e.exports=new c,e.exports.Jexl=c},36711:function(e,t,n){"use strict";var i=n(24994),r=i(n(17383)),o=i(n(34579)),s=/^-?(?:(?:[0-9]*\.[0-9]+)|[0-9]+)$/,a=/^[a-zA-Z--_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$][a-zA-Z--0-9_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$]*$/,l=/\\\\/,c=/^\s*$/,u=["'(?:(?:\\\\')|[^'])*'",'"(?:(?:\\\\")|[^"])*"',"\\s+","\\btrue\\b","\\bfalse\\b"],d=["[a-zA-Z--_---\\$][a-zA-Z0-9--_---\\$]*","(?:(?:[0-9]*\\.[0-9]+)|[0-9]+)"],h=["binaryOp","unaryOp","openParen","openBracket","question","colon"],p=function(){function e(t){(0,r.default)(this,e),this._grammar=t}return(0,o.default)(e,[{key:"getElements",value:function(e){var t=this._getSplitRegex();return e.split(t).filter((function(e){return e}))}},{key:"getTokens",value:function(e){for(var t=[],n=!1,i=0;i<e.length;i++)this._isWhitespace(e[i])?t.length&&(t[t.length-1].raw+=e[i]):"-"===e[i]&&this._isNegative(t)?n=!0:(n&&(e[i]="-"+e[i],n=!1),t.push(this._createToken(e[i])));return n&&t.push(this._createToken("-")),t}},{key:"tokenize",value:function(e){var t=this.getElements(e);return this.getTokens(t)}},{key:"_createToken",value:function(e){var t={type:"literal",value:e,raw:e};if('"'===e[0]||"'"===e[0])t.value=this._unquote(e);else if(e.match(s))t.value=parseFloat(e);else if("true"===e||"false"===e)t.value="true"===e;else if(this._grammar.elements[e])t.type=this._grammar.elements[e].type;else{if(!e.match(a))throw new Error("Invalid expression token: ".concat(e));t.type="identifier"}return t}},{key:"_escapeRegExp",value:function(e){return(e=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).match(a)&&(e="\\b"+e+"\\b"),e}},{key:"_getSplitRegex",value:function(){var e=this;if(!this._splitRegex){var t=Object.keys(this._grammar.elements).sort((function(e,t){return t.length-e.length})).map((function(t){return e._escapeRegExp(t)}),this);this._splitRegex=new RegExp("("+[u.join("|"),t.join("|"),d.join("|")].join("|")+")")}return this._splitRegex}},{key:"_isNegative",value:function(e){return!e.length||h.some((function(t){return t===e[e.length-1].type}))}},{key:"_isWhitespace",value:function(e){return!!e.match(c)}},{key:"_unquote",value:function(e){var t=e[0],n=new RegExp("\\\\"+t,"g");return e.substr(1,e.length-2).replace(n,t).replace(l,"\\")}}]),e}();e.exports=p},22631:function(e,t,n){"use strict";var i=n(24994),r=i(n(17383)),o=i(n(34579)),s=function(){function e(t){(0,r.default)(this,e),t(this._resolve.bind(this),this._reject.bind(this))}return(0,o.default)(e,[{key:"catch",value:function(e){if(this.error)try{this._resolve(e(this.error))}catch(e){this._reject(e)}return this}},{key:"then",value:function(e,t){if(!this.error)try{this._resolve(e(this.value))}catch(e){this._reject(e)}return t&&this.catch(t),this}},{key:"_reject",value:function(e){this.value=void 0,this.error=e}},{key:"_resolve",value:function(t){t instanceof e?t.error?this._reject(t.error):this._resolve(t.value):(this.value=t,this.error=void 0)}}]),e}();s.all=function(e){return new s((function(t){t(e.map((function(e){for(;e instanceof s;){if(e.error)throw Error(e.error);e=e.value}return e})))}))},s.resolve=function(e){return new s((function(t){return t(e)}))},s.reject=function(e){return new s((function(t,n){return n(e)}))},e.exports=s},39378:function(e,t,n){"use strict";var i=n(24994),r=i(n(17383)),o=i(n(34579)),s=n(36742),a=function(){function e(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Promise;(0,r.default)(this,e),this._grammar=t,this._context=n||{},this._relContext=i||this._context,this.Promise=o}return(0,o.default)(e,[{key:"eval",value:function(e){var t=this;return this.Promise.resolve().then((function(){return s[e.type].call(t,e)}))}},{key:"evalArray",value:function(e){var t=this;return this.Promise.all(e.map((function(e){return t.eval(e)})))}},{key:"evalMap",value:function(e){var t=this,n=Object.keys(e),i={},r=n.map((function(n){return t.eval(e[n])}));return this.Promise.all(r).then((function(e){return e.forEach((function(e,t){i[n[t]]=e})),i}))}},{key:"_filterRelative",value:function(t,n){var i=this,r=[];return Array.isArray(t)||(t=void 0===t?[]:[t]),t.forEach((function(t){var o=new e(i._grammar,i._context,t,i.Promise);r.push(o.eval(n))})),this.Promise.all(r).then((function(e){var n=[];return e.forEach((function(e,i){e&&n.push(t[i])})),n}))}},{key:"_filterStatic",value:function(e,t){return this.eval(t).then((function(t){return"boolean"==typeof t?t?e:void 0:e[t]}))}}]),e}();e.exports=a},36742:function(e,t,n){"use strict";var i=n(24994)(n(41132)),r={functions:"Jexl Function",transforms:"Transform"};t.ArrayLiteral=function(e){return this.evalArray(e.value)},t.BinaryExpression=function(e){var t=this,n=this._grammar.elements[e.operator];if(n.evalOnDemand){var i=function(e){return{eval:function(){return t.eval(e)}}};return n.evalOnDemand(i(e.left),i(e.right))}return this.Promise.all([this.eval(e.left),this.eval(e.right)]).then((function(e){return n.eval(e[0],e[1])}))},t.ConditionalExpression=function(e){var t=this;return this.eval(e.test).then((function(n){return n?e.consequent?t.eval(e.consequent):n:t.eval(e.alternate)}))},t.FilterExpression=function(e){var t=this;return this.eval(e.subject).then((function(n){return e.relative?t._filterRelative(n,e.expr):t._filterStatic(n,e.expr)}))},t.Identifier=function(e){return e.from?this.eval(e.from).then((function(t){if(null!=t)return Array.isArray(t)&&(t=t[0]),t[e.value]})):e.relative?this._relContext[e.value]:this._context[e.value]},t.Literal=function(e){return e.value},t.ObjectLiteral=function(e){return this.evalMap(e.value)},t.FunctionCall=function(e){var t=r[e.pool];if(!t)throw new Error("Corrupt AST: Pool '".concat(e.pool,"' not found"));var n=this._grammar[e.pool][e.name];if(!n)throw new Error("".concat(t," ").concat(e.name," is not defined."));return this.evalArray(e.args||[]).then((function(e){return n.apply(void 0,(0,i.default)(e))}))},t.UnaryExpression=function(e){var t=this;return this.eval(e.right).then((function(n){return t._grammar.elements[e.operator].eval(n)}))}},35812:function(e,t){"use strict";t.getGrammar=function(){return{elements:{".":{type:"dot"},"[":{type:"openBracket"},"]":{type:"closeBracket"},"|":{type:"pipe"},"{":{type:"openCurl"},"}":{type:"closeCurl"},":":{type:"colon"},",":{type:"comma"},"(":{type:"openParen"},")":{type:"closeParen"},"?":{type:"question"},"+":{type:"binaryOp",precedence:30,eval:function(e,t){return e+t}},"-":{type:"binaryOp",precedence:30,eval:function(e,t){return e-t}},"*":{type:"binaryOp",precedence:40,eval:function(e,t){return e*t}},"/":{type:"binaryOp",precedence:40,eval:function(e,t){return e/t}},"//":{type:"binaryOp",precedence:40,eval:function(e,t){return Math.floor(e/t)}},"%":{type:"binaryOp",precedence:50,eval:function(e,t){return e%t}},"^":{type:"binaryOp",precedence:50,eval:function(e,t){return Math.pow(e,t)}},"==":{type:"binaryOp",precedence:20,eval:function(e,t){return e==t}},"!=":{type:"binaryOp",precedence:20,eval:function(e,t){return e!=t}},">":{type:"binaryOp",precedence:20,eval:function(e,t){return e>t}},">=":{type:"binaryOp",precedence:20,eval:function(e,t){return e>=t}},"<":{type:"binaryOp",precedence:20,eval:function(e,t){return e<t}},"<=":{type:"binaryOp",precedence:20,eval:function(e,t){return e<=t}},"&&":{type:"binaryOp",precedence:10,evalOnDemand:function(e,t){return e.eval().then((function(e){return e?t.eval():e}))}},"||":{type:"binaryOp",precedence:10,evalOnDemand:function(e,t){return e.eval().then((function(e){return e||t.eval()}))}},in:{type:"binaryOp",precedence:20,eval:function(e,t){return"string"==typeof t?-1!==t.indexOf(e):!!Array.isArray(t)&&t.some((function(t){return t===e}))}},"!":{type:"unaryOp",precedence:1/0,eval:function(e){return!e}}},functions:{},transforms:{}}}},34878:function(e,t,n){"use strict";var i=n(24994),r=i(n(17383)),o=i(n(34579)),s=n(23616),a=n(26011).x,l=function(){function e(t,n,i){(0,r.default)(this,e),this._grammar=t,this._state="expectOperand",this._tree=null,this._exprStr=n||"",this._relative=!1,this._stopMap=i||{}}return(0,o.default)(e,[{key:"addToken",value:function(e){if("complete"===this._state)throw new Error("Cannot add a new token to a completed Parser");var t=a[this._state],n=this._exprStr;if(this._exprStr+=e.raw,t.subHandler){this._subParser||this._startSubExpression(n);var i=this._subParser.addToken(e);if(i){if(this._endSubExpression(),this._parentStop)return i;this._state=i}}else{if(!t.tokenTypes[e.type]){if(this._stopMap[e.type])return this._stopMap[e.type];throw new Error("Token ".concat(e.raw," (").concat(e.type,") unexpected in expression: ").concat(this._exprStr))}var r=t.tokenTypes[e.type],o=s[e.type];r.handler&&(o=r.handler),o&&o.call(this,e),r.toState&&(this._state=r.toState)}return!1}},{key:"addTokens",value:function(e){e.forEach(this.addToken,this)}},{key:"complete",value:function(){if(this._cursor&&!a[this._state].completable)throw new Error("Unexpected end of expression: ".concat(this._exprStr));return this._subParser&&this._endSubExpression(),this._state="complete",this._cursor?this._tree:null}},{key:"isRelative",value:function(){return this._relative}},{key:"_endSubExpression",value:function(){a[this._state].subHandler.call(this,this._subParser.complete()),this._subParser=null}},{key:"_placeAtCursor",value:function(e){this._cursor?(this._cursor.right=e,this._setParent(e,this._cursor)):this._tree=e,this._cursor=e}},{key:"_placeBeforeCursor",value:function(e){this._cursor=this._cursor._parent,this._placeAtCursor(e)}},{key:"_setParent",value:function(e,t){Object.defineProperty(e,"_parent",{value:t,writable:!0})}},{key:"_startSubExpression",value:function(t){var n=a[this._state].endStates;n||(this._parentStop=!0,n=this._stopMap),this._subParser=new e(this._grammar,t,n)}}]),e}();e.exports=l},23616:function(e,t){"use strict";t.argVal=function(e){e&&this._cursor.args.push(e)},t.arrayStart=function(){this._placeAtCursor({type:"ArrayLiteral",value:[]})},t.arrayVal=function(e){e&&this._cursor.value.push(e)},t.binaryOp=function(e){for(var t=this._grammar.elements[e.value].precedence||0,n=this._cursor._parent;n&&n.operator&&this._grammar.elements[n.operator].precedence>=t;)this._cursor=n,n=n._parent;var i={type:"BinaryExpression",operator:e.value,left:this._cursor};this._setParent(this._cursor,i),this._cursor=n,this._placeAtCursor(i)},t.dot=function(){this._nextIdentEncapsulate=this._cursor&&"UnaryExpression"!==this._cursor.type&&("BinaryExpression"!==this._cursor.type||"BinaryExpression"===this._cursor.type&&this._cursor.right),this._nextIdentRelative=!this._cursor||this._cursor&&!this._nextIdentEncapsulate,this._nextIdentRelative&&(this._relative=!0)},t.filter=function(e){this._placeBeforeCursor({type:"FilterExpression",expr:e,relative:this._subParser.isRelative(),subject:this._cursor})},t.functionCall=function(){this._placeBeforeCursor({type:"FunctionCall",name:this._cursor.value,args:[],pool:"functions"})},t.identifier=function(e){var t={type:"Identifier",value:e.value};this._nextIdentEncapsulate?(t.from=this._cursor,this._placeBeforeCursor(t),this._nextIdentEncapsulate=!1):(this._nextIdentRelative&&(t.relative=!0,this._nextIdentRelative=!1),this._placeAtCursor(t))},t.literal=function(e){this._placeAtCursor({type:"Literal",value:e.value})},t.objKey=function(e){this._curObjKey=e.value},t.objStart=function(){this._placeAtCursor({type:"ObjectLiteral",value:{}})},t.objVal=function(e){this._cursor.value[this._curObjKey]=e},t.subExpression=function(e){this._placeAtCursor(e)},t.ternaryEnd=function(e){this._cursor.alternate=e},t.ternaryMid=function(e){this._cursor.consequent=e},t.ternaryStart=function(){this._tree={type:"ConditionalExpression",test:this._tree},this._cursor=this._tree},t.transform=function(e){this._placeBeforeCursor({type:"FunctionCall",name:e.value,args:[this._cursor],pool:"transforms"})},t.unaryOp=function(e){this._placeAtCursor({type:"UnaryExpression",operator:e.value})}},26011:function(e,t,n){"use strict";var i=n(23616);t.x={expectOperand:{tokenTypes:{literal:{toState:"expectBinOp"},identifier:{toState:"identifier"},unaryOp:{},openParen:{toState:"subExpression"},openCurl:{toState:"expectObjKey",handler:i.objStart},dot:{toState:"traverse"},openBracket:{toState:"arrayVal",handler:i.arrayStart}}},expectBinOp:{tokenTypes:{binaryOp:{toState:"expectOperand"},pipe:{toState:"expectTransform"},dot:{toState:"traverse"},question:{toState:"ternaryMid",handler:i.ternaryStart}},completable:!0},expectTransform:{tokenTypes:{identifier:{toState:"postTransform",handler:i.transform}}},expectObjKey:{tokenTypes:{identifier:{toState:"expectKeyValSep",handler:i.objKey},closeCurl:{toState:"expectBinOp"}}},expectKeyValSep:{tokenTypes:{colon:{toState:"objVal"}}},postTransform:{tokenTypes:{openParen:{toState:"argVal"},binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},pipe:{toState:"expectTransform"}},completable:!0},postArgs:{tokenTypes:{binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},pipe:{toState:"expectTransform"}},completable:!0},identifier:{tokenTypes:{binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},openParen:{toState:"argVal",handler:i.functionCall},pipe:{toState:"expectTransform"},question:{toState:"ternaryMid",handler:i.ternaryStart}},completable:!0},traverse:{tokenTypes:{identifier:{toState:"identifier"}}},filter:{subHandler:i.filter,endStates:{closeBracket:"identifier"}},subExpression:{subHandler:i.subExpression,endStates:{closeParen:"expectBinOp"}},argVal:{subHandler:i.argVal,endStates:{comma:"argVal",closeParen:"postArgs"}},objVal:{subHandler:i.objVal,endStates:{comma:"expectObjKey",closeCurl:"expectBinOp"}},arrayVal:{subHandler:i.arrayVal,endStates:{comma:"arrayVal",closeBracket:"expectBinOp"}},ternaryMid:{subHandler:i.ternaryMid,endStates:{colon:"ternaryEnd"}},ternaryEnd:{subHandler:i.ternaryEnd,completable:!0}}},31095:function(e,t,n){"use strict";var i=n(47593);function r(e,t,n){if(3===arguments.length)return r.set(e,t,n);if(2===arguments.length)return r.get(e,t);var i=r.bind(r,e);for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o].bind(i,e));return i}e.exports=r,r.get=function(e,t){for(var n=Array.isArray(t)?t:r.parse(t),i=0;i<n.length;++i){var o=n[i];if("object"!=typeof e||!(o in e))throw new Error("Invalid reference token: "+o);e=e[o]}return e},r.set=function(e,t,n){var i=Array.isArray(t)?t:r.parse(t),o=i[0];if(0===i.length)throw Error("Can not set the root object");for(var s=0;s<i.length-1;++s){var a=i[s];"string"!=typeof a&&"number"!=typeof a&&(a=String(a)),"__proto__"!==a&&"constructor"!==a&&"prototype"!==a&&("-"===a&&Array.isArray(e)&&(a=e.length),o=i[s+1],a in e||(o.match(/^(\d+|-)$/)?e[a]=[]:e[a]={}),e=e[a])}return"-"===o&&Array.isArray(e)&&(o=e.length),e[o]=n,this},r.remove=function(e,t){var n=Array.isArray(t)?t:r.parse(t),i=n[n.length-1];if(void 0===i)throw new Error('Invalid JSON pointer for remove: "'+t+'"');var o=r.get(e,n.slice(0,-1));if(Array.isArray(o)){var s=+i;if(""===i&&isNaN(s))throw new Error('Invalid array index: "'+i+'"');Array.prototype.splice.call(o,s,1)}else delete o[i]},r.dict=function(e,t){var n={};return r.walk(e,(function(e,t){n[t]=e}),t),n},r.walk=function(e,t,n){var o=[];n=n||function(e){var t=Object.prototype.toString.call(e);return"[object Object]"===t||"[object Array]"===t},function e(s){i(s,(function(i,s){o.push(String(s)),n(i)?e(i):t(i,r.compile(o)),o.pop()}))}(e)},r.has=function(e,t){try{r.get(e,t)}catch(e){return!1}return!0},r.escape=function(e){return e.toString().replace(/~/g,"~0").replace(/\//g,"~1")},r.unescape=function(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")},r.parse=function(e){if(""===e)return[];if("/"!==e.charAt(0))throw new Error("Invalid JSON pointer: "+e);return e.substring(1).split(/\//).map(r.unescape)},r.compile=function(e){return 0===e.length?"":"/"+e.map(r.escape).join("/")}},7106:function(e){"use strict";var t=e.exports=function(e,t,i){"function"==typeof t&&(i=t,t={}),n(t,"function"==typeof(i=t.cb||i)?i:i.pre||function(){},i.post||function(){},e,"",e)};function n(e,i,r,o,s,a,l,c,u,d){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var h in i(o,s,a,l,c,u,d),o){var p=o[h];if(Array.isArray(p)){if(h in t.arrayKeywords)for(var f=0;f<p.length;f++)n(e,i,r,p[f],s+"/"+h+"/"+f,a,s,h,o,f)}else if(h in t.propsKeywords){if(p&&"object"==typeof p)for(var m in p)n(e,i,r,p[m],s+"/"+h+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),a,s,h,o,m)}else(h in t.keywords||e.allKeys&&!(h in t.skipKeywords))&&n(e,i,r,p,s+"/"+h,a,s,h,o)}r(o,s,a,l,c,u,d)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},53481:function(e,t){!function(e){"use strict";function t(e){var t,n,i,r;for(n=1,i=arguments.length;n<i;n++)for(t in r=arguments[n])e[t]=r[t];return e}var n=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function i(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var i=n.call(arguments,2);return function(){return e.apply(t,i.length?i.concat(n.call(arguments)):arguments)}}var r=0;function o(e){return"_leaflet_id"in e||(e._leaflet_id=++r),e._leaflet_id}function s(e,t,n){var i,r,o,s;return s=function(){i=!1,r&&(o.apply(n,r),r=!1)},o=function(){i?r=arguments:(e.apply(n,arguments),setTimeout(s,t),i=!0)},o}function a(e,t,n){var i=t[1],r=t[0],o=i-r;return e===i&&n?e:((e-r)%o+o)%o+r}function l(){return!1}function c(e,t){if(!1===t)return e;var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function u(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function d(e){return u(e).split(/\s+/)}function h(e,t){for(var i in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?n(e.options):{}),t)e.options[i]=t[i];return e.options}function p(e,t,n){var i=[];for(var r in e)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(e[r]));return(t&&-1!==t.indexOf("?")?"&":"?")+i.join("&")}var f=/\{ *([\w_ -]+) *\}/g;function m(e,t){return e.replace(f,(function(e,n){var i=t[n];if(void 0===i)throw new Error("No value provided for variable "+e);return"function"==typeof i&&(i=i(t)),i}))}var g=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function b(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function v(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var _=0;function w(e){var t=+new Date,n=Math.max(0,16-(t-_));return _=t+n,window.setTimeout(e,n)}var k=window.requestAnimationFrame||v("RequestAnimationFrame")||w,C=window.cancelAnimationFrame||v("CancelAnimationFrame")||v("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function E(e,t,n){if(!n||k!==w)return k.call(window,i(e,t));e.call(t)}function x(e){e&&C.call(window,e)}var S={__proto__:null,extend:t,create:n,bind:i,get lastId(){return r},stamp:o,throttle:s,wrapNum:a,falseFn:l,formatNum:c,trim:u,splitWords:d,setOptions:h,getParamString:p,template:m,isArray:g,indexOf:b,emptyImageUrl:y,requestFn:k,cancelFn:C,requestAnimFrame:E,cancelAnimFrame:x};function O(){}O.extend=function(e){var i=function(){h(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=i.__super__=this.prototype,o=n(r);for(var s in o.constructor=i,i.prototype=o,this)Object.prototype.hasOwnProperty.call(this,s)&&"prototype"!==s&&"__super__"!==s&&(i[s]=this[s]);return e.statics&&t(i,e.statics),e.includes&&(function(e){if("undefined"!=typeof L&&L&&L.Mixin){e=g(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(e.includes),t.apply(null,[o].concat(e.includes))),t(o,e),delete o.statics,delete o.includes,o.options&&(o.options=r.options?n(r.options):{},t(o.options,e.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=o._initHooks.length;e<t;e++)o._initHooks[e].call(this)}},i},O.include=function(e){var n=this.prototype.options;return t(this.prototype,e),e.options&&(this.prototype.options=n,this.mergeOptions(e.options)),this},O.mergeOptions=function(e){return t(this.prototype.options,e),this},O.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"==typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var T={on:function(e,t,n){if("object"==typeof e)for(var i in e)this._on(i,e[i],t);else for(var r=0,o=(e=d(e)).length;r<o;r++)this._on(e[r],t,n);return this},off:function(e,t,n){if(arguments.length)if("object"==typeof e)for(var i in e)this._off(i,e[i],t);else{e=d(e);for(var r=1===arguments.length,o=0,s=e.length;o<s;o++)r?this._off(e[o]):this._off(e[o],t,n)}else delete this._events;return this},_on:function(e,t,n,i){if("function"==typeof t){if(!1===this._listens(e,t,n)){n===this&&(n=void 0);var r={fn:t,ctx:n};i&&(r.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(r)}}else console.warn("wrong listener type: "+typeof t)},_off:function(e,t,n){var i,r,o;if(this._events&&(i=this._events[e]))if(1!==arguments.length)if("function"==typeof t){var s=this._listens(e,t,n);if(!1!==s){var a=i[s];this._firingCount&&(a.fn=l,this._events[e]=i=i.slice()),i.splice(s,1)}}else console.warn("wrong listener type: "+typeof t);else{if(this._firingCount)for(r=0,o=i.length;r<o;r++)i[r].fn=l;delete this._events[e]}},fire:function(e,n,i){if(!this.listens(e,i))return this;var r=t({},n,{type:e,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var o=this._events[e];if(o){this._firingCount=this._firingCount+1||1;for(var s=0,a=o.length;s<a;s++){var l=o[s],c=l.fn;l.once&&this.off(e,c,l.ctx),c.call(l.ctx||this,r)}this._firingCount--}}return i&&this._propagateEvent(r),this},listens:function(e,t,n,i){"string"!=typeof e&&console.warn('"string" type argument expected');var r=t;"function"!=typeof t&&(i=!!t,r=void 0,n=void 0);var o=this._events&&this._events[e];if(o&&o.length&&!1!==this._listens(e,r,n))return!0;if(i)for(var s in this._eventParents)if(this._eventParents[s].listens(e,t,n,i))return!0;return!1},_listens:function(e,t,n){if(!this._events)return!1;var i=this._events[e]||[];if(!t)return!!i.length;n===this&&(n=void 0);for(var r=0,o=i.length;r<o;r++)if(i[r].fn===t&&i[r].ctx===n)return r;return!1},once:function(e,t,n){if("object"==typeof e)for(var i in e)this._on(i,e[i],t,!0);else for(var r=0,o=(e=d(e)).length;r<o;r++)this._on(e[r],t,n,!0);return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[o(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[o(e)],this},_propagateEvent:function(e){for(var n in this._eventParents)this._eventParents[n].fire(e.type,t({layer:e.target,propagatedFrom:e.target},e),!0)}};T.addEventListener=T.on,T.removeEventListener=T.clearAllEventListeners=T.off,T.addOneTimeEventListener=T.once,T.fireEvent=T.fire,T.hasEventListeners=T.listens;var M=O.extend(T);function P(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var D=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function A(e,t,n){return e instanceof P?e:g(e)?new P(e[0],e[1]):null==e?e:"object"==typeof e&&"x"in e&&"y"in e?new P(e.x,e.y):new P(e,t,n)}function z(e,t){if(e)for(var n=t?[e,t]:e,i=0,r=n.length;i<r;i++)this.extend(n[i])}function I(e,t){return!e||e instanceof z?e:new z(e,t)}function R(e,t){if(e)for(var n=t?[e,t]:e,i=0,r=n.length;i<r;i++)this.extend(n[i])}function j(e,t){return e instanceof R?e:new R(e,t)}function N(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function F(e,t,n){return e instanceof N?e:g(e)&&"object"!=typeof e[0]?3===e.length?new N(e[0],e[1],e[2]):2===e.length?new N(e[0],e[1]):null:null==e?e:"object"==typeof e&&"lat"in e?new N(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new N(e,t,n)}P.prototype={clone:function(){return new P(this.x,this.y)},add:function(e){return this.clone()._add(A(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(A(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new P(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new P(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=D(this.x),this.y=D(this.y),this},distanceTo:function(e){var t=(e=A(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=A(e)).x===this.x&&e.y===this.y},contains:function(e){return e=A(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}},z.prototype={extend:function(e){var t,n;if(!e)return this;if(e instanceof P||"number"==typeof e[0]||"x"in e)t=n=A(e);else if(t=(e=I(e)).min,n=e.max,!t||!n)return this;return this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=t.clone(),this.max=n.clone()),this},getCenter:function(e){return A((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return A(this.min.x,this.max.y)},getTopRight:function(){return A(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"==typeof e[0]||e instanceof P?A(e):I(e))instanceof z?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=I(e);var t=this.min,n=this.max,i=e.min,r=e.max,o=r.x>=t.x&&i.x<=n.x,s=r.y>=t.y&&i.y<=n.y;return o&&s},overlaps:function(e){e=I(e);var t=this.min,n=this.max,i=e.min,r=e.max,o=r.x>t.x&&i.x<n.x,s=r.y>t.y&&i.y<n.y;return o&&s},isValid:function(){return!(!this.min||!this.max)},pad:function(e){var t=this.min,n=this.max,i=Math.abs(t.x-n.x)*e,r=Math.abs(t.y-n.y)*e;return I(A(t.x-i,t.y-r),A(n.x+i,n.y+r))},equals:function(e){return!!e&&(e=I(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight()))}},R.prototype={extend:function(e){var t,n,i=this._southWest,r=this._northEast;if(e instanceof N)t=e,n=e;else{if(!(e instanceof R))return e?this.extend(F(e)||j(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return i||r?(i.lat=Math.min(t.lat,i.lat),i.lng=Math.min(t.lng,i.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new N(t.lat,t.lng),this._northEast=new N(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,i=Math.abs(t.lat-n.lat)*e,r=Math.abs(t.lng-n.lng)*e;return new R(new N(t.lat-i,t.lng-r),new N(n.lat+i,n.lng+r))},getCenter:function(){return new N((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new N(this.getNorth(),this.getWest())},getSouthEast:function(){return new N(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"==typeof e[0]||e instanceof N||"lat"in e?F(e):j(e);var t,n,i=this._southWest,r=this._northEast;return e instanceof R?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=i.lat&&n.lat<=r.lat&&t.lng>=i.lng&&n.lng<=r.lng},intersects:function(e){e=j(e);var t=this._southWest,n=this._northEast,i=e.getSouthWest(),r=e.getNorthEast(),o=r.lat>=t.lat&&i.lat<=n.lat,s=r.lng>=t.lng&&i.lng<=n.lng;return o&&s},overlaps:function(e){e=j(e);var t=this._southWest,n=this._northEast,i=e.getSouthWest(),r=e.getNorthEast(),o=r.lat>t.lat&&i.lat<n.lat,s=r.lng>t.lng&&i.lng<n.lng;return o&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=j(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},N.prototype={equals:function(e,t){return!!e&&(e=F(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+c(this.lat,e)+", "+c(this.lng,e)+")"},distanceTo:function(e){return H.distance(this,F(e))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return j([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new N(this.lat,this.lng,this.alt)}};var Y,B={latLngToPoint:function(e,t){var n=this.projection.project(e),i=this.scale(t);return this.transformation._transform(n,i)},pointToLatLng:function(e,t){var n=this.scale(t),i=this.transformation.untransform(e,n);return this.projection.unproject(i)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new z(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?a(e.lng,this.wrapLng,!0):e.lng;return new N(this.wrapLat?a(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),i=t.lat-n.lat,r=t.lng-n.lng;if(0===i&&0===r)return e;var o=e.getSouthWest(),s=e.getNorthEast();return new R(new N(o.lat-i,o.lng-r),new N(s.lat-i,s.lng-r))}},H=t({},B,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,i=e.lat*n,r=t.lat*n,o=Math.sin((t.lat-e.lat)*n/2),s=Math.sin((t.lng-e.lng)*n/2),a=o*o+Math.cos(i)*Math.cos(r)*s*s,l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*l}}),V=6378137,W={R:V,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,e.lat),-n),r=Math.sin(i*t);return new P(this.R*e.lng*t,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(e){var t=180/Math.PI;return new N((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:(Y=V*Math.PI,new z([-Y,-Y],[Y,Y]))};function U(e,t,n,i){if(g(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=i}function $(e,t,n,i){return new U(e,t,n,i)}U.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new P((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var q=t({},H,{code:"EPSG:3857",projection:W,transformation:function(){var e=.5/(Math.PI*W.R);return $(e,.5,-e,.5)}()}),K=t({},q,{code:"EPSG:900913"});function G(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Z(e,t){var n,i,r,o,s,a,l="";for(n=0,r=e.length;n<r;n++){for(i=0,o=(s=e[n]).length;i<o;i++)l+=(i?"L":"M")+(a=s[i]).x+" "+a.y;l+=t?ze.svg?"z":"x":""}return l||"M0 0"}var J,X=document.documentElement.style,Q="ActiveXObject"in window,ee=Q&&!document.addEventListener,te="msLaunchUri"in navigator&&!("documentMode"in document),ne=Ae("webkit"),ie=Ae("android"),re=Ae("android 2")||Ae("android 3"),oe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),se=ie&&Ae("Google")&&oe<537&&!("AudioNode"in window),ae=!!window.opera,le=!te&&Ae("chrome"),ce=Ae("gecko")&&!ne&&!ae&&!Q,ue=!le&&Ae("safari"),de=Ae("phantom"),he="OTransition"in X,pe=0===navigator.platform.indexOf("Win"),fe=Q&&"transition"in X,me="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!re,ge="MozPerspective"in X,be=!window.L_DISABLE_3D&&(fe||me||ge)&&!he&&!de,ye="undefined"!=typeof orientation||Ae("mobile"),ve=ye&&ne,_e=ye&&me,we=!window.PointerEvent&&window.MSPointerEvent,ke=!(!window.PointerEvent&&!we),Ce="ontouchstart"in window||!!window.TouchEvent,Ee=!window.L_NO_TOUCH&&(Ce||ke),xe=ye&&ae,Se=ye&&ce,Oe=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Te=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",l,t),window.removeEventListener("testPassiveEventSupport",l,t)}catch(e){}return e}(),Me=!!document.createElement("canvas").getContext,Pe=!(!document.createElementNS||!G("svg").createSVGRect),De=!!Pe&&((J=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(J.firstChild&&J.firstChild.namespaceURI)),Le=!Pe&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"==typeof t.adj}catch(e){return!1}}();function Ae(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var ze={ie:Q,ielt9:ee,edge:te,webkit:ne,android:ie,android23:re,androidStock:se,opera:ae,chrome:le,gecko:ce,safari:ue,phantom:de,opera12:he,win:pe,ie3d:fe,webkit3d:me,gecko3d:ge,any3d:be,mobile:ye,mobileWebkit:ve,mobileWebkit3d:_e,msPointer:we,pointer:ke,touch:Ee,touchNative:Ce,mobileOpera:xe,mobileGecko:Se,retina:Oe,passiveEvents:Te,canvas:Me,svg:Pe,vml:Le,inlineSvg:De,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Ie=ze.msPointer?"MSPointerDown":"pointerdown",Re=ze.msPointer?"MSPointerMove":"pointermove",je=ze.msPointer?"MSPointerUp":"pointerup",Ne=ze.msPointer?"MSPointerCancel":"pointercancel",Fe={touchstart:Ie,touchmove:Re,touchend:je,touchcancel:Ne},Ye={touchstart:function(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Nt(t),qe(e,t)},touchmove:qe,touchend:qe,touchcancel:qe},Be={},He=!1;function Ve(e,t,n){return"touchstart"===t&&(He||(document.addEventListener(Ie,We,!0),document.addEventListener(Re,Ue,!0),document.addEventListener(je,$e,!0),document.addEventListener(Ne,$e,!0),He=!0)),Ye[t]?(n=Ye[t].bind(this,n),e.addEventListener(Fe[t],n,!1),n):(console.warn("wrong event specified:",t),l)}function We(e){Be[e.pointerId]=e}function Ue(e){Be[e.pointerId]&&(Be[e.pointerId]=e)}function $e(e){delete Be[e.pointerId]}function qe(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in t.touches=[],Be)t.touches.push(Be[n]);t.changedTouches=[t],e(t)}}var Ke=200;var Ge,Ze,Je,Xe,Qe,et=gt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),tt=gt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),nt="webkitTransition"===tt||"OTransition"===tt?tt+"End":"transitionend";function it(e){return"string"==typeof e?document.getElementById(e):e}function rt(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(e,null);n=i?i[t]:null}return"auto"===n?null:n}function ot(e,t,n){var i=document.createElement(e);return i.className=t||"",n&&n.appendChild(i),i}function st(e){var t=e.parentNode;t&&t.removeChild(e)}function at(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function lt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function ct(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function ut(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=ft(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function dt(e,t){if(void 0!==e.classList)for(var n=d(t),i=0,r=n.length;i<r;i++)e.classList.add(n[i]);else if(!ut(e,t)){var o=ft(e);pt(e,(o?o+" ":"")+t)}}function ht(e,t){void 0!==e.classList?e.classList.remove(t):pt(e,u((" "+ft(e)+" ").replace(" "+t+" "," ")))}function pt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function ft(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function mt(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&function(e,t){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(i)}catch(e){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+i+"(opacity="+t+")"}(e,t)}function gt(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function bt(e,t,n){var i=t||new P(0,0);e.style[et]=(ze.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function yt(e,t){e._leaflet_pos=t,ze.any3d?bt(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function vt(e){return e._leaflet_pos||new P(0,0)}if("onselectstart"in document)Ge=function(){Tt(window,"selectstart",Nt)},Ze=function(){Pt(window,"selectstart",Nt)};else{var _t=gt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ge=function(){if(_t){var e=document.documentElement.style;Je=e[_t],e[_t]="none"}},Ze=function(){_t&&(document.documentElement.style[_t]=Je,Je=void 0)}}function wt(){Tt(window,"dragstart",Nt)}function kt(){Pt(window,"dragstart",Nt)}function Ct(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Et(),Xe=e,Qe=e.style.outlineStyle,e.style.outlineStyle="none",Tt(window,"keydown",Et))}function Et(){Xe&&(Xe.style.outlineStyle=Qe,Xe=void 0,Qe=void 0,Pt(window,"keydown",Et))}function xt(e){do{e=e.parentNode}while(!(e.offsetWidth&&e.offsetHeight||e===document.body));return e}function St(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Ot={__proto__:null,TRANSFORM:et,TRANSITION:tt,TRANSITION_END:nt,get:it,getStyle:rt,create:ot,remove:st,empty:at,toFront:lt,toBack:ct,hasClass:ut,addClass:dt,removeClass:ht,setClass:pt,getClass:ft,setOpacity:mt,testProp:gt,setTransform:bt,setPosition:yt,getPosition:vt,get disableTextSelection(){return Ge},get enableTextSelection(){return Ze},disableImageDrag:wt,enableImageDrag:kt,preventOutline:Ct,restoreOutline:Et,getSizedParentNode:xt,getScale:St};function Tt(e,t,n,i){if(t&&"object"==typeof t)for(var r in t)At(e,r,t[r],n);else for(var o=0,s=(t=d(t)).length;o<s;o++)At(e,t[o],n,i);return this}var Mt="_leaflet_events";function Pt(e,t,n,i){if(1===arguments.length)Dt(e),delete e[Mt];else if(t&&"object"==typeof t)for(var r in t)zt(e,r,t[r],n);else if(t=d(t),2===arguments.length)Dt(e,(function(e){return-1!==b(t,e)}));else for(var o=0,s=t.length;o<s;o++)zt(e,t[o],n,i);return this}function Dt(e,t){for(var n in e[Mt]){var i=n.split(/\d/)[0];t&&!t(i)||zt(e,i,null,null,n)}}var Lt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function At(e,t,n,i){var r=t+o(n)+(i?"_"+o(i):"");if(e[Mt]&&e[Mt][r])return this;var s=function(t){return n.call(i||e,t||window.event)},a=s;!ze.touchNative&&ze.pointer&&0===t.indexOf("touch")?s=Ve(e,t,s):ze.touch&&"dblclick"===t?s=function(e,t){e.addEventListener("dblclick",t);var n,i=0;function r(e){if(1===e.detail){if("mouse"!==e.pointerType&&(!e.sourceCapabilities||e.sourceCapabilities.firesTouchEvents)){var r=Yt(e);if(!r.some((function(e){return e instanceof HTMLLabelElement&&e.attributes.for}))||r.some((function(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement}))){var o=Date.now();o-i<=Ke?2==++n&&t(function(e){var t,n,i={};for(n in e)t=e[n],i[n]=t&&t.bind?t.bind(e):t;return e=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}(e)):n=1,i=o}}}else n=e.detail}return e.addEventListener("click",r),{dblclick:t,simDblclick:r}}(e,s):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(Lt[t]||t,s,!!ze.passiveEvents&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(s=function(t){t=t||window.event,Wt(e,t)&&a(t)},e.addEventListener(Lt[t],s,!1)):e.addEventListener(t,a,!1):e.attachEvent("on"+t,s),e[Mt]=e[Mt]||{},e[Mt][r]=s}function zt(e,t,n,i,r){r=r||t+o(n)+(i?"_"+o(i):"");var s=e[Mt]&&e[Mt][r];if(!s)return this;!ze.touchNative&&ze.pointer&&0===t.indexOf("touch")?function(e,t,n){Fe[t]?e.removeEventListener(Fe[t],n,!1):console.warn("wrong event specified:",t)}(e,t,s):ze.touch&&"dblclick"===t?function(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}(e,s):"removeEventListener"in e?e.removeEventListener(Lt[t]||t,s,!1):e.detachEvent("on"+t,s),e[Mt][r]=null}function It(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Rt(e){return At(e,"wheel",It),this}function jt(e){return Tt(e,"mousedown touchstart dblclick contextmenu",It),e._leaflet_disable_click=!0,this}function Nt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Ft(e){return Nt(e),It(e),this}function Yt(e){if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;)t.push(n),n=n.parentNode;return t}function Bt(e,t){if(!t)return new P(e.clientX,e.clientY);var n=St(t),i=n.boundingClientRect;return new P((e.clientX-i.left)/n.x-t.clientLeft,(e.clientY-i.top)/n.y-t.clientTop)}var Ht=ze.linux&&ze.chrome?window.devicePixelRatio:ze.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Vt(e){return ze.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Ht:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function Wt(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(e){return!1}return n!==e}var Ut={__proto__:null,on:Tt,off:Pt,stopPropagation:It,disableScrollPropagation:Rt,disableClickPropagation:jt,preventDefault:Nt,stop:Ft,getPropagationPath:Yt,getMousePosition:Bt,getWheelDelta:Vt,isExternalTarget:Wt,addListener:Tt,removeListener:Pt},$t=M.extend({run:function(e,t,n,i){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=vt(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=E(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),yt(this._el,n),this.fire("step")},_complete:function(){x(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),qt=M.extend({options:{crs:q,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=h(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(F(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=tt&&ze.any3d&&!ze.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Tt(this._proxy,nt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,n,i){return n=void 0===n?this._zoom:this._limitZoom(n),e=this._limitCenter(F(e),n,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=t({animate:i.animate},i.zoom),i.pan=t({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,n,i.zoom):this._tryAnimatedPan(e,i.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,n,i.pan&&i.pan.noMoveStart),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var i=this.getZoomScale(t),r=this.getSize().divideBy(2),o=(e instanceof P?e:this.latLngToContainerPoint(e)).subtract(r).multiplyBy(1-1/i),s=this.containerPointToLatLng(r.add(o));return this.setView(s,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():j(e);var n=A(t.paddingTopLeft||t.padding||[0,0]),i=A(t.paddingBottomRight||t.padding||[0,0]),r=this.getBoundsZoom(e,!1,n.add(i));if((r="number"==typeof t.maxZoom?Math.min(t.maxZoom,r):r)===1/0)return{center:e.getCenter(),zoom:r};var o=i.subtract(n).divideBy(2),s=this.project(e.getSouthWest(),r),a=this.project(e.getNorthEast(),r);return{center:this.unproject(s.add(a).divideBy(2).add(o),r),zoom:r}},fitBounds:function(e,t){if(!(e=j(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=A(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new $t,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){dt(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(!1===(n=n||{}).animate||!ze.any3d)return this.setView(e,t,n);this._stop();var i=this.project(this.getCenter()),r=this.project(e),o=this.getSize(),s=this._zoom;e=F(e),t=void 0===t?s:t;var a=Math.max(o.x,o.y),l=a*this.getZoomScale(s,t),c=r.distanceTo(i)||1,u=1.42,d=u*u;function h(e){var t=(l*l-a*a+(e?-1:1)*d*d*c*c)/(2*(e?l:a)*d*c),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function p(e){return(Math.exp(e)-Math.exp(-e))/2}function f(e){return(Math.exp(e)+Math.exp(-e))/2}var m=h(0);function g(e){return a*(f(m)*(p(t=m+u*e)/f(t))-p(m))/d;var t}var b=Date.now(),y=(h(1)-m)/u,v=n.duration?1e3*n.duration:1e3*y*.8;return this._moveStart(!0,n.noMoveStart),function n(){var o=(Date.now()-b)/v,l=function(e){return 1-Math.pow(1-e,1.5)}(o)*y;o<=1?(this._flyToFrame=E(n,this),this._move(this.unproject(i.add(r.subtract(i).multiplyBy(g(l)/c)),s),this.getScaleZoom(a/function(e){return a*(f(m)/f(m+u*e))}(l),s),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=j(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,j(e));return n.equals(i)||this.panTo(i,t),this._enforcingBounds=!1,this},panInside:function(e,t){var n=A((t=t||{}).paddingTopLeft||t.padding||[0,0]),i=A(t.paddingBottomRight||t.padding||[0,0]),r=this.project(this.getCenter()),o=this.project(e),s=this.getPixelBounds(),a=I([s.min.add(n),s.max.subtract(i)]),l=a.getSize();if(!a.contains(o)){this._enforcingBounds=!0;var c=o.subtract(a.getCenter()),u=a.extend(o).getSize().subtract(l);r.x+=c.x<0?-u.x:u.x,r.y+=c.y<0?-u.y:u.y,this.panTo(this.unproject(r),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=t({animate:!1,pan:!0},!0===e?{animate:!0}:e);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=n.divideBy(2).round(),s=r.divideBy(2).round(),a=o.subtract(s);return a.x||a.y?(e.animate&&e.pan?this.panBy(a):(e.pan&&this._rawPanBy(a),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=t({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=i(this._handleGeolocationResponse,this),r=i(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,r,e):navigator.geolocation.getCurrentPosition(n,r,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=new N(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),i=this._locateOptions;if(i.setView){var r=this.getBoundsZoom(n);this.setView(t,i.maxZoom?Math.min(r,i.maxZoom):r)}var o={latlng:t,bounds:n,timestamp:e.timestamp};for(var s in e.coords)"number"==typeof e.coords[s]&&(o[s]=e.coords[s]);this.fire("locationfound",o)}},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),st(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(x(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)st(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=ot("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new R(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=j(e),n=A(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),o=this.getMaxZoom(),s=e.getNorthWest(),a=e.getSouthEast(),l=this.getSize().subtract(n),c=I(this.project(a,i),this.project(s,i)).getSize(),u=ze.any3d?this.options.zoomSnap:1,d=l.x/c.x,h=l.y/c.y,p=t?Math.max(d,h):Math.min(d,h);return i=this.getScaleZoom(p,i),u&&(i=Math.round(i/(u/100))*(u/100),i=t?Math.ceil(i/u)*u:Math.floor(i/u)*u),Math.max(r,Math.min(o,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new P(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new z(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"==typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var i=n.zoom(e*n.scale(t));return isNaN(i)?1/0:i},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(F(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(A(e),t)},layerPointToLatLng:function(e){var t=A(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(F(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(F(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(j(e))},distance:function(e,t){return this.options.crs.distance(F(e),F(t))},containerPointToLayerPoint:function(e){return A(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return A(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(A(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(F(e)))},mouseEventToContainerPoint:function(e){return Bt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=it(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");Tt(t,"scroll",this._onScroll,this),this._containerId=o(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&ze.any3d,dt(e,"leaflet-container"+(ze.touch?" leaflet-touch":"")+(ze.retina?" leaflet-retina":"")+(ze.ielt9?" leaflet-oldie":"")+(ze.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=rt(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&"sticky"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),yt(this._mapPane,new P(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(dt(e.markerPane,"leaflet-zoom-hide"),dt(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,n){yt(this._mapPane,new P(0,0));var i=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var r=this._zoom!==t;this._moveStart(r,n)._move(e,t)._moveEnd(r),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n,i){void 0===t&&(t=this._zoom);var r=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),i?n&&n.pinch&&this.fire("zoom",n):((r||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return x(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){yt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[o(this._container)]=this;var t=e?Pt:Tt;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),ze.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){x(this._resizeRequest),this._resizeRequest=E((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,i=[],r="mouseout"===t||"mouseover"===t,s=e.target||e.srcElement,a=!1;s;){if((n=this._targets[o(s)])&&("click"===t||"preclick"===t)&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(t,!0)){if(r&&!Wt(s,e))break;if(i.push(n),r)break}if(s===this._container)break;s=s.parentNode}return i.length||a||r||!this.listens(t,!0)||(i=[this]),i},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||"click"===e.type&&this._isClickDisabled(t))){var n=e.type;"mousedown"===n&&Ct(t),this._fireDOMEvent(e,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,n,i){if("click"===e.type){var r=t({},e);r.type="preclick",this._fireDOMEvent(r,r.type,i)}var o=this._findEventTargets(e,n);if(i){for(var s=[],a=0;a<i.length;a++)i[a].listens(n,!0)&&s.push(i[a]);o=s.concat(o)}if(o.length){"contextmenu"===n&&Nt(e);var l=o[0],c={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var u=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=u?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(e),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=u?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(a=0;a<o.length;a++)if(o[a].fire(n,c,!0),c.originalEvent._stopped||!1===o[a].options.bubblingMouseEvents&&-1!==b(this._mouseEvents,n))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return vt(this._mapPane)||new P(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var i=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(i)},_latLngBoundsToNewLayerBounds:function(e,t,n){var i=this._getNewPixelOrigin(n,t);return I([this.project(e.getSouthWest(),t)._subtract(i),this.project(e.getNorthWest(),t)._subtract(i),this.project(e.getSouthEast(),t)._subtract(i),this.project(e.getNorthEast(),t)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var i=this.project(e,t),r=this.getSize().divideBy(2),o=new z(i.subtract(r),i.add(r)),s=this._getBoundsOffset(o,n,t);return Math.abs(s.x)<=1&&Math.abs(s.y)<=1?e:this.unproject(i.add(s),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),i=new z(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(i,t))},_getBoundsOffset:function(e,t,n){var i=I(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),r=i.min.subtract(e.min),o=i.max.subtract(e.max);return new P(this._rebound(r.x,-o.x),this._rebound(r.y,-o.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),i=ze.any3d?this.options.zoomSnap:1;return i&&(e=Math.round(e/i)*i),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ht(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n)||(this.panBy(n,t),0))},_createAnimProxy:function(){var e=this._proxy=ot("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=et,n=this._proxy.style[t];bt(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){st(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();bt(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(t),r=this._getCenterOffset(e)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(r)||(E((function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(e,t,!0)}),this),0))},_animateZoom:function(e,t,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,dt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:r}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ht(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var Kt=O.extend({options:{position:"topright"},initialize:function(e){h(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),i=e._controlCorners[n];return dt(t,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(t,i.firstChild):i.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(st(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Gt=function(e){return new Kt(e)};qt.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=ot("div",t+"control-container",this._container);function i(i,r){var o=t+i+" "+t+r;e[i+r]=ot("div",o,n)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)st(this._controlCorners[e]);st(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Zt=Kt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,i){return n<i?-1:i<n?1:0}},initialize:function(e,t,n){for(var i in h(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,e)this._addLayer(e[i],i);for(i in t)this._addLayer(t[i],i,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Kt.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(o(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){dt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(dt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):ht(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ht(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=ot("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),jt(t),Rt(t);var i=this._section=ot("section",e+"-list");n&&(this._map.on("click",this.collapse,this),Tt(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var r=this._layersLink=ot("a",e+"-toggle",t);r.href="#",r.title="Layers",r.setAttribute("role","button"),Tt(r,{keydown:function(e){13===e.keyCode&&this._expandSafely()},click:function(e){Nt(e),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=ot("div",e+"-base",i),this._separator=ot("div",e+"-separator",i),this._overlaysList=ot("div",e+"-overlays",i),t.appendChild(i)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&o(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(i((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;at(this._baseLayersList),at(this._overlaysList),this._layerControlInputs=[];var e,t,n,i,r=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),t=t||i.overlay,e=e||!i.overlay,r+=i.overlay?0:1;return this.options.hideSingleBase&&(e=e&&r>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(o(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(e){var t,n=document.createElement("label"),i=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=i):t=this._createRadioElement("leaflet-base-layers_"+o(this),i),this._layerControlInputs.push(t),t.layerId=o(e.layer),Tt(t,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+e.name;var s=document.createElement("span");return n.appendChild(s),s.appendChild(t),s.appendChild(r),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var e,t,n=this._layerControlInputs,i=[],r=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)e=n[o],t=this._getLayer(e.layerId).layer,e.checked?i.push(t):e.checked||r.push(t);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])&&this._map.removeLayer(r[o]);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])||this._map.addLayer(i[o]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,i=this._map.getZoom(),r=n.length-1;r>=0;r--)e=n[r],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&i<t.options.minZoom||void 0!==t.options.maxZoom&&i>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,Tt(e,"click",Nt),this.expand();var t=this;setTimeout((function(){Pt(e,"click",Nt),t._preventClick=!1}))}}),Jt=Kt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=ot("div",t+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,i,r){var o=ot("a",n,i);return o.innerHTML=e,o.href="#",o.title=t,o.setAttribute("role","button"),o.setAttribute("aria-label",t),jt(o),Tt(o,"click",Ft),Tt(o,"click",r,this),Tt(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";ht(this._zoomInButton,t),ht(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(dt(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(dt(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});qt.mergeOptions({zoomControl:!0}),qt.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new Jt,this.addControl(this.zoomControl))}));var Xt=Kt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=ot("div",t),i=this.options;return this._addScales(i,t+"-line",n),e.on(i.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=ot("div",t,n)),e.imperial&&(this._iScale=ot("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,i,r=3.2808399*e;r>5280?(t=r/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(i=this._getRoundNum(r),this._updateScale(this._iScale,i+" ft",i/r))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),Qt=Kt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ze.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(e){h(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=ot("div","leaflet-control-attribution"),jt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",(function(){this.removeAttribution(e.layer.getAttribution())}),this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});qt.mergeOptions({attributionControl:!0}),qt.addInitHook((function(){this.options.attributionControl&&(new Qt).addTo(this)}));Kt.Layers=Zt,Kt.Zoom=Jt,Kt.Scale=Xt,Kt.Attribution=Qt,Gt.layers=function(e,t,n){return new Zt(e,t,n)},Gt.zoom=function(e){return new Jt(e)},Gt.scale=function(e){return new Xt(e)},Gt.attribution=function(e){return new Qt(e)};var en=O.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});en.addTo=function(e,t){return e.addHandler(t,this),this};var tn={Events:T},nn=ze.touch?"touchstart mousedown":"mousedown",rn=M.extend({options:{clickTolerance:3},initialize:function(e,t,n,i){h(this,i),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(Tt(this._dragStartTarget,nn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(rn._dragging===this&&this.finishDrag(!0),Pt(this._dragStartTarget,nn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!ut(this._element,"leaflet-zoom-anim")))if(e.touches&&1!==e.touches.length)rn._dragging===this&&this.finishDrag();else if(!(rn._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches||(rn._dragging=this,this._preventOutline&&Ct(this._element),wt(),Ge(),this._moving))){this.fire("down");var t=e.touches?e.touches[0]:e,n=xt(this._element);this._startPoint=new P(t.clientX,t.clientY),this._startPos=vt(this._element),this._parentScale=St(n);var i="mousedown"===e.type;Tt(document,i?"mousemove":"touchmove",this._onMove,this),Tt(document,i?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(e){if(this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new P(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Nt(e),this._moved||(this.fire("dragstart"),this._moved=!0,dt(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),dt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=e,this._updatePosition()))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),yt(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){ht(document.body,"leaflet-dragging"),this._lastTarget&&(ht(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Pt(document,"mousemove touchmove",this._onMove,this),Pt(document,"mouseup touchend touchcancel",this._onUp,this),kt(),Ze();var t=this._moved&&this._moving;this._moving=!1,rn._dragging=!1,t&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function on(e,t,n){var i,r,o,s,a,l,c,u,d,h=[1,4,2,8];for(r=0,c=e.length;r<c;r++)e[r]._code=mn(e[r],t);for(s=0;s<4;s++){for(u=h[s],i=[],r=0,o=(c=e.length)-1;r<c;o=r++)a=e[r],l=e[o],a._code&u?l._code&u||((d=fn(l,a,u,t,n))._code=mn(d,t),i.push(d)):(l._code&u&&((d=fn(l,a,u,t,n))._code=mn(d,t),i.push(d)),i.push(a));e=i}return e}function sn(e,t){var n,i,r,o,s,a,l,c,u;if(!e||0===e.length)throw new Error("latlngs not passed");yn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var d=F([0,0]),h=j(e);h.getNorthWest().distanceTo(h.getSouthWest())*h.getNorthEast().distanceTo(h.getNorthWest())<1700&&(d=an(e));var p=e.length,f=[];for(n=0;n<p;n++){var m=F(e[n]);f.push(t.project(F([m.lat-d.lat,m.lng-d.lng])))}for(a=l=c=0,n=0,i=p-1;n<p;i=n++)r=f[n],o=f[i],s=r.y*o.x-o.y*r.x,l+=(r.x+o.x)*s,c+=(r.y+o.y)*s,a+=3*s;u=0===a?f[0]:[l/a,c/a];var g=t.unproject(A(u));return F([g.lat+d.lat,g.lng+d.lng])}function an(e){for(var t=0,n=0,i=0,r=0;r<e.length;r++){var o=F(e[r]);t+=o.lat,n+=o.lng,i++}return F([t/i,n/i])}var ln,cn={__proto__:null,clipPolygon:on,polygonCenter:sn,centroid:an};function un(e,t){if(!t||!e.length)return e.slice();var n=t*t;return function(e,t){var n=e.length,i=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,hn(e,i,t,0,n-1);var r,o=[];for(r=0;r<n;r++)i[r]&&o.push(e[r]);return o}(e=function(e,t){for(var n=[e[0]],i=1,r=0,o=e.length;i<o;i++)gn(e[i],e[r])>t&&(n.push(e[i]),r=i);return r<o-1&&n.push(e[o-1]),n}(e,n),n)}function dn(e,t,n){return Math.sqrt(bn(e,t,n,!0))}function hn(e,t,n,i,r){var o,s,a,l=0;for(s=i+1;s<=r-1;s++)(a=bn(e[s],e[i],e[r],!0))>l&&(o=s,l=a);l>n&&(t[o]=1,hn(e,t,n,i,o),hn(e,t,n,o,r))}function pn(e,t,n,i,r){var o,s,a,l=i?ln:mn(e,n),c=mn(t,n);for(ln=c;;){if(!(l|c))return[e,t];if(l&c)return!1;a=mn(s=fn(e,t,o=l||c,n,r),n),o===l?(e=s,l=a):(t=s,c=a)}}function fn(e,t,n,i,r){var o,s,a=t.x-e.x,l=t.y-e.y,c=i.min,u=i.max;return 8&n?(o=e.x+a*(u.y-e.y)/l,s=u.y):4&n?(o=e.x+a*(c.y-e.y)/l,s=c.y):2&n?(o=u.x,s=e.y+l*(u.x-e.x)/a):1&n&&(o=c.x,s=e.y+l*(c.x-e.x)/a),new P(o,s,r)}function mn(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function gn(e,t){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i}function bn(e,t,n,i){var r,o=t.x,s=t.y,a=n.x-o,l=n.y-s,c=a*a+l*l;return c>0&&((r=((e.x-o)*a+(e.y-s)*l)/c)>1?(o=n.x,s=n.y):r>0&&(o+=a*r,s+=l*r)),a=e.x-o,l=e.y-s,i?a*a+l*l:new P(o,s)}function yn(e){return!g(e[0])||"object"!=typeof e[0][0]&&void 0!==e[0][0]}function vn(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),yn(e)}function _n(e,t){var n,i,r,o,s,a,l,c;if(!e||0===e.length)throw new Error("latlngs not passed");yn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var u=F([0,0]),d=j(e);d.getNorthWest().distanceTo(d.getSouthWest())*d.getNorthEast().distanceTo(d.getNorthWest())<1700&&(u=an(e));var h=e.length,p=[];for(n=0;n<h;n++){var f=F(e[n]);p.push(t.project(F([f.lat-u.lat,f.lng-u.lng])))}for(n=0,i=0;n<h-1;n++)i+=p[n].distanceTo(p[n+1])/2;if(0===i)c=p[0];else for(n=0,o=0;n<h-1;n++)if(s=p[n],a=p[n+1],(o+=r=s.distanceTo(a))>i){l=(o-i)/r,c=[a.x-l*(a.x-s.x),a.y-l*(a.y-s.y)];break}var m=t.unproject(A(c));return F([m.lat+u.lat,m.lng+u.lng])}var wn={__proto__:null,simplify:un,pointToSegmentDistance:dn,closestPointOnSegment:function(e,t,n){return bn(e,t,n)},clipSegment:pn,_getEdgeIntersection:fn,_getBitCode:mn,_sqClosestPointOnSegment:bn,isFlat:yn,_flat:vn,polylineCenter:_n},kn={project:function(e){return new P(e.lng,e.lat)},unproject:function(e){return new N(e.y,e.x)},bounds:new z([-180,-90],[180,90])},Cn={R:6378137,R_MINOR:6356752.314245179,bounds:new z([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,i=e.lat*t,r=this.R_MINOR/n,o=Math.sqrt(1-r*r),s=o*Math.sin(i),a=Math.tan(Math.PI/4-i/2)/Math.pow((1-s)/(1+s),o/2);return i=-n*Math.log(Math.max(a,1e-10)),new P(e.lng*t*n,i)},unproject:function(e){for(var t,n=180/Math.PI,i=this.R,r=this.R_MINOR/i,o=Math.sqrt(1-r*r),s=Math.exp(-e.y/i),a=Math.PI/2-2*Math.atan(s),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)t=o*Math.sin(a),t=Math.pow((1-t)/(1+t),o/2),a+=c=Math.PI/2-2*Math.atan(s*t)-a;return new N(a*n,e.x*n/i)}},En={__proto__:null,LonLat:kn,Mercator:Cn,SphericalMercator:W},xn=t({},H,{code:"EPSG:3395",projection:Cn,transformation:function(){var e=.5/(Math.PI*Cn.R);return $(e,.5,-e,.5)}()}),Sn=t({},H,{code:"EPSG:4326",projection:kn,transformation:$(1/180,1,-1/180,.5)}),On=t({},B,{projection:kn,transformation:$(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,i=t.lat-e.lat;return Math.sqrt(n*n+i*i)},infinite:!0});B.Earth=H,B.EPSG3395=xn,B.EPSG3857=q,B.EPSG900913=K,B.EPSG4326=Sn,B.Simple=On;var Tn=M.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[o(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[o(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",(function(){t.off(n,this)}),this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});qt.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=o(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=o(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return o(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?g(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[o(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=o(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var r=this._zoomBoundLayers[i].options;e=void 0===r.minZoom?e:Math.min(e,r.minZoom),t=void 0===r.maxZoom?t:Math.max(t,r.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Mn=Tn.extend({initialize:function(e,t){var n,i;if(h(this,t),this._layers={},e)for(n=0,i=e.length;n<i;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return("number"==typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,i=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,i);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return o(e)}}),Pn=Mn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Mn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Mn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new R;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),Dn=O.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){h(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(i,e),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),i},_setIconStyles:function(e,t){var n=this.options,i=n[t+"Size"];"number"==typeof i&&(i=[i,i]);var r=A(i),o=A("shadow"===t&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),o&&(e.style.marginLeft=-o.x+"px",e.style.marginTop=-o.y+"px"),r&&(e.style.width=r.x+"px",e.style.height=r.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return ze.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});var Ln=Dn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return"string"!=typeof Ln.imagePath&&(Ln.imagePath=this._detectIconPath()),(this.options.imagePath||Ln.imagePath)+Dn.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,n){var i=t.exec(e);return i&&i[n]};return(e=t(e,/^url\((['"])?(.+)\1\)$/,2))&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=ot("div","leaflet-default-icon-path",document.body),t=rt(e,"background-image")||rt(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t))return t;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),An=en.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new rn(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),dt(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ht(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,i=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,o=vt(t._icon),s=n.getPixelBounds(),a=n.getPixelOrigin(),l=I(s.min._subtract(a).add(r),s.max._subtract(a).subtract(r));if(!l.contains(o)){var c=A((Math.max(l.max.x,o.x)-l.max.x)/(s.max.x-l.max.x)-(Math.min(l.min.x,o.x)-l.min.x)/(s.min.x-l.min.x),(Math.max(l.max.y,o.y)-l.max.y)/(s.max.y-l.max.y)-(Math.min(l.min.y,o.y)-l.min.y)/(s.min.y-l.min.y)).multiplyBy(i);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),yt(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=E(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(x(this._panRequest),this._panRequest=E(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,i=vt(t._icon),r=t._map.layerPointToLatLng(i);n&&yt(n,i),t._latlng=r,e.latlng=r,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){x(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),zn=Tn.extend({options:{icon:new Ln,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){h(this,t),this._latlng=F(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=F(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),dt(n,t),e.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Tt(n,"focus",this._panOnFocus,this);var r=e.icon.createShadow(this._shadow),o=!1;r!==this._shadow&&(this._removeShadow(),o=!0),r&&(dt(r,t),r.alt=""),this._shadow=r,e.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&o&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pt(this._icon,"focus",this._panOnFocus,this),st(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&st(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&yt(this._icon,e),this._shadow&&yt(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(dt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),An)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new An(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&mt(this._icon,e),this._shadow&&mt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,n=t.iconSize?A(t.iconSize):A(0,0),i=t.iconAnchor?A(t.iconAnchor):A(0,0);e.panInside(this._latlng,{paddingTopLeft:i,paddingBottomRight:n.subtract(i)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var In=Tn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return h(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Rn=In.extend({options:{fill:!0,radius:10},initialize:function(e,t){h(this,t),this._latlng=F(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=F(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return In.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),i=[e+n,t+n];this._pxBounds=new z(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var jn=Rn.extend({initialize:function(e,n,i){if("number"==typeof n&&(n=t({},i,{radius:n})),h(this,n),this._latlng=F(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new R(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:In.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===H.distance){var r=Math.PI/180,o=this._mRadius/H.R/r,s=n.project([t+o,e]),a=n.project([t-o,e]),l=s.add(a).divideBy(2),c=n.unproject(l).lat,u=Math.acos((Math.cos(o*r)-Math.sin(t*r)*Math.sin(c*r))/(Math.cos(t*r)*Math.cos(c*r)))/r;(isNaN(u)||0===u)&&(u=o/Math.cos(Math.PI/180*t)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:l.x-n.project([c,e-u]).x,this._radiusY=l.y-s.y}else{var d=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(d).x}this._updateBounds()}});var Nn=In.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){h(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,i=1/0,r=null,o=bn,s=0,a=this._parts.length;s<a;s++)for(var l=this._parts[s],c=1,u=l.length;c<u;c++){var d=o(e,t=l[c-1],n=l[c],!0);d<i&&(i=d,r=o(e,t,n))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _n(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=F(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new R,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return yn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=yn(e),i=0,r=e.length;i<r;i++)n?(t[i]=F(e[i]),this._bounds.extend(t[i])):t[i]=this._convertLatLngs(e[i]);return t},_project:function(){var e=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new P(e,e);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,n){var i,r,o=e[0]instanceof N,s=e.length;if(o){for(r=[],i=0;i<s;i++)r[i]=this._map.latLngToLayerPoint(e[i]),n.extend(r[i]);t.push(r)}else for(i=0;i<s;i++)this._projectLatlngs(e[i],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,i,r,o,s,a,l=this._parts;for(t=0,i=0,r=this._rings.length;t<r;t++)for(n=0,o=(a=this._rings[t]).length;n<o-1;n++)(s=pn(a[n],a[n+1],e,n,!0))&&(l[i]=l[i]||[],l[i].push(s[0]),s[1]===a[n+1]&&n!==o-2||(l[i].push(s[1]),i++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,i=e.length;n<i;n++)e[n]=un(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,i,r,o,s,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,o=this._parts.length;n<o;n++)for(i=0,r=(s=(a=this._parts[n]).length)-1;i<s;r=i++)if((t||0!==i)&&dn(e,a[r],a[i])<=l)return!0;return!1}});Nn._flat=vn;var Fn=Nn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return sn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=Nn.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof N&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){Nn.prototype._setLatLngs.call(this,e),yn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return yn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new P(t,t);if(e=new z(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var i,r=0,o=this._rings.length;r<o;r++)(i=on(this._rings[r],e,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,i,r,o,s,a,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(r=0,a=this._parts.length;r<a;r++)for(o=0,s=(l=(t=this._parts[r]).length)-1;o<l;s=o++)n=t[o],i=t[s],n.y>e.y!=i.y>e.y&&e.x<(i.x-n.x)*(e.y-n.y)/(i.y-n.y)+n.x&&(c=!c);return c||Nn.prototype._containsPoint.call(this,e,!0)}});var Yn=Pn.extend({initialize:function(e,t){h(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,i,r=g(e)?e:e.features;if(r){for(t=0,n=r.length;t<n;t++)((i=r[t]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var o=this.options;if(o.filter&&!o.filter(e))return this;var s=Bn(e,o);return s?(s.feature=Kn(e),s.defaultOptions=s.options,this.resetStyle(s),o.onEachFeature&&o.onEachFeature(e,s),this.addLayer(s)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=t({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){e.setStyle&&("function"==typeof t&&(t=t(e.feature)),e.setStyle(t))}});function Bn(e,t){var n,i,r,o,s="Feature"===e.type?e.geometry:e,a=s?s.coordinates:null,l=[],c=t&&t.pointToLayer,u=t&&t.coordsToLatLng||Vn;if(!a&&!s)return null;switch(s.type){case"Point":return Hn(c,e,n=u(a),t);case"MultiPoint":for(r=0,o=a.length;r<o;r++)n=u(a[r]),l.push(Hn(c,e,n,t));return new Pn(l);case"LineString":case"MultiLineString":return i=Wn(a,"LineString"===s.type?0:1,u),new Nn(i,t);case"Polygon":case"MultiPolygon":return i=Wn(a,"Polygon"===s.type?1:2,u),new Fn(i,t);case"GeometryCollection":for(r=0,o=s.geometries.length;r<o;r++){var d=Bn({geometry:s.geometries[r],type:"Feature",properties:e.properties},t);d&&l.push(d)}return new Pn(l);case"FeatureCollection":for(r=0,o=s.features.length;r<o;r++){var h=Bn(s.features[r],t);h&&l.push(h)}return new Pn(l);default:throw new Error("Invalid GeoJSON object.")}}function Hn(e,t,n,i){return e?e(t,n):new zn(n,i&&i.markersInheritOptions&&i)}function Vn(e){return new N(e[1],e[0],e[2])}function Wn(e,t,n){for(var i,r=[],o=0,s=e.length;o<s;o++)i=t?Wn(e[o],t-1,n):(n||Vn)(e[o]),r.push(i);return r}function Un(e,t){return void 0!==(e=F(e)).alt?[c(e.lng,t),c(e.lat,t),c(e.alt,t)]:[c(e.lng,t),c(e.lat,t)]}function $n(e,t,n,i){for(var r=[],o=0,s=e.length;o<s;o++)r.push(t?$n(e[o],yn(e[o])?0:t-1,n,i):Un(e[o],i));return!t&&n&&r.length>0&&r.push(r[0].slice()),r}function qn(e,n){return e.feature?t({},e.feature,{geometry:n}):Kn(n)}function Kn(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var Gn={toGeoJSON:function(e){return qn(this,{type:"Point",coordinates:Un(this.getLatLng(),e)})}};function Zn(e,t){return new Yn(e,t)}zn.include(Gn),jn.include(Gn),Rn.include(Gn),Nn.include({toGeoJSON:function(e){var t=!yn(this._latlngs);return qn(this,{type:(t?"Multi":"")+"LineString",coordinates:$n(this._latlngs,t?1:0,!1,e)})}}),Fn.include({toGeoJSON:function(e){var t=!yn(this._latlngs),n=t&&!yn(this._latlngs[0]),i=$n(this._latlngs,n?2:t?1:0,!0,e);return t||(i=[i]),qn(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),Mn.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(n){t.push(n.toGeoJSON(e).geometry.coordinates)})),qn(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,i=[];return this.eachLayer((function(t){if(t.toGeoJSON){var r=t.toGeoJSON(e);if(n)i.push(r.geometry);else{var o=Kn(r);"FeatureCollection"===o.type?i.push.apply(i,o.features):i.push(o)}}})),n?qn(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var Jn=Zn,Xn=Tn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=j(t),h(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(dt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){st(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&lt(this._image),this},bringToBack:function(){return this._map&&ct(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=j(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:ot("img");dt(t,"leaflet-image-layer"),this._zoomAnimated&&dt(t,"leaflet-zoom-animated"),this.options.className&&dt(t,this.options.className),t.onselectstart=l,t.onmousemove=l,t.onload=i(this.fire,this,"load"),t.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;bt(this._image,n,t)},_reset:function(){var e=this._image,t=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();yt(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){mt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Qn=Xn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:ot("video");if(dt(t,"leaflet-image-layer"),this._zoomAnimated&&dt(t,"leaflet-zoom-animated"),this.options.className&&dt(t,this.options.className),t.onselectstart=l,t.onmousemove=l,t.onloadeddata=i(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),r=[],o=0;o<n.length;o++)r.push(n[o].src);this._url=n.length>0?r:[t.src]}else{g(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var s=0;s<this._url.length;s++){var a=ot("source");a.src=this._url[s],t.appendChild(a)}}}});var ei=Xn.extend({_initImage:function(){var e=this._image=this._url;dt(e,"leaflet-image-layer"),this._zoomAnimated&&dt(e,"leaflet-zoom-animated"),this.options.className&&dt(e,this.options.className),e.onselectstart=l,e.onmousemove=l}});var ti=Tn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof N||g(e))?(this._latlng=F(e),h(this,t)):(h(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&mt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&mt(this._container,1),this.bringToFront(),this.options.interactive&&(dt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(mt(this._container,0),this._removeTimeout=setTimeout(i(st,void 0,this._container),200)):st(this._container),this.options.interactive&&(ht(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=F(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&lt(this._container),this},bringToBack:function(){return this._map&&ct(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof Pn){t=null;var n=this._source._layers;for(var i in n)if(n[i]._map){t=n[i];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else{if(!t.getBounds)throw new Error("Unable to get source layer LatLng.");e=t.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=A(this.options.offset),n=this._getAnchor();this._zoomAnimated?yt(this._container,e.add(n)):t=t.add(e).add(n);var i=this._containerBottom=-t.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=i+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}});qt.include({_initOverlay:function(e,t,n,i){var r=t;return r instanceof e||(r=new e(i).setContent(t)),n&&r.setLatLng(n),r}}),Tn.include({_initOverlay:function(e,t,n,i){var r=n;return r instanceof e?(h(r,i),r._source=this):(r=t&&!i?t:new e(i,this)).setContent(n),r}});var ni=ti.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,ti.prototype.openOn.call(this,e)},onAdd:function(e){ti.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof In||this._source.on("preclick",It))},onRemove:function(e){ti.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof In||this._source.off("preclick",It))},getEvents:function(){var e=ti.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=ot("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ot("div",e+"-content-wrapper",t);if(this._contentNode=ot("div",e+"-content",n),jt(t),Rt(this._contentNode),Tt(t,"contextmenu",It),this._tipContainer=ot("div",e+"-tip-container",t),this._tip=ot("div",e+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=ot("a",e+"-close-button",t);i.setAttribute("role","button"),i.setAttribute("aria-label","Close popup"),i.href="#close",i.innerHTML='<span aria-hidden="true">&#215;</span>',Tt(i,"click",(function(e){Nt(e),this.close()}),this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var i=e.offsetHeight,r=this.options.maxHeight,o="leaflet-popup-scrolled";r&&i>r?(t.height=r+"px",dt(e,o)):ht(e,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();yt(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var e=this._map,t=parseInt(rt(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,i=this._containerWidth,r=new P(this._containerLeft,-n-this._containerBottom);r._add(vt(this._container));var o=e.layerPointToContainerPoint(r),s=A(this.options.autoPanPadding),a=A(this.options.autoPanPaddingTopLeft||s),l=A(this.options.autoPanPaddingBottomRight||s),c=e.getSize(),u=0,d=0;o.x+i+l.x>c.x&&(u=o.x+i-c.x+l.x),o.x-u-a.x<0&&(u=o.x-a.x),o.y+n+l.y>c.y&&(d=o.y+n-c.y+l.y),o.y-d-a.y<0&&(d=o.y-a.y),(u||d)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([u,d]))}},_getAnchor:function(){return A(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});qt.mergeOptions({closePopupOnClick:!0}),qt.include({openPopup:function(e,t,n){return this._initOverlay(ni,e,t,n).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),Tn.include({bindPopup:function(e,t){return this._popup=this._initOverlay(ni,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Pn||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(this._popup&&this._map){Ft(e);var t=e.layer||e.target;this._popup._source!==t||t instanceof In?(this._popup._source=t,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var ii=ti.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){ti.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){ti.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=ti.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ot("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+o(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,i=this._map,r=this._container,o=i.latLngToContainerPoint(i.getCenter()),s=i.layerPointToContainerPoint(e),a=this.options.direction,l=r.offsetWidth,c=r.offsetHeight,u=A(this.options.offset),d=this._getAnchor();"top"===a?(t=l/2,n=c):"bottom"===a?(t=l/2,n=0):"center"===a?(t=l/2,n=c/2):"right"===a?(t=0,n=c/2):"left"===a?(t=l,n=c/2):s.x<o.x?(a="right",t=0,n=c/2):(a="left",t=l+2*(u.x+d.x),n=c/2),e=e.subtract(A(t,n,!0)).add(u).add(d),ht(r,"leaflet-tooltip-right"),ht(r,"leaflet-tooltip-left"),ht(r,"leaflet-tooltip-top"),ht(r,"leaflet-tooltip-bottom"),dt(r,"leaflet-tooltip-"+a),yt(r,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&mt(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return A(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});qt.include({openTooltip:function(e,t,n){return this._initOverlay(ii,e,t,n).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Tn.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ii,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Pn||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t="function"==typeof e.getElement&&e.getElement();t&&(Tt(t,"focus",(function(){this._tooltip._source=e,this.openTooltip()}),this),Tt(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t="function"==typeof e.getElement&&e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once("moveend",(function(){t._openOnceFlag=!1,t._openTooltip(e)}))}else this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,n,i=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var ri=Dn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(at(t),t.appendChild(n.html)):t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=A(n.bgPos);t.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});Dn.Default=Ln;var oi=Tn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ze.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){h(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),st(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(lt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ct(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof P?e:new P(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,i=-e(-1/0,1/0),r=0,o=n.length;r<o;r++)t=n[r].style.zIndex,n[r]!==this._container&&t&&(i=e(i,+t));isFinite(i)&&(this.options.zIndex=i+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ze.ielt9){mt(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var i in this._tiles){var r=this._tiles[i];if(r.current&&r.loaded){var o=Math.min(1,(e-r.loaded)/200);mt(r.el,o),o<1?t=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(x(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=ot("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(st(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[e],r=this._map;return i||((i=this._levels[e]={}).el=ot("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=t,i.origin=r.project(r.unproject(r.getPixelOrigin()),e).round(),i.zoom=e,this._setZoomTransform(i,r.getCenter(),r.getZoom()),i.el.offsetWidth,this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var i=t.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)st(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,i){var r=Math.floor(e/2),o=Math.floor(t/2),s=n-1,a=new P(+r,+o);a.z=+s;var l=this._tileCoordsToKey(a),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),s>i&&this._retainParent(r,o,s,i))},_retainChildren:function(e,t,n,i){for(var r=2*e;r<2*e+2;r++)for(var o=2*t;o<2*t+2;o++){var s=new P(r,o);s.z=n+1;var a=this._tileCoordsToKey(s),l=this._tiles[a];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<i&&this._retainChildren(r,o,n+1,i))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,i){var r=Math.round(t);r=void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom?void 0:this._clampZoom(r);var o=this.options.updateWhenZooming&&r!==this._tileZoom;i&&!o||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var i=this._map.getZoomScale(n,e.zoom),r=e.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(t,n)).round();ze.any3d?bt(e.el,r,i):yt(e.el,r)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],i).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],i).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],i).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),i=t.getZoomScale(n,this._tileZoom),r=t.project(e,this._tileZoom).floor(),o=t.getSize().divideBy(2*i);return new z(r.subtract(o),r.add(o))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(e),r=this._pxBoundsToTileRange(i),o=r.getCenter(),s=[],a=this.options.keepBuffer,l=new z(r.getBottomLeft().subtract([a,-a]),r.getTopRight().add([a,-a]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var u=this._tiles[c].coords;u.z===this._tileZoom&&l.contains(new P(u.x,u.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var d=r.min.y;d<=r.max.y;d++)for(var h=r.min.x;h<=r.max.x;h++){var p=new P(h,d);if(p.z=this._tileZoom,this._isValidTile(p)){var f=this._tiles[this._tileCoordsToKey(p)];f?f.current=!0:s.push(p)}}if(s.sort((function(e,t){return e.distanceTo(o)-t.distanceTo(o)})),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(h=0;h<s.length;h++)this._addTile(s[h],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(e);return j(this.options.bounds).overlaps(i)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),i=e.scaleBy(n),r=i.add(n);return[t.unproject(i,e.z),t.unproject(r,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new R(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new P(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(st(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){dt(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=l,e.onmousemove=l,ze.ielt9&&this.options.opacity<1&&mt(e,this.options.opacity)},_addTile:function(e,t){var n=this._getTilePos(e),r=this._tileCoordsToKey(e),o=this.createTile(this._wrapCoords(e),i(this._tileReady,this,e));this._initTile(o),this.createTile.length<2&&E(i(this._tileReady,this,e,null,o)),yt(o,n),this._tiles[r]={el:o,coords:e,current:!0},t.appendChild(o),this.fire("tileloadstart",{tile:o,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var r=this._tileCoordsToKey(e);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(mt(n.el,0),x(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(dt(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ze.ielt9||!this._map._fadeAnimated?E(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new P(this._wrapX?a(e.x,this._wrapX):e.x,this._wrapY?a(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new z(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});var si=oi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,(t=h(this,t)).detectRetina&&ze.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),"string"==typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return Tt(n,"load",i(this._tileOnLoad,this,t,n)),Tt(n,"error",i(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(e),n},getTileUrl:function(e){var n={r:ze.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-e.y;this.options.tms&&(n.y=i),n["-y"]=i}return m(this._url,t(n,this.options))},_tileOnLoad:function(e,t){ze.ielt9?setTimeout(i(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var i=this.options.errorTileUrl;i&&t.getAttribute("src")!==i&&(t.src=i),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=l,t.onerror=l,!t.complete)){t.src=y;var n=this._tiles[e].coords;st(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:n})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",y),oi.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==y))return oi.prototype._tileReady.call(this,e,t,n)}});function ai(e,t){return new si(e,t)}var li=si.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,n){this._url=e;var i=t({},this.defaultWmsParams);for(var r in n)r in this.options||(i[r]=n[r]);var o=(n=h(this,n)).detectRetina&&ze.retina?2:1,s=this.getTileSize();i.width=s.x*o,i.height=s.y*o,this.wmsParams=i},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,si.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,i=I(n.project(t[0]),n.project(t[1])),r=i.min,o=i.max,s=(this._wmsVersion>=1.3&&this._crs===Sn?[r.y,r.x,o.y,o.x]:[r.x,r.y,o.x,o.y]).join(","),a=si.prototype.getTileUrl.call(this,e);return a+p(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(e,n){return t(this.wmsParams,e),n||this.redraw(),this}});si.WMS=li,ai.wms=function(e,t){return new li(e,t)};var ci=Tn.extend({options:{padding:.1},initialize:function(e){h(this,e),o(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),dt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),i=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,t),o=i.multiplyBy(-n).add(r).subtract(this._map._getNewPixelOrigin(e,t));ze.any3d?bt(this._container,o,n):yt(this._container,o)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new z(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ui=ci.extend({options:{tolerance:0},getEvents:function(){var e=ci.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ci.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Tt(e,"mousemove",this._onMouseMove,this),Tt(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Tt(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){x(this._redrawRequest),delete this._ctx,st(this._container),Pt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){ci.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),i=ze.retina?2:1;yt(t,e.min),t.width=i*n.x,t.height=i*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",ze.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){ci.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[o(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,i=t.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete e._order,delete this._layers[o(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"==typeof e.options.dashArray){var t,n,i=e.options.dashArray.split(/[, ]+/),r=[];for(n=0;n<i.length;n++){if(t=Number(i[n]),isNaN(t))return;r.push(t)}e.options._dashArray=r}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||E(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)e=i.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,i,r,o,s=e._parts,a=s.length,l=this._ctx;if(a){for(l.beginPath(),n=0;n<a;n++){for(i=0,r=s[n].length;i<r;i++)o=s[n][i],l[i?"lineTo":"moveTo"](o.x,o.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,i=Math.max(Math.round(e._radius),1),r=(Math.max(Math.round(e._radiusY),1)||i)/i;1!==r&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(t.x,t.y/r,i,0,2*Math.PI,!1),1!==r&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,i=this._map.mouseEventToLayerPoint(e),r=this._drawFirst;r;r=r.next)(t=r.layer).options.interactive&&t._containsPoint(i)&&("click"!==e.type&&"preclick"!==e.type||!this._map._draggableMoved(t))&&(n=t);this._fireEvent(!!n&&[n],e)},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(ht(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,r,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(t)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(dt(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseover"),this._hoveredLayer=r)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(i((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,i=t.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,i=t.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function di(e){return ze.canvas?new ui(e):null}var hi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),pi={_initContainer:function(){this._container=ot("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ci.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=hi("shape");dt(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=hi("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[o(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;st(t),e.removeInteractiveTarget(t),delete this._layers[o(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,i=e.options,r=e._container;r.stroked=!!i.stroke,r.filled=!!i.fill,i.stroke?(t||(t=e._stroke=hi("stroke")),r.appendChild(t),t.weight=i.weight+"px",t.color=i.color,t.opacity=i.opacity,i.dashArray?t.dashStyle=g(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=i.lineCap.replace("butt","flat"),t.joinstyle=i.lineJoin):t&&(r.removeChild(t),e._stroke=null),i.fill?(n||(n=e._fill=hi("fill")),r.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(r.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),i=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+i+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){lt(e._container)},_bringToBack:function(e){ct(e._container)}},fi=ze.vml?hi:G,mi=ci.extend({_initContainer:function(){this._container=fi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=fi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){st(this._container),Pt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){ci.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),yt(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=fi("path");e.options.className&&dt(t,e.options.className),e.options.interactive&&dt(t,"leaflet-interactive"),this._updateStyle(e),this._layers[o(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){st(e._path),e.removeInteractiveTarget(e._path),delete this._layers[o(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,Z(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),i="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",r=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(e,r)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){lt(e._path)},_bringToBack:function(e){ct(e._path)}});function gi(e){return ze.svg||ze.vml?new mi(e):null}ze.vml&&mi.include(pi),qt.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&di(e)||gi(e)}});var bi=Fn.extend({initialize:function(e,t){Fn.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=j(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});mi.create=fi,mi.pointsToPath=Z,Yn.geometryToLayer=Bn,Yn.coordsToLatLng=Vn,Yn.coordsToLatLngs=Wn,Yn.latLngToCoords=Un,Yn.latLngsToCoords=$n,Yn.getFeature=qn,Yn.asFeature=Kn,qt.mergeOptions({boxZoom:!0});var yi=en.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Tt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Pt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){st(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),Ge(),wt(),this._startPoint=this._map.mouseEventToContainerPoint(e),Tt(document,{contextmenu:Ft,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=ot("div","leaflet-zoom-box",this._container),dt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new z(this._point,this._startPoint),n=t.getSize();yt(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(st(this._box),ht(this._container,"leaflet-crosshair")),Ze(),kt(),Pt(document,{contextmenu:Ft,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var t=new R(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});qt.addInitHook("addHandler","boxZoom",yi),qt.mergeOptions({doubleClickZoom:!0});var vi=en.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),i=t.options.zoomDelta,r=e.originalEvent.shiftKey?n-i:n+i;"center"===t.options.doubleClickZoom?t.setZoom(r):t.setZoomAround(e.containerPoint,r)}});qt.addInitHook("addHandler","doubleClickZoom",vi),qt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var _i=en.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new rn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}dt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ht(this._map._container,"leaflet-grab"),ht(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=j(this._map.options.maxBounds);this._offsetLimit=I(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-t+n)%e+t-n,o=(i+t+n)%e-t-n,s=Math.abs(r+n)<Math.abs(o+n)?r:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(e){var t=this._map,n=t.options,i=!n.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),i)t.fire("moveend");else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,s=n.easeLinearity,a=r.multiplyBy(s/o),l=a.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),u=a.multiplyBy(c/l),d=c/(n.inertiaDeceleration*s),h=u.multiplyBy(-d/2).round();h.x||h.y?(h=t._limitOffset(h,t.options.maxBounds),E((function(){t.panBy(h,{duration:d,easeLinearity:s,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});qt.addInitHook("addHandler","dragging",_i),qt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var wi=en.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Tt(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Pt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,i=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,i=this._panKeys={},r=this.keyCodes;for(t=0,n=r.left.length;t<n;t++)i[r.left[t]]=[-1*e,0];for(t=0,n=r.right.length;t<n;t++)i[r.right[t]]=[e,0];for(t=0,n=r.down.length;t<n;t++)i[r.down[t]]=[0,e];for(t=0,n=r.up.length;t<n;t++)i[r.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,i=this._zoomKeys={},r=this.keyCodes;for(t=0,n=r.zoomIn.length;t<n;t++)i[r.zoomIn[t]]=e;for(t=0,n=r.zoomOut.length;t<n;t++)i[r.zoomOut[t]]=-e},_addHooks:function(){Tt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Pt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,i=this._map;if(n in this._panKeys){if(!i._panAnim||!i._panAnim._inProgress)if(t=this._panKeys[n],e.shiftKey&&(t=A(t).multiplyBy(3)),i.options.maxBounds&&(t=i._limitOffset(A(t),i.options.maxBounds)),i.options.worldCopyJump){var r=i.wrapLatLng(i.unproject(i.project(i.getCenter()).add(t)));i.panTo(r)}else i.panBy(t)}else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}Ft(e)}}});qt.addInitHook("addHandler","keyboard",wi),qt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ki=en.extend({addHooks:function(){Tt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Pt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Vt(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),Ft(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,o=n?Math.ceil(r/n)*n:r,s=e._limitZoom(t+(this._delta>0?o:-o))-t;this._delta=0,this._startTime=null,s&&("center"===e.options.scrollWheelZoom?e.setZoom(t+s):e.setZoomAround(this._lastMousePos,t+s))}});qt.addInitHook("addHandler","scrollWheelZoom",ki);qt.mergeOptions({tapHold:ze.touchNative&&ze.safari&&ze.mobile,tapTolerance:15});var Ci=en.extend({addHooks:function(){Tt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Pt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),1===e.touches.length){var t=e.touches[0];this._startPos=this._newPos=new P(t.clientX,t.clientY),this._holdTimeout=setTimeout(i((function(){this._cancel(),this._isTapValid()&&(Tt(document,"touchend",Nt),Tt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))}),this),600),Tt(document,"touchend touchcancel contextmenu",this._cancel,this),Tt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Pt(document,"touchend",Nt),Pt(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Pt(document,"touchend touchcancel contextmenu",this._cancel,this),Pt(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new P(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});n._simulated=!0,t.target.dispatchEvent(n)}});qt.addInitHook("addHandler","tapHold",Ci),qt.mergeOptions({touchZoom:ze.touch,bounceAtZoomLimits:!0});var Ei=en.extend({addHooks:function(){dt(this._map._container,"leaflet-touch-zoom"),Tt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ht(this._map._container,"leaflet-touch-zoom"),Pt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),i=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),Tt(document,"touchmove",this._onTouchMove,this),Tt(document,"touchend touchcancel",this._onTouchEnd,this),Nt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]),o=n.distanceTo(r)/this._startDist;if(this._zoom=t.getScaleZoom(o,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&o<1||this._zoom>t.getMaxZoom()&&o>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var s=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===s.x&&0===s.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),x(this._animRequest);var a=i(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=E(a,this,!0),Nt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,x(this._animRequest),Pt(document,"touchmove",this._onTouchMove,this),Pt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});qt.addInitHook("addHandler","touchZoom",Ei),qt.BoxZoom=yi,qt.DoubleClickZoom=vi,qt.Drag=_i,qt.Keyboard=wi,qt.ScrollWheelZoom=ki,qt.TapHold=Ci,qt.TouchZoom=Ei,e.Bounds=z,e.Browser=ze,e.CRS=B,e.Canvas=ui,e.Circle=jn,e.CircleMarker=Rn,e.Class=O,e.Control=Kt,e.DivIcon=ri,e.DivOverlay=ti,e.DomEvent=Ut,e.DomUtil=Ot,e.Draggable=rn,e.Evented=M,e.FeatureGroup=Pn,e.GeoJSON=Yn,e.GridLayer=oi,e.Handler=en,e.Icon=Dn,e.ImageOverlay=Xn,e.LatLng=N,e.LatLngBounds=R,e.Layer=Tn,e.LayerGroup=Mn,e.LineUtil=wn,e.Map=qt,e.Marker=zn,e.Mixin=tn,e.Path=In,e.Point=P,e.PolyUtil=cn,e.Polygon=Fn,e.Polyline=Nn,e.Popup=ni,e.PosAnimation=$t,e.Projection=En,e.Rectangle=bi,e.Renderer=ci,e.SVG=mi,e.SVGOverlay=ei,e.TileLayer=si,e.Tooltip=ii,e.Transformation=U,e.Util=S,e.VideoOverlay=Qn,e.bind=i,e.bounds=I,e.canvas=di,e.circle=function(e,t,n){return new jn(e,t,n)},e.circleMarker=function(e,t){return new Rn(e,t)},e.control=Gt,e.divIcon=function(e){return new ri(e)},e.extend=t,e.featureGroup=function(e,t){return new Pn(e,t)},e.geoJSON=Zn,e.geoJson=Jn,e.gridLayer=function(e){return new oi(e)},e.icon=function(e){return new Dn(e)},e.imageOverlay=function(e,t,n){return new Xn(e,t,n)},e.latLng=F,e.latLngBounds=j,e.layerGroup=function(e,t){return new Mn(e,t)},e.map=function(e,t){return new qt(e,t)},e.marker=function(e,t){return new zn(e,t)},e.point=A,e.polygon=function(e,t){return new Fn(e,t)},e.polyline=function(e,t){return new Nn(e,t)},e.popup=function(e,t){return new ni(e,t)},e.rectangle=function(e,t){return new bi(e,t)},e.setOptions=h,e.stamp=o,e.svg=gi,e.svgOverlay=function(e,t,n){return new ei(e,t,n)},e.tileLayer=ai,e.tooltip=function(e,t){return new ii(e,t)},e.transformation=$,e.version="1.9.4",e.videoOverlay=function(e,t,n){return new Qn(e,t,n)};var xi=window.L;e.noConflict=function(){return window.L=xi,this},window.L=e}(t)},55580:function(e,t,n){var i=n(56110)(n(9325),"DataView");e.exports=i},21549:function(e,t,n){var i=n(22032),r=n(63862),o=n(66721),s=n(12749),a=n(35749);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},80079:function(e,t,n){var i=n(63702),r=n(70080),o=n(24739),s=n(48655),a=n(31175);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},68223:function(e,t,n){var i=n(56110)(n(9325),"Map");e.exports=i},53661:function(e,t,n){var i=n(63040),r=n(17670),o=n(90289),s=n(4509),a=n(72949);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},32804:function(e,t,n){var i=n(56110)(n(9325),"Promise");e.exports=i},76545:function(e,t,n){var i=n(56110)(n(9325),"Set");e.exports=i},38859:function(e,t,n){var i=n(53661),r=n(31380),o=n(51459);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=r,s.prototype.has=o,e.exports=s},37217:function(e,t,n){var i=n(80079),r=n(51420),o=n(90938),s=n(63605),a=n(29817),l=n(80945);function c(e){var t=this.__data__=new i(e);this.size=t.size}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=s,c.prototype.has=a,c.prototype.set=l,e.exports=c},51873:function(e,t,n){var i=n(9325).Symbol;e.exports=i},37828:function(e,t,n){var i=n(9325).Uint8Array;e.exports=i},28303:function(e,t,n){var i=n(56110)(n(9325),"WeakMap");e.exports=i},83729:function(e){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},79770:function(e){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var s=e[n];t(s,n,e)&&(o[r++]=s)}return o}},70695:function(e,t,n){var i=n(78096),r=n(72428),o=n(56449),s=n(3656),a=n(30361),l=n(37167),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&r(e),d=!n&&!u&&s(e),h=!n&&!u&&!d&&l(e),p=n||u||d||h,f=p?i(e.length,String):[],m=f.length;for(var g in e)!t&&!c.call(e,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||f.push(g);return f}},34932:function(e){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}},14528:function(e){e.exports=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}},14248:function(e){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}},16547:function(e,t,n){var i=n(43360),r=n(75288),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var s=e[t];o.call(e,t)&&r(s,n)&&(void 0!==n||t in e)||i(e,t,n)}},26025:function(e,t,n){var i=n(75288);e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},74733:function(e,t,n){var i=n(21791),r=n(95950);e.exports=function(e,t){return e&&i(t,r(t),e)}},43838:function(e,t,n){var i=n(21791),r=n(37241);e.exports=function(e,t){return e&&i(t,r(t),e)}},43360:function(e,t,n){var i=n(93243);e.exports=function(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},9999:function(e,t,n){var i=n(37217),r=n(83729),o=n(16547),s=n(74733),a=n(43838),l=n(93290),c=n(23007),u=n(92271),d=n(48948),h=n(50002),p=n(83349),f=n(5861),m=n(76189),g=n(77199),b=n(35529),y=n(56449),v=n(3656),_=n(87730),w=n(23805),k=n(38440),C=n(95950),E=n(37241),x="[object Arguments]",S="[object Function]",O="[object Object]",T={};T[x]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[O]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[S]=T["[object WeakMap]"]=!1,e.exports=function e(t,n,M,P,D,L){var A,z=1&n,I=2&n,R=4&n;if(M&&(A=D?M(t,P,D,L):M(t)),void 0!==A)return A;if(!w(t))return t;var j=y(t);if(j){if(A=m(t),!z)return c(t,A)}else{var N=f(t),F=N==S||"[object GeneratorFunction]"==N;if(v(t))return l(t,z);if(N==O||N==x||F&&!D){if(A=I||F?{}:b(t),!z)return I?d(t,a(A,t)):u(t,s(A,t))}else{if(!T[N])return D?t:{};A=g(t,N,z)}}L||(L=new i);var Y=L.get(t);if(Y)return Y;L.set(t,A),k(t)?t.forEach((function(i){A.add(e(i,n,M,i,t,L))})):_(t)&&t.forEach((function(i,r){A.set(r,e(i,n,M,r,t,L))}));var B=j?void 0:(R?I?p:h:I?E:C)(t);return r(B||t,(function(i,r){B&&(i=t[r=i]),o(A,r,e(i,n,M,r,t,L))})),A}},39344:function(e,t,n){var i=n(23805),r=Object.create,o=function(){function e(){}return function(t){if(!i(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},80909:function(e,t,n){var i=n(30641),r=n(38329)(i);e.exports=r},86649:function(e,t,n){var i=n(83221)();e.exports=i},30641:function(e,t,n){var i=n(86649),r=n(95950);e.exports=function(e,t){return e&&i(e,t,r)}},47422:function(e,t,n){var i=n(31769),r=n(77797);e.exports=function(e,t){for(var n=0,o=(t=i(t,e)).length;null!=e&&n<o;)e=e[r(t[n++])];return n&&n==o?e:void 0}},82199:function(e,t,n){var i=n(14528),r=n(56449);e.exports=function(e,t,n){var o=t(e);return r(e)?o:i(o,n(e))}},72552:function(e,t,n){var i=n(51873),r=n(659),o=n(59350),s=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?r(e):o(e)}},28077:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},27534:function(e,t,n){var i=n(72552),r=n(40346);e.exports=function(e){return r(e)&&"[object Arguments]"==i(e)}},60270:function(e,t,n){var i=n(87068),r=n(40346);e.exports=function e(t,n,o,s,a){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!=t&&n!=n:i(t,n,o,s,e,a))}},87068:function(e,t,n){var i=n(37217),r=n(25911),o=n(21986),s=n(50689),a=n(5861),l=n(56449),c=n(3656),u=n(37167),d="[object Arguments]",h="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,b){var y=l(e),v=l(t),_=y?h:a(e),w=v?h:a(t),k=(_=_==d?p:_)==p,C=(w=w==d?p:w)==p,E=_==w;if(E&&c(e)){if(!c(t))return!1;y=!0,k=!1}if(E&&!k)return b||(b=new i),y||u(e)?r(e,t,n,m,g,b):o(e,t,_,n,m,g,b);if(!(1&n)){var x=k&&f.call(e,"__wrapped__"),S=C&&f.call(t,"__wrapped__");if(x||S){var O=x?e.value():e,T=S?t.value():t;return b||(b=new i),g(O,T,n,m,b)}}return!!E&&(b||(b=new i),s(e,t,n,m,g,b))}},29172:function(e,t,n){var i=n(5861),r=n(40346);e.exports=function(e){return r(e)&&"[object Map]"==i(e)}},41799:function(e,t,n){var i=n(37217),r=n(60270);e.exports=function(e,t,n,o){var s=n.length,a=s,l=!o;if(null==e)return!a;for(e=Object(e);s--;){var c=n[s];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<a;){var u=(c=n[s])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var p=new i;if(o)var f=o(d,h,u,e,t,p);if(!(void 0===f?r(h,d,3,o,p):f))return!1}}return!0}},45083:function(e,t,n){var i=n(1882),r=n(87296),o=n(23805),s=n(47473),a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||r(e))&&(i(e)?h:a).test(s(e))}},16038:function(e,t,n){var i=n(5861),r=n(40346);e.exports=function(e){return r(e)&&"[object Set]"==i(e)}},4901:function(e,t,n){var i=n(72552),r=n(30294),o=n(40346),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&r(e.length)&&!!s[i(e)]}},15389:function(e,t,n){var i=n(93663),r=n(87978),o=n(83488),s=n(56449),a=n(50583);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?s(e)?r(e[0],e[1]):i(e):a(e)}},88984:function(e,t,n){var i=n(55527),r=n(3650),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return r(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},72903:function(e,t,n){var i=n(23805),r=n(55527),o=n(90181),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return o(e);var t=r(e),n=[];for(var a in e)("constructor"!=a||!t&&s.call(e,a))&&n.push(a);return n}},5128:function(e,t,n){var i=n(80909),r=n(64894);e.exports=function(e,t){var n=-1,o=r(e)?Array(e.length):[];return i(e,(function(e,i,r){o[++n]=t(e,i,r)})),o}},93663:function(e,t,n){var i=n(41799),r=n(10776),o=n(67197);e.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}},87978:function(e,t,n){var i=n(60270),r=n(58156),o=n(80631),s=n(28586),a=n(30756),l=n(67197),c=n(77797);e.exports=function(e,t){return s(e)&&a(t)?l(c(e),t):function(n){var s=r(n,e);return void 0===s&&s===t?o(n,e):i(t,s,3)}}},47237:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},17255:function(e,t,n){var i=n(47422);e.exports=function(e){return function(t){return i(t,e)}}},78096:function(e){e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},77556:function(e,t,n){var i=n(51873),r=n(34932),o=n(56449),s=n(44394),a=i?i.prototype:void 0,l=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return r(t,e)+"";if(s(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},27301:function(e){e.exports=function(e){return function(t){return e(t)}}},19219:function(e){e.exports=function(e,t){return e.has(t)}},24066:function(e,t,n){var i=n(83488);e.exports=function(e){return"function"==typeof e?e:i}},31769:function(e,t,n){var i=n(56449),r=n(28586),o=n(61802),s=n(13222);e.exports=function(e,t){return i(e)?e:r(e,t)?[e]:o(s(e))}},49653:function(e,t,n){var i=n(37828);e.exports=function(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}},93290:function(e,t,n){e=n.nmd(e);var i=n(9325),r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,s=o&&o.exports===r?i.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,i=a?a(n):new e.constructor(n);return e.copy(i),i}},76169:function(e,t,n){var i=n(49653);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},73201:function(e){var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},93736:function(e,t,n){var i=n(51873),r=i?i.prototype:void 0,o=r?r.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},71961:function(e,t,n){var i=n(49653);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},23007:function(e){e.exports=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}},21791:function(e,t,n){var i=n(16547),r=n(43360);e.exports=function(e,t,n,o){var s=!n;n||(n={});for(var a=-1,l=t.length;++a<l;){var c=t[a],u=o?o(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),s?r(n,c,u):i(n,c,u)}return n}},92271:function(e,t,n){var i=n(21791),r=n(4664);e.exports=function(e,t){return i(e,r(e),t)}},48948:function(e,t,n){var i=n(21791),r=n(86375);e.exports=function(e,t){return i(e,r(e),t)}},55481:function(e,t,n){var i=n(9325)["__core-js_shared__"];e.exports=i},38329:function(e,t,n){var i=n(64894);e.exports=function(e,t){return function(n,r){if(null==n)return n;if(!i(n))return e(n,r);for(var o=n.length,s=t?o:-1,a=Object(n);(t?s--:++s<o)&&!1!==r(a[s],s,a););return n}}},83221:function(e){e.exports=function(e){return function(t,n,i){for(var r=-1,o=Object(t),s=i(t),a=s.length;a--;){var l=s[e?a:++r];if(!1===n(o[l],l,o))break}return t}}},93243:function(e,t,n){var i=n(56110),r=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},25911:function(e,t,n){var i=n(38859),r=n(14248),o=n(19219);e.exports=function(e,t,n,s,a,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),p=l.get(t);if(h&&p)return h==t&&p==e;var f=-1,m=!0,g=2&n?new i:void 0;for(l.set(e,t),l.set(t,e);++f<u;){var b=e[f],y=t[f];if(s)var v=c?s(y,b,f,t,e,l):s(b,y,f,e,t,l);if(void 0!==v){if(v)continue;m=!1;break}if(g){if(!r(t,(function(e,t){if(!o(g,t)&&(b===e||a(b,e,n,s,l)))return g.push(t)}))){m=!1;break}}else if(b!==y&&!a(b,y,n,s,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},21986:function(e,t,n){var i=n(51873),r=n(37828),o=n(75288),s=n(25911),a=n(20317),l=n(84247),c=i?i.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,i,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=a;case"[object Set]":var f=1&i;if(p||(p=l),e.size!=t.size&&!f)return!1;var m=h.get(e);if(m)return m==t;i|=2,h.set(e,t);var g=s(p(e),p(t),i,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},50689:function(e,t,n){var i=n(50002),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,s,a){var l=1&n,c=i(e),u=c.length;if(u!=i(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:r.call(t,h)))return!1}var p=a.get(e),f=a.get(t);if(p&&f)return p==t&&f==e;var m=!0;a.set(e,t),a.set(t,e);for(var g=l;++d<u;){var b=e[h=c[d]],y=t[h];if(o)var v=l?o(y,b,h,t,e,a):o(b,y,h,e,t,a);if(!(void 0===v?b===y||s(b,y,n,o,a):v)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(m=!1)}return a.delete(e),a.delete(t),m}},34840:function(e,t,n){var i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=i},50002:function(e,t,n){var i=n(82199),r=n(4664),o=n(95950);e.exports=function(e){return i(e,o,r)}},83349:function(e,t,n){var i=n(82199),r=n(86375),o=n(37241);e.exports=function(e){return i(e,o,r)}},12651:function(e,t,n){var i=n(74218);e.exports=function(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}},10776:function(e,t,n){var i=n(30756),r=n(95950);e.exports=function(e){for(var t=r(e),n=t.length;n--;){var o=t[n],s=e[o];t[n]=[o,s,i(s)]}return t}},56110:function(e,t,n){var i=n(45083),r=n(10392);e.exports=function(e,t){var n=r(e,t);return i(n)?n:void 0}},28879:function(e,t,n){var i=n(74335)(Object.getPrototypeOf,Object);e.exports=i},659:function(e,t,n){var i=n(51873),r=Object.prototype,o=r.hasOwnProperty,s=r.toString,a=i?i.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var i=!0}catch(e){}var r=s.call(e);return i&&(t?e[a]=n:delete e[a]),r}},4664:function(e,t,n){var i=n(79770),r=n(63345),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),i(s(e),(function(t){return o.call(e,t)})))}:r;e.exports=a},86375:function(e,t,n){var i=n(14528),r=n(28879),o=n(4664),s=n(63345),a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)i(t,o(e)),e=r(e);return t}:s;e.exports=a},5861:function(e,t,n){var i=n(55580),r=n(68223),o=n(32804),s=n(76545),a=n(28303),l=n(72552),c=n(47473),u="[object Map]",d="[object Promise]",h="[object Set]",p="[object WeakMap]",f="[object DataView]",m=c(i),g=c(r),b=c(o),y=c(s),v=c(a),_=l;(i&&_(new i(new ArrayBuffer(1)))!=f||r&&_(new r)!=u||o&&_(o.resolve())!=d||s&&_(new s)!=h||a&&_(new a)!=p)&&(_=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,i=n?c(n):"";if(i)switch(i){case m:return f;case g:return u;case b:return d;case y:return h;case v:return p}return t}),e.exports=_},10392:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},49326:function(e,t,n){var i=n(31769),r=n(72428),o=n(56449),s=n(30361),a=n(30294),l=n(77797);e.exports=function(e,t,n){for(var c=-1,u=(t=i(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&a(u)&&s(h,u)&&(o(e)||r(e))}},22032:function(e,t,n){var i=n(81042);e.exports=function(){this.__data__=i?i(null):{},this.size=0}},63862:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},66721:function(e,t,n){var i=n(81042),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(t,e)?t[e]:void 0}},12749:function(e,t,n){var i=n(81042),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:r.call(t,e)}},35749:function(e,t,n){var i=n(81042);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this}},76189:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,i=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},77199:function(e,t,n){var i=n(49653),r=n(76169),o=n(73201),s=n(93736),a=n(71961);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return i(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return r(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return o(e);case"[object Symbol]":return s(e)}}},35529:function(e,t,n){var i=n(39344),r=n(28879),o=n(55527);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:i(r(e))}},30361:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var i=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==i||"symbol"!=i&&t.test(e))&&e>-1&&e%1==0&&e<n}},28586:function(e,t,n){var i=n(56449),r=n(44394),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!r(e))||s.test(e)||!o.test(e)||null!=t&&e in Object(t)}},74218:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},87296:function(e,t,n){var i,r=n(55481),o=(i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";e.exports=function(e){return!!o&&o in e}},55527:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},30756:function(e,t,n){var i=n(23805);e.exports=function(e){return e==e&&!i(e)}},63702:function(e){e.exports=function(){this.__data__=[],this.size=0}},70080:function(e,t,n){var i=n(26025),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0||(n==t.length-1?t.pop():r.call(t,n,1),--this.size,0))}},24739:function(e,t,n){var i=n(26025);e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},48655:function(e,t,n){var i=n(26025);e.exports=function(e){return i(this.__data__,e)>-1}},31175:function(e,t,n){var i=n(26025);e.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},63040:function(e,t,n){var i=n(21549),r=n(80079),o=n(68223);e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(o||r),string:new i}}},17670:function(e,t,n){var i=n(12651);e.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},90289:function(e,t,n){var i=n(12651);e.exports=function(e){return i(this,e).get(e)}},4509:function(e,t,n){var i=n(12651);e.exports=function(e){return i(this,e).has(e)}},72949:function(e,t,n){var i=n(12651);e.exports=function(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},20317:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}},67197:function(e){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},62224:function(e,t,n){var i=n(50104);e.exports=function(e){var t=i(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},81042:function(e,t,n){var i=n(56110)(Object,"create");e.exports=i},3650:function(e,t,n){var i=n(74335)(Object.keys,Object);e.exports=i},90181:function(e){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},86009:function(e,t,n){e=n.nmd(e);var i=n(34840),r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,s=o&&o.exports===r&&i.process,a=function(){try{return o&&o.require&&o.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a},59350:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},74335:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},9325:function(e,t,n){var i=n(34840),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();e.exports=o},31380:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},51459:function(e){e.exports=function(e){return this.__data__.has(e)}},84247:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},51420:function(e,t,n){var i=n(80079);e.exports=function(){this.__data__=new i,this.size=0}},90938:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},63605:function(e){e.exports=function(e){return this.__data__.get(e)}},29817:function(e){e.exports=function(e){return this.__data__.has(e)}},80945:function(e,t,n){var i=n(80079),r=n(68223),o=n(53661);e.exports=function(e,t){var n=this.__data__;if(n instanceof i){var s=n.__data__;if(!r||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}},61802:function(e,t,n){var i=n(62224),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=i((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,(function(e,n,i,r){t.push(i?r.replace(o,"$1"):n||e)})),t}));e.exports=s},77797:function(e,t,n){var i=n(44394);e.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},47473:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},88055:function(e,t,n){var i=n(9999);e.exports=function(e){return i(e,5)}},75288:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},33215:function(e,t,n){var i=n(30641),r=n(24066);e.exports=function(e,t){return e&&i(e,r(t))}},58156:function(e,t,n){var i=n(47422);e.exports=function(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}},80631:function(e,t,n){var i=n(28077),r=n(49326);e.exports=function(e,t){return null!=e&&r(e,t,i)}},83488:function(e){e.exports=function(e){return e}},72428:function(e,t,n){var i=n(27534),r=n(40346),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(e){return r(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=l},56449:function(e){var t=Array.isArray;e.exports=t},64894:function(e,t,n){var i=n(1882),r=n(30294);e.exports=function(e){return null!=e&&r(e.length)&&!i(e)}},3656:function(e,t,n){e=n.nmd(e);var i=n(9325),r=n(89935),o=t&&!t.nodeType&&t,s=o&&e&&!e.nodeType&&e,a=s&&s.exports===o?i.Buffer:void 0,l=(a?a.isBuffer:void 0)||r;e.exports=l},1882:function(e,t,n){var i=n(72552),r=n(23805);e.exports=function(e){if(!r(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},30294:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},87730:function(e,t,n){var i=n(29172),r=n(27301),o=n(86009),s=o&&o.isMap,a=s?r(s):i;e.exports=a},23805:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},40346:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},11331:function(e,t,n){var i=n(72552),r=n(28879),o=n(40346),s=Function.prototype,a=Object.prototype,l=s.toString,c=a.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=i(e))return!1;var t=r(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},38440:function(e,t,n){var i=n(16038),r=n(27301),o=n(86009),s=o&&o.isSet,a=s?r(s):i;e.exports=a},85015:function(e,t,n){var i=n(72552),r=n(56449),o=n(40346);e.exports=function(e){return"string"==typeof e||!r(e)&&o(e)&&"[object String]"==i(e)}},44394:function(e,t,n){var i=n(72552),r=n(40346);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==i(e)}},37167:function(e,t,n){var i=n(4901),r=n(27301),o=n(86009),s=o&&o.isTypedArray,a=s?r(s):i;e.exports=a},95950:function(e,t,n){var i=n(70695),r=n(88984),o=n(64894);e.exports=function(e){return o(e)?i(e):r(e)}},37241:function(e,t,n){var i=n(70695),r=n(72903),o=n(64894);e.exports=function(e){return o(e)?i(e,!0):r(e)}},55378:function(e,t,n){var i=n(34932),r=n(15389),o=n(5128),s=n(56449);e.exports=function(e,t){return(s(e)?i:o)(e,r(t,3))}},50104:function(e,t,n){var i=n(53661);function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(r.Cache||i),n}r.Cache=i,e.exports=r},50583:function(e,t,n){var i=n(47237),r=n(17255),o=n(28586),s=n(77797);e.exports=function(e){return o(e)?i(s(e)):r(e)}},63345:function(e){e.exports=function(){return[]}},89935:function(e){e.exports=function(){return!1}},13222:function(e,t,n){var i=n(77556);e.exports=function(e){return null==e?"":i(e)}},73065:function(e,t,n){var i,r;!function(o,s){"use strict";i=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],r={},o=null;function s(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(){for(var n=this.getLevel(),r=0;r<i.length;r++){var o=i[r];this[o]=r<n?e:this.methodFactory(o,n,this.name)}if(this.log=this.debug,typeof console===t&&n<this.levels.SILENT)return"No console available for logging"}function c(e){return function(){typeof console!==t&&(l.call(this),this[e].apply(this,arguments))}}function u(i,r,o){return function(i){return"debug"===i&&(i="log"),typeof console!==t&&("trace"===i&&n?a:void 0!==console[i]?s(console,i):void 0!==console.log?s(console,"log"):e)}(i)||c.apply(this,arguments)}function d(e,n){var s,a,c,d=this,h="loglevel";function p(){var e;if(typeof window!==t&&h){try{e=window.localStorage[h]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,i=encodeURIComponent(h),r=n.indexOf(i+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r+i.length+1))[1])}catch(e){}return void 0===d.levels[e]&&(e=void 0),e}}function f(e){var t=e;if("string"==typeof t&&void 0!==d.levels[t.toUpperCase()]&&(t=d.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=d.levels.SILENT)return t;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?h+=":"+e:"symbol"==typeof e&&(h=void 0),d.name=e,d.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},d.methodFactory=n||u,d.getLevel=function(){return null!=c?c:null!=a?a:s},d.setLevel=function(e,n){return c=f(e),!1!==n&&function(e){var n=(i[e]||"silent").toUpperCase();if(typeof window!==t&&h){try{return void(window.localStorage[h]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(h)+"="+n+";"}catch(e){}}}(c),l.call(d)},d.setDefaultLevel=function(e){a=f(e),p()||d.setLevel(e,!1)},d.resetLevel=function(){c=null,function(){if(typeof window!==t&&h){try{window.localStorage.removeItem(h)}catch(e){}try{window.document.cookie=encodeURIComponent(h)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}(),l.call(d)},d.enableAll=function(e){d.setLevel(d.levels.TRACE,e)},d.disableAll=function(e){d.setLevel(d.levels.SILENT,e)},d.rebuild=function(){if(o!==d&&(s=f(o.getLevel())),l.call(d),o===d)for(var e in r)r[e].rebuild()},s=f(o?o.getLevel():"WARN");var m=p();null!=m&&(c=f(m)),l.call(d)}(o=new d).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=r[e];return t||(t=r[e]=new d(e,o.methodFactory)),t};var h=typeof window!==t?window.log:void 0;return o.noConflict=function(){return typeof window!==t&&window.log===o&&(window.log=h),o},o.getLoggers=function(){return r},o.default=o,o},void 0===(r=i.call(t,n,t,e))||(e.exports=r)}()},16994:function(e,t,n){var i,r,o;window,r=[n(82831),n(21485)],void 0===(o="function"==typeof(i=function(e,t){"use strict";var n=e.create("masonry");n.compatOptions.fitWidth="isFitWidth";var i=n.prototype;return i._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var e=0;e<this.cols;e++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},i.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],n=e&&e.element;this.columnWidth=n&&t(n).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,r=this.containerWidth+this.gutter,o=r/i,s=i-r%i;o=Math[s&&s<1?"round":"floor"](o),this.cols=Math.max(o,1)},i.getContainerWidth=function(){var e=this._getOption("fitWidth")?this.element.parentNode:this.element,n=t(e);this.containerWidth=n&&n.innerWidth},i._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,n=Math[t&&t<1?"round":"ceil"](e.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var i=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](n,e),r={x:this.columnWidth*i.col,y:i.y},o=i.y+e.size.outerHeight,s=n+i.col,a=i.col;a<s;a++)this.colYs[a]=o;return r},i._getTopColPosition=function(e){var t=this._getTopColGroup(e),n=Math.min.apply(Math,t);return{col:t.indexOf(n),y:n}},i._getTopColGroup=function(e){if(e<2)return this.colYs;for(var t=[],n=this.cols+1-e,i=0;i<n;i++)t[i]=this._getColGroupY(i,e);return t},i._getColGroupY=function(e,t){if(t<2)return this.colYs[e];var n=this.colYs.slice(e,e+t);return Math.max.apply(Math,n)},i._getHorizontalColPosition=function(e,t){var n=this.horizontalColIndex%this.cols;n=e>1&&n+e>this.cols?0:n;var i=t.size.outerWidth&&t.size.outerHeight;return this.horizontalColIndex=i?n+e:this.horizontalColIndex,{col:n,y:this._getColGroupY(n,e)}},i._manageStamp=function(e){var n=t(e),i=this._getElementOffset(e),r=this._getOption("originLeft")?i.left:i.right,o=r+n.outerWidth,s=Math.floor(r/this.columnWidth);s=Math.max(0,s);var a=Math.floor(o/this.columnWidth);a-=o%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var l=(this._getOption("originTop")?i.top:i.bottom)+n.outerHeight,c=s;c<=a;c++)this.colYs[c]=Math.max(l,this.colYs[c])},i._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this._getOption("fitWidth")&&(e.width=this._getContainerFitWidth()),e},i._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},i.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!=this.containerWidth},n})?i.apply(t,r):i)||(e.exports=o)},25177:function(e,t,n){!function(e){"use strict";e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(95093))},41488:function(e,t,n){!function(e){"use strict";var t=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},n={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},i=function(e){return function(i,r,o,s){var a=t(i),l=n[e][t(i)];return 2===a&&(l=l[r?0:1]),l.replace(/%d/i,i)}},r=["","","","","","","","","","","",""];e.defineLocale("ar-dz",{months:r,monthsShort:r,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:i("s"),ss:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:0,doy:4}})}(n(95093))},58676:function(e,t,n){!function(e){"use strict";e.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}})}(n(95093))},42353:function(e,t,n){!function(e){"use strict";var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},i={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},r=function(e){return function(t,r,o,s){var a=n(t),l=i[e][n(t)];return 2===a&&(l=l[r?0:1]),l.replace(/%d/i,t)}},o=["","","","","","","","","","","",""];e.defineLocale("ar-ly",{months:o,monthsShort:o,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(95093))},24496:function(e,t,n){!function(e){"use strict";e.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}(n(95093))},6947:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ar-ps",{months:" _________ _ _ ".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]})).split("").reverse().join("").replace(/[](?![\u062a\u0643])/g,(function(e){return n[e]})).split("").reverse().join("").replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:0,doy:6}})}(n(95093))},82682:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:0,doy:6}})}(n(95093))},89756:function(e,t,n){!function(e){"use strict";e.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}(n(95093))},61509:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},r={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},o=function(e){return function(t,n,o,s){var a=i(t),l=r[e][i(t)];return 2===a&&(l=l[n?0:1]),l.replace(/%d/i,t)}},s=["","","","","","","","","","","",""];e.defineLocale("ar",{months:s,monthsShort:s,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:o("s"),ss:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(95093))},95533:function(e,t,n){!function(e){"use strict";var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"bir ne saniy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(e){return/^(gndz|axam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gec":e<12?"shr":e<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(e){if(0===e)return e+"-nc";var n=e%10;return e+(t[n]||t[e%100-n]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(95093))},28959:function(e,t,n){!function(e){"use strict";function t(e,t,n){return"m"===n?t?"":"":"h"===n?t?"":"":e+" "+(i=+e,r={ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"}[n].split("_"),i%10==1&&i%100!=11?r[0]:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?r[1]:r[2]);var i,r}e.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:t,mm:t,h:t,hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-":e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})}(n(95093))},47777:function(e,t,n){!function(e){"use strict";e.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",w:"",ww:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})}(n(95093))},54903:function(e,t,n){!function(e){"use strict";e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(n(95093))},17357:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bn-bd",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t||""===t?e:""===t?e>=3?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<6?"":e<12?"":e<15?"":e<18?"":e<20?"":""},week:{dow:0,doy:6}})}(n(95093))},61290:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(95093))},31545:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShortRegex:/^(\d{1,2})/,monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(95093))},11470:function(e,t,n){!function(e){"use strict";function t(e,t,n){return e+" "+function(e,t){return 2===t?function(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}(e):e}({mm:"munutenn",MM:"miz",dd:"devezh"}[n],e)}function n(e){return e>9?n(e%10):e}var i=[/^gen/i,/^c[\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],r=/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,o=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];e.defineLocale("br",{months:"Genver_Chwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_Chwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Mercher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:o,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:o,monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dech da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:function(e){switch(n(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(e){return e+(1===e?"a":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(e){return"g.m."===e},meridiem:function(e,t,n){return e<12?"a.m.":"g.m."}})}(n(95093))},44429:function(e,t,n){!function(e){"use strict";function t(e,t,n){var i=e+" ";switch(n){case"ss":return i+(1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi");case"mm":return i+(1===e?"minuta":2===e||3===e||4===e?"minute":"minuta");case"h":return"jedan sat";case"hh":return i+(1===e?"sat":2===e||3===e||4===e?"sata":"sati");case"dd":return i+(1===e?"dan":"dana");case"MM":return i+(1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci");case"yy":return i+(1===e?"godina":2===e||3===e||4===e?"godine":"godina")}}e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:function(e,t,n,i){if("m"===n)return t?"jedna minuta":i?"jednu minutu":"jedne minute"},mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(95093))},7306:function(e,t,n){!function(e){"use strict";e.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})}(n(95093))},56464:function(e,t,n){!function(e){"use strict";var t={standalone:"leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),format:"ledna_nora_bezna_dubna_kvtna_ervna_ervence_srpna_z_jna_listopadu_prosince".split("_"),isFormat:/DD?[o.]?(\[[^\[\]]*\]|\s)+MMMM/},n="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),i=[/^led/i,/^no/i,/^be/i,/^dub/i,/^kv/i,/^(vn|erven$|ervna)/i,/^(vc|ervenec|ervence)/i,/^srp/i,/^z/i,/^j/i,/^lis/i,/^pro/i],r=/^(leden|nor|bezen|duben|kvten|ervenec|ervence|erven|ervna|srpen|z|jen|listopad|prosinec|led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i;function o(e){return e>1&&e<5&&1!=~~(e/10)}function s(e,t,n,i){var r=e+" ";switch(n){case"s":return t||i?"pr sekund":"pr sekundami";case"ss":return t||i?r+(o(e)?"sekundy":"sekund"):r+"sekundami";case"m":return t?"minuta":i?"minutu":"minutou";case"mm":return t||i?r+(o(e)?"minuty":"minut"):r+"minutami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?r+(o(e)?"hodiny":"hodin"):r+"hodinami";case"d":return t||i?"den":"dnem";case"dd":return t||i?r+(o(e)?"dny":"dn"):r+"dny";case"M":return t||i?"msc":"mscem";case"MM":return t||i?r+(o(e)?"msce":"msc"):r+"msci";case"y":return t||i?"rok":"rokem";case"yy":return t||i?r+(o(e)?"roky":"let"):r+"lety"}}e.defineLocale("cs",{months:t,monthsShort:n,monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(leden|ledna|nora|nor|bezen|bezna|duben|dubna|kvten|kvtna|ervenec|ervence|erven|ervna|srpen|srpna|z|jen|jna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:s,ss:s,m:s,mm:s,h:s,hh:s,d:s,dd:s,M:s,MM:s,y:s,yy:s},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(95093))},73635:function(e,t,n){!function(e){"use strict";e.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(e){return e+(/$/i.exec(e)?"":/$/i.exec(e)?"":"")},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}})}(n(95093))},64226:function(e,t,n){!function(e){"use strict";e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t="";return e>20?t=40===e||50===e||60===e||80===e||100===e?"fed":"ain":e>0&&(t=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+t},week:{dow:1,doy:4}})}(n(95093))},93601:function(e,t,n){!function(e){"use strict";e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(95093))},26111:function(e,t,n){!function(e){"use strict";function t(e,t,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}e.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(95093))},54697:function(e,t,n){!function(e){"use strict";function t(e,t,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}e.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(95093))},77853:function(e,t,n){!function(e){"use strict";function t(e,t,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}e.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(95093))},60708:function(e,t,n){!function(e){"use strict";var t=["","","","","","","","","","","",""],n=["","","","","","",""];e.defineLocale("dv",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:7,doy:12}})}(n(95093))},54691:function(e,t,n){!function(e){"use strict";e.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(e,t){return e?"string"==typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(e,t,n){return e>11?n?"":"":n?"":""},isPM:function(e){return""===(e+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){return 6===this.day()?"[ ] dddd [{}] LT":"[ ] dddd [{}] LT"},sameElse:"L"},calendar:function(e,t){var n,i=this._calendarEl[e],r=t&&t.hours();return n=i,("undefined"!=typeof Function&&n instanceof Function||"[object Function]"===Object.prototype.toString.call(n))&&(i=i.apply(t)),i.replace("{}",r%12==1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(95093))},53872:function(e,t,n){!function(e){"use strict";e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:0,doy:4}})}(n(95093))},28298:function(e,t,n){!function(e){"use strict";e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(n(95093))},56195:function(e,t,n){!function(e){"use strict";e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(95093))},66584:function(e,t,n){!function(e){"use strict";e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(95093))},65543:function(e,t,n){!function(e){"use strict";e.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(n(95093))},9033:function(e,t,n){!function(e){"use strict";e.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:0,doy:6}})}(n(95093))},79402:function(e,t,n){!function(e){"use strict";e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(95093))},43004:function(e,t,n){!function(e){"use strict";e.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(95093))},32934:function(e,t,n){!function(e){"use strict";e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_ag_sept_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(n(95093))},20838:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(95093))},17730:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:4},invalidDate:"Fecha invlida"})}(n(95093))},56575:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}})}(n(95093))},97650:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4},invalidDate:"Fecha invlida"})}(n(95093))},3035:function(e,t,n){!function(e){"use strict";function t(e,t,n,i){var r={s:["mne sekundi","mni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["he minuti","ks minut"],mm:[e+" minuti",e+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[e+" tunni",e+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[e+" kuu",e+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[e+" aasta",e+" aastat"]};return t?r[n][2]?r[n][2]:r[n][1]:i?r[n][0]:r[n][1]}e.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d peva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(95093))},3508:function(e,t,n){!function(e){"use strict";e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(95093))},119:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(e){return/  /.test(e)},meridiem:function(e,t,n){return e<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[-]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}})}(n(95093))},90527:function(e,t,n){!function(e){"use strict";var t="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),n=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",t[7],t[8],t[9]];function i(e,i,r,o){var s="";switch(r){case"s":return o?"muutaman sekunnin":"muutama sekunti";case"ss":s=o?"sekunnin":"sekuntia";break;case"m":return o?"minuutin":"minuutti";case"mm":s=o?"minuutin":"minuuttia";break;case"h":return o?"tunnin":"tunti";case"hh":s=o?"tunnin":"tuntia";break;case"d":return o?"pivn":"piv";case"dd":s=o?"pivn":"piv";break;case"M":return o?"kuukauden":"kuukausi";case"MM":s=o?"kuukauden":"kuukautta";break;case"y":return o?"vuoden":"vuosi";case"yy":s=o?"vuoden":"vuotta"}return function(e,i){return e<10?i?n[e]:t[e]:e}(e,o)+" "+s}e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(95093))},95995:function(e,t,n){!function(e){"use strict";e.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(95093))},52477:function(e,t,n){!function(e){"use strict";e.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnaur",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(95093))},26435:function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}})}(n(95093))},37892:function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(95093))},85498:function(e,t,n){!function(e){"use strict";var t=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?|janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,n=[/^janv/i,/^fvr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^aot/i,/^sept/i,/^oct/i,/^nov/i,/^dc/i];e.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsRegex:t,monthsShortRegex:t,monthsStrictRegex:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,monthsShortStrictRegex:/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(95093))},37071:function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(95093))},41734:function(e,t,n){!function(e){"use strict";e.defineLocale("ga",{months:["Eanir","Feabhra","Mrta","Aibren","Bealtaine","Meitheamh","Iil","Lnasa","Men Fmhair","Deireadh Fmhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","Mrt","Aib","Beal","Meith","Iil","Ln","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["D Domhnaigh","D Luain","D Mirt","D Cadaoin","Dardaoin","D hAoine","D Sathairn"],weekdaysShort:["Domh","Luan","Mirt","Cad","Dar","Aoine","Sath"],weekdaysMin:["Do","Lu","M","C","D","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amrach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s  shin",s:"cpla soicind",ss:"%d soicind",m:"nimad",mm:"%d nimad",h:"uair an chloig",hh:"%d uair an chloig",d:"l",dd:"%d l",M:"m",MM:"%d monna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(95093))},70217:function(e,t,n){!function(e){"use strict";e.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],monthsShort:["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],monthsParseExact:!0,weekdays:["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D","Lu","M","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(95093))},77329:function(e,t,n){!function(e){"use strict";e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(95093))},32124:function(e,t,n){!function(e){"use strict";function t(e,t,n,i){var r={s:[" "," "],ss:[e+" ",e+" "],m:[" "," "],mm:[e+" ",e+" "],h:[" "," "],hh:[e+" ",e+" "],d:[" "," "],dd:[e+" ",e+" "],M:[" "," "],MM:[e+" ",e+" "],y:[" "," "],yy:[e+" ",e+" "]};return i?r[n][0]:r[n][1]}e.defineLocale("gom-deva",{months:{standalone:"___________".split("_"),format:"___________".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm []",LTS:"A h:mm:ss []",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm []",LLLL:"dddd, MMMM Do, YYYY, A h:mm []",llll:"ddd, D MMM YYYY, A h:mm []"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(e,t){return"D"===t?e+"":e},week:{dow:0,doy:3},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>12?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<12?"":e<16?"":e<20?"":""}})}(n(95093))},93383:function(e,t,n){!function(e){"use strict";function t(e,t,n,i){var r={s:["thoddea sekondamni","thodde sekond"],ss:[e+" sekondamni",e+" sekond"],m:["eka mintan","ek minut"],mm:[e+" mintamni",e+" mintam"],h:["eka voran","ek vor"],hh:[e+" voramni",e+" voram"],d:["eka disan","ek dis"],dd:[e+" disamni",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineamni",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsamni",e+" vorsam"]};return i?r[n][0]:r[n][1]}e.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){return"D"===t?e+"er":e},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokallim"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokallim":e<16?"donparam":e<20?"sanje":"rati"}})}(n(95093))},95050:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(95093))},11713:function(e,t,n){!function(e){"use strict";e.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function(e){return 2===e?"":e+" "},d:"",dd:function(e){return 2===e?"":e+" "},M:"",MM:function(e){return 2===e?"":e+" "},y:"",yy:function(e){return 2===e?"":e%10==0&&10!==e?e+" ":e+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(e){return/^("| |)$/.test(e)},meridiem:function(e,t,n){return e<5?" ":e<10?"":e<12?n?'"':" ":e<18?n?'"':" ":""}})}(n(95093))},43861:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=[/^/i,/^|/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^|/i,/^/i,/^|/i,/^|/i];e.defineLocale("hi",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},monthsParse:i,longMonthsParse:i,shortMonthsParse:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],monthsRegex:/^(|\.?|||\.?|?||\.?|?|?||\.?||\.?|||\.?||\.?|||\.?|||\.?)/i,monthsShortRegex:/^(|\.?|||\.?|?||\.?|?|?||\.?||\.?|||\.?||\.?|||\.?|||\.?)/i,monthsStrictRegex:/^(?||?|?|?|?|?|?|?|||?\.?||\.?||?||?)/i,monthsShortStrictRegex:/^(\.?|\.?|?|\.?|?|?|\.?|\.?|\.?|\.?|\.?|\.?)/i,calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(95093))},26308:function(e,t,n){!function(e){"use strict";function t(e,t,n){var i=e+" ";switch(n){case"ss":return i+(1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi");case"m":return t?"jedna minuta":"jedne minute";case"mm":return i+(1===e?"minuta":2===e||3===e||4===e?"minute":"minuta");case"h":return t?"jedan sat":"jednog sata";case"hh":return i+(1===e?"sat":2===e||3===e||4===e?"sata":"sati");case"dd":return i+(1===e?"dan":"dana");case"MM":return i+(1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci");case"yy":return i+(1===e?"godina":2===e||3===e||4===e?"godine":"godina")}}e.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:return"[prolu] [nedjelju] [u] LT";case 3:return"[prolu] [srijedu] [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(95093))},90609:function(e,t,n){!function(e){"use strict";var t="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function n(e,t,n,i){var r=e;switch(n){case"s":return i||t?"nhny msodperc":"nhny msodperce";case"ss":return r+(i||t)?" msodperc":" msodperce";case"m":return"egy"+(i||t?" perc":" perce");case"mm":return r+(i||t?" perc":" perce");case"h":return"egy"+(i||t?" ra":" rja");case"hh":return r+(i||t?" ra":" rja");case"d":return"egy"+(i||t?" nap":" napja");case"dd":return r+(i||t?" nap":" napja");case"M":return"egy"+(i||t?" hnap":" hnapja");case"MM":return r+(i||t?" hnap":" hnapja");case"y":return"egy"+(i||t?" v":" ve");case"yy":return r+(i||t?" v":" ve")}return""}function i(e){return(e?"":"[mlt] ")+"["+t[this.day()]+"] LT[-kor]"}e.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan._feb._mrc._pr._mj._jn._jl._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return i.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return i.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(95093))},17160:function(e,t,n){!function(e){"use strict";e.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-":e+"-";default:return e}},week:{dow:1,doy:7}})}(n(95093))},74063:function(e,t,n){!function(e){"use strict";e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(n(95093))},89374:function(e,t,n){!function(e){"use strict";function t(e){return e%100==11||e%10!=1}function n(e,n,i,r){var o=e+" ";switch(i){case"s":return n||r?"nokkrar sekndur":"nokkrum sekndum";case"ss":return t(e)?o+(n||r?"sekndur":"sekndum"):o+"seknda";case"m":return n?"mnta":"mntu";case"mm":return t(e)?o+(n||r?"mntur":"mntum"):n?o+"mnta":o+"mntu";case"hh":return t(e)?o+(n||r?"klukkustundir":"klukkustundum"):o+"klukkustund";case"d":return n?"dagur":r?"dag":"degi";case"dd":return t(e)?n?o+"dagar":o+(r?"daga":"dgum"):n?o+"dagur":o+(r?"dag":"degi");case"M":return n?"mnuur":r?"mnu":"mnui";case"MM":return t(e)?n?o+"mnuir":o+(r?"mnui":"mnuum"):n?o+"mnuur":o+(r?"mnu":"mnui");case"y":return n||r?"r":"ri";case"yy":return t(e)?o+(n||r?"r":"rum"):o+(n||r?"r":"ri")}}e.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(95093))},21827:function(e,t,n){!function(e){"use strict";e.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){return 0===this.day()?"[la scorsa] dddd [alle] LT":"[lo scorso] dddd [alle] LT"},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(95093))},88383:function(e,t,n){!function(e){"use strict";e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){return 0===this.day()?"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT":"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(95093))},23827:function(e,t,n){!function(e){"use strict";e.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"",narrow:"",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"",narrow:"",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"",narrow:"",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"",narrow:"",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"",narrow:"",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(|\d+)/,eraYearOrdinalParse:function(e,t){return""===t[1]?1:parseInt(t[1]||e,10)},months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(e){return e.week()!==this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(e){return this.week()!==e.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e,t){switch(t){case"y":return 1===e?"":e+"";case"d":case"D":case"DDD":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})}(n(95093))},89722:function(e,t,n){!function(e){"use strict";e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(n(95093))},41794:function(e,t,n){!function(e){"use strict";e.defineLocale("ka",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(e){return e.replace(/(|||||)(|)/,(function(e,t,n){return""===n?t+"":t+n+""}))},past:function(e){return/(||||)/.test(e)?e.replace(/(|)$/," ")://.test(e)?e.replace(/$/," "):e},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(e){return 0===e?e:1===e?e+"-":e<20||e<=100&&e%20==0||e%100==0?"-"+e:e+"-"},week:{dow:1,doy:7}})}(n(95093))},27088:function(e,t,n){!function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(95093))},96870:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}})}(n(95093))},84451:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(e){return e+""},week:{dow:0,doy:6}})}(n(95093))},63164:function(e,t,n){!function(e){"use strict";e.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""}})}(n(95093))},6181:function(e,t,n){!function(e){"use strict";function t(e,t,n,i){var r={s:["end sanye","end sanyeyan"],ss:[e+" sanye",e+" sanyeyan"],m:["deqqeyek","deqqeyek"],mm:[e+" deqqe",e+" deqqeyan"],h:["saetek","saetek"],hh:[e+" saet",e+" saetan"],d:["rojek","rojek"],dd:[e+" roj",e+" rojan"],w:["hefteyek","hefteyek"],ww:[e+" hefte",e+" hefteyan"],M:["mehek","mehek"],MM:[e+" meh",e+" mehan"],y:["salek","salek"],yy:[e+" sal",e+" salan"]};return t?r[n][0]:r[n][1]}e.defineLocale("ku-kmr",{months:"Rbendan_Sibat_Adar_Nsan_Gulan_Hezran_Trmeh_Tebax_lon_Cotmeh_Mijdar_Berfanbar".split("_"),monthsShort:"Rb_Sib_Ada_Ns_Gul_Hez_Tr_Teb_lo_Cot_Mij_Ber".split("_"),monthsParseExact:!0,weekdays:"Yekem_Duem_Sem_arem_Pncem_n_em".split("_"),weekdaysShort:"Yek_Du_S_ar_Pn_n_em".split("_"),weekdaysMin:"Ye_Du_S_a_P_n_e".split("_"),meridiem:function(e,t,n){return e<12?n?"bn":"BN":n?"pn":"PN"},meridiemParse:/bn|BN|pn|PN/,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM[a] YYYY[an]",LLL:"Do MMMM[a] YYYY[an] HH:mm",LLLL:"dddd, Do MMMM[a] YYYY[an] HH:mm",ll:"Do MMM[.] YYYY[an]",lll:"Do MMM[.] YYYY[an] HH:mm",llll:"ddd[.], Do MMM[.] YYYY[an] HH:mm"},calendar:{sameDay:"[ro di saet] LT [de]",nextDay:"[Sib di saet] LT [de]",nextWeek:"dddd [di saet] LT [de]",lastDay:"[Duh di saet] LT [de]",lastWeek:"dddd[a bor di saet] LT [de]",sameElse:"L"},relativeTime:{future:"di %s de",past:"ber %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,w:t,ww:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(?:y||\.)/,ordinal:function(e,t){var n=t.toLowerCase();return n.includes("w")||n.includes("m")?e+".":e+function(e){var t=(e=""+e).substring(e.length-1),n=e.length>1?e.substring(e.length-2):"";return 12==n||13==n||"2"!=t&&"3"!=t&&"50"!=n&&"70"!=t&&"80"!=t?"":"y"}(e)},week:{dow:1,doy:4}})}(n(95093))},98174:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=[" ","","","","","","","",""," "," "," "];e.defineLocale("ku",{months:i,monthsShort:i,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return//.test(e)},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:" ",ss:" %d",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(95093))},78474:function(e,t,n){!function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(95093))},79680:function(e,t,n){!function(e){"use strict";function t(e,t,n,i){var r={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?r[n][0]:r[n][1]}function n(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10;return n(0===t?e/10:t)}if(e<1e4){for(;e>=10;)e/=10;return n(e)}return n(e/=1e3)}e.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(e){return n(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return n(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",ss:"%d Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Mint",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(95093))},15867:function(e,t,n){!function(e){"use strict";e.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(e){return""+e}})}(n(95093))},45766:function(e,t,n){!function(e){"use strict";var t={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function n(e,t,n,i){return t?r(n)[0]:i?r(n)[1]:r(n)[2]}function i(e){return e%10==0||e>10&&e<20}function r(e){return t[e].split("_")}function o(e,t,o,s){var a=e+" ";return 1===e?a+n(0,t,o[0],s):t?a+(i(e)?r(o)[1]:r(o)[0]):s?a+r(o)[1]:a+(i(e)?r(o)[1]:r(o)[2])}e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:function(e,t,n,i){return t?"kelios sekunds":i?"keli sekundi":"kelias sekundes"},ss:o,m:n,mm:o,h:n,hh:o,d:n,dd:o,M:n,MM:o,y:n,yy:o},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})}(n(95093))},69532:function(e,t,n){!function(e){"use strict";var t={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(e,t,n){return n?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function i(e,i,r){return e+" "+n(t[r],e,i)}function r(e,i,r){return n(t[r],e,i)}e.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:function(e,t){return t?"daas sekundes":"dam sekundm"},ss:i,m:r,mm:i,h:r,hh:i,d:r,dd:i,M:r,MM:i,y:r,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(95093))},58076:function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,i){var r=t.words[i];return 1===i.length?n?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}};e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(95093))},41848:function(e,t,n){!function(e){"use strict";e.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(95093))},30306:function(e,t,n){!function(e){"use strict";e.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})}(n(95093))},73739:function(e,t,n){!function(e){"use strict";e.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||" "===t||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?" ":e<20?"":""}})}(n(95093))},99053:function(e,t,n){!function(e){"use strict";function t(e,t,n,i){switch(n){case"s":return t?" ":" ";case"ss":return e+(t?" ":" ");case"m":case"mm":return e+(t?" ":" ");case"h":case"hh":return e+(t?" ":" ");case"d":case"dd":return e+(t?" ":" ");case"M":case"MM":return e+(t?" ":" ");case"y":case"yy":return e+(t?" ":" ");default:return e}}e.defineLocale("mn",{months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+" ";default:return e}}})}(n(95093))},86169:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function i(e,t,n,i){var r="";if(t)switch(n){case"s":r=" ";break;case"ss":r="%d ";break;case"m":r=" ";break;case"mm":r="%d ";break;case"h":r=" ";break;case"hh":r="%d ";break;case"d":r=" ";break;case"dd":r="%d ";break;case"M":r=" ";break;case"MM":r="%d ";break;case"y":r=" ";break;case"yy":r="%d "}else switch(n){case"s":r=" ";break;case"ss":r="%d ";break;case"m":r=" ";break;case"mm":r="%d ";break;case"h":r=" ";break;case"hh":r="%d ";break;case"d":r=" ";break;case"dd":r="%d ";break;case"M":r=" ";break;case"MM":r="%d ";break;case"y":r=" ";break;case"yy":r="%d "}return r.replace(/%d/i,e)}e.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t?e:""===t||""===t||""===t?e>=12?e:e+12:void 0},meridiem:function(e,t,n){return e>=0&&e<6?"":e<12?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(95093))},92297:function(e,t,n){!function(e){"use strict";e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(95093))},73386:function(e,t,n){!function(e){"use strict";e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(95093))},77075:function(e,t,n){!function(e){"use strict";e.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(95093))},72264:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}})}(n(95093))},22274:function(e,t,n){!function(e){"use strict";e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"n time",hh:"%d timer",d:"n dag",dd:"%d dager",w:"n uke",ww:"%d uker",M:"n mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(95093))},8235:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"":e<12?"":e<16?"":e<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}})}(n(95093))},43784:function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),i=[/^jan/i,/^feb/i,/^(maart|mrt\.?)$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(95093))},92572:function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),i=[/^jan/i,/^feb/i,/^(maart|mrt\.?)$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",w:"n week",ww:"%d weken",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(95093))},54566:function(e,t,n){!function(e){"use strict";e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(95093))},69330:function(e,t,n){!function(e){"use strict";e.defineLocale("oc-lnc",{months:{standalone:"genir_febrir_mar_abril_mai_junh_julhet_agost_setembre_octbre_novembre_decembre".split("_"),format:"de genir_de febrir_de mar_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'octbre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dimcres_dijus_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[ui a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[ir a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})}(n(95093))},29849:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(95093))},94418:function(e,t,n){!function(e){"use strict";var t="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),i=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa/i,/^lis/i,/^gru/i];function r(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function o(e,t,n){var i=e+" ";switch(n){case"ss":return i+(r(e)?"sekundy":"sekund");case"m":return t?"minuta":"minut";case"mm":return i+(r(e)?"minuty":"minut");case"h":return t?"godzina":"godzin";case"hh":return i+(r(e)?"godziny":"godzin");case"ww":return i+(r(e)?"tygodnie":"tygodni");case"MM":return i+(r(e)?"miesice":"miesicy");case"yy":return i+(r(e)?"lata":"lat")}}e.defineLocale("pl",{months:function(e,i){return e?/D MMMM/.test(i)?n[e.month()]:t[e.month()]:t},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:o,m:o,mm:o,h:o,hh:o,d:"1 dzie",dd:"%d dni",w:"tydzie",ww:o,M:"miesic",MM:o,y:"rok",yy:o},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(95093))},48303:function(e,t,n){!function(e){"use strict";e.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"do_2_3_4_5_6_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",invalidDate:"Data invlida"})}(n(95093))},79834:function(e,t,n){!function(e){"use strict";e.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(95093))},24457:function(e,t,n){!function(e){"use strict";function t(e,t,n){var i=" ";return(e%100>=20||e>=100&&e%100==0)&&(i=" de "),e+i+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"sptmni",MM:"luni",yy:"ani"}[n]}e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:t,m:"un minut",mm:t,h:"o or",hh:t,d:"o zi",dd:t,w:"o sptmn",ww:t,M:"o lun",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})}(n(95093))},82271:function(e,t,n){!function(e){"use strict";function t(e,t,n){return"m"===n?t?"":"":e+" "+(i=+e,r={ss:t?"__":"__",mm:t?"__":"__",hh:"__",dd:"__",ww:"__",MM:"__",yy:"__"}[n].split("_"),i%10==1&&i%100!=11?r[0]:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?r[1]:r[2]);var i,r}var n=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];e.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:t,m:t,mm:t,h:"",hh:t,d:"",dd:t,w:"",ww:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/i,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},week:{dow:1,doy:4}})}(n(95093))},1221:function(e,t,n){!function(e){"use strict";var t=["","","","","","","","","","","",""],n=["","","","","","",""];e.defineLocale("sd",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})}(n(95093))},33478:function(e,t,n){!function(e){"use strict";e.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(95093))},17538:function(e,t,n){!function(e){"use strict";e.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e){return e+" "},meridiemParse:/ | |.|../,isPM:function(e){return".."===e||" "===e},meridiem:function(e,t,n){return e>11?n?"..":" ":n?"..":" "}})}(n(95093))},5784:function(e,t,n){!function(e){"use strict";var t="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),n="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function i(e){return e>1&&e<5}function r(e,t,n,r){var o=e+" ";switch(n){case"s":return t||r?"pr seknd":"pr sekundami";case"ss":return t||r?o+(i(e)?"sekundy":"seknd"):o+"sekundami";case"m":return t?"minta":r?"mintu":"mintou";case"mm":return t||r?o+(i(e)?"minty":"mint"):o+"mintami";case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":return t||r?o+(i(e)?"hodiny":"hodn"):o+"hodinami";case"d":return t||r?"de":"dom";case"dd":return t||r?o+(i(e)?"dni":"dn"):o+"dami";case"M":return t||r?"mesiac":"mesiacom";case"MM":return t||r?o+(i(e)?"mesiace":"mesiacov"):o+"mesiacmi";case"y":return t||r?"rok":"rokom";case"yy":return t||r?o+(i(e)?"roky":"rokov"):o+"rokmi"}}e.defineLocale("sk",{months:t,monthsShort:n,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:case 4:case 5:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(95093))},46637:function(e,t,n){!function(e){"use strict";function t(e,t,n,i){var r=e+" ";switch(n){case"s":return t||i?"nekaj sekund":"nekaj sekundami";case"ss":return r+(1===e?t?"sekundo":"sekundi":2===e?t||i?"sekundi":"sekundah":e<5?t||i?"sekunde":"sekundah":"sekund");case"m":return t?"ena minuta":"eno minuto";case"mm":return r+(1===e?t?"minuta":"minuto":2===e?t||i?"minuti":"minutama":e<5?t||i?"minute":"minutami":t||i?"minut":"minutami");case"h":return t?"ena ura":"eno uro";case"hh":return r+(1===e?t?"ura":"uro":2===e?t||i?"uri":"urama":e<5?t||i?"ure":"urami":t||i?"ur":"urami");case"d":return t||i?"en dan":"enim dnem";case"dd":return r+(1===e?t||i?"dan":"dnem":2===e?t||i?"dni":"dnevoma":t||i?"dni":"dnevi");case"M":return t||i?"en mesec":"enim mesecem";case"MM":return r+(1===e?t||i?"mesec":"mesecem":2===e?t||i?"meseca":"mesecema":e<5?t||i?"mesece":"meseci":t||i?"mesecev":"meseci");case"y":return t||i?"eno leto":"enim letom";case"yy":return r+(1===e?t||i?"leto":"letom":2===e?t||i?"leti":"letoma":e<5?t||i?"leta":"leti":t||i?"let":"leti")}}e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(95093))},86794:function(e,t,n){!function(e){"use strict";e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(95093))},3322:function(e,t,n){!function(e){"use strict";var t={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],d:[" "," "],dd:["","",""],M:[" "," "],MM:["","",""],y:[" "," "],yy:["","",""]},correctGrammaticalCase:function(e,t){return e%10>=1&&e%10<=4&&(e%100<10||e%100>=20)?e%10==1?t[0]:t[1]:t[2]},translate:function(e,n,i,r){var o,s=t.words[i];return 1===i.length?"y"===i&&n?" ":r||n?s[0]:s[1]:(o=t.correctGrammaticalCase(e,s),"yy"===i&&n&&""===o?e+" ":e+" "+o)}};e.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){return["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"][this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:t.translate,dd:t.translate,M:t.translate,MM:t.translate,y:t.translate,yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(95093))},45719:function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],d:["jedan dan","jednog dana"],dd:["dan","dana","dana"],M:["jedan mesec","jednog meseca"],MM:["mesec","meseca","meseci"],y:["jednu godinu","jedne godine"],yy:["godinu","godine","godina"]},correctGrammaticalCase:function(e,t){return e%10>=1&&e%10<=4&&(e%100<10||e%100>=20)?e%10==1?t[0]:t[1]:t[2]},translate:function(e,n,i,r){var o,s=t.words[i];return 1===i.length?"y"===i&&n?"jedna godina":r||n?s[0]:s[1]:(o=t.correctGrammaticalCase(e,s),"yy"===i&&n&&"godinu"===o?e+" godina":e+" "+o)}};e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:t.translate,dd:t.translate,M:t.translate,MM:t.translate,y:t.translate,yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(95093))},56e3:function(e,t,n){!function(e){"use strict";e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(95093))},41011:function(e,t,n){!function(e){"use strict";e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?":e":1===t||2===t?":a":":e")},week:{dow:1,doy:4}})}(n(95093))},40748:function(e,t,n){!function(e){"use strict";e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(n(95093))},11025:function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e+""},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||||/,meridiem:function(e,t,n){return e<2?" ":e<6?" ":e<10?" ":e<14?" ":e<18?" ":e<22?" ":" "},meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<2?e:e+12:""===t||""===t||""===t&&e>=10?e:e+12},week:{dow:0,doy:6}})}(n(95093))},11885:function(e,t,n){!function(e){"use strict";e.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(95093))},28861:function(e,t,n){!function(e){"use strict";e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(95093))},86571:function(e,t,n){!function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("tg",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=11?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<11?"":e<16?"":e<19?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(95093))},55802:function(e,t,n){!function(e){"use strict";e.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",w:"1 ",ww:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(95093))},59527:function(e,t,n){!function(e){"use strict";var t={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'nji",4:"'nji",100:"'nji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};e.defineLocale("tk",{months:"anwar_Fewral_Mart_Aprel_Ma_Iun_Iul_Awgust_Sentabr_Oktabr_Noabr_Dekabr".split("_"),monthsShort:"an_Few_Mar_Apr_Ma_In_Il_Awg_Sen_Okt_No_Dek".split("_"),weekdays:"ekenbe_Duenbe_Sienbe_arenbe_Penenbe_Anna_enbe".split("_"),weekdaysShort:"ek_Du_Si_ar_Pen_Ann_en".split("_"),weekdaysMin:"k_D_S_r_Pn_An_n".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so",past:"%s ",s:"birne sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir gn",dd:"%d gn",M:"bir a",MM:"%d a",y:"bir yl",yy:"%d yl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'unjy";var i=e%10;return e+(t[i]||t[e%100-i]||t[e>=100?100:null])}},week:{dow:1,doy:7}})}(n(95093))},29231:function(e,t,n){!function(e){"use strict";e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(95093))},31052:function(e,t,n){!function(e){"use strict";var t="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(e,n,i,r){var o=function(e){var n=Math.floor(e%1e3/100),i=Math.floor(e%100/10),r=e%10,o="";return n>0&&(o+=t[n]+"vatlh"),i>0&&(o+=(""!==o?" ":"")+t[i]+"maH"),r>0&&(o+=(""!==o?" ":"")+t[r]),""===o?"pagh":o}(e);switch(i){case"ss":return o+" lup";case"mm":return o+" tup";case"hh":return o+" rep";case"dd":return o+" jaj";case"MM":return o+" jar";case"yy":return o+" DIS"}}e.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(e){var t=e;return-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"},past:function(e){var t=e;return-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"},s:"puS lup",ss:n,m:"wa tup",mm:n,h:"wa rep",hh:n,d:"wa jaj",dd:n,M:"wa jar",MM:n,y:"wa DIS",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(95093))},85096:function(e,t,n){!function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};e.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_ar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),meridiem:function(e,t,n){return e<12?n?"":"":n?"s":"S"},meridiemParse:/||s|S/,isPM:function(e){return"s"===e||"S"===e},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'nc";var i=e%10;return e+(t[i]||t[e%100-i]||t[e>=100?100:null])}},week:{dow:1,doy:7}})}(n(95093))},79846:function(e,t,n){!function(e){"use strict";function t(e,t,n,i){var r={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n mut","'iens mut"],mm:[e+" muts",e+" muts"],h:["'n ora","'iensa ora"],hh:[e+" oras",e+" oras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return i||t?r[n][0]:r[n][1]}e.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return e>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(95093))},97711:function(e,t,n){!function(e){"use strict";e.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(n(95093))},81765:function(e,t,n){!function(e){"use strict";e.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}(n(95093))},48414:function(e,t,n){!function(e){"use strict";e.defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/ || || |/,meridiemHour:function(e,t){return 12===e&&(e=0)," "===t||""===t||" "===t?e:" "===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var i=100*e+t;return i<600?" ":i<900?"":i<1130?" ":i<1230?"":i<1800?" ":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-|-|-)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"-";case"w":case"W":return e+"-";default:return e}},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:7}})}(n(95093))},16618:function(e,t,n){!function(e){"use strict";function t(e,t,n){return"m"===n?t?"":"":"h"===n?t?"":"":e+" "+(i=+e,r={ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"}[n].split("_"),i%10==1&&i%100!=11?r[0]:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?r[1]:r[2]);var i,r}function n(e){return function(){return e+""+(11===this.hours()?"":"")+"] LT"}}e.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:function(e,t){var n={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};return!0===e?n.nominative.slice(1,7).concat(n.nominative.slice(0,1)):e?n[/(\[[]\]) ?dddd/.test(t)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]:n.nominative},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:n("[ "),nextDay:n("[ "),lastDay:n("[ "),nextWeek:n("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return n("[] dddd [").call(this);case 1:case 2:case 4:return n("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:t,m:t,mm:t,h:"",hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})}(n(95093))},57777:function(e,t,n){!function(e){"use strict";var t=["","","","","","","","","","","",""],n=["","","","","","",""];e.defineLocale("ur",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})}(n(95093))},72475:function(e,t,n){!function(e){"use strict";e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(n(95093))},57609:function(e,t,n){!function(e){"use strict";e.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})}(n(95093))},21135:function(e,t,n){!function(e){"use strict";e.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun trc lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",w:"mt tun",ww:"%d tun",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(95093))},64051:function(e,t,n){!function(e){"use strict";e.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(95093))},82218:function(e,t,n){!function(e){"use strict";e.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}})}(n(95093))},52648:function(e,t,n){!function(e){"use strict";e.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var i=100*e+t;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:function(e){return e.week()!==this.week()?"[]dddLT":"[]dddLT"},lastDay:"[]LT",lastWeek:function(e){return this.week()!==e.week()?"[]dddLT":"[]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",w:"1 ",ww:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}})}(n(95093))},1632:function(e,t,n){!function(e){"use strict";e.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var i=100*e+t;return i<600?"":i<900?"":i<1200?"":1200===i?"":i<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(95093))},31541:function(e,t,n){!function(e){"use strict";e.defineLocale("zh-mo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"D/M/YYYY",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var i=100*e+t;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(95093))},50304:function(e,t,n){!function(e){"use strict";e.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var i=100*e+t;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(95093))},35358:function(e,t,n){var i={"./af":25177,"./af.js":25177,"./ar":61509,"./ar-dz":41488,"./ar-dz.js":41488,"./ar-kw":58676,"./ar-kw.js":58676,"./ar-ly":42353,"./ar-ly.js":42353,"./ar-ma":24496,"./ar-ma.js":24496,"./ar-ps":6947,"./ar-ps.js":6947,"./ar-sa":82682,"./ar-sa.js":82682,"./ar-tn":89756,"./ar-tn.js":89756,"./ar.js":61509,"./az":95533,"./az.js":95533,"./be":28959,"./be.js":28959,"./bg":47777,"./bg.js":47777,"./bm":54903,"./bm.js":54903,"./bn":61290,"./bn-bd":17357,"./bn-bd.js":17357,"./bn.js":61290,"./bo":31545,"./bo.js":31545,"./br":11470,"./br.js":11470,"./bs":44429,"./bs.js":44429,"./ca":7306,"./ca.js":7306,"./cs":56464,"./cs.js":56464,"./cv":73635,"./cv.js":73635,"./cy":64226,"./cy.js":64226,"./da":93601,"./da.js":93601,"./de":77853,"./de-at":26111,"./de-at.js":26111,"./de-ch":54697,"./de-ch.js":54697,"./de.js":77853,"./dv":60708,"./dv.js":60708,"./el":54691,"./el.js":54691,"./en-au":53872,"./en-au.js":53872,"./en-ca":28298,"./en-ca.js":28298,"./en-gb":56195,"./en-gb.js":56195,"./en-ie":66584,"./en-ie.js":66584,"./en-il":65543,"./en-il.js":65543,"./en-in":9033,"./en-in.js":9033,"./en-nz":79402,"./en-nz.js":79402,"./en-sg":43004,"./en-sg.js":43004,"./eo":32934,"./eo.js":32934,"./es":97650,"./es-do":20838,"./es-do.js":20838,"./es-mx":17730,"./es-mx.js":17730,"./es-us":56575,"./es-us.js":56575,"./es.js":97650,"./et":3035,"./et.js":3035,"./eu":3508,"./eu.js":3508,"./fa":119,"./fa.js":119,"./fi":90527,"./fi.js":90527,"./fil":95995,"./fil.js":95995,"./fo":52477,"./fo.js":52477,"./fr":85498,"./fr-ca":26435,"./fr-ca.js":26435,"./fr-ch":37892,"./fr-ch.js":37892,"./fr.js":85498,"./fy":37071,"./fy.js":37071,"./ga":41734,"./ga.js":41734,"./gd":70217,"./gd.js":70217,"./gl":77329,"./gl.js":77329,"./gom-deva":32124,"./gom-deva.js":32124,"./gom-latn":93383,"./gom-latn.js":93383,"./gu":95050,"./gu.js":95050,"./he":11713,"./he.js":11713,"./hi":43861,"./hi.js":43861,"./hr":26308,"./hr.js":26308,"./hu":90609,"./hu.js":90609,"./hy-am":17160,"./hy-am.js":17160,"./id":74063,"./id.js":74063,"./is":89374,"./is.js":89374,"./it":88383,"./it-ch":21827,"./it-ch.js":21827,"./it.js":88383,"./ja":23827,"./ja.js":23827,"./jv":89722,"./jv.js":89722,"./ka":41794,"./ka.js":41794,"./kk":27088,"./kk.js":27088,"./km":96870,"./km.js":96870,"./kn":84451,"./kn.js":84451,"./ko":63164,"./ko.js":63164,"./ku":98174,"./ku-kmr":6181,"./ku-kmr.js":6181,"./ku.js":98174,"./ky":78474,"./ky.js":78474,"./lb":79680,"./lb.js":79680,"./lo":15867,"./lo.js":15867,"./lt":45766,"./lt.js":45766,"./lv":69532,"./lv.js":69532,"./me":58076,"./me.js":58076,"./mi":41848,"./mi.js":41848,"./mk":30306,"./mk.js":30306,"./ml":73739,"./ml.js":73739,"./mn":99053,"./mn.js":99053,"./mr":86169,"./mr.js":86169,"./ms":73386,"./ms-my":92297,"./ms-my.js":92297,"./ms.js":73386,"./mt":77075,"./mt.js":77075,"./my":72264,"./my.js":72264,"./nb":22274,"./nb.js":22274,"./ne":8235,"./ne.js":8235,"./nl":92572,"./nl-be":43784,"./nl-be.js":43784,"./nl.js":92572,"./nn":54566,"./nn.js":54566,"./oc-lnc":69330,"./oc-lnc.js":69330,"./pa-in":29849,"./pa-in.js":29849,"./pl":94418,"./pl.js":94418,"./pt":79834,"./pt-br":48303,"./pt-br.js":48303,"./pt.js":79834,"./ro":24457,"./ro.js":24457,"./ru":82271,"./ru.js":82271,"./sd":1221,"./sd.js":1221,"./se":33478,"./se.js":33478,"./si":17538,"./si.js":17538,"./sk":5784,"./sk.js":5784,"./sl":46637,"./sl.js":46637,"./sq":86794,"./sq.js":86794,"./sr":45719,"./sr-cyrl":3322,"./sr-cyrl.js":3322,"./sr.js":45719,"./ss":56e3,"./ss.js":56e3,"./sv":41011,"./sv.js":41011,"./sw":40748,"./sw.js":40748,"./ta":11025,"./ta.js":11025,"./te":11885,"./te.js":11885,"./tet":28861,"./tet.js":28861,"./tg":86571,"./tg.js":86571,"./th":55802,"./th.js":55802,"./tk":59527,"./tk.js":59527,"./tl-ph":29231,"./tl-ph.js":29231,"./tlh":31052,"./tlh.js":31052,"./tr":85096,"./tr.js":85096,"./tzl":79846,"./tzl.js":79846,"./tzm":81765,"./tzm-latn":97711,"./tzm-latn.js":97711,"./tzm.js":81765,"./ug-cn":48414,"./ug-cn.js":48414,"./uk":16618,"./uk.js":16618,"./ur":57777,"./ur.js":57777,"./uz":57609,"./uz-latn":72475,"./uz-latn.js":72475,"./uz.js":57609,"./vi":21135,"./vi.js":21135,"./x-pseudo":64051,"./x-pseudo.js":64051,"./yo":82218,"./yo.js":82218,"./zh-cn":52648,"./zh-cn.js":52648,"./zh-hk":1632,"./zh-hk.js":1632,"./zh-mo":31541,"./zh-mo.js":31541,"./zh-tw":50304,"./zh-tw.js":50304};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=35358},95093:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,i;function r(){return t.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(a(e,t))return!1;return!0}function c(e){return void 0===e}function u(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,i=[],r=e.length;for(n=0;n<r;++n)i.push(t(e[n],n));return i}function p(e,t){for(var n in t)a(t,n)&&(e[n]=t[n]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t,n,i){return zt(e,t,n,i,!0).utc()}function m(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function g(e){var t=null,n=!1,r=e._d&&!isNaN(e._d.getTime());return r&&(t=m(e),n=i.call(t.parsedDateParts,(function(e){return null!=e})),r=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?r:(e._isValid=r,e._isValid)}function b(e){var t=f(NaN);return null!=e?p(m(t),e):m(t).userInvalidated=!0,t}i=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),i=n.length>>>0;for(t=0;t<i;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var y=r.momentProperties=[],v=!1;function _(e,t){var n,i,r,o=y.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=m(t)),c(t._locale)||(e._locale=t._locale),o>0)for(n=0;n<o;n++)c(r=t[i=y[n]])||(e[i]=r);return e}function w(e){_(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,r.updateOffset(this),v=!1)}function k(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function C(e){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function E(e,t){var n=!0;return p((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,o,s,l=[],c=arguments.length;for(o=0;o<c;o++){if(i="","object"==typeof arguments[o]){for(s in i+="\n["+o+"] ",arguments[0])a(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[o];l.push(i)}C(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var x,S={};function O(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),S[e]||(C(t),S[e]=!0)}function T(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function M(e,t){var n,i=p({},e);for(n in t)a(t,n)&&(s(e[n])&&s(t[n])?(i[n]={},p(i[n],e[n]),p(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)a(e,n)&&!a(t,n)&&s(e[n])&&(i[n]=p({},i[n]));return i}function P(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,x=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)a(e,t)&&n.push(t);return n};function D(e,t,n){var i=""+Math.abs(e),r=t-i.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,A=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,z={},I={};function R(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(I[e]=r),t&&(I[t[0]]=function(){return D(r.apply(this,arguments),t[1],t[2])}),n&&(I[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function j(e,t){return e.isValid()?(t=N(t,e.localeData()),z[t]=z[t]||function(e){var t,n,i,r=e.match(L);for(t=0,n=r.length;t<n;t++)I[r[t]]?r[t]=I[r[t]]:r[t]=(i=r[t]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(t){var i,o="";for(i=0;i<n;i++)o+=T(r[i])?r[i].call(t,e):r[i];return o}}(t),z[t](e)):e.localeData().invalidDate()}function N(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(A.lastIndex=0;n>=0&&A.test(e);)e=e.replace(A,i),A.lastIndex=0,n-=1;return e}var F={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Y(e){return"string"==typeof e?F[e]||F[e.toLowerCase()]:void 0}function B(e){var t,n,i={};for(n in e)a(e,n)&&(t=Y(n))&&(i[t]=e[n]);return i}var H={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};var V,W=/\d/,U=/\d\d/,$=/\d{3}/,q=/\d{4}/,K=/[+-]?\d{6}/,G=/\d\d?/,Z=/\d\d\d\d?/,J=/\d\d\d\d\d\d?/,X=/\d{1,3}/,Q=/\d{1,4}/,ee=/[+-]?\d{1,6}/,te=/\d+/,ne=/[+-]?\d+/,ie=/Z|[+-]\d\d:?\d\d/gi,re=/Z|[+-]\d\d(?::?\d\d)?/gi,oe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,se=/^[1-9]\d?/,ae=/^([1-9]\d|\d)/;function le(e,t,n){V[e]=T(t)?t:function(e,i){return e&&n?n:t}}function ce(e,t){return a(V,e)?V[e](t._strict,t._locale):new RegExp(ue(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,i,r){return t||n||i||r}))))}function ue(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function de(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function he(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=de(t)),n}V={};var pe={};function fe(e,t){var n,i,r=t;for("string"==typeof e&&(e=[e]),u(t)&&(r=function(e,n){n[t]=he(e)}),i=e.length,n=0;n<i;n++)pe[e[n]]=r}function me(e,t){fe(e,(function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)}))}function ge(e,t,n){null!=t&&a(pe,e)&&pe[e](t,n._a,n,e)}function be(e){return e%4==0&&e%100!=0||e%400==0}var ye=0,ve=1,_e=2,we=3,ke=4,Ce=5,Ee=6,xe=7,Se=8;function Oe(e){return be(e)?366:365}R("Y",0,0,(function(){var e=this.year();return e<=9999?D(e,4):"+"+e})),R(0,["YY",2],0,(function(){return this.year()%100})),R(0,["YYYY",4],0,"year"),R(0,["YYYYY",5],0,"year"),R(0,["YYYYYY",6,!0],0,"year"),le("Y",ne),le("YY",G,U),le("YYYY",Q,q),le("YYYYY",ee,K),le("YYYYYY",ee,K),fe(["YYYYY","YYYYYY"],ye),fe("YYYY",(function(e,t){t[ye]=2===e.length?r.parseTwoDigitYear(e):he(e)})),fe("YY",(function(e,t){t[ye]=r.parseTwoDigitYear(e)})),fe("Y",(function(e,t){t[ye]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return he(e)+(he(e)>68?1900:2e3)};var Te,Me=Pe("FullYear",!0);function Pe(e,t){return function(n){return null!=n?(Le(this,e,n),r.updateOffset(this,t),this):De(this,e)}}function De(e,t){if(!e.isValid())return NaN;var n=e._d,i=e._isUTC;switch(t){case"Milliseconds":return i?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return i?n.getUTCSeconds():n.getSeconds();case"Minutes":return i?n.getUTCMinutes():n.getMinutes();case"Hours":return i?n.getUTCHours():n.getHours();case"Date":return i?n.getUTCDate():n.getDate();case"Day":return i?n.getUTCDay():n.getDay();case"Month":return i?n.getUTCMonth():n.getMonth();case"FullYear":return i?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Le(e,t,n){var i,r,o,s,a;if(e.isValid()&&!isNaN(n)){switch(i=e._d,r=e._isUTC,t){case"Milliseconds":return void(r?i.setUTCMilliseconds(n):i.setMilliseconds(n));case"Seconds":return void(r?i.setUTCSeconds(n):i.setSeconds(n));case"Minutes":return void(r?i.setUTCMinutes(n):i.setMinutes(n));case"Hours":return void(r?i.setUTCHours(n):i.setHours(n));case"Date":return void(r?i.setUTCDate(n):i.setDate(n));case"FullYear":break;default:return}o=n,s=e.month(),a=29!==(a=e.date())||1!==s||be(o)?a:28,r?i.setUTCFullYear(o,s,a):i.setFullYear(o,s,a)}}function Ae(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,i=(t%(n=12)+n)%n;return e+=(t-i)/12,1===i?be(e)?29:28:31-i%7%2}Te=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},R("M",["MM",2],"Mo",(function(){return this.month()+1})),R("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),R("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),le("M",G,se),le("MM",G,U),le("MMM",(function(e,t){return t.monthsShortRegex(e)})),le("MMMM",(function(e,t){return t.monthsRegex(e)})),fe(["M","MM"],(function(e,t){t[ve]=he(e)-1})),fe(["MMM","MMMM"],(function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[ve]=r:m(n).invalidMonth=e}));var ze="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ie="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Re=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,je=oe,Ne=oe;function Fe(e,t,n){var i,r,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=f([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=Te.call(this._shortMonthsParse,s))?r:null:-1!==(r=Te.call(this._longMonthsParse,s))?r:null:"MMM"===t?-1!==(r=Te.call(this._shortMonthsParse,s))||-1!==(r=Te.call(this._longMonthsParse,s))?r:null:-1!==(r=Te.call(this._longMonthsParse,s))||-1!==(r=Te.call(this._shortMonthsParse,s))?r:null}function Ye(e,t){if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=he(t);else if(!u(t=e.localeData().monthsParse(t)))return e;var n=t,i=e.date();return i=i<29?i:Math.min(i,Ae(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,i):e._d.setMonth(n,i),e}function Be(e){return null!=e?(Ye(this,e),r.updateOffset(this,!0),this):De(this,"Month")}function He(){function e(e,t){return t.length-e.length}var t,n,i,r,o=[],s=[],a=[];for(t=0;t<12;t++)n=f([2e3,t]),i=ue(this.monthsShort(n,"")),r=ue(this.months(n,"")),o.push(i),s.push(r),a.push(r),a.push(i);o.sort(e),s.sort(e),a.sort(e),this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Ve(e,t,n,i,r,o,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,i,r,o,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,i,r,o,s),a}function We(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Ue(e,t,n){var i=7+t-n;return-(7+We(e,0,i).getUTCDay()-t)%7+i-1}function $e(e,t,n,i,r){var o,s,a=1+7*(t-1)+(7+n-i)%7+Ue(e,i,r);return a<=0?s=Oe(o=e-1)+a:a>Oe(e)?(o=e+1,s=a-Oe(e)):(o=e,s=a),{year:o,dayOfYear:s}}function qe(e,t,n){var i,r,o=Ue(e.year(),t,n),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return s<1?i=s+Ke(r=e.year()-1,t,n):s>Ke(e.year(),t,n)?(i=s-Ke(e.year(),t,n),r=e.year()+1):(r=e.year(),i=s),{week:i,year:r}}function Ke(e,t,n){var i=Ue(e,t,n),r=Ue(e+1,t,n);return(Oe(e)-i+r)/7}R("w",["ww",2],"wo","week"),R("W",["WW",2],"Wo","isoWeek"),le("w",G,se),le("ww",G,U),le("W",G,se),le("WW",G,U),me(["w","ww","W","WW"],(function(e,t,n,i){t[i.substr(0,1)]=he(e)}));function Ge(e,t){return e.slice(t,7).concat(e.slice(0,t))}R("d",0,"do","day"),R("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),R("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),R("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),R("e",0,0,"weekday"),R("E",0,0,"isoWeekday"),le("d",G),le("e",G),le("E",G),le("dd",(function(e,t){return t.weekdaysMinRegex(e)})),le("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),le("dddd",(function(e,t){return t.weekdaysRegex(e)})),me(["dd","ddd","dddd"],(function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:m(n).invalidWeekday=e})),me(["d","e","E"],(function(e,t,n,i){t[i]=he(e)}));var Ze="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Je="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Xe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Qe=oe,et=oe,tt=oe;function nt(e,t,n){var i,r,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=f([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=Te.call(this._weekdaysParse,s))?r:null:"ddd"===t?-1!==(r=Te.call(this._shortWeekdaysParse,s))?r:null:-1!==(r=Te.call(this._minWeekdaysParse,s))?r:null:"dddd"===t?-1!==(r=Te.call(this._weekdaysParse,s))||-1!==(r=Te.call(this._shortWeekdaysParse,s))||-1!==(r=Te.call(this._minWeekdaysParse,s))?r:null:"ddd"===t?-1!==(r=Te.call(this._shortWeekdaysParse,s))||-1!==(r=Te.call(this._weekdaysParse,s))||-1!==(r=Te.call(this._minWeekdaysParse,s))?r:null:-1!==(r=Te.call(this._minWeekdaysParse,s))||-1!==(r=Te.call(this._weekdaysParse,s))||-1!==(r=Te.call(this._shortWeekdaysParse,s))?r:null}function it(){function e(e,t){return t.length-e.length}var t,n,i,r,o,s=[],a=[],l=[],c=[];for(t=0;t<7;t++)n=f([2e3,1]).day(t),i=ue(this.weekdaysMin(n,"")),r=ue(this.weekdaysShort(n,"")),o=ue(this.weekdays(n,"")),s.push(i),a.push(r),l.push(o),c.push(i),c.push(r),c.push(o);s.sort(e),a.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function rt(){return this.hours()%12||12}function ot(e,t){R(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function st(e,t){return t._meridiemParse}R("H",["HH",2],0,"hour"),R("h",["hh",2],0,rt),R("k",["kk",2],0,(function(){return this.hours()||24})),R("hmm",0,0,(function(){return""+rt.apply(this)+D(this.minutes(),2)})),R("hmmss",0,0,(function(){return""+rt.apply(this)+D(this.minutes(),2)+D(this.seconds(),2)})),R("Hmm",0,0,(function(){return""+this.hours()+D(this.minutes(),2)})),R("Hmmss",0,0,(function(){return""+this.hours()+D(this.minutes(),2)+D(this.seconds(),2)})),ot("a",!0),ot("A",!1),le("a",st),le("A",st),le("H",G,ae),le("h",G,se),le("k",G,se),le("HH",G,U),le("hh",G,U),le("kk",G,U),le("hmm",Z),le("hmmss",J),le("Hmm",Z),le("Hmmss",J),fe(["H","HH"],we),fe(["k","kk"],(function(e,t,n){var i=he(e);t[we]=24===i?0:i})),fe(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),fe(["h","hh"],(function(e,t,n){t[we]=he(e),m(n).bigHour=!0})),fe("hmm",(function(e,t,n){var i=e.length-2;t[we]=he(e.substr(0,i)),t[ke]=he(e.substr(i)),m(n).bigHour=!0})),fe("hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[we]=he(e.substr(0,i)),t[ke]=he(e.substr(i,2)),t[Ce]=he(e.substr(r)),m(n).bigHour=!0})),fe("Hmm",(function(e,t,n){var i=e.length-2;t[we]=he(e.substr(0,i)),t[ke]=he(e.substr(i))})),fe("Hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[we]=he(e.substr(0,i)),t[ke]=he(e.substr(i,2)),t[Ce]=he(e.substr(r))}));var at=Pe("Hours",!0);var lt,ct={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:ze,monthsShort:Ie,week:{dow:0,doy:6},weekdays:Ze,weekdaysMin:Xe,weekdaysShort:Je,meridiemParse:/[ap]\.?m?\.?/i},ut={},dt={};function ht(e,t){var n,i=Math.min(e.length,t.length);for(n=0;n<i;n+=1)if(e[n]!==t[n])return n;return i}function pt(e){return e?e.toLowerCase().replace("_","-"):e}function ft(t){var i=null;if(void 0===ut[t]&&e&&e.exports&&function(e){return!(!e||!e.match("^[^/\\\\]*$"))}(t))try{i=lt._abbr,n(35358)("./"+t),mt(i)}catch(e){ut[t]=null}return ut[t]}function mt(e,t){var n;return e&&((n=c(t)?bt(e):gt(e,t))?lt=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),lt._abbr}function gt(e,t){if(null!==t){var n,i=ct;if(t.abbr=e,null!=ut[e])O("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=ut[e]._config;else if(null!=t.parentLocale)if(null!=ut[t.parentLocale])i=ut[t.parentLocale]._config;else{if(null==(n=ft(t.parentLocale)))return dt[t.parentLocale]||(dt[t.parentLocale]=[]),dt[t.parentLocale].push({name:e,config:t}),null;i=n._config}return ut[e]=new P(M(i,t)),dt[e]&&dt[e].forEach((function(e){gt(e.name,e.config)})),mt(e),ut[e]}return delete ut[e],null}function bt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return lt;if(!o(e)){if(t=ft(e))return t;e=[e]}return function(e){for(var t,n,i,r,o=0;o<e.length;){for(t=(r=pt(e[o]).split("-")).length,n=(n=pt(e[o+1]))?n.split("-"):null;t>0;){if(i=ft(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&ht(r,n)>=t-1)break;t--}o++}return lt}(e)}function yt(e){var t,n=e._a;return n&&-2===m(e).overflow&&(t=n[ve]<0||n[ve]>11?ve:n[_e]<1||n[_e]>Ae(n[ye],n[ve])?_e:n[we]<0||n[we]>24||24===n[we]&&(0!==n[ke]||0!==n[Ce]||0!==n[Ee])?we:n[ke]<0||n[ke]>59?ke:n[Ce]<0||n[Ce]>59?Ce:n[Ee]<0||n[Ee]>999?Ee:-1,m(e)._overflowDayOfYear&&(t<ye||t>_e)&&(t=_e),m(e)._overflowWeeks&&-1===t&&(t=xe),m(e)._overflowWeekday&&-1===t&&(t=Se),m(e).overflow=t),e}var vt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_t=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wt=/Z|[+-]\d\d(?::?\d\d)?/,kt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ct=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Et=/^\/?Date\((-?\d+)/i,xt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,St={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ot(e){var t,n,i,r,o,s,a=e._i,l=vt.exec(a)||_t.exec(a),c=kt.length,u=Ct.length;if(l){for(m(e).iso=!0,t=0,n=c;t<n;t++)if(kt[t][1].exec(l[1])){r=kt[t][0],i=!1!==kt[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=u;t<n;t++)if(Ct[t][1].exec(l[3])){o=(l[2]||" ")+Ct[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(l[4]){if(!wt.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=r+(o||"")+(s||""),Lt(e)}else e._isValid=!1}function Tt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Mt(e){var t,n,i,r,o,s,a,l,c=xt.exec(e._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(c){if(n=c[4],i=c[3],r=c[2],o=c[5],s=c[6],a=c[7],l=[Tt(n),Ie.indexOf(i),parseInt(r,10),parseInt(o,10),parseInt(s,10)],a&&l.push(parseInt(a,10)),t=l,!function(e,t,n){return!e||Je.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(m(n).weekdayMismatch=!0,n._isValid=!1,!1)}(c[1],t,e))return;e._a=t,e._tzm=function(e,t,n){if(e)return St[e];if(t)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}(c[8],c[9],c[10]),e._d=We.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0}else e._isValid=!1}function Pt(e,t,n){return null!=e?e:null!=t?t:n}function Dt(e){var t,n,i,o,s,a=[];if(!e._d){for(i=function(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[_e]&&null==e._a[ve]&&function(e){var t,n,i,r,o,s,a,l,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,s=4,n=Pt(t.GG,e._a[ye],qe(It(),1,4).year),i=Pt(t.W,1),((r=Pt(t.E,1))<1||r>7)&&(l=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,c=qe(It(),o,s),n=Pt(t.gg,e._a[ye],c.year),i=Pt(t.w,c.week),null!=t.d?((r=t.d)<0||r>6)&&(l=!0):null!=t.e?(r=t.e+o,(t.e<0||t.e>6)&&(l=!0)):r=o),i<1||i>Ke(n,o,s)?m(e)._overflowWeeks=!0:null!=l?m(e)._overflowWeekday=!0:(a=$e(n,i,r,o,s),e._a[ye]=a.year,e._dayOfYear=a.dayOfYear)}(e),null!=e._dayOfYear&&(s=Pt(e._a[ye],i[ye]),(e._dayOfYear>Oe(s)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),n=We(s,0,e._dayOfYear),e._a[ve]=n.getUTCMonth(),e._a[_e]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=i[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[we]&&0===e._a[ke]&&0===e._a[Ce]&&0===e._a[Ee]&&(e._nextDay=!0,e._a[we]=0),e._d=(e._useUTC?We:Ve).apply(null,a),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[we]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(m(e).weekdayMismatch=!0)}}function Lt(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],m(e).empty=!0;var t,n,i,o,s,a,l,c=""+e._i,u=c.length,d=0;for(l=(i=N(e._f,e._locale).match(L)||[]).length,t=0;t<l;t++)o=i[t],(n=(c.match(ce(o,e))||[])[0])&&((s=c.substr(0,c.indexOf(n))).length>0&&m(e).unusedInput.push(s),c=c.slice(c.indexOf(n)+n.length),d+=n.length),I[o]?(n?m(e).empty=!1:m(e).unusedTokens.push(o),ge(o,n,e)):e._strict&&!n&&m(e).unusedTokens.push(o);m(e).charsLeftOver=u-d,c.length>0&&m(e).unusedInput.push(c),e._a[we]<=12&&!0===m(e).bigHour&&e._a[we]>0&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[we]=function(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0),t):t}(e._locale,e._a[we],e._meridiem),null!==(a=m(e).era)&&(e._a[ye]=e._locale.erasConvertYear(a,e._a[ye])),Dt(e),yt(e)}else Mt(e);else Ot(e)}function At(e){var t=e._i,n=e._f;return e._locale=e._locale||bt(e._l),null===t||void 0===n&&""===t?b({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),k(t)?new w(yt(t)):(d(t)?e._d=t:o(n)?function(e){var t,n,i,r,o,s,a=!1,l=e._f.length;if(0===l)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<l;r++)o=0,s=!1,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],Lt(t),g(t)&&(s=!0),o+=m(t).charsLeftOver,o+=10*m(t).unusedTokens.length,m(t).score=o,a?o<i&&(i=o,n=t):(null==i||o<i||s)&&(i=o,n=t,s&&(a=!0));p(e,n||t)}(e):n?Lt(e):function(e){var t=e._i;c(t)?e._d=new Date(r.now()):d(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=Et.exec(e._i);null===t?(Ot(e),!1===e._isValid&&(delete e._isValid,Mt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):o(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),Dt(e)):s(t)?function(e){if(!e._d){var t=B(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Dt(e)}}(e):u(t)?e._d=new Date(t):r.createFromInputFallback(e)}(e),g(e)||(e._d=null),e))}function zt(e,t,n,i,r){var a,c={};return!0!==t&&!1!==t||(i=t,t=void 0),!0!==n&&!1!==n||(i=n,n=void 0),(s(e)&&l(e)||o(e)&&0===e.length)&&(e=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=r,c._l=n,c._i=e,c._f=t,c._strict=i,(a=new w(yt(At(c))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function It(e,t,n,i){return zt(e,t,n,i,!1)}r.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Rt=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=It.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:b()})),jt=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=It.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:b()}));function Nt(e,t){var n,i;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return It();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}var Ft=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Yt(e){var t=B(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,l=t.hour||0,c=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=function(e){var t,n,i=!1,r=Ft.length;for(t in e)if(a(e,t)&&(-1===Te.call(Ft,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<r;++n)if(e[Ft[n]]){if(i)return!1;parseFloat(e[Ft[n]])!==he(e[Ft[n]])&&(i=!0)}return!0}(t),this._milliseconds=+d+1e3*u+6e4*c+1e3*l*60*60,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=bt(),this._bubble()}function Bt(e){return e instanceof Yt}function Ht(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Vt(e,t){R(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+D(~~(e/60),2)+t+D(~~e%60,2)}))}Vt("Z",":"),Vt("ZZ",""),le("Z",re),le("ZZ",re),fe(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Ut(re,e)}));var Wt=/([\+\-]|\d\d)/gi;function Ut(e,t){var n,i,r=(t||"").match(e);return null===r?null:0===(i=60*(n=((r[r.length-1]||[])+"").match(Wt)||["-",0,0])[1]+he(n[2]))?0:"+"===n[0]?i:-i}function $t(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(k(e)||d(e)?e.valueOf():It(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):It(e).local()}function qt(e){return-Math.round(e._d.getTimezoneOffset())}function Kt(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Gt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Zt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Jt(e,t){var n,i,r,o,s,l,c=e,d=null;return Bt(e)?c={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(c={},t?c[t]=+e:c.milliseconds=+e):(d=Gt.exec(e))?(n="-"===d[1]?-1:1,c={y:0,d:he(d[_e])*n,h:he(d[we])*n,m:he(d[ke])*n,s:he(d[Ce])*n,ms:he(Ht(1e3*d[Ee]))*n}):(d=Zt.exec(e))?(n="-"===d[1]?-1:1,c={y:Xt(d[2],n),M:Xt(d[3],n),w:Xt(d[4],n),d:Xt(d[5],n),h:Xt(d[6],n),m:Xt(d[7],n),s:Xt(d[8],n)}):null==c?c={}:"object"==typeof c&&("from"in c||"to"in c)&&(o=It(c.from),s=It(c.to),r=o.isValid()&&s.isValid()?(s=$t(s,o),o.isBefore(s)?l=Qt(o,s):((l=Qt(s,o)).milliseconds=-l.milliseconds,l.months=-l.months),l):{milliseconds:0,months:0},(c={}).ms=r.milliseconds,c.M=r.months),i=new Yt(c),Bt(e)&&a(e,"_locale")&&(i._locale=e._locale),Bt(e)&&a(e,"_isValid")&&(i._isValid=e._isValid),i}function Xt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Qt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function en(e,t){return function(n,i){var r;return null===i||isNaN(+i)||(O(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),tn(this,Jt(n,i),e),this}}function tn(e,t,n,i){var o=t._milliseconds,s=Ht(t._days),a=Ht(t._months);e.isValid()&&(i=null==i||i,a&&Ye(e,De(e,"Month")+a*n),s&&Le(e,"Date",De(e,"Date")+s*n),o&&e._d.setTime(e._d.valueOf()+o*n),i&&r.updateOffset(e,s||a))}Jt.fn=Yt.prototype,Jt.invalid=function(){return Jt(NaN)};var nn=en(1,"add"),rn=en(-1,"subtract");function on(e){return"string"==typeof e||e instanceof String}function sn(e){return k(e)||d(e)||on(e)||u(e)||function(e){var t=o(e),n=!1;return t&&(n=0===e.filter((function(t){return!u(t)&&on(e)})).length),t&&n}(e)||function(e){var t,n,i=s(e)&&!l(e),r=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=o.length;for(t=0;t<c;t+=1)n=o[t],r=r||a(e,n);return i&&r}(e)||null==e}function an(e,t){if(e.date()<t.date())return-an(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months");return-(n+(t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(n+1,"months")-i)))||0}function ln(e){var t;return void 0===e?this._locale._abbr:(null!=(t=bt(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var cn=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function un(){return this._locale}var dn=1e3,hn=6e4,pn=36e5,fn=126227808e5;function mn(e,t){return(e%t+t)%t}function gn(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-fn:new Date(e,t,n).valueOf()}function bn(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-fn:Date.UTC(e,t,n)}function yn(e,t){return t.erasAbbrRegex(e)}function vn(){var e,t,n,i,r,o=[],s=[],a=[],l=[],c=this.eras();for(e=0,t=c.length;e<t;++e)n=ue(c[e].name),i=ue(c[e].abbr),r=ue(c[e].narrow),s.push(n),o.push(i),a.push(r),l.push(n),l.push(i),l.push(r);this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+s.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+a.join("|")+")","i")}function _n(e,t){R(0,[e,e.length],0,t)}function wn(e,t,n,i,r){var o;return null==e?qe(this,i,r).year:(t>(o=Ke(e,i,r))&&(t=o),kn.call(this,e,t,n,i,r))}function kn(e,t,n,i,r){var o=$e(e,t,n,i,r),s=We(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}R("N",0,0,"eraAbbr"),R("NN",0,0,"eraAbbr"),R("NNN",0,0,"eraAbbr"),R("NNNN",0,0,"eraName"),R("NNNNN",0,0,"eraNarrow"),R("y",["y",1],"yo","eraYear"),R("y",["yy",2],0,"eraYear"),R("y",["yyy",3],0,"eraYear"),R("y",["yyyy",4],0,"eraYear"),le("N",yn),le("NN",yn),le("NNN",yn),le("NNNN",(function(e,t){return t.erasNameRegex(e)})),le("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),fe(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,i){var r=n._locale.erasParse(e,i,n._strict);r?m(n).era=r:m(n).invalidEra=e})),le("y",te),le("yy",te),le("yyy",te),le("yyyy",te),le("yo",(function(e,t){return t._eraYearOrdinalRegex||te})),fe(["y","yy","yyy","yyyy"],ye),fe(["yo"],(function(e,t,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[ye]=n._locale.eraYearOrdinalParse(e,r):t[ye]=parseInt(e,10)})),R(0,["gg",2],0,(function(){return this.weekYear()%100})),R(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),_n("gggg","weekYear"),_n("ggggg","weekYear"),_n("GGGG","isoWeekYear"),_n("GGGGG","isoWeekYear"),le("G",ne),le("g",ne),le("GG",G,U),le("gg",G,U),le("GGGG",Q,q),le("gggg",Q,q),le("GGGGG",ee,K),le("ggggg",ee,K),me(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,i){t[i.substr(0,2)]=he(e)})),me(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),R("Q",0,"Qo","quarter"),le("Q",W),fe("Q",(function(e,t){t[ve]=3*(he(e)-1)})),R("D",["DD",2],"Do","date"),le("D",G,se),le("DD",G,U),le("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),fe(["D","DD"],_e),fe("Do",(function(e,t){t[_e]=he(e.match(G)[0])}));var Cn=Pe("Date",!0);R("DDD",["DDDD",3],"DDDo","dayOfYear"),le("DDD",X),le("DDDD",$),fe(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=he(e)})),R("m",["mm",2],0,"minute"),le("m",G,ae),le("mm",G,U),fe(["m","mm"],ke);var En=Pe("Minutes",!1);R("s",["ss",2],0,"second"),le("s",G,ae),le("ss",G,U),fe(["s","ss"],Ce);var xn,Sn,On=Pe("Seconds",!1);for(R("S",0,0,(function(){return~~(this.millisecond()/100)})),R(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),R(0,["SSS",3],0,"millisecond"),R(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),R(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),R(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),R(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),R(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),R(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),le("S",X,W),le("SS",X,U),le("SSS",X,$),xn="SSSS";xn.length<=9;xn+="S")le(xn,te);function Tn(e,t){t[Ee]=he(1e3*("0."+e))}for(xn="S";xn.length<=9;xn+="S")fe(xn,Tn);Sn=Pe("Milliseconds",!1),R("z",0,0,"zoneAbbr"),R("zz",0,0,"zoneName");var Mn=w.prototype;function Pn(e){return e}Mn.add=nn,Mn.calendar=function(e,t){1===arguments.length&&(arguments[0]?sn(arguments[0])?(e=arguments[0],t=void 0):function(e){var t,n=s(e)&&!l(e),i=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<r.length;t+=1)i=i||a(e,r[t]);return n&&i}(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||It(),i=$t(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",c=t&&(T(t[o])?t[o].call(this,n):t[o]);return this.format(c||this.localeData().calendar(o,this,It(n)))},Mn.clone=function(){return new w(this)},Mn.diff=function(e,t,n){var i,r,o;if(!this.isValid())return NaN;if(!(i=$t(e,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=Y(t)){case"year":o=an(this,i)/12;break;case"month":o=an(this,i);break;case"quarter":o=an(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:de(o)},Mn.endOf=function(e){var t,n;if(void 0===(e=Y(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?bn:gn,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=pn-mn(t+(this._isUTC?0:this.utcOffset()*hn),pn)-1;break;case"minute":t=this._d.valueOf(),t+=hn-mn(t,hn)-1;break;case"second":t=this._d.valueOf(),t+=dn-mn(t,dn)-1}return this._d.setTime(t),r.updateOffset(this,!0),this},Mn.format=function(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=j(this,e);return this.localeData().postformat(t)},Mn.from=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||It(e).isValid())?Jt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Mn.fromNow=function(e){return this.from(It(),e)},Mn.to=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||It(e).isValid())?Jt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Mn.toNow=function(e){return this.to(It(),e)},Mn.get=function(e){return T(this[e=Y(e)])?this[e]():this},Mn.invalidAt=function(){return m(this).overflow},Mn.isAfter=function(e,t){var n=k(e)?e:It(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=Y(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},Mn.isBefore=function(e,t){var n=k(e)?e:It(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=Y(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},Mn.isBetween=function(e,t,n,i){var r=k(e)?e:It(e),o=k(t)?t:It(t);return!!(this.isValid()&&r.isValid()&&o.isValid())&&("("===(i=i||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(o,n):!this.isAfter(o,n))},Mn.isSame=function(e,t){var n,i=k(e)?e:It(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=Y(t)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},Mn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},Mn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},Mn.isValid=function(){return g(this)},Mn.lang=cn,Mn.locale=ln,Mn.localeData=un,Mn.max=jt,Mn.min=Rt,Mn.parsingFlags=function(){return p({},m(this))},Mn.set=function(e,t){if("object"==typeof e){var n,i=function(e){var t,n=[];for(t in e)a(e,t)&&n.push({unit:t,priority:H[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}(e=B(e)),r=i.length;for(n=0;n<r;n++)this[i[n].unit](e[i[n].unit])}else if(T(this[e=Y(e)]))return this[e](t);return this},Mn.startOf=function(e){var t,n;if(void 0===(e=Y(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?bn:gn,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=mn(t+(this._isUTC?0:this.utcOffset()*hn),pn);break;case"minute":t=this._d.valueOf(),t-=mn(t,hn);break;case"second":t=this._d.valueOf(),t-=mn(t,dn)}return this._d.setTime(t),r.updateOffset(this,!0),this},Mn.subtract=rn,Mn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},Mn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},Mn.toDate=function(){return new Date(this.valueOf())},Mn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?j(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",j(n,"Z")):j(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Mn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,i="moment",r="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",r="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY","-MM-DD[T]HH:mm:ss.SSS",n=r+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(Mn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Mn.toJSON=function(){return this.isValid()?this.toISOString():null},Mn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Mn.unix=function(){return Math.floor(this.valueOf()/1e3)},Mn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Mn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Mn.eraName=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].name;if(i[e].until<=n&&n<=i[e].since)return i[e].name}return""},Mn.eraNarrow=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].narrow;if(i[e].until<=n&&n<=i[e].since)return i[e].narrow}return""},Mn.eraAbbr=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].abbr;if(i[e].until<=n&&n<=i[e].since)return i[e].abbr}return""},Mn.eraYear=function(){var e,t,n,i,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,i=this.clone().startOf("day").valueOf(),o[e].since<=i&&i<=o[e].until||o[e].until<=i&&i<=o[e].since)return(this.year()-r(o[e].since).year())*n+o[e].offset;return this.year()},Mn.year=Me,Mn.isLeapYear=function(){return be(this.year())},Mn.weekYear=function(e){return wn.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)},Mn.isoWeekYear=function(e){return wn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},Mn.quarter=Mn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},Mn.month=Be,Mn.daysInMonth=function(){return Ae(this.year(),this.month())},Mn.week=Mn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},Mn.isoWeek=Mn.isoWeeks=function(e){var t=qe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},Mn.weeksInYear=function(){var e=this.localeData()._week;return Ke(this.year(),e.dow,e.doy)},Mn.weeksInWeekYear=function(){var e=this.localeData()._week;return Ke(this.weekYear(),e.dow,e.doy)},Mn.isoWeeksInYear=function(){return Ke(this.year(),1,4)},Mn.isoWeeksInISOWeekYear=function(){return Ke(this.isoWeekYear(),1,4)},Mn.date=Cn,Mn.day=Mn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=De(this,"Day");return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},Mn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},Mn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},Mn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},Mn.hour=Mn.hours=at,Mn.minute=Mn.minutes=En,Mn.second=Mn.seconds=On,Mn.millisecond=Mn.milliseconds=Sn,Mn.utcOffset=function(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Ut(re,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=qt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?tn(this,Jt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:qt(this)},Mn.utc=function(e){return this.utcOffset(0,e)},Mn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(qt(this),"m")),this},Mn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ut(ie,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},Mn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?It(e).utcOffset():0,(this.utcOffset()-e)%60==0)},Mn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Mn.isLocal=function(){return!!this.isValid()&&!this._isUTC},Mn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Mn.isUtc=Kt,Mn.isUTC=Kt,Mn.zoneAbbr=function(){return this._isUTC?"UTC":""},Mn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Mn.dates=E("dates accessor is deprecated. Use date instead.",Cn),Mn.months=E("months accessor is deprecated. Use month instead",Be),Mn.years=E("years accessor is deprecated. Use year instead",Me),Mn.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),Mn.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return _(t,this),(t=At(t))._a?(e=t._isUTC?f(t._a):It(t._a),this._isDSTShifted=this.isValid()&&function(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&he(e[i])!==he(t[i]))&&s++;return s+o}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var Dn=P.prototype;function Ln(e,t,n,i){var r=bt(),o=f().set(i,t);return r[n](o,e)}function An(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return Ln(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=Ln(e,i,n,"month");return r}function zn(e,t,n,i){"boolean"==typeof e?(u(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,u(t)&&(n=t,t=void 0),t=t||"");var r,o=bt(),s=e?o._week.dow:0,a=[];if(null!=n)return Ln(t,(n+s)%7,i,"day");for(r=0;r<7;r++)a[r]=Ln(t,(r+s)%7,i,"day");return a}Dn.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return T(i)?i.call(t,n):i},Dn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(L).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},Dn.invalidDate=function(){return this._invalidDate},Dn.ordinal=function(e){return this._ordinal.replace("%d",e)},Dn.preparse=Pn,Dn.postformat=Pn,Dn.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return T(r)?r(e,t,n,i):r.replace(/%d/i,e)},Dn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return T(n)?n(t):n.replace(/%s/i,t)},Dn.set=function(e){var t,n;for(n in e)a(e,n)&&(T(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Dn.eras=function(e,t){var n,i,o,s=this._eras||bt("en")._eras;for(n=0,i=s.length;n<i;++n)switch("string"==typeof s[n].since&&(o=r(s[n].since).startOf("day"),s[n].since=o.valueOf()),typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":o=r(s[n].until).startOf("day").valueOf(),s[n].until=o.valueOf()}return s},Dn.erasParse=function(e,t,n){var i,r,o,s,a,l=this.eras();for(e=e.toUpperCase(),i=0,r=l.length;i<r;++i)if(o=l[i].name.toUpperCase(),s=l[i].abbr.toUpperCase(),a=l[i].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return l[i];break;case"NNNN":if(o===e)return l[i];break;case"NNNNN":if(a===e)return l[i]}else if([o,s,a].indexOf(e)>=0)return l[i]},Dn.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n},Dn.erasAbbrRegex=function(e){return a(this,"_erasAbbrRegex")||vn.call(this),e?this._erasAbbrRegex:this._erasRegex},Dn.erasNameRegex=function(e){return a(this,"_erasNameRegex")||vn.call(this),e?this._erasNameRegex:this._erasRegex},Dn.erasNarrowRegex=function(e){return a(this,"_erasNarrowRegex")||vn.call(this),e?this._erasNarrowRegex:this._erasRegex},Dn.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Re).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},Dn.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Re.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Dn.monthsParse=function(e,t,n){var i,r,o;if(this._monthsParseExact)return Fe.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=f([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},Dn.monthsRegex=function(e){return this._monthsParseExact?(a(this,"_monthsRegex")||He.call(this),e?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=Ne),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Dn.monthsShortRegex=function(e){return this._monthsParseExact?(a(this,"_monthsRegex")||He.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=je),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Dn.week=function(e){return qe(e,this._week.dow,this._week.doy).week},Dn.firstDayOfYear=function(){return this._week.doy},Dn.firstDayOfWeek=function(){return this._week.dow},Dn.weekdays=function(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ge(n,this._week.dow):e?n[e.day()]:n},Dn.weekdaysMin=function(e){return!0===e?Ge(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Dn.weekdaysShort=function(e){return!0===e?Ge(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Dn.weekdaysParse=function(e,t,n){var i,r,o;if(this._weekdaysParseExact)return nt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=f([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},Dn.weekdaysRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||it.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Qe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Dn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||it.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=et),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Dn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||it.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=tt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Dn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Dn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},mt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===he(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=E("moment.lang is deprecated. Use moment.locale instead.",mt),r.langData=E("moment.langData is deprecated. Use moment.localeData instead.",bt);var In=Math.abs;function Rn(e,t,n,i){var r=Jt(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function jn(e){return e<0?Math.floor(e):Math.ceil(e)}function Nn(e){return 4800*e/146097}function Fn(e){return 146097*e/4800}function Yn(e){return function(){return this.as(e)}}var Bn=Yn("ms"),Hn=Yn("s"),Vn=Yn("m"),Wn=Yn("h"),Un=Yn("d"),$n=Yn("w"),qn=Yn("M"),Kn=Yn("Q"),Gn=Yn("y"),Zn=Bn;function Jn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Xn=Jn("milliseconds"),Qn=Jn("seconds"),ei=Jn("minutes"),ti=Jn("hours"),ni=Jn("days"),ii=Jn("months"),ri=Jn("years");var oi=Math.round,si={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ai(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}var li=Math.abs;function ci(e){return(e>0)-(e<0)||+e}function ui(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,i,r,o,s,a,l=li(this._milliseconds)/1e3,c=li(this._days),u=li(this._months),d=this.asSeconds();return d?(e=de(l/60),t=de(e/60),l%=60,e%=60,n=de(u/12),u%=12,i=l?l.toFixed(3).replace(/\.?0+$/,""):"",r=d<0?"-":"",o=ci(this._months)!==ci(d)?"-":"",s=ci(this._days)!==ci(d)?"-":"",a=ci(this._milliseconds)!==ci(d)?"-":"",r+"P"+(n?o+n+"Y":"")+(u?o+u+"M":"")+(c?s+c+"D":"")+(t||e||l?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(l?a+i+"S":"")):"P0D"}var di=Yt.prototype;return di.isValid=function(){return this._isValid},di.abs=function(){var e=this._data;return this._milliseconds=In(this._milliseconds),this._days=In(this._days),this._months=In(this._months),e.milliseconds=In(e.milliseconds),e.seconds=In(e.seconds),e.minutes=In(e.minutes),e.hours=In(e.hours),e.months=In(e.months),e.years=In(e.years),this},di.add=function(e,t){return Rn(this,e,t,1)},di.subtract=function(e,t){return Rn(this,e,t,-1)},di.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=Y(e))||"quarter"===e||"year"===e)switch(t=this._days+i/864e5,n=this._months+Nn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Fn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},di.asMilliseconds=Bn,di.asSeconds=Hn,di.asMinutes=Vn,di.asHours=Wn,di.asDays=Un,di.asWeeks=$n,di.asMonths=qn,di.asQuarters=Kn,di.asYears=Gn,di.valueOf=Zn,di._bubble=function(){var e,t,n,i,r,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*jn(Fn(a)+s),s=0,a=0),l.milliseconds=o%1e3,e=de(o/1e3),l.seconds=e%60,t=de(e/60),l.minutes=t%60,n=de(t/60),l.hours=n%24,s+=de(n/24),a+=r=de(Nn(s)),s-=jn(Fn(r)),i=de(a/12),a%=12,l.days=s,l.months=a,l.years=i,this},di.clone=function(){return Jt(this)},di.get=function(e){return e=Y(e),this.isValid()?this[e+"s"]():NaN},di.milliseconds=Xn,di.seconds=Qn,di.minutes=ei,di.hours=ti,di.days=ni,di.weeks=function(){return de(this.days()/7)},di.months=ii,di.years=ri,di.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,i,r=!1,o=si;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(r=e),"object"==typeof t&&(o=Object.assign({},si,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),i=function(e,t,n,i){var r=Jt(e).abs(),o=oi(r.as("s")),s=oi(r.as("m")),a=oi(r.as("h")),l=oi(r.as("d")),c=oi(r.as("M")),u=oi(r.as("w")),d=oi(r.as("y")),h=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(h=h||u<=1&&["w"]||u<n.w&&["ww",u]),(h=h||c<=1&&["M"]||c<n.M&&["MM",c]||d<=1&&["y"]||["yy",d])[2]=t,h[3]=+e>0,h[4]=i,ai.apply(null,h)}(this,!r,o,n=this.localeData()),r&&(i=n.pastFuture(+this,i)),n.postformat(i)},di.toISOString=ui,di.toString=ui,di.toJSON=ui,di.locale=ln,di.localeData=un,di.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ui),di.lang=cn,R("X",0,0,"unix"),R("x",0,0,"valueOf"),le("x",ne),le("X",/[+-]?\d+(\.\d{1,3})?/),fe("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),fe("x",(function(e,t,n){n._d=new Date(he(e))})),r.version="2.30.1",t=It,r.fn=Mn,r.min=function(){return Nt("isBefore",[].slice.call(arguments,0))},r.max=function(){return Nt("isAfter",[].slice.call(arguments,0))},r.now=function(){return Date.now?Date.now():+new Date},r.utc=f,r.unix=function(e){return It(1e3*e)},r.months=function(e,t){return An(e,t,"months")},r.isDate=d,r.locale=mt,r.invalid=b,r.duration=Jt,r.isMoment=k,r.weekdays=function(e,t,n){return zn(e,t,n,"weekdays")},r.parseZone=function(){return It.apply(null,arguments).parseZone()},r.localeData=bt,r.isDuration=Bt,r.monthsShort=function(e,t){return An(e,t,"monthsShort")},r.weekdaysMin=function(e,t,n){return zn(e,t,n,"weekdaysMin")},r.defineLocale=gt,r.updateLocale=function(e,t){if(null!=t){var n,i,r=ct;null!=ut[e]&&null!=ut[e].parentLocale?ut[e].set(M(ut[e]._config,t)):(null!=(i=ft(e))&&(r=i._config),t=M(r,t),null==i&&(t.abbr=e),(n=new P(t)).parentLocale=ut[e],ut[e]=n),mt(e)}else null!=ut[e]&&(null!=ut[e].parentLocale?(ut[e]=ut[e].parentLocale,e===mt()&&mt(e)):null!=ut[e]&&delete ut[e]);return ut[e]},r.locales=function(){return x(ut)},r.weekdaysShort=function(e,t,n){return zn(e,t,n,"weekdaysShort")},r.normalizeUnits=Y,r.relativeTimeRounding=function(e){return void 0===e?oi:"function"==typeof e&&(oi=e,!0)},r.relativeTimeThreshold=function(e,t){return void 0!==si[e]&&(void 0===t?si[e]:(si[e]=t,"s"===e&&(si.ss=t-1),!0))},r.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},r.prototype=Mn,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},6411:function(e,t,n){var i;!function(r,o,s){if(r){for(var a,l={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},c={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},u={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},d={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},h=1;h<20;++h)l[111+h]="f"+h;for(h=0;h<=9;++h)l[h+96]=h.toString();v.prototype.bind=function(e,t,n){var i=this;return e=e instanceof Array?e:[e],i._bindMultiple.call(i,e,t,n),i},v.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},v.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},v.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},v.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(y(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},v.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},v.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(l[t]=e[t]);a=null},v.init=function(){var e=v(o);for(var t in e)"_"!==t.charAt(0)&&(v[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},v.init(),r.Mousetrap=v,e.exports&&(e.exports=v),void 0===(i=function(){return v}.call(t,n,t,e))||(e.exports=i)}function p(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function f(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return l[e.which]?l[e.which]:c[e.which]?c[e.which]:String.fromCharCode(e.which).toLowerCase()}function m(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function g(e,t,n){return n||(n=function(){if(!a)for(var e in a={},l)e>95&&e<112||l.hasOwnProperty(e)&&(a[l[e]]=e);return a}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function b(e,t){var n,i,r,o=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),r=0;r<n.length;++r)i=n[r],d[i]&&(i=d[i]),t&&"keypress"!=t&&u[i]&&(i=u[i],o.push("shift")),m(i)&&o.push(i);return{key:i,modifiers:o,action:t=g(i,o,t)}}function y(e,t){return null!==e&&e!==o&&(e===t||y(e.parentNode,t))}function v(e){var t=this;if(e=e||o,!(t instanceof v))return new v(e);t.target=e,t._callbacks={},t._directMap={};var n,i={},r=!1,s=!1,a=!1;function l(e){e=e||{};var t,n=!1;for(t in i)e[t]?n=!0:i[t]=0;n||(a=!1)}function c(e,n,r,o,s,a){var l,c,u,d,h=[],p=r.type;if(!t._callbacks[e])return[];for("keyup"==p&&m(e)&&(n=[e]),l=0;l<t._callbacks[e].length;++l)if(c=t._callbacks[e][l],(o||!c.seq||i[c.seq]==c.level)&&p==c.action&&("keypress"==p&&!r.metaKey&&!r.ctrlKey||(u=n,d=c.modifiers,u.sort().join(",")===d.sort().join(",")))){var f=!o&&c.combo==s,g=o&&c.seq==o&&c.level==a;(f||g)&&t._callbacks[e].splice(l,1),h.push(c)}return h}function u(e,n,i,r){t.stopCallback(n,n.target||n.srcElement,i,r)||!1===e(n,i)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function d(e){"number"!=typeof e.which&&(e.which=e.keyCode);var n=f(e);n&&("keyup"!=e.type||r!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):r=!1)}function h(e,o,s,d,p){t._directMap[e+":"+s]=o;var m,g=(e=e.replace(/\s+/g," ")).split(" ");g.length>1?function(e,t,o,s){function c(t){return function(){a=t,++i[e],clearTimeout(n),n=setTimeout(l,1e3)}}function d(t){u(o,t,e),"keyup"!==s&&(r=f(t)),setTimeout(l,10)}i[e]=0;for(var p=0;p<t.length;++p){var m=p+1===t.length?d:c(s||b(t[p+1]).action);h(t[p],m,s,e,p)}}(e,g,o,s):(m=b(e,s),t._callbacks[m.key]=t._callbacks[m.key]||[],c(m.key,m.modifiers,{type:m.action},d,e,p),t._callbacks[m.key][d?"unshift":"push"]({callback:o,modifiers:m.modifiers,action:m.action,seq:d,level:p,combo:e}))}t._handleKey=function(e,t,n){var i,r=c(e,t,n),o={},d=0,h=!1;for(i=0;i<r.length;++i)r[i].seq&&(d=Math.max(d,r[i].level));for(i=0;i<r.length;++i)if(r[i].seq){if(r[i].level!=d)continue;h=!0,o[r[i].seq]=1,u(r[i].callback,n,r[i].combo,r[i].seq)}else h||u(r[i].callback,n,r[i].combo);var p="keypress"==n.type&&s;n.type!=a||m(e)||p||l(o),s=h&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var i=0;i<e.length;++i)h(e[i],t,n)},p(e,"keypress",d),p(e,"keydown",d),p(e,"keyup",d)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},45228:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,r){for(var o,s,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))n.call(o,c)&&(a[c]=o[c]);if(t){s=t(o);for(var u=0;u<s.length;u++)i.call(o,s[u])&&(a[s[u]]=o[s[u]])}}return a}},63169:function(e,t,n){var i,r,o;window,r=[n(32137),n(21485)],void 0===(o="function"==typeof(i=function(e,t){"use strict";var n=document.documentElement.style,i="string"==typeof n.transition?"transition":"WebkitTransition",r="string"==typeof n.transform?"transform":"WebkitTransform",o={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[i],s={transform:r,transition:i,transitionDuration:i+"Duration",transitionProperty:i+"Property",transitionDelay:i+"Delay"};function a(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}var l=a.prototype=Object.create(e.prototype);l.constructor=a,l._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},l.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.getSize=function(){this.size=t(this.element)},l.css=function(e){var t=this.element.style;for(var n in e)t[s[n]||n]=e[n]},l.getPosition=function(){var e=getComputedStyle(this.element),t=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),i=e[t?"left":"right"],r=e[n?"top":"bottom"],o=parseFloat(i),s=parseFloat(r),a=this.layout.size;-1!=i.indexOf("%")&&(o=o/100*a.width),-1!=r.indexOf("%")&&(s=s/100*a.height),o=isNaN(o)?0:o,s=isNaN(s)?0:s,o-=t?a.paddingLeft:a.paddingRight,s-=n?a.paddingTop:a.paddingBottom,this.position.x=o,this.position.y=s},l.layoutPosition=function(){var e=this.layout.size,t={},n=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),r=n?"paddingLeft":"paddingRight",o=n?"left":"right",s=n?"right":"left",a=this.position.x+e[r];t[o]=this.getXValue(a),t[s]="";var l=i?"paddingTop":"paddingBottom",c=i?"top":"bottom",u=i?"bottom":"top",d=this.position.y+e[l];t[c]=this.getYValue(d),t[u]="",this.css(t),this.emitEvent("layout",[this])},l.getXValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!t?e/this.layout.size.width*100+"%":e+"px"},l.getYValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&t?e/this.layout.size.height*100+"%":e+"px"},l._transitionTo=function(e,t){this.getPosition();var n=this.position.x,i=this.position.y,r=e==this.position.x&&t==this.position.y;if(this.setPosition(e,t),!r||this.isTransitioning){var o=e-n,s=t-i,a={};a.transform=this.getTranslate(o,s),this.transition({to:a,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},l.getTranslate=function(e,t){return"translate3d("+(e=this.layout._getOption("originLeft")?e:-e)+"px, "+(t=this.layout._getOption("originTop")?t:-t)+"px, 0)"},l.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},l.moveTo=l._transitionTo,l.setPosition=function(e,t){this.position.x=parseFloat(e),this.position.y=parseFloat(t)},l._nonTransition=function(e){for(var t in this.css(e.to),e.isCleaning&&this._removeStyles(e.to),e.onTransitionEnd)e.onTransitionEnd[t].call(this)},l.transition=function(e){if(parseFloat(this.layout.options.transitionDuration)){var t=this._transn;for(var n in e.onTransitionEnd)t.onEnd[n]=e.onTransitionEnd[n];for(n in e.to)t.ingProperties[n]=!0,e.isCleaning&&(t.clean[n]=!0);e.from&&(this.css(e.from),this.element.offsetHeight),this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0}else this._nonTransition(e)};var c="opacity,"+r.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}));l.enableTransition=function(){if(!this.isTransitioning){var e=this.layout.options.transitionDuration;e="number"==typeof e?e+"ms":e,this.css({transitionProperty:c,transitionDuration:e,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(o,this,!1)}},l.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},l.onotransitionend=function(e){this.ontransitionend(e)};var u={"-webkit-transform":"transform"};l.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,n=u[e.propertyName]||e.propertyName;delete t.ingProperties[n],function(e){for(var t in e)return!1;return!0}(t.ingProperties)&&this.disableTransition(),n in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[n]),n in t.onEnd&&(t.onEnd[n].call(this),delete t.onEnd[n]),this.emitEvent("transitionEnd",[this])}},l.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(o,this,!1),this.isTransitioning=!1},l._removeStyles=function(e){var t={};for(var n in e)t[n]="";this.css(t)};var d={transitionProperty:"",transitionDuration:"",transitionDelay:""};return l.removeTransitionStyles=function(){this.css(d)},l.stagger=function(e){e=isNaN(e)?0:e,this.staggerDelay=e+"ms"},l.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},l.remove=function(){i&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",(function(){this.removeElem()})),this.hide()):this.removeElem()},l.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},l.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},l.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var n in t)return n},l.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},l.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},l.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a})?i.apply(t,r):i)||(e.exports=o)},82831:function(e,t,n){var i,r;!function(o,s){"use strict";i=[n(32137),n(21485),n(977),n(63169)],r=function(e,t,n,i){return function(e,t,n,i,r){var o=e.console,s=e.jQuery,a=function(){},l=0,c={};function u(e,t){var n=i.getQueryElement(e);if(n){this.element=n,s&&(this.$element=s(this.element)),this.options=i.extend({},this.constructor.defaults),this.option(t);var r=++l;this.element.outlayerGUID=r,c[r]=this,this._create(),this._getOption("initLayout")&&this.layout()}else o&&o.error("Bad element for "+this.constructor.namespace+": "+(n||e))}u.namespace="outlayer",u.Item=r,u.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var d=u.prototype;function h(e){function t(){e.apply(this,arguments)}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}i.extend(d,t.prototype),d.option=function(e){i.extend(this.options,e)},d._getOption=function(e){var t=this.constructor.compatOptions[e];return t&&void 0!==this.options[t]?this.options[t]:this.options[e]},u.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},d._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),i.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},d.reloadItems=function(){this.items=this._itemize(this.element.children)},d._itemize=function(e){for(var t=this._filterFindItemElements(e),n=this.constructor.Item,i=[],r=0;r<t.length;r++){var o=new n(t[r],this);i.push(o)}return i},d._filterFindItemElements=function(e){return i.filterFindElements(e,this.options.itemSelector)},d.getItemElements=function(){return this.items.map((function(e){return e.element}))},d.layout=function(){this._resetLayout(),this._manageStamps();var e=this._getOption("layoutInstant"),t=void 0!==e?e:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},d._init=d.layout,d._resetLayout=function(){this.getSize()},d.getSize=function(){this.size=n(this.element)},d._getMeasurement=function(e,t){var i,r=this.options[e];r?("string"==typeof r?i=this.element.querySelector(r):r instanceof HTMLElement&&(i=r),this[e]=i?n(i)[t]:r):this[e]=0},d.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},d._getItemsForLayout=function(e){return e.filter((function(e){return!e.isIgnored}))},d._layoutItems=function(e,t){if(this._emitCompleteOnItems("layout",e),e&&e.length){var n=[];e.forEach((function(e){var i=this._getItemLayoutPosition(e);i.item=e,i.isInstant=t||e.isLayoutInstant,n.push(i)}),this),this._processLayoutQueue(n)}},d._getItemLayoutPosition=function(){return{x:0,y:0}},d._processLayoutQueue=function(e){this.updateStagger(),e.forEach((function(e,t){this._positionItem(e.item,e.x,e.y,e.isInstant,t)}),this)},d.updateStagger=function(){var e=this.options.stagger;if(null!=e)return this.stagger=function(e){if("number"==typeof e)return e;var t=e.match(/(^\d*\.?\d*)(\w*)/),n=t&&t[1],i=t&&t[2];return n.length?(n=parseFloat(n))*(p[i]||1):0}(e),this.stagger;this.stagger=0},d._positionItem=function(e,t,n,i,r){i?e.goTo(t,n):(e.stagger(r*this.stagger),e.moveTo(t,n))},d._postLayout=function(){this.resizeContainer()},d.resizeContainer=function(){if(this._getOption("resizeContainer")){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},d._getContainerSize=a,d._setContainerMeasure=function(e,t){if(void 0!==e){var n=this.size;n.isBorderBox&&(e+=t?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},d._emitCompleteOnItems=function(e,t){var n=this;function i(){n.dispatchEvent(e+"Complete",null,[t])}var r=t.length;if(t&&r){var o=0;t.forEach((function(t){t.once(e,s)}))}else i();function s(){++o==r&&i()}},d.dispatchEvent=function(e,t,n){var i=t?[t].concat(n):n;if(this.emitEvent(e,i),s)if(this.$element=this.$element||s(this.element),t){var r=s.Event(t);r.type=e,this.$element.trigger(r,n)}else this.$element.trigger(e,n)},d.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},d.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},d.stamp=function(e){(e=this._find(e))&&(this.stamps=this.stamps.concat(e),e.forEach(this.ignore,this))},d.unstamp=function(e){(e=this._find(e))&&e.forEach((function(e){i.removeFrom(this.stamps,e),this.unignore(e)}),this)},d._find=function(e){if(e)return"string"==typeof e&&(e=this.element.querySelectorAll(e)),i.makeArray(e)},d._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},d._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},d._manageStamp=a,d._getElementOffset=function(e){var t=e.getBoundingClientRect(),i=this._boundingRect,r=n(e);return{left:t.left-i.left-r.marginLeft,top:t.top-i.top-r.marginTop,right:i.right-t.right-r.marginRight,bottom:i.bottom-t.bottom-r.marginBottom}},d.handleEvent=i.handleEvent,d.bindResize=function(){e.addEventListener("resize",this),this.isResizeBound=!0},d.unbindResize=function(){e.removeEventListener("resize",this),this.isResizeBound=!1},d.onresize=function(){this.resize()},i.debounceMethod(u,"onresize",100),d.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},d.needsResizeLayout=function(){var e=n(this.element);return this.size&&e&&e.innerWidth!==this.size.innerWidth},d.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},d.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},d.prepended=function(e){var t=this._itemize(e);if(t.length){var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(n)}},d.reveal=function(e){if(this._emitCompleteOnItems("reveal",e),e&&e.length){var t=this.updateStagger();e.forEach((function(e,n){e.stagger(n*t),e.reveal()}))}},d.hide=function(e){if(this._emitCompleteOnItems("hide",e),e&&e.length){var t=this.updateStagger();e.forEach((function(e,n){e.stagger(n*t),e.hide()}))}},d.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},d.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},d.getItem=function(e){for(var t=0;t<this.items.length;t++){var n=this.items[t];if(n.element==e)return n}},d.getItems=function(e){e=i.makeArray(e);var t=[];return e.forEach((function(e){var n=this.getItem(e);n&&t.push(n)}),this),t},d.remove=function(e){var t=this.getItems(e);this._emitCompleteOnItems("remove",t),t&&t.length&&t.forEach((function(e){e.remove(),i.removeFrom(this.items,e)}),this)},d.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="",this.items.forEach((function(e){e.destroy()})),this.unbindResize();var t=this.element.outlayerGUID;delete c[t],delete this.element.outlayerGUID,s&&s.removeData(this.element,this.constructor.namespace)},u.data=function(e){var t=(e=i.getQueryElement(e))&&e.outlayerGUID;return t&&c[t]},u.create=function(e,t){var n=h(u);return n.defaults=i.extend({},u.defaults),i.extend(n.defaults,t),n.compatOptions=i.extend({},u.compatOptions),n.namespace=e,n.data=u.data,n.Item=h(r),i.htmlInit(n,e),s&&s.bridget&&s.bridget(e,n),n};var p={ms:1,s:1e3};return u.Item=r,u}(o,e,t,n,i)}.apply(t,i),void 0===r||(e.exports=r)}(window)},29466:function(e,t){var n,i;void 0===(i="function"==typeof(n=function(){return function(e){function t(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}function n(t){var n,i=t.exec(e.substring(m));if(i)return n=i[0],m+=n.length,n}for(var i,r,o,s,a,l=e.length,c=/^[ \t\n\r\u000c]+/,u=/^[, \t\n\r\u000c]+/,d=/^[^ \t\n\r\u000c]+/,h=/[,]+$/,p=/^\d+$/,f=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,m=0,g=[];;){if(n(u),m>=l)return g;i=n(d),r=[],","===i.slice(-1)?(i=i.replace(h,""),y()):b()}function b(){for(n(c),o="",s="in descriptor";;){if(a=e.charAt(m),"in descriptor"===s)if(t(a))o&&(r.push(o),o="",s="after descriptor");else{if(","===a)return m+=1,o&&r.push(o),void y();if("("===a)o+=a,s="in parens";else{if(""===a)return o&&r.push(o),void y();o+=a}}else if("in parens"===s)if(")"===a)o+=a,s="in descriptor";else{if(""===a)return r.push(o),void y();o+=a}else if("after descriptor"===s)if(t(a));else{if(""===a)return void y();s="in descriptor",m-=1}m+=1}}function y(){var t,n,o,s,a,l,c,u,d,h=!1,m={};for(s=0;s<r.length;s++)l=(a=r[s])[a.length-1],c=a.substring(0,a.length-1),u=parseInt(c,10),d=parseFloat(c),p.test(c)&&"w"===l?((t||n)&&(h=!0),0===u?h=!0:t=u):f.test(c)&&"x"===l?((t||n||o)&&(h=!0),d<0?h=!0:n=d):p.test(c)&&"h"===l?((o||n)&&(h=!0),0===u?h=!0:o=u):h=!0;h?console&&console.log&&console.log("Invalid srcset descriptor found in '"+e+"' at '"+a+"'."):(m.url=i,t&&(m.w=t),n&&(m.d=n),o&&(m.h=o),g.push(m))}}})?n.apply(t,[]):n)||(e.exports=i)},48633:function(e){var t=String,n=function(){return{isColorSupported:!1,reset:t,bold:t,dim:t,italic:t,underline:t,inverse:t,hidden:t,strikethrough:t,black:t,red:t,green:t,yellow:t,blue:t,magenta:t,cyan:t,white:t,gray:t,bgBlack:t,bgRed:t,bgGreen:t,bgYellow:t,bgBlue:t,bgMagenta:t,bgCyan:t,bgWhite:t}};e.exports=n(),e.exports.createColors=n},40396:function(e,t,n){"use strict";let i=n(77793);class r extends i{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}}e.exports=r,r.default=r,i.registerAtRule(r)},49371:function(e,t,n){"use strict";let i=n(63152);class r extends i{constructor(e){super(e),this.type="comment"}}e.exports=r,r.default=r},77793:function(e,t,n){"use strict";let i,r,o,s,{isClean:a,my:l}=n(84151),c=n(35238),u=n(49371),d=n(63152);function h(e){return e.map((e=>(e.nodes&&(e.nodes=h(e.nodes)),delete e.source,e)))}function p(e){if(e[a]=!1,e.proxyOf.nodes)for(let t of e.proxyOf.nodes)p(t)}class f extends d{append(...e){for(let t of e){let e=this.normalize(t,this.last);for(let t of e)this.proxyOf.nodes.push(t)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let t,n,i=this.getIterator();for(;this.indexes[i]<this.proxyOf.nodes.length&&(t=this.indexes[i],n=e(this.proxyOf.nodes[t],t),!1!==n);)this.indexes[i]+=1;return delete this.indexes[i],n}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get(e,t){return"proxyOf"===t?e:e[t]?"each"===t||"string"==typeof t&&t.startsWith("walk")?(...n)=>e[t](...n.map((e=>"function"==typeof e?(t,n)=>e(t.toProxy(),n):e))):"every"===t||"some"===t?n=>e[t](((e,...t)=>n(e.toProxy(),...t))):"root"===t?()=>e.root().toProxy():"nodes"===t?e.nodes.map((e=>e.toProxy())):"first"===t||"last"===t?e[t].toProxy():e[t]:e[t]},set(e,t,n){return e[t]===n||(e[t]=n,"name"!==t&&"params"!==t&&"selector"!==t||e.markDirty()),!0}}}index(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let n,i=this.index(e),r=this.normalize(t,this.proxyOf.nodes[i]).reverse();i=this.index(e);for(let e of r)this.proxyOf.nodes.splice(i+1,0,e);for(let e in this.indexes)n=this.indexes[e],i<n&&(this.indexes[e]=n+r.length);return this.markDirty(),this}insertBefore(e,t){let n,i=this.index(e),r=0===i&&"prepend",o=this.normalize(t,this.proxyOf.nodes[i],r).reverse();i=this.index(e);for(let e of o)this.proxyOf.nodes.splice(i,0,e);for(let e in this.indexes)n=this.indexes[e],i<=n&&(this.indexes[e]=n+o.length);return this.markDirty(),this}normalize(e,t){if("string"==typeof e)e=h(i(e).nodes);else if(void 0===e)e=[];else if(Array.isArray(e)){e=e.slice(0);for(let t of e)t.parent&&t.parent.removeChild(t,"ignore")}else if("root"===e.type&&"document"!==this.type){e=e.nodes.slice(0);for(let t of e)t.parent&&t.parent.removeChild(t,"ignore")}else if(e.type)e=[e];else if(e.prop){if(void 0===e.value)throw new Error("Value field is missed in node creation");"string"!=typeof e.value&&(e.value=String(e.value)),e=[new c(e)]}else if(e.selector)e=[new r(e)];else if(e.name)e=[new o(e)];else{if(!e.text)throw new Error("Unknown node type in node creation");e=[new u(e)]}return e.map((e=>(e[l]||f.rebuild(e),(e=e.proxyOf).parent&&e.parent.removeChild(e),e[a]&&p(e),void 0===e.raws.before&&t&&void 0!==t.raws.before&&(e.raws.before=t.raws.before.replace(/\S/g,"")),e.parent=this.proxyOf,e)))}prepend(...e){e=e.reverse();for(let t of e){let e=this.normalize(t,this.first,"prepend").reverse();for(let t of e)this.proxyOf.nodes.unshift(t);for(let t in this.indexes)this.indexes[t]=this.indexes[t]+e.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){let t;e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);for(let n in this.indexes)t=this.indexes[n],t>=e&&(this.indexes[n]=t-1);return this.markDirty(),this}replaceValues(e,t,n){return n||(n=t,t={}),this.walkDecls((i=>{t.props&&!t.props.includes(i.prop)||t.fast&&!i.value.includes(t.fast)||(i.value=i.value.replace(e,n))})),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each(((t,n)=>{let i;try{i=e(t,n)}catch(e){throw t.addToError(e)}return!1!==i&&t.walk&&(i=t.walk(e)),i}))}walkAtRules(e,t){return t?e instanceof RegExp?this.walk(((n,i)=>{if("atrule"===n.type&&e.test(n.name))return t(n,i)})):this.walk(((n,i)=>{if("atrule"===n.type&&n.name===e)return t(n,i)})):(t=e,this.walk(((e,n)=>{if("atrule"===e.type)return t(e,n)})))}walkComments(e){return this.walk(((t,n)=>{if("comment"===t.type)return e(t,n)}))}walkDecls(e,t){return t?e instanceof RegExp?this.walk(((n,i)=>{if("decl"===n.type&&e.test(n.prop))return t(n,i)})):this.walk(((n,i)=>{if("decl"===n.type&&n.prop===e)return t(n,i)})):(t=e,this.walk(((e,n)=>{if("decl"===e.type)return t(e,n)})))}walkRules(e,t){return t?e instanceof RegExp?this.walk(((n,i)=>{if("rule"===n.type&&e.test(n.selector))return t(n,i)})):this.walk(((n,i)=>{if("rule"===n.type&&n.selector===e)return t(n,i)})):(t=e,this.walk(((e,n)=>{if("rule"===e.type)return t(e,n)})))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}f.registerParse=e=>{i=e},f.registerRule=e=>{r=e},f.registerAtRule=e=>{o=e},f.registerRoot=e=>{s=e},e.exports=f,f.default=f,f.rebuild=e=>{"atrule"===e.type?Object.setPrototypeOf(e,o.prototype):"rule"===e.type?Object.setPrototypeOf(e,r.prototype):"decl"===e.type?Object.setPrototypeOf(e,c.prototype):"comment"===e.type?Object.setPrototypeOf(e,u.prototype):"root"===e.type&&Object.setPrototypeOf(e,s.prototype),e[l]=!0,e.nodes&&e.nodes.forEach((e=>{f.rebuild(e)}))}},53614:function(e,t,n){"use strict";let i=n(48633),r=n(49746);class o extends Error{constructor(e,t,n,i,r,s){super(e),this.name="CssSyntaxError",this.reason=e,r&&(this.file=r),i&&(this.source=i),s&&(this.plugin=s),void 0!==t&&void 0!==n&&("number"==typeof t?(this.line=t,this.column=n):(this.line=t.line,this.column=t.column,this.endLine=n.line,this.endColumn=n.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,o)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;null==e&&(e=i.isColorSupported),r&&e&&(t=r(t));let n,o,s=t.split(/\r?\n/),a=Math.max(this.line-3,0),l=Math.min(this.line+2,s.length),c=String(l).length;if(e){let{bold:e,gray:t,red:r}=i.createColors(!0);n=t=>e(r(t)),o=e=>t(e)}else n=o=e=>e;return s.slice(a,l).map(((e,t)=>{let i=a+1+t,r=" "+(" "+i).slice(-c)+" | ";if(i===this.line){let t=o(r.replace(/\d/g," "))+e.slice(0,this.column-1).replace(/[^\t]/g," ");return n(">")+o(r)+e+"\n "+t+n("^")}return" "+o(r)+e})).join("\n")}toString(){let e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}}e.exports=o,o.default=o},35238:function(e,t,n){"use strict";let i=n(63152);class r extends i{constructor(e){e&&void 0!==e.value&&"string"!=typeof e.value&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}}e.exports=r,r.default=r},40145:function(e,t,n){"use strict";let i,r,o=n(77793);class s extends o{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new i(new r,this,e).stringify()}}s.registerLazyResult=e=>{i=e},s.registerProcessor=e=>{r=e},e.exports=s,s.default=s},33438:function(e,t,n){"use strict";let i=n(35238),r=n(93878),o=n(49371),s=n(40396),a=n(61106),l=n(25644),c=n(61534);function u(e,t){if(Array.isArray(e))return e.map((e=>u(e)));let{inputs:n,...d}=e;if(n){t=[];for(let e of n){let n={...e,__proto__:a.prototype};n.map&&(n.map={...n.map,__proto__:r.prototype}),t.push(n)}}if(d.nodes&&(d.nodes=e.nodes.map((e=>u(e,t)))),d.source){let{inputId:e,...n}=d.source;d.source=n,null!=e&&(d.source.input=t[e])}if("root"===d.type)return new l(d);if("decl"===d.type)return new i(d);if("rule"===d.type)return new c(d);if("comment"===d.type)return new o(d);if("atrule"===d.type)return new s(d);throw new Error("Unknown node type: "+e.type)}e.exports=u,u.default=u},61106:function(e,t,n){"use strict";let{SourceMapConsumer:i,SourceMapGenerator:r}=n(21866),{fileURLToPath:o,pathToFileURL:s}=n(52739),{isAbsolute:a,resolve:l}=n(197),{nanoid:c}=n(95042),u=n(49746),d=n(53614),h=n(93878),p=Symbol("fromOffsetCache"),f=Boolean(i&&r),m=Boolean(l&&a);class g{constructor(e,t={}){if(null==e||"object"==typeof e&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),"\ufeff"===this.css[0]||""===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!m||/^\w+:\/\//.test(t.from)||a(t.from)?this.file=t.from:this.file=l(t.from)),m&&f){let e=new h(this.css,t);if(e.text){this.map=e;let t=e.consumer().file;!this.file&&t&&(this.file=this.mapResolve(t))}}this.file||(this.id="<input css "+c(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,n,i={}){let r,o,a;if(t&&"object"==typeof t){let e=t,i=n;if("number"==typeof e.offset){let i=this.fromOffset(e.offset);t=i.line,n=i.col}else t=e.line,n=e.column;if("number"==typeof i.offset){let e=this.fromOffset(i.offset);o=e.line,a=e.col}else o=i.line,a=i.column}else if(!n){let e=this.fromOffset(t);t=e.line,n=e.col}let l=this.origin(t,n,o,a);return r=l?new d(e,void 0===l.endLine?l.line:{column:l.column,line:l.line},void 0===l.endLine?l.column:{column:l.endColumn,line:l.endLine},l.source,l.file,i.plugin):new d(e,void 0===o?t:{column:n,line:t},void 0===o?n:{column:a,line:o},this.css,this.file,i.plugin),r.input={column:n,endColumn:a,endLine:o,line:t,source:this.css},this.file&&(s&&(r.input.url=s(this.file).toString()),r.input.file=this.file),r}fromOffset(e){let t,n;if(this[p])n=this[p];else{let e=this.css.split("\n");n=new Array(e.length);let t=0;for(let i=0,r=e.length;i<r;i++)n[i]=t,t+=e[i].length+1;this[p]=n}t=n[n.length-1];let i=0;if(e>=t)i=n.length-1;else{let t,r=n.length-2;for(;i<r;)if(t=i+(r-i>>1),e<n[t])r=t-1;else{if(!(e>=n[t+1])){i=t;break}i=t+1}}return{col:e-n[i]+1,line:i+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:l(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,n,i){if(!this.map)return!1;let r,l,c=this.map.consumer(),u=c.originalPositionFor({column:t,line:e});if(!u.source)return!1;"number"==typeof n&&(r=c.originalPositionFor({column:i,line:n})),l=a(u.source)?s(u.source):new URL(u.source,this.map.consumer().sourceRoot||s(this.map.mapFile));let d={column:u.column,endColumn:r&&r.column,endLine:r&&r.line,line:u.line,url:l.toString()};if("file:"===l.protocol){if(!o)throw new Error("file: protocol is not available in this PostCSS build");d.file=o(l)}let h=c.sourceContentFor(u.source);return h&&(d.source=h),d}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])null!=this[t]&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}}e.exports=g,g.default=g,u&&u.registerInput&&u.registerInput(g)},96966:function(e,t,n){"use strict";let{isClean:i,my:r}=n(84151),o=n(13604),s=n(83303),a=n(77793),l=n(40145),c=(n(6156),n(33717)),u=n(69577),d=n(25644);const h={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},p={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},f={Once:!0,postcssPlugin:!0,prepare:!0},m=0;function g(e){return"object"==typeof e&&"function"==typeof e.then}function b(e){let t=!1,n=h[e.type];return"decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append?[n,n+"-"+t,m,n+"Exit",n+"Exit-"+t]:t?[n,n+"-"+t,n+"Exit",n+"Exit-"+t]:e.append?[n,m,n+"Exit"]:[n,n+"Exit"]}function y(e){let t;return t="document"===e.type?["Document",m,"DocumentExit"]:"root"===e.type?["Root",m,"RootExit"]:b(e),{eventIndex:0,events:t,iterator:0,node:e,visitorIndex:0,visitors:[]}}function v(e){return e[i]=!1,e.nodes&&e.nodes.forEach((e=>v(e))),e}let _={};class w{constructor(e,t,n){let i;if(this.stringified=!1,this.processed=!1,"object"!=typeof t||null===t||"root"!==t.type&&"document"!==t.type)if(t instanceof w||t instanceof c)i=v(t.root),t.map&&(void 0===n.map&&(n.map={}),n.map.inline||(n.map.inline=!1),n.map.prev=t.map);else{let e=u;n.syntax&&(e=n.syntax.parse),n.parser&&(e=n.parser),e.parse&&(e=e.parse);try{i=e(t,n)}catch(e){this.processed=!0,this.error=e}i&&!i[r]&&a.rebuild(i)}else i=v(t);this.result=new c(e,i,n),this.helpers={..._,postcss:_,result:this.result},this.plugins=this.processor.plugins.map((e=>"object"==typeof e&&e.prepare?{...e,...e.prepare(this.result)}:e))}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let n=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin?n.postcssVersion:(e.plugin=n.postcssPlugin,e.setMessage())}catch(e){console&&console.error&&console.error(e)}return e}prepareVisitors(){this.listeners={};let e=(e,t,n)=>{this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push([e,n])};for(let t of this.plugins)if("object"==typeof t)for(let n in t){if(!p[n]&&/^[A-Z]/.test(n))throw new Error(`Unknown event ${n} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!f[n])if("object"==typeof t[n])for(let i in t[n])e(t,"*"===i?n:n+"-"+i.toLowerCase(),t[n][i]);else"function"==typeof t[n]&&e(t,n,t[n])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],n=this.runOnRoot(t);if(g(n))try{await n}catch(e){throw this.handleError(e)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[i];){e[i]=!0;let t=[y(e)];for(;t.length>0;){let e=this.visitTick(t);if(g(e))try{await e}catch(e){let n=t[t.length-1].node;throw this.handleError(e,n)}}}if(this.listeners.OnceExit)for(let[t,n]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if("document"===e.type){let t=e.nodes.map((e=>n(e,this.helpers)));await Promise.all(t)}else await n(e,this.helpers)}catch(e){throw this.handleError(e)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if("object"==typeof e&&e.Once){if("document"===this.result.root.type){let t=this.result.root.nodes.map((t=>e.Once(t,this.helpers)));return g(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}if("function"==typeof e)return e(this.result.root,this.result)}catch(e){throw this.handleError(e)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=s;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let n=new o(t,this.result.root,this.result.opts).generate();return this.result.css=n[0],this.result.map=n[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins)if(g(this.runOnRoot(e)))throw this.getAsyncError();if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[i];)e[i]=!0,this.walkSync(e);if(this.listeners.OnceExit)if("document"===e.type)for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[n,i]of e){let e;this.result.lastPlugin=n;try{e=i(t,this.helpers)}catch(e){throw this.handleError(e,t.proxyOf)}if("root"!==t.type&&"document"!==t.type&&!t.parent)return!0;if(g(e))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:n,visitors:r}=t;if("root"!==n.type&&"document"!==n.type&&!n.parent)return void e.pop();if(r.length>0&&t.visitorIndex<r.length){let[e,i]=r[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===r.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=e;try{return i(n.toProxy(),this.helpers)}catch(e){throw this.handleError(e,n)}}if(0!==t.iterator){let r,o=t.iterator;for(;r=n.nodes[n.indexes[o]];)if(n.indexes[o]+=1,!r[i])return r[i]=!0,void e.push(y(r));t.iterator=0,delete n.indexes[o]}let o=t.events;for(;t.eventIndex<o.length;){let e=o[t.eventIndex];if(t.eventIndex+=1,e===m)return void(n.nodes&&n.nodes.length&&(n[i]=!0,t.iterator=n.getIterator()));if(this.listeners[e])return void(t.visitors=this.listeners[e])}e.pop()}walkSync(e){e[i]=!0;let t=b(e);for(let n of t)if(n===m)e.nodes&&e.each((e=>{e[i]||this.walkSync(e)}));else{let t=this.listeners[n];if(t&&this.visitSync(t,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}}w.registerPostcss=e=>{_=e},e.exports=w,w.default=w,d.registerLazyResult(w),l.registerLazyResult(w)},81752:function(e){"use strict";let t={comma(e){return t.split(e,[","],!0)},space(e){return t.split(e,[" ","\n","\t"])},split(e,t,n){let i=[],r="",o=!1,s=0,a=!1,l="",c=!1;for(let n of e)c?c=!1:"\\"===n?c=!0:a?n===l&&(a=!1):'"'===n||"'"===n?(a=!0,l=n):"("===n?s+=1:")"===n?s>0&&(s-=1):0===s&&t.includes(n)&&(o=!0),o?(""!==r&&i.push(r.trim()),r="",o=!1):r+=n;return(n||""!==r)&&i.push(r.trim()),i}};e.exports=t,t.default=t},13604:function(e,t,n){"use strict";let{SourceMapConsumer:i,SourceMapGenerator:r}=n(21866),{dirname:o,relative:s,resolve:a,sep:l}=n(197),{pathToFileURL:c}=n(52739),u=n(61106),d=Boolean(i&&r),h=Boolean(o&&a&&s&&l);e.exports=class{constructor(e,t,n,i){this.stringify=e,this.mapOpts=n.map||{},this.root=t,this.opts=n,this.css=i,this.originalCSS=i,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t,n=this.toUrl(this.path(e.file)),r=e.root||o(e.file);!1===this.mapOpts.sourcesContent?(t=new i(e.text),t.sourcesContent&&(t.sourcesContent=null)):t=e.consumer(),this.map.applySourceMap(t,n,this.toUrl(this.path(r)))}}clearAnnotation(){if(!1!==this.mapOpts.annotation)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],"comment"===e.type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),h&&d&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,(t=>{e+=t})),[e]}}generateMap(){if(this.root)this.generateString();else if(1===this.previous().length){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=r.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new r({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new r({file:this.outputFile(),ignoreInvalidMapping:!0});let e,t,n=1,i=1,o="<no source>",s={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,((r,a,l)=>{if(this.css+=r,a&&"end"!==l&&(s.generated.line=n,s.generated.column=i-1,a.source&&a.source.start?(s.source=this.sourcePath(a),s.original.line=a.source.start.line,s.original.column=a.source.start.column-1,this.map.addMapping(s)):(s.source=o,s.original.line=1,s.original.column=0,this.map.addMapping(s))),e=r.match(/\n/g),e?(n+=e.length,t=r.lastIndexOf("\n"),i=r.length-t):i+=r.length,a&&"start"!==l){let e=a.parent||{raws:{}};("decl"===a.type||"atrule"===a.type&&!a.nodes)&&a===e.last&&!e.raws.semicolon||(a.source&&a.source.end?(s.source=this.sourcePath(a),s.original.line=a.source.end.line,s.original.column=a.source.end.column-1,s.generated.line=n,s.generated.column=i-2,this.map.addMapping(s)):(s.source=o,s.original.line=1,s.original.column=0,s.generated.line=n,s.generated.column=i-1,this.map.addMapping(s)))}}))}isAnnotation(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some((e=>e.annotation)))}isInline(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;let e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some((e=>e.inline)))}isMap(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}isSourcesContent(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some((e=>e.withContent()))}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute)return e;if(60===e.charCodeAt(0))return e;if(/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let n=this.opts.to?o(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(n=o(a(n,this.mapOpts.annotation)));let i=s(n,e);return this.memoizedPaths.set(e,i),i}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk((e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}}));else{let e=new u(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk((t=>{if(t.source){let n=t.source.input.from;if(n&&!e[n]){e[n]=!0;let i=this.usesFileUrls?this.toFileUrl(n):this.toUrl(this.path(n));this.map.setSourceContent(i,t.source.input.css)}}}));else if(this.css){let e=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(e,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(c){let t=c(e).toString();return this.memoizedFileURLs.set(e,t),t}throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;"\\"===l&&(e=e.replace(/\\/g,"/"));let n=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,n),n}}},84211:function(e,t,n){"use strict";let i=n(13604),r=n(83303),o=(n(6156),n(69577));const s=n(33717);class a{constructor(e,t,n){let o;t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=n,this._map=void 0;let a=r;this.result=new s(this._processor,o,this._opts),this.result.css=t;let l=this;Object.defineProperty(this.result,"root",{get(){return l.root}});let c=new i(a,o,this._opts,t);if(c.isMap()){let[e,t]=c.generate();e&&(this.result.css=e),t&&(this.result.map=t)}else c.clearAnnotation(),this.result.css=c.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,t=o;try{e=t(this._css,this._opts)}catch(e){this.error=e}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}}e.exports=a,a.default=a},63152:function(e,t,n){"use strict";let{isClean:i,my:r}=n(84151),o=n(53614),s=n(47668),a=n(83303);function l(e,t){let n=new e.constructor;for(let i in e){if(!Object.prototype.hasOwnProperty.call(e,i))continue;if("proxyCache"===i)continue;let r=e[i],o=typeof r;"parent"===i&&"object"===o?t&&(n[i]=t):"source"===i?n[i]=r:Array.isArray(r)?n[i]=r.map((e=>l(e,n))):("object"===o&&null!==r&&(r=l(r)),n[i]=r)}return n}class c{constructor(e={}){this.raws={},this[i]=!1,this[r]=!0;for(let t in e)if("nodes"===t){this.nodes=[];for(let n of e[t])"function"==typeof n.clone?this.append(n.clone()):this.append(n)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=l(this);for(let n in e)t[n]=e[n];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:n,start:i}=this.rangeBy(t);return this.source.input.error(e,{column:i.column,line:i.line},{column:n.column,line:n.line},t)}return new o(e)}getProxyProcessor(){return{get(e,t){return"proxyOf"===t?e:"root"===t?()=>e.root().toProxy():e[t]},set(e,t,n){return e[t]===n||(e[t]=n,"prop"!==t&&"value"!==t&&"name"!==t&&"params"!==t&&"important"!==t&&"text"!==t||e.markDirty()),!0}}}markDirty(){if(this[i]){this[i]=!1;let e=this;for(;e=e.parent;)e[i]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let n=this.source.start;if(e.index)n=this.positionInside(e.index,t);else if(e.word){let i=(t=this.toString()).indexOf(e.word);-1!==i&&(n=this.positionInside(i,t))}return n}positionInside(e,t){let n=t||this.toString(),i=this.source.start.column,r=this.source.start.line;for(let t=0;t<e;t++)"\n"===n[t]?(i=1,r+=1):i+=1;return{column:i,line:r}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},n=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let i=this.toString(),r=i.indexOf(e.word);-1!==r&&(t=this.positionInside(r,i),n=this.positionInside(r+e.word.length,i))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?n={column:e.end.column,line:e.end.line}:"number"==typeof e.endIndex?n=this.positionInside(e.endIndex):e.index&&(n=this.positionInside(e.index+1));return(n.line<t.line||n.line===t.line&&n.column<=t.column)&&(n={column:t.column+1,line:t.line}),{end:n,start:t}}raw(e,t){return(new s).raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,n=!1;for(let i of e)i===this?n=!0:n?(this.parent.insertAfter(t,i),t=i):this.parent.insertBefore(t,i);n||this.remove()}return this}root(){let e=this;for(;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}toJSON(e,t){let n={},i=null==t;t=t||new Map;let r=0;for(let e in this){if(!Object.prototype.hasOwnProperty.call(this,e))continue;if("parent"===e||"proxyCache"===e)continue;let i=this[e];if(Array.isArray(i))n[e]=i.map((e=>"object"==typeof e&&e.toJSON?e.toJSON(null,t):e));else if("object"==typeof i&&i.toJSON)n[e]=i.toJSON(null,t);else if("source"===e){let o=t.get(i.input);null==o&&(o=r,t.set(i.input,r),r++),n[e]={end:i.end,inputId:o,start:i.start}}else n[e]=i}return i&&(n.inputs=[...t.keys()].map((e=>e.toJSON()))),n}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=a){e.stringify&&(e=e.stringify);let t="";return e(this,(e=>{t+=e})),t}warn(e,t,n){let i={node:this};for(let e in n)i[e]=n[e];return e.warn(t,i)}get proxyOf(){return this}}e.exports=c,c.default=c},69577:function(e,t,n){"use strict";let i=n(77793),r=n(68339),o=n(61106);function s(e,t){let n=new o(e,t),i=new r(n);try{i.parse()}catch(e){throw e}return i.root}e.exports=s,s.default=s,i.registerParse(s)},68339:function(e,t,n){"use strict";let i=n(35238),r=n(45781),o=n(49371),s=n(40396),a=n(25644),l=n(61534);const c={empty:!0,space:!0};e.exports=class{constructor(e){this.input=e,this.root=new a,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t,n,i,r=new s;r.name=e[1].slice(1),""===r.name&&this.unnamedAtrule(r,e),this.init(r,e[2]);let o=!1,a=!1,l=[],c=[];for(;!this.tokenizer.endOfFile();){if(t=(e=this.tokenizer.nextToken())[0],"("===t||"["===t?c.push("("===t?")":"]"):"{"===t&&c.length>0?c.push("}"):t===c[c.length-1]&&c.pop(),0===c.length){if(";"===t){r.source.end=this.getPosition(e[2]),r.source.end.offset++,this.semicolon=!0;break}if("{"===t){a=!0;break}if("}"===t){if(l.length>0){for(i=l.length-1,n=l[i];n&&"space"===n[0];)n=l[--i];n&&(r.source.end=this.getPosition(n[3]||n[2]),r.source.end.offset++)}this.end(e);break}l.push(e)}else l.push(e);if(this.tokenizer.endOfFile()){o=!0;break}}r.raws.between=this.spacesAndCommentsFromEnd(l),l.length?(r.raws.afterName=this.spacesAndCommentsFromStart(l),this.raw(r,"params",l),o&&(e=l[l.length-1],r.source.end=this.getPosition(e[3]||e[2]),r.source.end.offset++,this.spaces=r.raws.between,r.raws.between="")):(r.raws.afterName="",r.params=""),a&&(r.nodes=[],this.current=r)}checkMissedSemicolon(e){let t=this.colon(e);if(!1===t)return;let n,i=0;for(let r=t-1;r>=0&&(n=e[r],"space"===n[0]||(i+=1,2!==i));r--);throw this.input.error("Missed semicolon","word"===n[0]?n[3]+1:n[2])}colon(e){let t,n,i,r=0;for(let[o,s]of e.entries()){if(t=s,n=t[0],"("===n&&(r+=1),")"===n&&(r-=1),0===r&&":"===n){if(i){if("word"===i[0]&&"progid"===i[1])continue;return o}this.doubleColon(t)}i=t}return!1}comment(e){let t=new o;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let n=e[1].slice(2,-2);if(/^\s*$/.test(n))t.text="",t.raws.left=n,t.raws.right="";else{let e=n.match(/^(\s*)([^]*\S)(\s*)$/);t.text=e[2],t.raws.left=e[1],t.raws.right=e[3]}}createTokenizer(){this.tokenizer=r(this.input)}decl(e,t){let n=new i;this.init(n,e[0][2]);let r,o=e[e.length-1];for(";"===o[0]&&(this.semicolon=!0,e.pop()),n.source.end=this.getPosition(o[3]||o[2]||function(e){for(let t=e.length-1;t>=0;t--){let n=e[t],i=n[3]||n[2];if(i)return i}}(e)),n.source.end.offset++;"word"!==e[0][0];)1===e.length&&this.unknownWord(e),n.raws.before+=e.shift()[1];for(n.source.start=this.getPosition(e[0][2]),n.prop="";e.length;){let t=e[0][0];if(":"===t||"space"===t||"comment"===t)break;n.prop+=e.shift()[1]}for(n.raws.between="";e.length;){if(r=e.shift(),":"===r[0]){n.raws.between+=r[1];break}"word"===r[0]&&/\w/.test(r[1])&&this.unknownWord([r]),n.raws.between+=r[1]}"_"!==n.prop[0]&&"*"!==n.prop[0]||(n.raws.before+=n.prop[0],n.prop=n.prop.slice(1));let s,a=[];for(;e.length&&(s=e[0][0],"space"===s||"comment"===s);)a.push(e.shift());this.precheckMissedSemicolon(e);for(let t=e.length-1;t>=0;t--){if(r=e[t],"!important"===r[1].toLowerCase()){n.important=!0;let i=this.stringFrom(e,t);i=this.spacesFromEnd(e)+i," !important"!==i&&(n.raws.important=i);break}if("important"===r[1].toLowerCase()){let i=e.slice(0),r="";for(let e=t;e>0;e--){let t=i[e][0];if(0===r.trim().indexOf("!")&&"space"!==t)break;r=i.pop()[1]+r}0===r.trim().indexOf("!")&&(n.important=!0,n.raws.important=r,e=i)}if("space"!==r[0]&&"comment"!==r[0])break}e.some((e=>"space"!==e[0]&&"comment"!==e[0]))&&(n.raws.between+=a.map((e=>e[1])).join(""),a=[]),this.raw(n,"value",a.concat(e),t),n.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new l;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let e=this.current.nodes[this.current.nodes.length-1];e&&"rule"===e.type&&!e.raws.ownSemicolon&&(e.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}other(e){let t=!1,n=null,i=!1,r=null,o=[],s=e[1].startsWith("--"),a=[],l=e;for(;l;){if(n=l[0],a.push(l),"("===n||"["===n)r||(r=l),o.push("("===n?")":"]");else if(s&&i&&"{"===n)r||(r=l),o.push("}");else if(0===o.length){if(";"===n){if(i)return void this.decl(a,s);break}if("{"===n)return void this.rule(a);if("}"===n){this.tokenizer.back(a.pop()),t=!0;break}":"===n&&(i=!0)}else n===o[o.length-1]&&(o.pop(),0===o.length&&(r=null));l=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),o.length>0&&this.unclosedBracket(r),t&&i){if(!s)for(;a.length&&(l=a[a.length-1][0],"space"===l||"comment"===l);)this.tokenizer.back(a.pop());this.decl(a,s)}else this.unknownWord(a)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}precheckMissedSemicolon(){}raw(e,t,n,i){let r,o,s,a,l=n.length,u="",d=!0;for(let e=0;e<l;e+=1)r=n[e],o=r[0],"space"!==o||e!==l-1||i?"comment"===o?(a=n[e-1]?n[e-1][0]:"empty",s=n[e+1]?n[e+1][0]:"empty",c[a]||c[s]||","===u.slice(-1)?d=!1:u+=r[1]):u+=r[1]:d=!1;if(!d){let i=n.reduce(((e,t)=>e+t[1]),"");e.raws[t]={raw:i,value:u}}e[t]=u}rule(e){e.pop();let t=new l;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,n="";for(;e.length&&(t=e[e.length-1][0],"space"===t||"comment"===t);)n=e.pop()[1]+n;return n}spacesAndCommentsFromStart(e){let t,n="";for(;e.length&&(t=e[0][0],"space"===t||"comment"===t);)n+=e.shift()[1];return n}spacesFromEnd(e){let t,n="";for(;e.length&&(t=e[e.length-1][0],"space"===t);)n=e.pop()[1]+n;return n}stringFrom(e,t){let n="";for(let i=t;i<e.length;i++)n+=e[i][1];return e.splice(t,e.length-t),n}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}}},12895:function(e,t,n){"use strict";let i=n(53614),r=n(35238),o=n(96966),s=n(77793),a=n(96846),l=n(83303),c=n(33438),u=n(40145),d=n(60038),h=n(49371),p=n(40396),f=n(33717),m=n(61106),g=n(69577),b=n(81752),y=n(61534),v=n(25644),_=n(63152);function w(...e){return 1===e.length&&Array.isArray(e[0])&&(e=e[0]),new a(e)}w.plugin=function(e,t){let n,i=!1;function r(...n){console&&console.warn&&!i&&(i=!0,console.warn(e+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+":  postcss.plugin . :\nhttps://www.w3ctech.com/topic/2226"));let r=t(...n);return r.postcssPlugin=e,r.postcssVersion=(new a).version,r}return Object.defineProperty(r,"postcss",{get(){return n||(n=r()),n}}),r.process=function(e,t,n){return w([r(n)]).process(e,t)},r},w.stringify=l,w.parse=g,w.fromJSON=c,w.list=b,w.comment=e=>new h(e),w.atRule=e=>new p(e),w.decl=e=>new r(e),w.rule=e=>new y(e),w.root=e=>new v(e),w.document=e=>new u(e),w.CssSyntaxError=i,w.Declaration=r,w.Container=s,w.Processor=a,w.Document=u,w.Comment=h,w.Warning=d,w.AtRule=p,w.Result=f,w.Input=m,w.Rule=y,w.Root=v,w.Node=_,o.registerPostcss(w),e.exports=w,w.default=w},93878:function(e,t,n){"use strict";let{SourceMapConsumer:i,SourceMapGenerator:r}=n(21866),{existsSync:o,readFileSync:s}=n(19977),{dirname:a,join:l}=n(197);class c{constructor(e,t){if(!1===t.map)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let n=t.map?t.map.prev:void 0,i=this.loadMap(t.from,n);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=a(this.mapFile)),i&&(this.text=i)}consumer(){return this.consumerCache||(this.consumerCache=new i(this.text)),this.consumerCache}decodeInline(e){if(/^data:application\/json;charset=utf-?8,/.test(e)||/^data:application\/json,/.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(e)||/^data:application\/json;base64,/.test(e))return t=e.substr(RegExp.lastMatch.length),Buffer?Buffer.from(t,"base64").toString():window.atob(t);var t;let n=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+n)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return"object"==typeof e&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let n=e.lastIndexOf(t.pop()),i=e.indexOf("*/",n);n>-1&&i>-1&&(this.annotation=this.getAnnotationURL(e.substring(n,i)))}loadFile(e){if(this.root=a(e),o(e))return this.mapFile=e,s(e,"utf-8").toString().trim()}loadMap(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"!=typeof t){if(t instanceof i)return r.fromSourceMap(t).toString();if(t instanceof r)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}{let n=t(e);if(n){let e=this.loadFile(n);if(!e)throw new Error("Unable to load previous source map: "+n.toString());return e}}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let t=this.annotation;return e&&(t=l(a(e),t)),this.loadFile(t)}}}startWith(e,t){return!!e&&e.substr(0,t.length)===t}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}e.exports=c,c.default=c},96846:function(e,t,n){"use strict";let i=n(84211),r=n(96966),o=n(40145),s=n(25644);class a{constructor(e=[]){this.version="8.4.38",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let n of e)if(!0===n.postcss?n=n():n.postcss&&(n=n.postcss),"object"==typeof n&&Array.isArray(n.plugins))t=t.concat(n.plugins);else if("object"==typeof n&&n.postcssPlugin)t.push(n);else if("function"==typeof n)t.push(n);else if("object"!=typeof n||!n.parse&&!n.stringify)throw new Error(n+" is not a PostCSS plugin");return t}process(e,t={}){return this.plugins.length||t.parser||t.stringifier||t.syntax?new r(this,e,t):new i(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}}e.exports=a,a.default=a,s.registerProcessor(a),o.registerProcessor(a)},33717:function(e,t,n){"use strict";let i=n(60038);class r{constructor(e,t,n){this.processor=e,this.messages=[],this.root=t,this.opts=n,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let n=new i(e,t);return this.messages.push(n),n}warnings(){return this.messages.filter((e=>"warning"===e.type))}get content(){return this.css}}e.exports=r,r.default=r},25644:function(e,t,n){"use strict";let i,r,o=n(77793);class s extends o{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,n){let i=super.normalize(e);if(t)if("prepend"===n)this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let e of i)e.raws.before=t.raws.before;return i}removeChild(e,t){let n=this.index(e);return!t&&0===n&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[n].raws.before),super.removeChild(e)}toResult(e={}){return new i(new r,this,e).stringify()}}s.registerLazyResult=e=>{i=e},s.registerProcessor=e=>{r=e},e.exports=s,s.default=s,o.registerRoot(s)},61534:function(e,t,n){"use strict";let i=n(77793),r=n(81752);class o extends i{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return r.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,n=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(n)}}e.exports=o,o.default=o,i.registerRule(o)},47668:function(e){"use strict";const t={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};class n{constructor(e){this.builder=e}atrule(e,t){let n="@"+e.name,i=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?n+=e.raws.afterName:i&&(n+=" "),e.nodes)this.block(e,n+i);else{let r=(e.raws.between||"")+(t?";":"");this.builder(n+i+r,e)}}beforeAfter(e,t){let n;n="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");let i=e.parent,r=0;for(;i&&"root"!==i.type;)r+=1,i=i.parent;if(n.includes("\n")){let t=this.raw(e,null,"indent");if(t.length)for(let e=0;e<r;e++)n+=t}return n}block(e,t){let n,i=this.raw(e,"between","beforeOpen");this.builder(t+i+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),n=this.raw(e,"after")):n=this.raw(e,"after","emptyBody"),n&&this.builder(n),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&"comment"===e.nodes[t].type;)t-=1;let n=this.raw(e,"semicolon");for(let i=0;i<e.nodes.length;i++){let r=e.nodes[i],o=this.raw(r,"before");o&&this.builder(o),this.stringify(r,t!==i||n)}}comment(e){let t=this.raw(e,"left","commentLeft"),n=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+n+"*/",e)}decl(e,t){let n=this.raw(e,"between","colon"),i=e.prop+n+this.rawValue(e,"value");e.important&&(i+=e.raws.important||" !important"),t&&(i+=";"),this.builder(i,e)}document(e){this.body(e)}raw(e,n,i){let r;if(i||(i=n),n&&(r=e.raws[n],void 0!==r))return r;let o=e.parent;if("before"===i){if(!o||"root"===o.type&&o.first===e)return"";if(o&&"document"===o.type)return""}if(!o)return t[i];let s=e.root();if(s.rawCache||(s.rawCache={}),void 0!==s.rawCache[i])return s.rawCache[i];if("before"===i||"after"===i)return this.beforeAfter(e,i);{let t="raw"+((a=i)[0].toUpperCase()+a.slice(1));this[t]?r=this[t](s,e):s.walk((e=>{if(r=e.raws[n],void 0!==r)return!1}))}var a;return void 0===r&&(r=t[i]),s.rawCache[i]=r,r}rawBeforeClose(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return t=e.raws.after,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let n;return e.walkComments((e=>{if(void 0!==e.raws.before)return n=e.raws.before,n.includes("\n")&&(n=n.replace(/[^\n]+$/,"")),!1})),void 0===n?n=this.raw(t,null,"beforeDecl"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeDecl(e,t){let n;return e.walkDecls((e=>{if(void 0!==e.raws.before)return n=e.raws.before,n.includes("\n")&&(n=n.replace(/[^\n]+$/,"")),!1})),void 0===n?n=this.raw(t,null,"beforeRule"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeOpen(e){let t;return e.walk((e=>{if("decl"!==e.type&&(t=e.raws.between,void 0!==t))return!1})),t}rawBeforeRule(e){let t;return e.walk((n=>{if(n.nodes&&(n.parent!==e||e.first!==n)&&void 0!==n.raws.before)return t=n.raws.before,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls((e=>{if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1})),t}rawEmptyBody(e){let t;return e.walk((e=>{if(e.nodes&&0===e.nodes.length&&(t=e.raws.after,void 0!==t))return!1})),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk((n=>{let i=n.parent;if(i&&i!==e&&i.parent&&i.parent===e&&void 0!==n.raws.before){let e=n.raws.before.split("\n");return t=e[e.length-1],t=t.replace(/\S/g,""),!1}})),t}rawSemicolon(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&(t=e.raws.semicolon,void 0!==t))return!1})),t}rawValue(e,t){let n=e[t],i=e.raws[t];return i&&i.value===n?i.raw:n}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}}e.exports=n,n.default=n},83303:function(e,t,n){"use strict";let i=n(47668);function r(e,t){new i(t).stringify(e)}e.exports=r,r.default=r},84151:function(e){"use strict";e.exports.isClean=Symbol("isClean"),e.exports.my=Symbol("my")},45781:function(e){"use strict";const t="'".charCodeAt(0),n='"'.charCodeAt(0),i="\\".charCodeAt(0),r="/".charCodeAt(0),o="\n".charCodeAt(0),s=" ".charCodeAt(0),a="\f".charCodeAt(0),l="\t".charCodeAt(0),c="\r".charCodeAt(0),u="[".charCodeAt(0),d="]".charCodeAt(0),h="(".charCodeAt(0),p=")".charCodeAt(0),f="{".charCodeAt(0),m="}".charCodeAt(0),g=";".charCodeAt(0),b="*".charCodeAt(0),y=":".charCodeAt(0),v="@".charCodeAt(0),_=/[\t\n\f\r "#'()/;[\\\]{}]/g,w=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,k=/.[\r\n"'(/\\]/,C=/[\da-f]/i;e.exports=function(e,E={}){let x,S,O,T,M,P,D,L,A,z,I=e.css.valueOf(),R=E.ignoreErrors,j=I.length,N=0,F=[],Y=[];function B(t){throw e.error("Unclosed "+t,N)}return{back:function(e){Y.push(e)},endOfFile:function(){return 0===Y.length&&N>=j},nextToken:function(e){if(Y.length)return Y.pop();if(N>=j)return;let E=!!e&&e.ignoreUnclosed;switch(x=I.charCodeAt(N),x){case o:case s:case l:case c:case a:S=N;do{S+=1,x=I.charCodeAt(S)}while(x===s||x===o||x===l||x===c||x===a);z=["space",I.slice(N,S)],N=S-1;break;case u:case d:case f:case m:case y:case g:case p:{let e=String.fromCharCode(x);z=[e,e,N];break}case h:if(L=F.length?F.pop()[1]:"",A=I.charCodeAt(N+1),"url"===L&&A!==t&&A!==n&&A!==s&&A!==o&&A!==l&&A!==a&&A!==c){S=N;do{if(P=!1,S=I.indexOf(")",S+1),-1===S){if(R||E){S=N;break}B("bracket")}for(D=S;I.charCodeAt(D-1)===i;)D-=1,P=!P}while(P);z=["brackets",I.slice(N,S+1),N,S],N=S}else S=I.indexOf(")",N+1),T=I.slice(N,S+1),-1===S||k.test(T)?z=["(","(",N]:(z=["brackets",T,N,S],N=S);break;case t:case n:O=x===t?"'":'"',S=N;do{if(P=!1,S=I.indexOf(O,S+1),-1===S){if(R||E){S=N+1;break}B("string")}for(D=S;I.charCodeAt(D-1)===i;)D-=1,P=!P}while(P);z=["string",I.slice(N,S+1),N,S],N=S;break;case v:_.lastIndex=N+1,_.test(I),S=0===_.lastIndex?I.length-1:_.lastIndex-2,z=["at-word",I.slice(N,S+1),N,S],N=S;break;case i:for(S=N,M=!0;I.charCodeAt(S+1)===i;)S+=1,M=!M;if(x=I.charCodeAt(S+1),M&&x!==r&&x!==s&&x!==o&&x!==l&&x!==c&&x!==a&&(S+=1,C.test(I.charAt(S)))){for(;C.test(I.charAt(S+1));)S+=1;I.charCodeAt(S+1)===s&&(S+=1)}z=["word",I.slice(N,S+1),N,S],N=S;break;default:x===r&&I.charCodeAt(N+1)===b?(S=I.indexOf("*/",N+2)+1,0===S&&(R||E?S=I.length:B("comment")),z=["comment",I.slice(N,S+1),N,S],N=S):(w.lastIndex=N+1,w.test(I),S=0===w.lastIndex?I.length-1:w.lastIndex-2,z=["word",I.slice(N,S+1),N,S],F.push(z),N=S)}return N++,z},position:function(){return N}}}},6156:function(e){"use strict";let t={};e.exports=function(e){t[e]||(t[e]=!0,"undefined"!=typeof console&&console.warn&&console.warn(e))}},60038:function(e){"use strict";class t{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let e=t.node.rangeBy(t);this.line=e.start.line,this.column=e.start.column,this.endLine=e.end.line,this.endColumn=e.end.column}for(let e in t)this[e]=t[e]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}e.exports=t,t.default=t},2694:function(e,t,n){"use strict";var i=n(6925);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,s){if(s!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},5556:function(e,t,n){e.exports=n(2694)()},6925:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},17790:function(e,t,n){var i=n(19852);function r(e){this.mode=i.MODE_8BIT_BYTE,this.data=e}r.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},e.exports=r},10046:function(e){function t(){this.buffer=new Array,this.length=0}t.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},41537:function(e){e.exports={L:1,M:0,Q:3,H:2}},30501:function(e,t,n){var i=n(39341);function r(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var i=0;i<e.length-n;i++)this.num[i]=e[i+n]}r.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var o=0;o<e.getLength();o++)t[n+o]^=i.gexp(i.glog(this.get(n))+i.glog(e.get(o)));return new r(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=i.glog(this.get(0))-i.glog(e.get(0)),n=new Array(this.getLength()),o=0;o<this.getLength();o++)n[o]=this.get(o);for(o=0;o<e.getLength();o++)n[o]^=i.gexp(i.glog(e.get(o))+t);return new r(n,0).mod(e)}},e.exports=r},46641:function(e,t,n){var i=n(17790),r=n(12835),o=n(10046),s=n(38759),a=n(30501);function l(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var c=l.prototype;c.addData=function(e){var t=new i(e);this.dataList.push(t),this.dataCache=null},c.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},c.getModuleCount=function(){return this.moduleCount},c.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=r.getRSBlocks(e,this.errorCorrectLevel),n=new o,i=0,a=0;a<t.length;a++)i+=t[a].dataCount;for(a=0;a<this.dataList.length;a++){var l=this.dataList[a];n.put(l.mode,4),n.put(l.getLength(),s.getLengthInBits(l.mode,e)),l.write(n)}if(n.getLengthInBits()<=8*i)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},c.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[n][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},c.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var i=-1;i<=7;i++)t+i<=-1||this.moduleCount<=t+i||(this.modules[e+n][t+i]=0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4)},c.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var i=s.getLostPoint(this);(0==n||e>i)&&(e=i,t=n)}return t},c.createMovieClip=function(e,t,n){var i=e.createEmptyMovieClip(t,n);this.make();for(var r=0;r<this.modules.length;r++)for(var o=1*r,s=0;s<this.modules[r].length;s++){var a=1*s;this.modules[r][s]&&(i.beginFill(0,100),i.moveTo(a,o),i.lineTo(a+1,o),i.lineTo(a+1,o+1),i.lineTo(a,o+1),i.endFill())}return i},c.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},c.setupPositionAdjustPattern=function(){for(var e=s.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var i=e[t],r=e[n];if(null==this.modules[i][r])for(var o=-2;o<=2;o++)for(var a=-2;a<=2;a++)this.modules[i+o][r+a]=-2==o||2==o||-2==a||2==a||0==o&&0==a}},c.setupTypeNumber=function(e){for(var t=s.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var i=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(n=0;n<18;n++)i=!e&&1==(t>>n&1),this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i},c.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,i=s.getBCHTypeInfo(n),r=0;r<15;r++){var o=!e&&1==(i>>r&1);r<6?this.modules[r][8]=o:r<8?this.modules[r+1][8]=o:this.modules[this.moduleCount-15+r][8]=o}for(r=0;r<15;r++)o=!e&&1==(i>>r&1),r<8?this.modules[8][this.moduleCount-r-1]=o:r<9?this.modules[8][15-r-1+1]=o:this.modules[8][15-r-1]=o;this.modules[this.moduleCount-8][8]=!e},c.mapData=function(e,t){for(var n=-1,i=this.moduleCount-1,r=7,o=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var l=0;l<2;l++)if(null==this.modules[i][a-l]){var c=!1;o<e.length&&(c=1==(e[o]>>>r&1)),s.getMask(t,i,a-l)&&(c=!c),this.modules[i][a-l]=c,-1==--r&&(o++,r=7)}if((i+=n)<0||this.moduleCount<=i){i-=n,n=-n;break}}},l.PAD0=236,l.PAD1=17,l.createData=function(e,t,n){for(var i=r.getRSBlocks(e,t),a=new o,c=0;c<n.length;c++){var u=n[c];a.put(u.mode,4),a.put(u.getLength(),s.getLengthInBits(u.mode,e)),u.write(a)}var d=0;for(c=0;c<i.length;c++)d+=i[c].dataCount;if(a.getLengthInBits()>8*d)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+8*d+")");for(a.getLengthInBits()+4<=8*d&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;!(a.getLengthInBits()>=8*d||(a.put(l.PAD0,8),a.getLengthInBits()>=8*d));)a.put(l.PAD1,8);return l.createBytes(a,i)},l.createBytes=function(e,t){for(var n=0,i=0,r=0,o=new Array(t.length),l=new Array(t.length),c=0;c<t.length;c++){var u=t[c].dataCount,d=t[c].totalCount-u;i=Math.max(i,u),r=Math.max(r,d),o[c]=new Array(u);for(var h=0;h<o[c].length;h++)o[c][h]=255&e.buffer[h+n];n+=u;var p=s.getErrorCorrectPolynomial(d),f=new a(o[c],p.getLength()-1).mod(p);for(l[c]=new Array(p.getLength()-1),h=0;h<l[c].length;h++){var m=h+f.getLength()-l[c].length;l[c][h]=m>=0?f.get(m):0}}var g=0;for(h=0;h<t.length;h++)g+=t[h].totalCount;var b=new Array(g),y=0;for(h=0;h<i;h++)for(c=0;c<t.length;c++)h<o[c].length&&(b[y++]=o[c][h]);for(h=0;h<r;h++)for(c=0;c<t.length;c++)h<l[c].length&&(b[y++]=l[c][h]);return b},e.exports=l},12835:function(e,t,n){var i=n(41537);function r(e,t){this.totalCount=e,this.dataCount=t}r.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],r.getRSBlocks=function(e,t){var n=r.getRsBlockTable(e,t);if(null==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var i=n.length/3,o=new Array,s=0;s<i;s++)for(var a=n[3*s+0],l=n[3*s+1],c=n[3*s+2],u=0;u<a;u++)o.push(new r(l,c));return o},r.getRsBlockTable=function(e,t){switch(t){case i.L:return r.RS_BLOCK_TABLE[4*(e-1)+0];case i.M:return r.RS_BLOCK_TABLE[4*(e-1)+1];case i.Q:return r.RS_BLOCK_TABLE[4*(e-1)+2];case i.H:return r.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},e.exports=r},39341:function(e){for(var t={glog:function(e){if(e<1)throw new Error("glog("+e+")");return t.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},n=0;n<8;n++)t.EXP_TABLE[n]=1<<n;for(n=8;n<256;n++)t.EXP_TABLE[n]=t.EXP_TABLE[n-4]^t.EXP_TABLE[n-5]^t.EXP_TABLE[n-6]^t.EXP_TABLE[n-8];for(n=0;n<255;n++)t.LOG_TABLE[t.EXP_TABLE[n]]=n;e.exports=t},19852:function(e){e.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},38759:function(e,t,n){var i=n(19852),r=n(30501),o=n(39341),s={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;s.getBCHDigit(t)-s.getBCHDigit(s.G15)>=0;)t^=s.G15<<s.getBCHDigit(t)-s.getBCHDigit(s.G15);return(e<<10|t)^s.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;s.getBCHDigit(t)-s.getBCHDigit(s.G18)>=0;)t^=s.G18<<s.getBCHDigit(t)-s.getBCHDigit(s.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return s.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case 0:return(t+n)%2==0;case 1:return t%2==0;case 2:return n%3==0;case 3:return(t+n)%3==0;case 4:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case 5:return t*n%2+t*n%3==0;case 6:return(t*n%2+t*n%3)%2==0;case 7:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new r([1],0),n=0;n<e;n++)t=t.multiply(new r([1,o.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:case i.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,i=0;i<t;i++)for(var r=0;r<t;r++){for(var o=0,s=e.isDark(i,r),a=-1;a<=1;a++)if(!(i+a<0||t<=i+a))for(var l=-1;l<=1;l++)r+l<0||t<=r+l||0==a&&0==l||s==e.isDark(i+a,r+l)&&o++;o>5&&(n+=3+o-5)}for(i=0;i<t-1;i++)for(r=0;r<t-1;r++){var c=0;e.isDark(i,r)&&c++,e.isDark(i+1,r)&&c++,e.isDark(i,r+1)&&c++,e.isDark(i+1,r+1)&&c++,0!=c&&4!=c||(n+=3)}for(i=0;i<t;i++)for(r=0;r<t-6;r++)e.isDark(i,r)&&!e.isDark(i,r+1)&&e.isDark(i,r+2)&&e.isDark(i,r+3)&&e.isDark(i,r+4)&&!e.isDark(i,r+5)&&e.isDark(i,r+6)&&(n+=40);for(r=0;r<t;r++)for(i=0;i<t-6;i++)e.isDark(i,r)&&!e.isDark(i+1,r)&&e.isDark(i+2,r)&&e.isDark(i+3,r)&&e.isDark(i+4,r)&&!e.isDark(i+5,r)&&e.isDark(i+6,r)&&(n+=40);var u=0;for(r=0;r<t;r++)for(i=0;i<t;i++)e.isDark(i,r)&&u++;return n+Math.abs(100*u/t/t-50)/5*10}};e.exports=s},82765:function(e,t,n){var i;i=function(e,t,n,i){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./index.js")}({"./index.js":function(e,t,n){"use strict";n.r(t);var i=n("react"),r=n.n(i),o=n("react-dom"),s=n.n(o),a=n("prop-types"),l=n.n(a);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,d(t).apply(this,arguments))}var i,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),i=t,o=[{key:"propsWith",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};return Object.keys(this.props).forEach((function(i){if(-1!==i.search(e)){var r=t?i.replace(e,""):i;n[r]=this.props[i]}}),this),n}},{key:"componentWillUnmount",value:function(){this.clipboard&&this.clipboard.destroy()}},{key:"componentDidMount",value:function(){var e=this.props.options||this.propsWith(/^option-/,!0),t=s.a.findDOMNode(this.element);if(t){var i=n("clipboard");this.clipboard=new i(t,e);var r=this.propsWith(/^on/,!0);Object.keys(r).forEach((function(e){this.clipboard.on(e.toLowerCase(),this.props["on"+e])}),this)}}},{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){p(e,t,n[t])}))}return e}({title:this.props.title||"",type:this.getType(),className:this.props.className||"",style:this.props.style||{},ref:function(t){return e.element=t},onClick:this.props.onClick},this.propsWith(/^data-/),this.propsWith(/^button-/,!0)),i=n("clipboard");return this.props.isVisibleWhenUnsupported||i.isSupported()?r.a.createElement(this.getComponent(),t,this.props.children):null}},{key:"getType",value:function(){return"button"===this.getComponent()||"input"===this.getComponent()?this.props.type||"button":void 0}},{key:"getComponent",value:function(){return this.props.component||"button"}}],o&&u(i.prototype,o),t}(r.a.Component);p(f,"propTypes",{options:function(e,t,n){var i=e[t];return i&&"object"!==c(i)||Array.isArray(i)?new Error("Invalid props '".concat(t,"' supplied to '").concat(n,"'. ")+"'".concat(t,"' is not an object.")):void 0!==e["option-text"]&&"function"!=typeof e["option-text"]?new Error("Invalid props 'option-text' supplied to '".concat(n,"'. ")+"'option-text' is not a function."):void 0},title:l.a.string,type:l.a.string,className:l.a.string,style:l.a.object,component:l.a.any,children:l.a.any}),p(f,"defaultProps",{isVisibleWhenUnsupported:!0,onClick:function(){}}),t.default=f},clipboard:function(t,n){t.exports=e},"prop-types":function(e,n){e.exports=t},react:function(e,t){e.exports=n},"react-dom":function(e,t){e.exports=i}})},e.exports=i(n(57576),n(5556),n(96540),n(40961))},69052:function(e,t,n){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t){e.exports=n(96540)},function(e,t){e.exports=n(95093)},function(e,t){e.exports=n(40961)},function(e,t,n){e.exports=n(5)()},function(e,t,n){e.exports=n(7)},function(e,t,n){"use strict";var i=n(6);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,s){if(s!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t);var i=n(3),r=n.n(i),o=n(1),s=n.n(o),a=n(0),l=n.n(a);function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function u(e){var t=e.onClickPrev,n=e.onClickSwitch,i=e.onClickNext,r=e.switchContent,o=e.switchColSpan,s=e.switchProps;return l.a.createElement("tr",null,l.a.createElement("th",{className:"rdtPrev",onClick:t},l.a.createElement("span",null,"")),l.a.createElement("th",c({className:"rdtSwitch",colSpan:o,onClick:n},s),r),l.a.createElement("th",{className:"rdtNext",onClick:i},l.a.createElement("span",null,"")))}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(r,e);var t,n,i=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=f(e);if(t){var r=f(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}(this,n)}}(r);function r(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return m(p(e=i.call.apply(i,[this].concat(n))),"_setDate",(function(t){e.props.updateDate(t)})),e}return t=r,(n=[{key:"render",value:function(){return l.a.createElement("div",{className:"rdtDays"},l.a.createElement("table",null,l.a.createElement("thead",null,this.renderNavigation(),this.renderDayHeaders()),l.a.createElement("tbody",null,this.renderDays()),this.renderFooter()))}},{key:"renderNavigation",value:function(){var e=this,t=this.props.viewDate,n=t.localeData();return l.a.createElement(u,{onClickPrev:function(){return e.props.navigate(-1,"months")},onClickSwitch:function(){return e.props.showView("months")},onClickNext:function(){return e.props.navigate(1,"months")},switchContent:n.months(t)+" "+t.year(),switchColSpan:5,switchProps:{"data-value":this.props.viewDate.month()}})}},{key:"renderDayHeaders",value:function(){var e=function(e){var t=e.firstDayOfWeek(),n=[],i=0;return e._weekdaysMin.forEach((function(e){n[(7+i++-t)%7]=e})),n}(this.props.viewDate.localeData()).map((function(e,t){return l.a.createElement("th",{key:e+t,className:"dow"},e)}));return l.a.createElement("tr",null,e)}},{key:"renderDays",value:function(){var e=this.props.viewDate,t=e.clone().startOf("month"),n=e.clone().endOf("month"),i=[[],[],[],[],[],[]],r=e.clone().subtract(1,"months");r.date(r.daysInMonth()).startOf("week");for(var o=r.clone().add(42,"d"),s=0;r.isBefore(o);)b(i,s++).push(this.renderDay(r,t,n)),r.add(1,"d");return i.map((function(e,t){return l.a.createElement("tr",{key:"".concat(o.month(),"_").concat(t)},e)}))}},{key:"renderDay",value:function(e,t,n){var i=this.props.selectedDate,r={key:e.format("M_D"),"data-value":e.date(),"data-month":e.month(),"data-year":e.year()},o="rdtDay";return e.isBefore(t)?o+=" rdtOld":e.isAfter(n)&&(o+=" rdtNew"),i&&e.isSame(i,"day")&&(o+=" rdtActive"),e.isSame(this.props.moment(),"day")&&(o+=" rdtToday"),this.props.isValidDate(e)?r.onClick=this._setDate:o+=" rdtDisabled",r.className=o,this.props.renderDay(r,e.clone(),i&&i.clone())}},{key:"renderFooter",value:function(){var e=this;if(this.props.timeFormat){var t=this.props.viewDate;return l.a.createElement("tfoot",null,l.a.createElement("tr",null,l.a.createElement("td",{onClick:function(){return e.props.showView("time")},colSpan:7,className:"rdtTimeToggle"},t.format(this.props.timeFormat))))}}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),r}(l.a.Component);function b(e,t){return e[Math.floor(t/7)]}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}m(g,"defaultProps",{isValidDate:function(){return!0},renderDay:function(e,t){return l.a.createElement("td",e,t.date())}});var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(r,e);var t,n,i=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=w(e);if(t){var r=w(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}(this,n)}}(r);function r(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(_(e=i.call.apply(i,[this].concat(n))),"_updateSelectedMonth",(function(t){e.props.updateDate(t)})),e}return t=r,(n=[{key:"render",value:function(){return l.a.createElement("div",{className:"rdtMonths"},l.a.createElement("table",null,l.a.createElement("thead",null,this.renderNavigation())),l.a.createElement("table",null,l.a.createElement("tbody",null,this.renderMonths())))}},{key:"renderNavigation",value:function(){var e=this,t=this.props.viewDate.year();return l.a.createElement(u,{onClickPrev:function(){return e.props.navigate(-1,"years")},onClickSwitch:function(){return e.props.showView("years")},onClickNext:function(){return e.props.navigate(1,"years")},switchContent:t,switchColSpan:"2"})}},{key:"renderMonths",value:function(){for(var e=[[],[],[]],t=0;t<12;t++)C(e,t).push(this.renderMonth(t));return e.map((function(e,t){return l.a.createElement("tr",{key:t},e)}))}},{key:"renderMonth",value:function(e){var t,n=this.props.selectedDate,i="rdtMonth";this.isDisabledMonth(e)?i+=" rdtDisabled":t=this._updateSelectedMonth,n&&n.year()===this.props.viewDate.year()&&n.month()===e&&(i+=" rdtActive");var r={key:e,className:i,"data-value":e,onClick:t};return this.props.renderMonth?this.props.renderMonth(r,e,this.props.viewDate.year(),this.props.selectedDate&&this.props.selectedDate.clone()):l.a.createElement("td",r,this.getMonthText(e))}},{key:"isDisabledMonth",value:function(e){var t=this.props.isValidDate;if(!t)return!1;for(var n=this.props.viewDate.clone().set({month:e}),i=n.endOf("month").date()+1;i-- >1;)if(t(n.date(i)))return!1;return!0}},{key:"getMonthText",value:function(e){var t,n=this.props.viewDate;return(t=n.localeData().monthsShort(n.month(e)).substring(0,3)).charAt(0).toUpperCase()+t.slice(1)}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),r}(l.a.Component);function C(e,t){return t<4?e[0]:t<8?e[1]:e[2]}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(r,e);var t,n,i=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=O(e);if(t){var r=O(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}(this,n)}}(r);function r(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return T(S(e=i.call.apply(i,[this].concat(n))),"disabledYearsCache",{}),T(S(e),"_updateSelectedYear",(function(t){e.props.updateDate(t)})),e}return t=r,(n=[{key:"render",value:function(){return l.a.createElement("div",{className:"rdtYears"},l.a.createElement("table",null,l.a.createElement("thead",null,this.renderNavigation())),l.a.createElement("table",null,l.a.createElement("tbody",null,this.renderYears())))}},{key:"renderNavigation",value:function(){var e=this,t=this.getViewYear();return l.a.createElement(u,{onClickPrev:function(){return e.props.navigate(-10,"years")},onClickSwitch:function(){return e.props.showView("years")},onClickNext:function(){return e.props.navigate(10,"years")},switchContent:"".concat(t,"-").concat(t+9)})}},{key:"renderYears",value:function(){for(var e=this.getViewYear(),t=[[],[],[]],n=e-1;n<e+11;n++)P(t,n-e).push(this.renderYear(n));return t.map((function(e,t){return l.a.createElement("tr",{key:t},e)}))}},{key:"renderYear",value:function(e){var t,n=this.getSelectedYear(),i="rdtYear";this.isDisabledYear(e)?i+=" rdtDisabled":t=this._updateSelectedYear,n===e&&(i+=" rdtActive");var r={key:e,className:i,"data-value":e,onClick:t};return this.props.renderYear(r,e,this.props.selectedDate&&this.props.selectedDate.clone())}},{key:"getViewYear",value:function(){return 10*parseInt(this.props.viewDate.year()/10,10)}},{key:"getSelectedYear",value:function(){return this.props.selectedDate&&this.props.selectedDate.year()}},{key:"isDisabledYear",value:function(e){var t=this.disabledYearsCache;if(void 0!==t[e])return t[e];var n=this.props.isValidDate;if(!n)return!1;for(var i=this.props.viewDate.clone().set({year:e}),r=i.endOf("year").dayOfYear()+1;r-- >1;)if(n(i.dayOfYear(r)))return t[e]=!1,!1;return t[e]=!0,!0}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),r}(l.a.Component);function P(e,t){return t<3?e[0]:t<7?e[1]:e[2]}function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}T(M,"defaultProps",{renderYear:function(e,t){return l.a.createElement("td",e,t)}});var j={hours:{min:0,max:23,step:1},minutes:{min:0,max:59,step:1},seconds:{min:0,max:59,step:1},milliseconds:{min:0,max:999,step:1}},N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(r,e);var t,n,i=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=A(e);if(t){var r=A(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===D(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}(r);function r(e){var t,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=i.call(this,e)).constraints=(n=e.timeConstraints,o={},Object.keys(j).forEach((function(e){o[e]=I(I({},j[e]),n[e]||{})})),o),t.state=t.getTimeParts(e.selectedDate||e.viewDate),t}return t=r,(n=[{key:"render",value:function(){var e=this,t=[],n=this.state;return this.getCounters().forEach((function(i,r){r&&"ampm"!==i&&t.push(l.a.createElement("div",{key:"sep".concat(r),className:"rdtCounterSeparator"},":")),t.push(e.renderCounter(i,n[i]))})),l.a.createElement("div",{className:"rdtTime"},l.a.createElement("table",null,this.renderHeader(),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("div",{className:"rdtCounters"},t))))))}},{key:"renderCounter",value:function(e,t){var n=this;return"hours"===e&&this.isAMPM()&&0==(t=(t-1)%12+1)&&(t=12),"ampm"===e&&(t=-1!==this.props.timeFormat.indexOf(" A")?this.props.viewDate.format("A"):this.props.viewDate.format("a")),l.a.createElement("div",{key:e,className:"rdtCounter"},l.a.createElement("span",{className:"rdtBtn",onMouseDown:function(t){return n.onStartClicking(t,"increase",e)}},""),l.a.createElement("div",{className:"rdtCount"},t),l.a.createElement("span",{className:"rdtBtn",onMouseDown:function(t){return n.onStartClicking(t,"decrease",e)}},""))}},{key:"renderHeader",value:function(){var e=this;if(this.props.dateFormat){var t=this.props.selectedDate||this.props.viewDate;return l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",{className:"rdtSwitch",colSpan:"4",onClick:function(){return e.props.showView("days")}},t.format(this.props.dateFormat))))}}},{key:"onStartClicking",value:function(e,t,n){var i=this;if(!e||!e.button||0===e.button){if("ampm"===n)return this.toggleDayPart();var r={},o=document.body;r[n]=this[t](n),this.setState(r),this.timer=setTimeout((function(){i.increaseTimer=setInterval((function(){r[n]=i[t](n),i.setState(r)}),70)}),500),this.mouseUpListener=function(){clearTimeout(i.timer),clearInterval(i.increaseTimer),i.props.setTime(n,parseInt(i.state[n],10)),o.removeEventListener("mouseup",i.mouseUpListener),o.removeEventListener("touchend",i.mouseUpListener)},o.addEventListener("mouseup",this.mouseUpListener),o.addEventListener("touchend",this.mouseUpListener)}}},{key:"toggleDayPart",value:function(){var e=parseInt(this.state.hours,10);e>=12?e-=12:e+=12,this.props.setTime("hours",e)}},{key:"increase",value:function(e){var t=this.constraints[e],n=parseInt(this.state[e],10)+t.step;return n>t.max&&(n=t.min+(n-(t.max+1))),F(e,n)}},{key:"decrease",value:function(e){var t=this.constraints[e],n=parseInt(this.state[e],10)-t.step;return n<t.min&&(n=t.max+1-(t.min-n)),F(e,n)}},{key:"getCounters",value:function(){var e=[],t=this.props.timeFormat;return-1!==t.toLowerCase().indexOf("h")&&(e.push("hours"),-1!==t.indexOf("m")&&(e.push("minutes"),-1!==t.indexOf("s")&&(e.push("seconds"),-1!==t.indexOf("S")&&e.push("milliseconds")))),this.isAMPM()&&e.push("ampm"),e}},{key:"isAMPM",value:function(){return-1!==this.props.timeFormat.toLowerCase().indexOf(" a")}},{key:"getTimeParts",value:function(e){var t=e.hours();return{hours:F("hours",t),minutes:F("minutes",e.minutes()),seconds:F("seconds",e.seconds()),milliseconds:F("milliseconds",e.milliseconds()),ampm:t<12?"am":"pm"}}},{key:"componentDidUpdate",value:function(e){this.props.selectedDate?this.props.selectedDate!==e.selectedDate&&this.setState(this.getTimeParts(this.props.selectedDate)):e.viewDate!==this.props.viewDate&&this.setState(this.getTimeParts(this.props.viewDate))}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),r}(l.a.Component);function F(e,t){for(var n={hours:1,minutes:2,seconds:2,milliseconds:3},i=t+"";i.length<n[e];)i="0"+i;return i}var Y=n(2);function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))}var W,U,$=(void 0===W&&(W=0),function(){return++W}),q={},K={},G=["touchstart","touchmove"];function Z(e,t){var n=null;return-1!==G.indexOf(t)&&U&&(n={passive:!e.props.preventDefault}),n}function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ne(e,t,n){return t&&te(e.prototype,t),n&&te(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ie(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&re(e,t)}function re(e,t){return(re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ae(e);if(t){var r=ae(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===J(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return se(e)}(this,n)}}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"default",(function(){return ge}));var ce="years",ue="months",de="days",he="time",pe=r.a,fe=function(){},me=pe.oneOfType([pe.instanceOf(s.a),pe.instanceOf(Date),pe.string]),ge=function(e){ie(n,e);var t=oe(n);function n(e){var i;return ee(this,n),le(se(i=t.call(this,e)),"_renderCalendar",(function(){var e=i.props,t=i.state,n={viewDate:t.viewDate.clone(),selectedDate:i.getSelectedDate(),isValidDate:e.isValidDate,updateDate:i._updateDate,navigate:i._viewNavigate,moment:s.a,showView:i._showView};switch(t.currentView){case ce:return n.renderYear=e.renderYear,l.a.createElement(M,n);case ue:return n.renderMonth=e.renderMonth,l.a.createElement(k,n);case de:return n.renderDay=e.renderDay,n.timeFormat=i.getFormat("time"),l.a.createElement(g,n);default:return n.dateFormat=i.getFormat("date"),n.timeFormat=i.getFormat("time"),n.timeConstraints=e.timeConstraints,n.setTime=i._setTime,l.a.createElement(N,n)}})),le(se(i),"_showView",(function(e,t){var n=(t||i.state.viewDate).clone(),r=i.props.onBeforeNavigate(e,i.state.currentView,n);r&&i.state.currentView!==r&&(i.props.onNavigate(r),i.setState({currentView:r}))})),le(se(i),"viewToMethod",{days:"date",months:"month",years:"year"}),le(se(i),"nextView",{days:"time",months:"days",years:"months"}),le(se(i),"_updateDate",(function(e){var t=i.state.currentView,n=i.getUpdateOn(i.getFormat("date")),r=i.state.viewDate.clone();r[i.viewToMethod[t]](parseInt(e.target.getAttribute("data-value"),10)),"days"===t&&(r.month(parseInt(e.target.getAttribute("data-month"),10)),r.year(parseInt(e.target.getAttribute("data-year"),10)));var o={viewDate:r};t===n?(o.selectedDate=r.clone(),o.inputValue=r.format(i.getFormat("datetime")),void 0===i.props.open&&i.props.input&&i.props.closeOnSelect&&i._closeCalendar(),i.props.onChange(r.clone())):i._showView(i.nextView[t],r),i.setState(o)})),le(se(i),"_viewNavigate",(function(e,t){var n=i.state.viewDate.clone();n.add(e,t),e>0?i.props.onNavigateForward(e,t):i.props.onNavigateBack(-e,t),i.setState({viewDate:n})})),le(se(i),"_setTime",(function(e,t){var n=(i.getSelectedDate()||i.state.viewDate).clone();n[e](t),i.props.value||i.setState({selectedDate:n,viewDate:n.clone(),inputValue:n.format(i.getFormat("datetime"))}),i.props.onChange(n)})),le(se(i),"_openCalendar",(function(){i.isOpen()||i.setState({open:!0},i.props.onOpen)})),le(se(i),"_closeCalendar",(function(){i.isOpen()&&i.setState({open:!1},(function(){i.props.onClose(i.state.selectedDate||i.state.inputValue)}))})),le(se(i),"_handleClickOutside",(function(){var e=i.props;e.input&&i.state.open&&void 0===e.open&&e.closeOnClickOutside&&i._closeCalendar()})),le(se(i),"_onInputFocus",(function(e){i.callHandler(i.props.inputProps.onFocus,e)&&i._openCalendar()})),le(se(i),"_onInputChange",(function(e){if(i.callHandler(i.props.inputProps.onChange,e)){var t=e.target?e.target.value:e,n=i.localMoment(t,i.getFormat("datetime")),r={inputValue:t};n.isValid()?(r.selectedDate=n,r.viewDate=n.clone().startOf("month")):r.selectedDate=null,i.setState(r,(function(){i.props.onChange(n.isValid()?n:i.state.inputValue)}))}})),le(se(i),"_onInputKeyDown",(function(e){i.callHandler(i.props.inputProps.onKeyDown,e)&&9===e.which&&i.props.closeOnTab&&i._closeCalendar()})),le(se(i),"_onInputClick",(function(e){i.callHandler(i.props.inputProps.onClick,e)&&i._openCalendar()})),i.state=i.getInitialState(),i}return ne(n,[{key:"render",value:function(){return l.a.createElement(ye,{className:this.getClassName(),onClickOut:this._handleClickOutside},this.renderInput(),l.a.createElement("div",{className:"rdtPicker"},this.renderView()))}},{key:"renderInput",value:function(){if(this.props.input){var e=Q(Q({type:"text",className:"form-control",value:this.getInputValue()},this.props.inputProps),{},{onFocus:this._onInputFocus,onChange:this._onInputChange,onKeyDown:this._onInputKeyDown,onClick:this._onInputClick});return this.props.renderInput?l.a.createElement("div",null,this.props.renderInput(e,this._openCalendar,this._closeCalendar)):l.a.createElement("input",e)}}},{key:"renderView",value:function(){return this.props.renderView(this.state.currentView,this._renderCalendar)}},{key:"getInitialState",value:function(){var e=this.props,t=this.getFormat("datetime"),n=this.parseDate(e.value||e.initialValue,t);return this.checkTZ(),{open:!e.input,currentView:e.initialViewMode||this.getInitialView(),viewDate:this.getInitialViewDate(n),selectedDate:n&&n.isValid()?n:void 0,inputValue:this.getInitialInputValue(n)}}},{key:"getInitialViewDate",value:function(e){var t,n=this.props.initialViewDate;if(n){if((t=this.parseDate(n,this.getFormat("datetime")))&&t.isValid())return t;be('The initialViewDated given "'+n+'" is not valid. Using current date instead.')}else if(e&&e.isValid())return e.clone();return this.getInitialDate()}},{key:"getInitialDate",value:function(){var e=this.localMoment();return e.hour(0).minute(0).second(0).millisecond(0),e}},{key:"getInitialView",value:function(){var e=this.getFormat("date");return e?this.getUpdateOn(e):he}},{key:"parseDate",value:function(e,t){var n;return e&&"string"==typeof e?n=this.localMoment(e,t):e&&(n=this.localMoment(e)),n&&!n.isValid()&&(n=null),n}},{key:"getClassName",value:function(){var e="rdt",t=this.props,n=t.className;return Array.isArray(n)?e+=" "+n.join(" "):n&&(e+=" "+n),t.input||(e+=" rdtStatic"),this.isOpen()&&(e+=" rdtOpen"),e}},{key:"isOpen",value:function(){return!this.props.input||(void 0===this.props.open?this.state.open:this.props.open)}},{key:"getUpdateOn",value:function(e){return this.props.updateOnView?this.props.updateOnView:e.match(/[lLD]/)?de:-1!==e.indexOf("M")?ue:-1!==e.indexOf("Y")?ce:de}},{key:"getLocaleData",value:function(){var e=this.props;return this.localMoment(e.value||e.defaultValue||new Date).localeData()}},{key:"getDateFormat",value:function(){var e=this.getLocaleData(),t=this.props.dateFormat;return!0===t?e.longDateFormat("L"):t||""}},{key:"getTimeFormat",value:function(){var e=this.getLocaleData(),t=this.props.timeFormat;return!0===t?e.longDateFormat("LT"):t||""}},{key:"getFormat",value:function(e){if("date"===e)return this.getDateFormat();if("time"===e)return this.getTimeFormat();var t=this.getDateFormat(),n=this.getTimeFormat();return t&&n?t+" "+n:t||n}},{key:"updateTime",value:function(e,t,n,i){var r={},o=i?"selectedDate":"viewDate";r[o]=this.state[o].clone()[e](t,n),this.setState(r)}},{key:"localMoment",value:function(e,t,n){var i=null;return i=(n=n||this.props).utc?s.a.utc(e,t,n.strictParsing):n.displayTimeZone?s.a.tz(e,t,n.displayTimeZone):s()(e,t,n.strictParsing),n.locale&&i.locale(n.locale),i}},{key:"checkTZ",value:function(){var e=this.props.displayTimeZone;!e||this.tzWarning||s.a.tz||(this.tzWarning=!0,be('displayTimeZone prop with value "'+e+'" is used but moment.js timezone is not loaded.',"error"))}},{key:"componentDidUpdate",value:function(e){if(e!==this.props){var t=!1,n=this.props;["locale","utc","displayZone","dateFormat","timeFormat"].forEach((function(i){e[i]!==n[i]&&(t=!0)})),t&&this.regenerateDates(),n.value&&n.value!==e.value&&this.setViewDate(n.value),this.checkTZ()}}},{key:"regenerateDates",value:function(){var e=this.props,t=this.state.viewDate.clone(),n=this.state.selectedDate&&this.state.selectedDate.clone();e.locale&&(t.locale(e.locale),n&&n.locale(e.locale)),e.utc?(t.utc(),n&&n.utc()):e.displayTimeZone?(t.tz(e.displayTimeZone),n&&n.tz(e.displayTimeZone)):(t.locale(),n&&n.locale());var i={viewDate:t,selectedDate:n};n&&n.isValid()&&(i.inputValue=n.format(this.getFormat("datetime"))),this.setState(i)}},{key:"getSelectedDate",value:function(){if(void 0===this.props.value)return this.state.selectedDate;var e=this.parseDate(this.props.value,this.getFormat("datetime"));return!(!e||!e.isValid())&&e}},{key:"getInitialInputValue",value:function(e){var t=this.props;return t.inputProps.value?t.inputProps.value:e&&e.isValid()?e.format(this.getFormat("datetime")):t.value&&"string"==typeof t.value?t.value:t.initialValue&&"string"==typeof t.initialValue?t.initialValue:""}},{key:"getInputValue",value:function(){var e=this.getSelectedDate();return e?e.format(this.getFormat("datetime")):this.state.inputValue}},{key:"setViewDate",value:function(e){var t;return e&&(t="string"==typeof e?this.localMoment(e,this.getFormat("datetime")):this.localMoment(e))&&t.isValid()?void this.setState({viewDate:t}):be("Invalid date passed to the `setViewDate` method: "+e)}},{key:"navigate",value:function(e){this._showView(e)}},{key:"callHandler",value:function(e,t){return!e||!1!==e(t)}}]),n}(l.a.Component);function be(e,t){var n="undefined"!=typeof window&&window.console;n&&(t||(t="warn"),n[t]("***react-datetime:"+e))}le(ge,"propTypes",{value:me,initialValue:me,initialViewDate:me,initialViewMode:pe.oneOf([ce,ue,de,he]),onOpen:pe.func,onClose:pe.func,onChange:pe.func,onNavigate:pe.func,onBeforeNavigate:pe.func,onNavigateBack:pe.func,onNavigateForward:pe.func,updateOnView:pe.string,locale:pe.string,utc:pe.bool,displayTimeZone:pe.string,input:pe.bool,dateFormat:pe.oneOfType([pe.string,pe.bool]),timeFormat:pe.oneOfType([pe.string,pe.bool]),inputProps:pe.object,timeConstraints:pe.object,isValidDate:pe.func,open:pe.bool,strictParsing:pe.bool,closeOnSelect:pe.bool,closeOnTab:pe.bool,renderView:pe.func,renderInput:pe.func,renderDay:pe.func,renderMonth:pe.func,renderYear:pe.func}),le(ge,"defaultProps",{onOpen:fe,onClose:fe,onCalendarOpen:fe,onCalendarClose:fe,onChange:fe,onNavigate:fe,onBeforeNavigate:function(e){return e},onNavigateBack:fe,onNavigateForward:fe,dateFormat:!0,timeFormat:!0,utc:!1,className:"",input:!0,inputProps:{},timeConstraints:{},isValidDate:function(){return!0},strictParsing:!0,closeOnSelect:!1,closeOnTab:!0,closeOnClickOutside:!0,renderView:function(e,t){return t()}}),le(ge,"moment",s.a);var ye=function(e,t){var n,i,r=e.displayName||e.name||"Component";return i=n=function(n){var i,o;function s(e){var t;return(t=n.call(this,e)||this).__outsideClickHandler=function(e){if("function"!=typeof t.__clickOutsideHandlerProp){var n=t.getInstance();if("function"!=typeof n.props.handleClickOutside){if("function"!=typeof n.handleClickOutside)throw new Error("WrappedComponent: "+r+" lacks a handleClickOutside(event) function for processing outside click events.");n.handleClickOutside(e)}else n.props.handleClickOutside(e)}else t.__clickOutsideHandlerProp(e)},t.__getComponentNode=function(){var e=t.getInstance();return"function"==typeof e.setClickOutsideRef?e.setClickOutsideRef():Object(Y.findDOMNode)(e)},t.enableOnClickOutside=function(){if("undefined"!=typeof document&&!K[t._uid]){void 0===U&&(U=function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),e}}()),K[t._uid]=!0;var e=t.props.eventTypes;e.forEach||(e=[e]),q[t._uid]=function(e){var n;null!==t.componentNode&&(t.props.preventDefault&&e.preventDefault(),t.props.stopPropagation&&e.stopPropagation(),t.props.excludeScrollbar&&(n=e,document.documentElement.clientWidth<=n.clientX||document.documentElement.clientHeight<=n.clientY)||function(e,t,n){if(e===t)return!0;for(;e.parentNode||e.host;){if(e.parentNode&&V(e,t,n))return!0;e=e.parentNode||e.host}return e}(e.composed&&e.composedPath&&e.composedPath().shift()||e.target,t.componentNode,t.props.outsideClickIgnoreClass)===document&&t.__outsideClickHandler(e))},e.forEach((function(e){document.addEventListener(e,q[t._uid],Z(H(t),e))}))}},t.disableOnClickOutside=function(){delete K[t._uid];var e=q[t._uid];if(e&&"undefined"!=typeof document){var n=t.props.eventTypes;n.forEach||(n=[n]),n.forEach((function(n){return document.removeEventListener(n,e,Z(H(t),n))})),delete q[t._uid]}},t.getRef=function(e){return t.instanceRef=e},t._uid=$(),t}o=n,(i=s).prototype=Object.create(o.prototype),i.prototype.constructor=i,B(i,o);var l=s.prototype;return l.getInstance=function(){if(e.prototype&&!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},l.componentDidMount=function(){if("undefined"!=typeof document&&document.createElement){this.getInstance();t,this.componentNode=this.__getComponentNode(),this.props.disableOnClickOutside||this.enableOnClickOutside()}},l.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},l.componentWillUnmount=function(){this.disableOnClickOutside()},l.render=function(){var t=this.props;t.excludeScrollbar;var n=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,["excludeScrollbar"]);return e.prototype&&e.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,Object(a.createElement)(e,n)},s}(a.Component),n.displayName="OnClickOutside("+r+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:!1,outsideClickIgnoreClass:"ignore-react-onclickoutside",preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},i}(function(e){ie(n,e);var t=oe(n);function n(){var e;ee(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return le(se(e=t.call.apply(t,[this].concat(r))),"container",l.a.createRef()),e}return ne(n,[{key:"render",value:function(){return l.a.createElement("div",{className:this.props.className,ref:this.container},this.props.children)}},{key:"handleClickOutside",value:function(e){this.props.onClickOut(e)}},{key:"setClickOutsideRef",value:function(){return this.container.current}}]),n}(l.a.Component))}])},22551:function(e,t,n){"use strict";var i=n(96540),r=n(45228),o=n(69982);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(s(227));var a=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,f={},m={};function g(e,t,n,i,r,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){b[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];b[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){b[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){b[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){b[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){b[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){b[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){b[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){b[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function _(e,t,n,i){var r=b.hasOwnProperty(t)?b[t]:null;(null!==r?0===r.type:!i&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,i){if(null==t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!p.call(m,e)||!p.call(f,e)&&(h.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);b[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);b[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);b[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){b[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),b.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){b[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=60103,C=60106,E=60107,x=60108,S=60114,O=60109,T=60110,M=60112,P=60113,D=60120,L=60115,A=60116,z=60121,I=60128,R=60129,j=60130,N=60131;if("function"==typeof Symbol&&Symbol.for){var F=Symbol.for;k=F("react.element"),C=F("react.portal"),E=F("react.fragment"),x=F("react.strict_mode"),S=F("react.profiler"),O=F("react.provider"),T=F("react.context"),M=F("react.forward_ref"),P=F("react.suspense"),D=F("react.suspense_list"),L=F("react.memo"),A=F("react.lazy"),z=F("react.block"),F("react.scope"),I=F("react.opaque.id"),R=F("react.debug_trace_mode"),j=F("react.offscreen"),N=F("react.legacy_hidden")}var Y,B="function"==typeof Symbol&&Symbol.iterator;function H(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=B&&e[B]||e["@@iterator"])?e:null}function V(e){if(void 0===Y)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Y=t&&t[1]||""}return"\n"+Y+e}var W=!1;function U(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var i=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){i=e}e.call(t.prototype)}else{try{throw Error()}catch(e){i=e}e()}}catch(e){if(e&&i&&"string"==typeof e.stack){for(var r=e.stack.split("\n"),o=i.stack.split("\n"),s=r.length-1,a=o.length-1;1<=s&&0<=a&&r[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(r[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||r[s]!==o[a])return"\n"+r[s].replace(" at new "," at ")}while(1<=s&&0<=a);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function $(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return U(e.type,!1);case 11:return U(e.type.render,!1);case 22:return U(e.type._render,!1);case 1:return U(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case E:return"Fragment";case C:return"Portal";case S:return"Profiler";case x:return"StrictMode";case P:return"Suspense";case D:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case O:return(e._context.displayName||"Context")+".Provider";case M:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case L:return q(e.type);case z:return q(e._render);case A:t=e._payload,e=e._init;try{return q(e(t))}catch(e){}}return null}function K(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Z(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=G(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=K(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?re(e,t.type,n):t.hasOwnProperty("defaultValue")&&re(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ie(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function re(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=r({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function se(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ce(e,t){var n=K(t.value),i=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var fe,me,ge=(me=function(e,t){if(e.namespaceURI!==de.svg||"innerHTML"in e)e.innerHTML=t;else{for((fe=fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function be(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function _e(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=_e(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(ye).forEach((function(e){ve.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var ke=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ce(e,t){if(t){if(ke[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(s(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Oe=null,Te=null;function Me(e){if(e=nr(e)){if("function"!=typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=rr(t),Se(e.stateNode,e.type,t))}}function Pe(e){Oe?Te?Te.push(e):Te=[e]:Oe=e}function De(){if(Oe){var e=Oe,t=Te;if(Te=Oe=null,Me(e),t)for(e=0;e<t.length;e++)Me(t[e])}}function Le(e,t){return e(t)}function Ae(e,t,n,i,r){return e(t,n,i,r)}function ze(){}var Ie=Le,Re=!1,je=!1;function Ne(){null===Oe&&null===Te||(ze(),De())}function Fe(e,t){var n=e.stateNode;if(null===n)return null;var i=rr(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}var Ye=!1;if(d)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){Ye=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){Ye=!1}function He(e,t,n,i,r,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Ve=!1,We=null,Ue=!1,$e=null,qe={onError:function(e){Ve=!0,We=e}};function Ke(e,t,n,i,r,o,s,a,l){Ve=!1,We=null,He.apply(qe,arguments)}function Ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Je(e){if(Ge(e)!==e)throw Error(s(188))}function Xe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ge(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return Je(r),e;if(o===i)return Je(r),t;o=o.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=o;break}if(l===i){a=!0,i=r,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,i=r;break}if(l===i){a=!0,i=o,n=r;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Qe(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,it,rt=!1,ot=[],st=null,at=null,lt=null,ct=new Map,ut=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,i,r){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:r,targetContainers:[i]}}function ft(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":at=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ut.delete(t.pointerId)}}function mt(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,i,r,o),null!==t&&null!==(t=nr(t))&&tt(t),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function gt(e){var t=tr(e.target);if(null!==t){var n=Ge(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ze(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=nr(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){bt(e)&&n.delete(t)}function vt(){for(rt=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=nr(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&bt(st)&&(st=null),null!==at&&bt(at)&&(at=null),null!==lt&&bt(lt)&&(lt=null),ct.forEach(yt),ut.forEach(yt)}function _t(e,t){e.blockedOn===t&&(e.blockedOn=null,rt||(rt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,vt)))}function wt(e){function t(t){return _t(t,e)}if(0<ot.length){_t(ot[0],e);for(var n=1;n<ot.length;n++){var i=ot[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==st&&_t(st,e),null!==at&&_t(at,e),null!==lt&&_t(lt,e),ct.forEach(t),ut.forEach(t),n=0;n<dt.length;n++)(i=dt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)gt(n),null===n.blockedOn&&dt.shift()}function kt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ct={animationend:kt("Animation","AnimationEnd"),animationiteration:kt("Animation","AnimationIteration"),animationstart:kt("Animation","AnimationStart"),transitionend:kt("Transition","TransitionEnd")},Et={},xt={};function St(e){if(Et[e])return Et[e];if(!Ct[e])return e;var t,n=Ct[e];for(t in n)if(n.hasOwnProperty(t)&&t in xt)return Et[e]=n[t];return e}d&&(xt=document.createElement("div").style,"AnimationEvent"in window||(delete Ct.animationend.animation,delete Ct.animationiteration.animation,delete Ct.animationstart.animation),"TransitionEvent"in window||delete Ct.transitionend.transition);var Ot=St("animationend"),Tt=St("animationiteration"),Mt=St("animationstart"),Pt=St("transitionend"),Dt=new Map,Lt=new Map,At=["abort","abort",Ot,"animationEnd",Tt,"animationIteration",Mt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pt,"transitionEnd","waiting","waiting"];function zt(e,t){for(var n=0;n<e.length;n+=2){var i=e[n],r=e[n+1];r="on"+(r[0].toUpperCase()+r.slice(1)),Lt.set(i,t),Dt.set(i,r),c(r,[i])}}(0,o.unstable_now)();var It=8;function Rt(e){if(1&e)return It=15,1;if(2&e)return It=14,2;if(4&e)return It=13,4;var t=24&e;return 0!==t?(It=12,t):32&e?(It=11,32):0!=(t=192&e)?(It=10,t):256&e?(It=9,256):0!=(t=3584&e)?(It=8,t):4096&e?(It=7,4096):0!=(t=4186112&e)?(It=6,t):0!=(t=62914560&e)?(It=5,t):67108864&e?(It=4,67108864):134217728&e?(It=3,134217728):0!=(t=805306368&e)?(It=2,t):1073741824&e?(It=1,1073741824):(It=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return It=0;var i=0,r=0,o=e.expiredLanes,s=e.suspendedLanes,a=e.pingedLanes;if(0!==o)i=o,r=It=15;else if(0!=(o=134217727&n)){var l=o&~s;0!==l?(i=Rt(l),r=It):0!=(a&=o)&&(i=Rt(a),r=It)}else 0!=(o=n&~s)?(i=Rt(o),r=It):0!==a&&(i=Rt(a),r=It);if(0===i)return 0;if(i=n&((0>(i=31-Vt(i))?0:1<<i)<<1)-1,0!==t&&t!==i&&!(t&s)){if(Rt(t),r<=It)return t;It=r}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-Vt(t)),i|=e[n],t&=~r;return i}function Nt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ft(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Yt(24&~t))?Ft(10,t):e;case 10:return 0===(e=Yt(192&~t))?Ft(8,t):e;case 8:return 0===(e=Yt(3584&~t))&&0===(e=Yt(4186112&~t))&&(e=512),e;case 2:return 0===(t=Yt(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function Yt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ht(e,t,n){e.pendingLanes|=t;var i=t-1;e.suspendedLanes&=i,e.pingedLanes&=i,(e=e.eventTimes)[t=31-Vt(t)]=n}var Vt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Ut|0)|0},Wt=Math.log,Ut=Math.LN2,$t=o.unstable_UserBlockingPriority,qt=o.unstable_runWithPriority,Kt=!0;function Gt(e,t,n,i){Re||ze();var r=Jt,o=Re;Re=!0;try{Ae(r,e,t,n,i)}finally{(Re=o)||Ne()}}function Zt(e,t,n,i){qt($t,Jt.bind(null,e,t,n,i))}function Jt(e,t,n,i){var r;if(Kt)if((r=!(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,i),ot.push(e);else{var o=Xt(e,t,n,i);if(null===o)r&&ft(e,i);else{if(r){if(-1<ht.indexOf(e))return e=pt(o,e,t,n,i),void ot.push(e);if(function(e,t,n,i,r){switch(t){case"focusin":return st=mt(st,e,t,n,i,r),!0;case"dragenter":return at=mt(at,e,t,n,i,r),!0;case"mouseover":return lt=mt(lt,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return ct.set(o,mt(ct.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,ut.set(o,mt(ut.get(o)||null,e,t,n,i,r)),!0}return!1}(o,e,t,n,i))return;ft(e,i)}zi(e,t,i,null,n)}}}function Xt(e,t,n,i){var r=xe(i);if(null!==(r=tr(r))){var o=Ge(r);if(null===o)r=null;else{var s=o.tag;if(13===s){if(null!==(r=Ze(o)))return r;r=null}else if(3===s){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return zi(e,t,i,r,n),null}var Qt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,i=n.length,r="value"in Qt?Qt.value:Qt.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var s=i-e;for(t=1;t<=s&&n[i-t]===r[o-t];t++);return tn=r.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function an(e){function t(t,n,i,r,o){for(var s in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?on:sn,this.isPropagationStopped=sn,this}return r(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var ln,cn,un,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=an(dn),pn=r({},dn,{view:0,detail:0}),fn=an(pn),mn=r({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(ln=e.screenX-un.screenX,cn=e.screenY-un.screenY):cn=ln=0,un=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=an(mn),bn=an(r({},mn,{dataTransfer:0})),yn=an(r({},pn,{relatedTarget:0})),vn=an(r({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=r({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=an(_n),kn=an(r({},dn,{data:0})),Cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function On(){return Sn}var Tn=r({},pn,{key:function(e){if(e.key){var t=Cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Mn=an(Tn),Pn=an(r({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=an(r({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),Ln=an(r({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=r({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zn=an(An),In=[9,13,27,32],Rn=d&&"CompositionEvent"in window,jn=null;d&&"documentMode"in document&&(jn=document.documentMode);var Nn=d&&"TextEvent"in window&&!jn,Fn=d&&(!Rn||jn&&8<jn&&11>=jn),Yn=String.fromCharCode(32),Bn=!1;function Hn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1,Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function qn(e,t,n,i){Pe(i),0<(t=Ri(t,"onChange")).length&&(n=new hn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Zn(e){Ti(e,0)}function Jn(e){if(J(ir(e)))return e}function Xn(e,t){if("change"===e)return t}var Qn=!1;if(d){var ei;if(d){var ti="oninput"in document;if(!ti){var ni=document.createElement("div");ni.setAttribute("oninput","return;"),ti="function"==typeof ni.oninput}ei=ti}else ei=!1;Qn=ei&&(!document.documentMode||9<document.documentMode)}function ii(){Kn&&(Kn.detachEvent("onpropertychange",ri),Gn=Kn=null)}function ri(e){if("value"===e.propertyName&&Jn(Gn)){var t=[];if(qn(t,Gn,e,xe(e)),e=Zn,Re)e(t);else{Re=!0;try{Le(e,t)}finally{Re=!1,Ne()}}}}function oi(e,t,n){"focusin"===e?(ii(),Gn=n,(Kn=t).attachEvent("onpropertychange",ri)):"focusout"===e&&ii()}function si(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Gn)}function ai(e,t){if("click"===e)return Jn(t)}function li(e,t){if("input"===e||"change"===e)return Jn(t)}var ci="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ui=Object.prototype.hasOwnProperty;function di(e,t){if(ci(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!ui.call(t,n[i])||!ci(e[n[i]],t[n[i]]))return!1;return!0}function hi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pi(e,t){var n,i=hi(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=hi(i)}}function fi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mi(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function gi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var bi=d&&"documentMode"in document&&11>=document.documentMode,yi=null,vi=null,_i=null,wi=!1;function ki(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wi||null==yi||yi!==X(i)||(i="selectionStart"in(i=yi)&&gi(i)?{start:i.selectionStart,end:i.selectionEnd}:{anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},_i&&di(_i,i)||(_i=i,0<(i=Ri(vi,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=yi)))}zt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),zt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),zt(At,2);for(var Ci="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ei=0;Ei<Ci.length;Ei++)Lt.set(Ci[Ei],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Si=new Set("cancel close invalid load scroll toggle".split(" ").concat(xi));function Oi(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,o,a,l,c){if(Ke.apply(this,arguments),Ve){if(!Ve)throw Error(s(198));var u=We;Ve=!1,We=null,Ue||(Ue=!0,$e=u)}}(i,t,void 0,e),e.currentTarget=null}function Ti(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&r.isPropagationStopped())break e;Oi(r,a,c),o=l}else for(s=0;s<i.length;s++){if(l=(a=i[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&r.isPropagationStopped())break e;Oi(r,a,c),o=l}}}if(Ue)throw e=$e,Ue=!1,$e=null,e}function Mi(e,t){var n=or(t),i=e+"__bubble";n.has(i)||(Ai(t,e,2,!1),n.add(i))}var Pi="_reactListening"+Math.random().toString(36).slice(2);function Di(e){e[Pi]||(e[Pi]=!0,a.forEach((function(t){Si.has(t)||Li(t,!1,e,null),Li(t,!0,e,null)})))}function Li(e,t,n,i){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==i&&!t&&Si.has(e)){if("scroll"!==e)return;r|=2,o=i}var s=or(o),a=e+"__"+(t?"capture":"bubble");s.has(a)||(t&&(r|=4),Ai(o,e,r,t),s.add(a))}function Ai(e,t,n,i){var r=Lt.get(t);switch(void 0===r?2:r){case 0:r=Gt;break;case 1:r=Zt;break;default:r=Jt}n=r.bind(null,t,n,e),r=void 0,!Ye||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function zi(e,t,n,i,r){var o=i;if(!(1&t||2&t||null===i))e:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===s)for(s=i.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;s=s.return}for(;null!==a;){if(null===(s=tr(a)))return;if(5===(l=s.tag)||6===l){i=o=s;continue e}a=a.parentNode}}i=i.return}!function(e,t,n){if(je)return e();je=!0;try{return Ie(e,t,n)}finally{je=!1,Ne()}}((function(){var i=o,r=xe(n),s=[];e:{var a=Dt.get(e);if(void 0!==a){var l=hn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":l=Mn;break;case"focusin":c="focus",l=yn;break;case"focusout":c="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=bn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Dn;break;case Ot:case Tt:case Mt:l=vn;break;case Pt:l=Ln;break;case"scroll":l=fn;break;case"wheel":l=zn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pn}var u=!!(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var p,f=i;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&null!=(m=Fe(f,h))&&u.push(Ii(f,m,p))),d)break;f=f.return}0<u.length&&(a=new l(a,c,null,n,r),s.push({event:a,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||16&t||!(c=n.relatedTarget||n.fromElement)||!tr(c)&&!c[Qi])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?tr(c):null)&&(c!==(d=Ge(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=gn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Pn,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?a:ir(l),p=null==c?a:ir(c),(a=new u(m,f+"leave",l,n,r)).target=d,a.relatedTarget=p,m=null,tr(r)===i&&((u=new u(h,f+"enter",c,n,r)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=ji(p))f++;for(p=0,m=h;m;m=ji(m))p++;for(;0<f-p;)u=ji(u),f--;for(;0<p-f;)h=ji(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=ji(u),h=ji(h)}u=null}else u=null;null!==l&&Ni(s,a,l,u,!1),null!==c&&null!==d&&Ni(s,d,c,u,!0)}if("select"===(l=(a=i?ir(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Xn;else if($n(a))if(Qn)g=li;else{g=si;var b=oi}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ai);switch(g&&(g=g(e,i))?qn(s,g,n,r):(b&&b(e,a,i),"focusout"===e&&(b=a._wrapperState)&&b.controlled&&"number"===a.type&&re(a,"number",a.value)),b=i?ir(i):window,e){case"focusin":($n(b)||"true"===b.contentEditable)&&(yi=b,vi=i,_i=null);break;case"focusout":_i=vi=yi=null;break;case"mousedown":wi=!0;break;case"contextmenu":case"mouseup":case"dragend":wi=!1,ki(s,n,r);break;case"selectionchange":if(bi)break;case"keydown":case"keyup":ki(s,n,r)}var y;if(Rn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Wn?Hn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Fn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Wn&&(y=nn()):(en="value"in(Qt=r)?Qt.value:Qt.textContent,Wn=!0)),0<(b=Ri(i,v)).length&&(v=new kn(v,e,null,n,r),s.push({event:v,listeners:b}),(y||null!==(y=Vn(n)))&&(v.data=y))),(y=Nn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Yn);case"textInput":return(e=t.data)===Yn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Rn&&Hn(e,t)?(e=nn(),tn=en=Qt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(i=Ri(i,"onBeforeInput")).length&&(r=new kn("onBeforeInput","beforeinput",null,n,r),s.push({event:r,listeners:i}),r.data=y)}Ti(s,t)}))}function Ii(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ri(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=Fe(e,n))&&i.unshift(Ii(e,o,r)),null!=(o=Fe(e,t))&&i.push(Ii(e,o,r))),e=e.return}return i}function ji(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ni(e,t,n,i,r){for(var o=t._reactName,s=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==c&&(a=c,r?null!=(l=Fe(n,o))&&s.unshift(Ii(n,l,a)):r||null!=(l=Fe(n,o))&&s.push(Ii(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}function Fi(){}var Yi=null,Bi=null;function Hi(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Vi(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wi="function"==typeof setTimeout?setTimeout:void 0,Ui="function"==typeof clearTimeout?clearTimeout:void 0;function $i(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function qi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Ki(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Gi=0,Zi=Math.random().toString(36).slice(2),Ji="__reactFiber$"+Zi,Xi="__reactProps$"+Zi,Qi="__reactContainer$"+Zi,er="__reactEvents$"+Zi;function tr(e){var t=e[Ji];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qi]||n[Ji]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ki(e);null!==e;){if(n=e[Ji])return n;e=Ki(e)}return t}n=(e=n).parentNode}return null}function nr(e){return!(e=e[Ji]||e[Qi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ir(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function rr(e){return e[Xi]||null}function or(e){var t=e[er];return void 0===t&&(t=e[er]=new Set),t}var sr=[],ar=-1;function lr(e){return{current:e}}function cr(e){0>ar||(e.current=sr[ar],sr[ar]=null,ar--)}function ur(e,t){ar++,sr[ar]=e.current,e.current=t}var dr={},hr=lr(dr),pr=lr(!1),fr=dr;function mr(e,t){var n=e.type.contextTypes;if(!n)return dr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gr(e){return null!=e.childContextTypes}function br(){cr(pr),cr(hr)}function yr(e,t,n){if(hr.current!==dr)throw Error(s(168));ur(hr,t),ur(pr,n)}function vr(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in e))throw Error(s(108,q(t)||"Unknown",o));return r({},n,i)}function _r(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dr,fr=hr.current,ur(hr,e),ur(pr,pr.current),!0}function wr(e,t,n){var i=e.stateNode;if(!i)throw Error(s(169));n?(e=vr(e,t,fr),i.__reactInternalMemoizedMergedChildContext=e,cr(pr),cr(hr),ur(hr,e)):cr(pr),ur(pr,n)}var kr=null,Cr=null,Er=o.unstable_runWithPriority,xr=o.unstable_scheduleCallback,Sr=o.unstable_cancelCallback,Or=o.unstable_shouldYield,Tr=o.unstable_requestPaint,Mr=o.unstable_now,Pr=o.unstable_getCurrentPriorityLevel,Dr=o.unstable_ImmediatePriority,Lr=o.unstable_UserBlockingPriority,Ar=o.unstable_NormalPriority,zr=o.unstable_LowPriority,Ir=o.unstable_IdlePriority,Rr={},jr=void 0!==Tr?Tr:function(){},Nr=null,Fr=null,Yr=!1,Br=Mr(),Hr=1e4>Br?Mr:function(){return Mr()-Br};function Vr(){switch(Pr()){case Dr:return 99;case Lr:return 98;case Ar:return 97;case zr:return 96;case Ir:return 95;default:throw Error(s(332))}}function Wr(e){switch(e){case 99:return Dr;case 98:return Lr;case 97:return Ar;case 96:return zr;case 95:return Ir;default:throw Error(s(332))}}function Ur(e,t){return e=Wr(e),Er(e,t)}function $r(e,t,n){return e=Wr(e),xr(e,t,n)}function qr(){if(null!==Fr){var e=Fr;Fr=null,Sr(e)}Kr()}function Kr(){if(!Yr&&null!==Nr){Yr=!0;var e=0;try{var t=Nr;Ur(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Nr=null}catch(t){throw null!==Nr&&(Nr=Nr.slice(e+1)),xr(Dr,qr),t}finally{Yr=!1}}}var Gr=w.ReactCurrentBatchConfig;function Zr(e,t){if(e&&e.defaultProps){for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Jr=lr(null),Xr=null,Qr=null,eo=null;function to(){eo=Qr=Xr=null}function no(e){var t=Jr.current;cr(Jr),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ro(e,t){Xr=e,eo=Qr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(Rs=!0),e.firstContext=null)}function oo(e,t){if(eo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(eo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Qr){if(null===Xr)throw Error(s(308));Qr=t,Xr.dependencies={lanes:0,firstContext:t,responders:null}}else Qr=Qr.next=t;return e._currentValue}var so=!1;function ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function uo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,i){var o=e.updateQueue;so=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var c=l,u=c.next;c.next=null,null===a?s=u:a.next=u,a=c;var d=e.alternate;if(null!==d){var h=(d=d.updateQueue).lastBaseUpdate;h!==a&&(null===h?d.firstBaseUpdate=u:h.next=u,d.lastBaseUpdate=c)}}if(null!==s){for(h=o.baseState,a=0,d=u=c=null;;){l=s.lane;var p=s.eventTime;if((i&l)===l){null!==d&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(l=t,p=n,m.tag){case 1:if("function"==typeof(f=m.payload)){h=f.call(p,h,l);break e}h=f;break e;case 3:f.flags=-4097&f.flags|64;case 0:if(null==(l="function"==typeof(f=m.payload)?f.call(p,h,l):f))break e;h=r({},h,l);break e;case 2:so=!0}}null!==s.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[s]:l.push(s))}else p={eventTime:p,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(u=d=p,c=h):d=d.next=p,a|=l;if(null===(s=s.next)){if(null===(l=o.shared.pending))break;s=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===d&&(c=h),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=d,Fa|=a,e.lanes=a,e.memoizedState=h}}function fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!=typeof r)throw Error(s(191,r));r.call(i)}}}var mo=(new i.Component).refs;function go(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:r({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var bo={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ul(),r=dl(e),o=co(i,r);o.payload=t,null!=n&&(o.callback=n),uo(e,o),hl(e,r,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ul(),r=dl(e),o=co(i,r);o.tag=1,o.payload=t,null!=n&&(o.callback=n),uo(e,o),hl(e,r,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ul(),i=dl(e),r=co(n,i);r.tag=2,null!=t&&(r.callback=t),uo(e,r),hl(e,i,n)}};function yo(e,t,n,i,r,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,s):!(t.prototype&&t.prototype.isPureReactComponent&&di(n,i)&&di(r,o))}function vo(e,t,n){var i=!1,r=dr,o=t.contextType;return"object"==typeof o&&null!==o?o=oo(o):(r=gr(t)?fr:hr.current,o=(i=null!=(i=t.contextTypes))?mr(e,r):dr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=bo,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function _o(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&bo.enqueueReplaceState(t,t.state,null)}function wo(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=mo,ao(e);var o=t.contextType;"object"==typeof o&&null!==o?r.context=oo(o):(o=gr(t)?fr:hr.current,r.context=mr(e,o)),po(e,n,r,i),r.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&bo.enqueueReplaceState(r,r.state,null),po(e,n,r,i),r.state=e.memoizedState),"function"==typeof r.componentDidMount&&(e.flags|=4)}var ko=Array.isArray;function Co(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,e));var r=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=i.refs;t===mo&&(t=i.refs={}),null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!=typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Eo(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function xo(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Wl(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags=2,n):i:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Kl(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){return null!==t&&t.elementType===n.type?((i=r(t,n.props)).ref=Co(e,t,n),i.return=e,i):((i=Ul(n.type,n.key,n.props,null,e.mode,i)).ref=Co(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gl(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,o){return null===t||7!==t.tag?((t=$l(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Kl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Ul(t.type,t.key,t.props,null,e.mode,n)).ref=Co(e,null,t),n.return=e,n;case C:return(t=Gl(t,e.mode,n)).return=e,t}if(ko(t)||H(t))return(t=$l(t,e.mode,n,null)).return=e,t;Eo(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==r?null:l(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===r?n.type===E?d(e,t,n.props.children,i,r):c(e,t,n,i):null;case C:return n.key===r?u(e,t,n,i):null}if(ko(n)||H(n))return null!==r?null:d(e,t,n,i,null);Eo(e,n)}return null}function f(e,t,n,i,r){if("string"==typeof i||"number"==typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case k:return e=e.get(null===i.key?n:i.key)||null,i.type===E?d(t,e,i.props.children,r,i.key):c(t,e,i,r);case C:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r)}if(ko(i)||H(i))return d(t,e=e.get(n)||null,i,r,null);Eo(t,i)}return null}function m(r,s,a,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var b=p(r,d,a[m],l);if(null===b){null===d&&(d=g);break}e&&d&&null===b.alternate&&t(r,d),s=o(b,s,m),null===u?c=b:u.sibling=b,u=b,d=g}if(m===a.length)return n(r,d),c;if(null===d){for(;m<a.length;m++)null!==(d=h(r,a[m],l))&&(s=o(d,s,m),null===u?c=d:u.sibling=d,u=d);return c}for(d=i(r,d);m<a.length;m++)null!==(g=f(d,r,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(r,e)})),c}function g(r,a,l,c){var u=H(l);if("function"!=typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=a,g=a=0,b=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(b=m,m=null):b=m.sibling;var v=p(r,m,y.value,c);if(null===v){null===m&&(m=b);break}e&&m&&null===v.alternate&&t(r,m),a=o(v,a,g),null===d?u=v:d.sibling=v,d=v,m=b}if(y.done)return n(r,m),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(r,y.value,c))&&(a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return u}for(m=i(r,m);!y.done;g++,y=l.next())null!==(y=f(m,r,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(r,e)})),u}return function(e,i,o,l){var c="object"==typeof o&&null!==o&&o.type===E&&null===o.key;c&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case k:e:{for(u=o.key,c=i;null!==c;){if(c.key===u){if(7===c.tag){if(o.type===E){n(e,c.sibling),(i=r(c,o.props.children)).return=e,e=i;break e}}else if(c.elementType===o.type){n(e,c.sibling),(i=r(c,o.props)).ref=Co(e,c,o),i.return=e,e=i;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===E?((i=$l(o.props.children,e.mode,l,o.key)).return=e,e=i):((l=Ul(o.type,o.key,o.props,null,e.mode,l)).ref=Co(e,i,o),l.return=e,e=l)}return a(e);case C:e:{for(c=o.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(e,i.sibling),(i=r(i,o.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=Gl(o,e.mode,l)).return=e,e=i}return a(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==i&&6===i.tag?(n(e,i.sibling),(i=r(i,o)).return=e,e=i):(n(e,i),(i=Kl(o,e.mode,l)).return=e,e=i),a(e);if(ko(o))return m(e,i,o,l);if(H(o))return g(e,i,o,l);if(u&&Eo(e,o),void 0===o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,q(e.type)||"Component"))}return n(e,i)}}var So=xo(!0),Oo=xo(!1),To={},Mo=lr(To),Po=lr(To),Do=lr(To);function Lo(e){if(e===To)throw Error(s(174));return e}function Ao(e,t){switch(ur(Do,t),ur(Po,e),ur(Mo,To),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}cr(Mo),ur(Mo,t)}function zo(){cr(Mo),cr(Po),cr(Do)}function Io(e){Lo(Do.current);var t=Lo(Mo.current),n=pe(t,e.type);t!==n&&(ur(Po,e),ur(Mo,n))}function Ro(e){Po.current===e&&(cr(Mo),cr(Po))}var jo=lr(0);function No(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(64&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fo=null,Yo=null,Bo=!1;function Ho(e,t){var n=Hl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Vo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wo(e){if(Bo){var t=Yo;if(t){var n=t;if(!Vo(e,t)){if(!(t=qi(n.nextSibling))||!Vo(e,t))return e.flags=-1025&e.flags|2,Bo=!1,void(Fo=e);Ho(Fo,n)}Fo=e,Yo=qi(t.firstChild)}else e.flags=-1025&e.flags|2,Bo=!1,Fo=e}}function Uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Fo=e}function $o(e){if(e!==Fo)return!1;if(!Bo)return Uo(e),Bo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Vi(t,e.memoizedProps))for(t=Yo;t;)Ho(e,t),t=qi(t.nextSibling);if(Uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Yo=qi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Yo=null}}else Yo=Fo?qi(e.stateNode.nextSibling):null;return!0}function qo(){Yo=Fo=null,Bo=!1}var Ko=[];function Go(){for(var e=0;e<Ko.length;e++)Ko[e]._workInProgressVersionPrimary=null;Ko.length=0}var Zo=w.ReactCurrentDispatcher,Jo=w.ReactCurrentBatchConfig,Xo=0,Qo=null,es=null,ts=null,ns=!1,is=!1;function rs(){throw Error(s(321))}function os(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ci(e[n],t[n]))return!1;return!0}function ss(e,t,n,i,r,o){if(Xo=o,Qo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zo.current=null===e||null===e.memoizedState?Ls:As,e=n(i,r),is){o=0;do{if(is=!1,!(25>o))throw Error(s(301));o+=1,ts=es=null,t.updateQueue=null,Zo.current=zs,e=n(i,r)}while(is)}if(Zo.current=Ds,t=null!==es&&null!==es.next,Xo=0,ts=es=Qo=null,ns=!1,t)throw Error(s(300));return e}function as(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ts?Qo.memoizedState=ts=e:ts=ts.next=e,ts}function ls(){if(null===es){var e=Qo.alternate;e=null!==e?e.memoizedState:null}else e=es.next;var t=null===ts?Qo.memoizedState:ts.next;if(null!==t)ts=t,es=e;else{if(null===e)throw Error(s(310));e={memoizedState:(es=e).memoizedState,baseState:es.baseState,baseQueue:es.baseQueue,queue:es.queue,next:null},null===ts?Qo.memoizedState=ts=e:ts=ts.next=e}return ts}function cs(e,t){return"function"==typeof t?t(e):t}function us(e){var t=ls(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=es,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(null!==r){r=r.next,i=i.baseState;var l=a=o=null,c=r;do{var u=c.lane;if((Xo&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),i=c.eagerReducer===e?c.eagerState:e(i,c.action);else{var d={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(a=l=d,o=i):l=l.next=d,Qo.lanes|=u,Fa|=u}c=c.next}while(null!==c&&c!==r);null===l?o=i:l.next=a,ci(i,t.memoizedState)||(Rs=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=l,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function ds(e){var t=ls(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{o=e(o,a.action),a=a.next}while(a!==r);ci(o,t.memoizedState)||(Rs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function hs(e,t,n){var i=t._getVersion;i=i(t._source);var r=t._workInProgressVersionPrimary;if(null!==r?e=r===i:(e=e.mutableReadLanes,(e=(Xo&e)===e)&&(t._workInProgressVersionPrimary=i,Ko.push(t))),e)return n(t._source);throw Ko.push(t),Error(s(350))}function ps(e,t,n,i){var r=Da;if(null===r)throw Error(s(349));var o=t._getVersion,a=o(t._source),l=Zo.current,c=l.useState((function(){return hs(r,t,n)})),u=c[1],d=c[0];c=ts;var h=e.memoizedState,p=h.refs,f=p.getSnapshot,m=h.source;h=h.subscribe;var g=Qo;return e.memoizedState={refs:p,source:t,subscribe:i},l.useEffect((function(){p.getSnapshot=n,p.setSnapshot=u;var e=o(t._source);if(!ci(a,e)){e=n(t._source),ci(d,e)||(u(e),e=dl(g),r.mutableReadLanes|=e&r.pendingLanes),e=r.mutableReadLanes,r.entangledLanes|=e;for(var i=r.entanglements,s=e;0<s;){var l=31-Vt(s),c=1<<l;i[l]|=e,s&=~c}}}),[n,t,i]),l.useEffect((function(){return i(t._source,(function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var i=dl(g);r.mutableReadLanes|=i&r.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,i]),ci(f,n)&&ci(m,t)&&ci(h,i)||((e={pending:null,dispatch:null,lastRenderedReducer:cs,lastRenderedState:d}).dispatch=u=Ps.bind(null,Qo,e),c.queue=e,c.baseQueue=null,d=hs(r,t,n),c.memoizedState=c.baseState=d),d}function fs(e,t,n){return ps(ls(),e,t,n)}function ms(e){var t=as();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:cs,lastRenderedState:e}).dispatch=Ps.bind(null,Qo,e),[t.memoizedState,e]}function gs(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=Qo.updateQueue)?(t={lastEffect:null},Qo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function bs(e){return e={current:e},as().memoizedState=e}function ys(){return ls().memoizedState}function vs(e,t,n,i){var r=as();Qo.flags|=e,r.memoizedState=gs(1|t,n,void 0,void 0===i?null:i)}function _s(e,t,n,i){var r=ls();i=void 0===i?null:i;var o=void 0;if(null!==es){var s=es.memoizedState;if(o=s.destroy,null!==i&&os(i,s.deps))return void gs(t,n,o,i)}Qo.flags|=e,r.memoizedState=gs(1|t,n,o,i)}function ws(e,t){return vs(516,4,e,t)}function ks(e,t){return _s(516,4,e,t)}function Cs(e,t){return _s(4,2,e,t)}function Es(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function xs(e,t,n){return n=null!=n?n.concat([e]):null,_s(4,2,Es.bind(null,t,e),n)}function Ss(){}function Os(e,t){var n=ls();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&os(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Ts(e,t){var n=ls();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&os(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Ms(e,t){var n=Vr();Ur(98>n?98:n,(function(){e(!0)})),Ur(97<n?97:n,(function(){var n=Jo.transition;Jo.transition=1;try{e(!1),t()}finally{Jo.transition=n}}))}function Ps(e,t,n){var i=ul(),r=dl(e),o={lane:r,action:n,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(null===s?o.next=o:(o.next=s.next,s.next=o),t.pending=o,s=e.alternate,e===Qo||null!==s&&s===Qo)is=ns=!0;else{if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=s(a,n);if(o.eagerReducer=s,o.eagerState=l,ci(l,a))return}catch(e){}hl(e,r,i)}}var Ds={readContext:oo,useCallback:rs,useContext:rs,useEffect:rs,useImperativeHandle:rs,useLayoutEffect:rs,useMemo:rs,useReducer:rs,useRef:rs,useState:rs,useDebugValue:rs,useDeferredValue:rs,useTransition:rs,useMutableSource:rs,useOpaqueIdentifier:rs,unstable_isNewReconciler:!1},Ls={readContext:oo,useCallback:function(e,t){return as().memoizedState=[e,void 0===t?null:t],e},useContext:oo,useEffect:ws,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,vs(4,2,Es.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vs(4,2,e,t)},useMemo:function(e,t){var n=as();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=as();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ps.bind(null,Qo,e),[i.memoizedState,e]},useRef:bs,useState:ms,useDebugValue:Ss,useDeferredValue:function(e){var t=ms(e),n=t[0],i=t[1];return ws((function(){var t=Jo.transition;Jo.transition=1;try{i(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ms(!1),t=e[0];return bs(e=Ms.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var i=as();return i.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ps(i,e,t,n)},useOpaqueIdentifier:function(){if(Bo){var e=!1,t=function(e){return{$$typeof:I,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Gi++).toString(36))),Error(s(355))})),n=ms(t)[1];return!(2&Qo.mode)&&(Qo.flags|=516,gs(5,(function(){n("r:"+(Gi++).toString(36))}),void 0,null)),t}return ms(t="r:"+(Gi++).toString(36)),t},unstable_isNewReconciler:!1},As={readContext:oo,useCallback:Os,useContext:oo,useEffect:ks,useImperativeHandle:xs,useLayoutEffect:Cs,useMemo:Ts,useReducer:us,useRef:ys,useState:function(){return us(cs)},useDebugValue:Ss,useDeferredValue:function(e){var t=us(cs),n=t[0],i=t[1];return ks((function(){var t=Jo.transition;Jo.transition=1;try{i(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=us(cs)[0];return[ys().current,e]},useMutableSource:fs,useOpaqueIdentifier:function(){return us(cs)[0]},unstable_isNewReconciler:!1},zs={readContext:oo,useCallback:Os,useContext:oo,useEffect:ks,useImperativeHandle:xs,useLayoutEffect:Cs,useMemo:Ts,useReducer:ds,useRef:ys,useState:function(){return ds(cs)},useDebugValue:Ss,useDeferredValue:function(e){var t=ds(cs),n=t[0],i=t[1];return ks((function(){var t=Jo.transition;Jo.transition=1;try{i(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ds(cs)[0];return[ys().current,e]},useMutableSource:fs,useOpaqueIdentifier:function(){return ds(cs)[0]},unstable_isNewReconciler:!1},Is=w.ReactCurrentOwner,Rs=!1;function js(e,t,n,i){t.child=null===e?Oo(t,null,n,i):So(t,e.child,n,i)}function Ns(e,t,n,i,r){n=n.render;var o=t.ref;return ro(t,r),i=ss(e,t,n,i,o,r),null===e||Rs?(t.flags|=1,js(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~r,ia(e,t,r))}function Fs(e,t,n,i,r,o){if(null===e){var s=n.type;return"function"!=typeof s||Vl(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ul(n.type,null,i,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ys(e,t,s,i,r,o))}return s=e.child,r&o||(r=s.memoizedProps,!(n=null!==(n=n.compare)?n:di)(r,i)||e.ref!==t.ref)?(t.flags|=1,(e=Wl(s,i)).ref=t.ref,e.return=t,t.child=e):ia(e,t,o)}function Ys(e,t,n,i,r,o){if(null!==e&&di(e.memoizedProps,i)&&e.ref===t.ref){if(Rs=!1,!(o&r))return t.lanes=e.lanes,ia(e,t,o);16384&e.flags&&(Rs=!0)}return Vs(e,t,n,i,o)}function Bs(e,t,n){var i=t.pendingProps,r=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode||"unstable-defer-without-hiding"===i.mode)if(4&t.mode){if(!(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},_l(0,e),null;t.memoizedState={baseLanes:0},_l(0,null!==o?o.baseLanes:n)}else t.memoizedState={baseLanes:0},_l(0,n);else null!==o?(i=o.baseLanes|n,t.memoizedState=null):i=n,_l(0,i);return js(e,t,r,n),t.child}function Hs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Vs(e,t,n,i,r){var o=gr(n)?fr:hr.current;return o=mr(t,o),ro(t,r),n=ss(e,t,n,i,o,r),null===e||Rs?(t.flags|=1,js(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~r,ia(e,t,r))}function Ws(e,t,n,i,r){if(gr(n)){var o=!0;_r(t)}else o=!1;if(ro(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),vo(t,n,i),wo(t,n,i,r),i=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;c="object"==typeof c&&null!==c?oo(c):mr(t,c=gr(n)?fr:hr.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==i||l!==c)&&_o(t,s,i,c),so=!1;var h=t.memoizedState;s.state=h,po(t,i,s,r),l=t.memoizedState,a!==i||h!==l||pr.current||so?("function"==typeof u&&(go(t,n,u,i),l=t.memoizedState),(a=so||yo(t,n,a,i,h,l,c))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4)):("function"==typeof s.componentDidMount&&(t.flags|=4),t.memoizedProps=i,t.memoizedState=l),s.props=i,s.state=l,s.context=c,i=a):("function"==typeof s.componentDidMount&&(t.flags|=4),i=!1)}else{s=t.stateNode,lo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Zr(t.type,a),s.props=c,d=t.pendingProps,h=s.context,l="object"==typeof(l=n.contextType)&&null!==l?oo(l):mr(t,l=gr(n)?fr:hr.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==d||h!==l)&&_o(t,s,i,l),so=!1,h=t.memoizedState,s.state=h,po(t,i,s,r);var f=t.memoizedState;a!==d||h!==f||pr.current||so?("function"==typeof p&&(go(t,n,p,i),f=t.memoizedState),(c=so||yo(t,n,c,i,h,f,l))?(u||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(i,f,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,f,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=i,t.memoizedState=f),s.props=i,s.state=f,s.context=l,i=c):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),i=!1)}return Us(e,t,n,i,o,r)}function Us(e,t,n,i,r,o){Hs(e,t);var s=!!(64&t.flags);if(!i&&!s)return r&&wr(t,n,!1),ia(e,t,o);i=t.stateNode,Is.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&s?(t.child=So(t,e.child,null,o),t.child=So(t,null,a,o)):js(e,t,a,o),t.memoizedState=i.state,r&&wr(t,n,!0),t.child}function $s(e){var t=e.stateNode;t.pendingContext?yr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yr(0,t.context,!1),Ao(e,t.containerInfo)}var qs,Ks,Gs,Zs,Js={dehydrated:null,retryLane:0};function Xs(e,t,n){var i,r=t.pendingProps,o=jo.current,s=!1;return(i=!!(64&t.flags))||(i=(null===e||null!==e.memoizedState)&&!!(2&o)),i?(s=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===r.fallback||!0===r.unstable_avoidThisFallback||(o|=1),ur(jo,1&o),null===e?(void 0!==r.fallback&&Wo(t),e=r.children,o=r.fallback,s?(e=Qs(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Js,e):"number"==typeof r.unstable_expectedLoadTime?(e=Qs(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Js,t.lanes=33554432,e):((n=ql({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,s?(r=function(e,t,n,i,r){var o=t.mode,s=e.child;e=s.sibling;var a={mode:"hidden",children:n};return 2&o||t.child===s?n=Wl(s,a):((n=t.child).childLanes=0,n.pendingProps=a,null!==(s=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null),null!==e?i=Wl(e,i):(i=$l(i,o,r,null)).flags|=2,i.return=t,n.return=t,n.sibling=i,t.child=n,i}(e,t,r.children,r.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=Js,r):(n=function(e,t,n,i){var r=e.child;return e=r.sibling,n=Wl(r,{mode:"visible",children:n}),!(2&t.mode)&&(n.lanes=i),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,r.children,n),t.memoizedState=null,n))}function Qs(e,t,n,i){var r=e.mode,o=e.child;return t={mode:"hidden",children:t},2&r||null===o?o=ql(t,r,0,null):(o.childLanes=0,o.pendingProps=t),n=$l(n,r,i,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function ea(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function ta(e,t,n,i,r,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r,s.lastEffect=o)}function na(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(js(e,t,i.children,n),2&(i=jo.current))i=1&i|2,t.flags|=64;else{if(null!==e&&64&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ea(e,n);else if(19===e.tag)ea(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(ur(jo,i),2&t.mode)switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===No(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),ta(t,!1,r,n,o,t.lastEffect);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===No(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}ta(t,!0,n,null,o,t.lastEffect);break;case"together":ta(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function ia(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fa|=t.lanes,n&t.childLanes){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Wl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ra(e,t){if(!Bo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function oa(e,t,n){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gr(t.type)&&br(),null;case 3:return zo(),cr(pr),cr(hr),Go(),(i=t.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||($o(t)?t.flags|=4:i.hydrate||(t.flags|=256)),Ks(t),null;case 5:Ro(t);var o=Lo(Do.current);if(n=t.type,null!==e&&null!=t.stateNode)Gs(e,t,n,i,o),e.ref!==t.ref&&(t.flags|=128);else{if(!i){if(null===t.stateNode)throw Error(s(166));return null}if(e=Lo(Mo.current),$o(t)){i=t.stateNode,n=t.type;var a=t.memoizedProps;switch(i[Ji]=t,i[Xi]=a,n){case"dialog":Mi("cancel",i),Mi("close",i);break;case"iframe":case"object":case"embed":Mi("load",i);break;case"video":case"audio":for(e=0;e<xi.length;e++)Mi(xi[e],i);break;case"source":Mi("error",i);break;case"img":case"image":case"link":Mi("error",i),Mi("load",i);break;case"details":Mi("toggle",i);break;case"input":ee(i,a),Mi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Mi("invalid",i);break;case"textarea":le(i,a),Mi("invalid",i)}for(var c in Ce(n,a),e=null,a)a.hasOwnProperty(c)&&(o=a[c],"children"===c?"string"==typeof o?i.textContent!==o&&(e=["children",o]):"number"==typeof o&&i.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Mi("scroll",i));switch(n){case"input":Z(i),ie(i,a,!0);break;case"textarea":Z(i),ue(i);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(i.onclick=Fi)}i=e,t.updateQueue=i,null!==i&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===de.html&&(e=he(n)),e===de.html?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=c.createElement(n,{is:i.is}):(e=c.createElement(n),"select"===n&&(c=e,i.multiple?c.multiple=!0:i.size&&(c.size=i.size))):e=c.createElementNS(e,n),e[Ji]=t,e[Xi]=i,qs(e,t,!1,!1),t.stateNode=e,c=Ee(n,i),n){case"dialog":Mi("cancel",e),Mi("close",e),o=i;break;case"iframe":case"object":case"embed":Mi("load",e),o=i;break;case"video":case"audio":for(o=0;o<xi.length;o++)Mi(xi[o],e);o=i;break;case"source":Mi("error",e),o=i;break;case"img":case"image":case"link":Mi("error",e),Mi("load",e),o=i;break;case"details":Mi("toggle",e),o=i;break;case"input":ee(e,i),o=Q(e,i),Mi("invalid",e);break;case"option":o=oe(e,i);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=r({},i,{value:void 0}),Mi("invalid",e);break;case"textarea":le(e,i),o=ae(e,i),Mi("invalid",e);break;default:o=i}Ce(n,o);var u=o;for(a in u)if(u.hasOwnProperty(a)){var d=u[a];"style"===a?we(e,d):"dangerouslySetInnerHTML"===a?null!=(d=d?d.__html:void 0)&&ge(e,d):"children"===a?"string"==typeof d?("textarea"!==n||""!==d)&&be(e,d):"number"==typeof d&&be(e,""+d):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=d&&"onScroll"===a&&Mi("scroll",e):null!=d&&_(e,a,d,c))}switch(n){case"input":Z(e),ie(e,i,!1);break;case"textarea":Z(e),ue(e);break;case"option":null!=i.value&&e.setAttribute("value",""+K(i.value));break;case"select":e.multiple=!!i.multiple,null!=(a=i.value)?se(e,!!i.multiple,a,!1):null!=i.defaultValue&&se(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Fi)}Hi(n,i)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Zs(e,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(s(166));n=Lo(Do.current),Lo(Mo.current),$o(t)?(i=t.stateNode,n=t.memoizedProps,i[Ji]=t,i.nodeValue!==n&&(t.flags|=4)):((i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[Ji]=t,t.stateNode=i)}return null;case 13:return cr(jo),i=t.memoizedState,64&t.flags?(t.lanes=n,t):(i=null!==i,n=!1,null===e?void 0!==t.memoizedProps.fallback&&$o(t):n=null!==e.memoizedState,i&&!n&&2&t.mode&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||1&jo.current?0===Ra&&(Ra=3):(0!==Ra&&3!==Ra||(Ra=4),null===Da||!(134217727&Fa)&&!(134217727&Ya)||gl(Da,Aa))),(i||n)&&(t.flags|=4),null);case 4:return zo(),Ks(t),null===e&&Di(t.stateNode.containerInfo),null;case 10:return no(t),null;case 19:if(cr(jo),null===(i=t.memoizedState))return null;if(a=!!(64&t.flags),null===(c=i.rendering))if(a)ra(i,!1);else{if(0!==Ra||null!==e&&64&e.flags)for(e=t.child;null!==e;){if(null!==(c=No(e))){for(t.flags|=64,ra(i,!1),null!==(a=c.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=n,n=t.child;null!==n;)e=i,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ur(jo,1&jo.current|2),t.child}e=e.sibling}null!==i.tail&&Hr()>Wa&&(t.flags|=64,a=!0,ra(i,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=No(c))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ra(i,!0),null===i.tail&&"hidden"===i.tailMode&&!c.alternate&&!Bo)return null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null),null}else 2*Hr()-i.renderingStartTime>Wa&&1073741824!==n&&(t.flags|=64,a=!0,ra(i,!1),t.lanes=33554432);i.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=i.last)?n.sibling=c:t.child=c,i.last=c)}return null!==i.tail?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=Hr(),n.sibling=null,t=jo.current,ur(jo,a?1&t|2:1&t),n):null;case 23:case 24:return wl(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==i.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function sa(e){switch(e.tag){case 1:gr(e.type)&&br();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(zo(),cr(pr),cr(hr),Go(),64&(t=e.flags))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return Ro(e),null;case 13:return cr(jo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return cr(jo),null;case 4:return zo(),null;case 10:return no(e),null;case 23:case 24:return wl(),null;default:return null}}function aa(e,t){try{var n="",i=t;do{n+=$(i),i=i.return}while(i);var r=n}catch(e){r="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:r}}function la(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}qs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ks=function(){},Gs=function(e,t,n,i){var o=e.memoizedProps;if(o!==i){e=t.stateNode,Lo(Mo.current);var s,a=null;switch(n){case"input":o=Q(e,o),i=Q(e,i),a=[];break;case"option":o=oe(e,o),i=oe(e,i),a=[];break;case"select":o=r({},o,{value:void 0}),i=r({},i,{value:void 0}),a=[];break;case"textarea":o=ae(e,o),i=ae(e,i),a=[];break;default:"function"!=typeof o.onClick&&"function"==typeof i.onClick&&(e.onclick=Fi)}for(d in Ce(n,i),n=null,o)if(!i.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var c=o[d];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in i){var u=i[d];if(c=null!=o?o[d]:void 0,i.hasOwnProperty(d)&&u!==c&&(null!=u||null!=c))if("style"===d)if(c){for(s in c)!c.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&c[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(a||(a=[]),a.push(d,n)),n=u;else"dangerouslySetInnerHTML"===d?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(a=a||[]).push(d,u)):"children"===d?"string"!=typeof u&&"number"!=typeof u||(a=a||[]).push(d,""+u):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=u&&"onScroll"===d&&Mi("scroll",e),a||c===u||(a=[])):"object"==typeof u&&null!==u&&u.$$typeof===I?u.toString():(a=a||[]).push(d,u))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}},Zs=function(e,t,n,i){n!==i&&(t.flags|=4)};var ca="function"==typeof WeakMap?WeakMap:Map;function ua(e,t,n){(n=co(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Ka||(Ka=!0,Ga=i),la(0,t)},n}function da(e,t,n){(n=co(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var r=t.value;n.payload=function(){return la(0,t),i(r)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof i&&(null===Za?Za=new Set([this]):Za.add(this),la(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ha="function"==typeof WeakSet?WeakSet:Set;function pa(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Nl(e,t)}else t.current=null}function fa(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Zr(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&$i(t.stateNode.containerInfo))}throw Error(s(163))}function ma(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(!(3&~e.tag)){var i=e.create;e.destroy=i()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var r=e;i=r.next,4&(r=r.tag)&&1&r&&(Il(n,e),zl(n,e)),e=i}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(i=n.elementType===n.type?t.memoizedProps:Zr(n.type,t.memoizedProps),e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&fo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}fo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Hi(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))))}throw Error(s(163))}function ga(e,t){for(var n=e;;){if(5===n.tag){var i=n.stateNode;if(t)"function"==typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{i=n.stateNode;var r=n.memoizedProps.style;r=null!=r&&r.hasOwnProperty("display")?r.display:null,i.style.display=_e("display",r)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ba(e,t){if(Cr&&"function"==typeof Cr.onCommitFiberUnmount)try{Cr.onCommitFiberUnmount(kr,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var i=n,r=i.destroy;if(i=i.tag,void 0!==r)if(4&i)Il(t,n);else{i=t;try{r()}catch(e){Nl(i,e)}}n=n.next}while(n!==e)}break;case 1:if(pa(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Nl(t,e)}break;case 5:pa(t);break;case 4:Ca(e,t)}}function ya(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function va(e){return 5===e.tag||3===e.tag||4===e.tag}function _a(e){e:{for(var t=e.return;null!==t;){if(va(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(s(161))}16&n.flags&&(be(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||va(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}i?wa(e,n,t):ka(e,n,t)}function wa(e,t,n){var i=e.tag,r=5===i||6===i;if(r)e=r?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Fi));else if(4!==i&&null!==(e=e.child))for(wa(e,t,n),e=e.sibling;null!==e;)wa(e,t,n),e=e.sibling}function ka(e,t,n){var i=e.tag,r=5===i||6===i;if(r)e=r?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(ka(e,t,n),e=e.sibling;null!==e;)ka(e,t,n),e=e.sibling}function Ca(e,t){for(var n,i,r=t,o=!1;;){if(!o){o=r.return;e:for(;;){if(null===o)throw Error(s(160));switch(n=o.stateNode,o.tag){case 5:i=!1;break e;case 3:case 4:n=n.containerInfo,i=!0;break e}o=o.return}o=!0}if(5===r.tag||6===r.tag){e:for(var a=e,l=r,c=l;;)if(ba(a,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}i?(a=n,l=r.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):n.removeChild(r.stateNode)}else if(4===r.tag){if(null!==r.child){n=r.stateNode.containerInfo,i=!0,r.child.return=r,r=r.child;continue}}else if(ba(e,r),null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;4===(r=r.return).tag&&(o=!1)}r.sibling.return=r.return,r=r.sibling}}function Ea(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{!(3&~i.tag)&&(e=i.destroy,i.destroy=void 0,void 0!==e&&e()),i=i.next}while(i!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){i=t.memoizedProps;var r=null!==e?e.memoizedProps:i;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Xi]=i,"input"===e&&"radio"===i.type&&null!=i.name&&te(n,i),Ee(e,r),t=Ee(e,i),r=0;r<o.length;r+=2){var a=o[r],l=o[r+1];"style"===a?we(n,l):"dangerouslySetInnerHTML"===a?ge(n,l):"children"===a?be(n,l):_(n,a,l,t)}switch(e){case"input":ne(n,i);break;case"textarea":ce(n,i);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(o=i.value)?se(n,!!i.multiple,o,!1):e!==!!i.multiple&&(null!=i.defaultValue?se(n,!!i.multiple,i.defaultValue,!0):se(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Va=Hr(),ga(t.child,!0)),void xa(t);case 19:return void xa(t);case 23:case 24:return void ga(t,null!==t.memoizedState)}throw Error(s(163))}function xa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ha),t.forEach((function(t){var i=Yl.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function Sa(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Oa=Math.ceil,Ta=w.ReactCurrentDispatcher,Ma=w.ReactCurrentOwner,Pa=0,Da=null,La=null,Aa=0,za=0,Ia=lr(0),Ra=0,ja=null,Na=0,Fa=0,Ya=0,Ba=0,Ha=null,Va=0,Wa=1/0;function Ua(){Wa=Hr()+500}var $a,qa=null,Ka=!1,Ga=null,Za=null,Ja=!1,Xa=null,Qa=90,el=[],tl=[],nl=null,il=0,rl=null,ol=-1,sl=0,al=0,ll=null,cl=!1;function ul(){return 48&Pa?Hr():-1!==ol?ol:ol=Hr()}function dl(e){if(!(2&(e=e.mode)))return 1;if(!(4&e))return 99===Vr()?1:2;if(0===sl&&(sl=Na),0!==Gr.transition){0!==al&&(al=null!==Ha?Ha.pendingLanes:0),e=sl;var t=4186112&~al;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=Vr(),e=Ft(4&Pa&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),sl)}function hl(e,t,n){if(50<il)throw il=0,rl=null,Error(s(185));if(null===(e=pl(e,t)))return null;Ht(e,t,n),e===Da&&(Ya|=t,4===Ra&&gl(e,Aa));var i=Vr();1===t?8&Pa&&!(48&Pa)?bl(e):(fl(e,n),0===Pa&&(Ua(),qr())):(!(4&Pa)||98!==i&&99!==i||(null===nl?nl=new Set([e]):nl.add(e)),fl(e,n)),Ha=e}function pl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function fl(e,t){for(var n=e.callbackNode,i=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Vt(a),c=1<<l,u=o[l];if(-1===u){if(!(c&i)||c&r){u=t,Rt(c);var d=It;o[l]=10<=d?u+250:6<=d?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);a&=~c}if(i=jt(e,e===Da?Aa:0),t=It,0===i)null!==n&&(n!==Rr&&Sr(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Rr&&Sr(n)}15===t?(n=bl.bind(null,e),null===Nr?(Nr=[n],Fr=xr(Dr,Kr)):Nr.push(n),n=Rr):14===t?n=$r(99,bl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),n=$r(n,ml.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ml(e){if(ol=-1,al=sl=0,48&Pa)throw Error(s(327));var t=e.callbackNode;if(Al()&&e.callbackNode!==t)return null;var n=jt(e,e===Da?Aa:0);if(0===n)return null;var i=n,r=Pa;Pa|=16;var o=El();for(Da===e&&Aa===i||(Ua(),kl(e,i));;)try{Ol();break}catch(t){Cl(e,t)}if(to(),Ta.current=o,Pa=r,null!==La?i=0:(Da=null,Aa=0,i=Ra),Na&Ya)kl(e,0);else if(0!==i){if(2===i&&(Pa|=64,e.hydrate&&(e.hydrate=!1,$i(e.containerInfo)),0!==(n=Nt(e))&&(i=xl(e,n))),1===i)throw t=ja,kl(e,0),gl(e,n),fl(e,Hr()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,i){case 0:case 1:throw Error(s(345));case 2:case 5:Pl(e);break;case 3:if(gl(e,n),(62914560&n)===n&&10<(i=Va+500-Hr())){if(0!==jt(e,0))break;if(((r=e.suspendedLanes)&n)!==n){ul(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Wi(Pl.bind(null,e),i);break}Pl(e);break;case 4:if(gl(e,n),(4186112&n)===n)break;for(i=e.eventTimes,r=-1;0<n;){var a=31-Vt(n);o=1<<a,(a=i[a])>r&&(r=a),n&=~o}if(n=r,10<(n=(120>(n=Hr()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Oa(n/1960))-n)){e.timeoutHandle=Wi(Pl.bind(null,e),n);break}Pl(e);break;default:throw Error(s(329))}}return fl(e,Hr()),e.callbackNode===t?ml.bind(null,e):null}function gl(e,t){for(t&=~Ba,t&=~Ya,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vt(t),i=1<<n;e[n]=-1,t&=~i}}function bl(e){if(48&Pa)throw Error(s(327));if(Al(),e===Da&&e.expiredLanes&Aa){var t=Aa,n=xl(e,t);Na&Ya&&(n=xl(e,t=jt(e,t)))}else n=xl(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Pa|=64,e.hydrate&&(e.hydrate=!1,$i(e.containerInfo)),0!==(t=Nt(e))&&(n=xl(e,t))),1===n)throw n=ja,kl(e,0),gl(e,t),fl(e,Hr()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pl(e),fl(e,Hr()),null}function yl(e,t){var n=Pa;Pa|=1;try{return e(t)}finally{0===(Pa=n)&&(Ua(),qr())}}function vl(e,t){var n=Pa;Pa&=-2,Pa|=8;try{return e(t)}finally{0===(Pa=n)&&(Ua(),qr())}}function _l(e,t){ur(Ia,za),za|=t,Na|=t}function wl(){za=Ia.current,cr(Ia)}function kl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Ui(n)),null!==La)for(n=La.return;null!==n;){var i=n;switch(i.tag){case 1:null!=(i=i.type.childContextTypes)&&br();break;case 3:zo(),cr(pr),cr(hr),Go();break;case 5:Ro(i);break;case 4:zo();break;case 13:case 19:cr(jo);break;case 10:no(i);break;case 23:case 24:wl()}n=n.return}Da=e,La=Wl(e.current,null),Aa=za=Na=t,Ra=0,ja=null,Ba=Ya=Fa=0}function Cl(e,t){for(;;){var n=La;try{if(to(),Zo.current=Ds,ns){for(var i=Qo.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}ns=!1}if(Xo=0,ts=es=Qo=null,is=!1,Ma.current=null,null===n||null===n.return){Ra=1,ja=t,La=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Aa,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l;if(!(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.lanes=u.lanes):(a.updateQueue=null,a.memoizedState=null)}var d=!!(1&jo.current),h=s;do{var p;if(p=13===h.tag){var f=h.memoizedState;if(null!==f)p=null!==f.dehydrated;else{var m=h.memoizedProps;p=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(p){var g=h.updateQueue;if(null===g){var b=new Set;b.add(c),h.updateQueue=b}else g.add(c);if(!(2&h.mode)){if(h.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=co(-1,1);y.tag=2,uo(a,y)}a.lanes|=1;break e}l=void 0,a=t;var v=o.pingCache;if(null===v?(v=o.pingCache=new ca,l=new Set,v.set(c,l)):void 0===(l=v.get(c))&&(l=new Set,v.set(c,l)),!l.has(a)){l.add(a);var _=Fl.bind(null,o,c,a);c.then(_,_)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);l=Error((q(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ra&&(Ra=2),l=aa(l,a),h=s;do{switch(h.tag){case 3:o=l,h.flags|=4096,t&=-t,h.lanes|=t,ho(h,ua(0,o,t));break e;case 1:o=l;var w=h.type,k=h.stateNode;if(!(64&h.flags||"function"!=typeof w.getDerivedStateFromError&&(null===k||"function"!=typeof k.componentDidCatch||null!==Za&&Za.has(k)))){h.flags|=4096,t&=-t,h.lanes|=t,ho(h,da(h,o,t));break e}}h=h.return}while(null!==h)}Ml(n)}catch(e){t=e,La===n&&null!==n&&(La=n=n.return);continue}break}}function El(){var e=Ta.current;return Ta.current=Ds,null===e?Ds:e}function xl(e,t){var n=Pa;Pa|=16;var i=El();for(Da===e&&Aa===t||kl(e,t);;)try{Sl();break}catch(t){Cl(e,t)}if(to(),Pa=n,Ta.current=i,null!==La)throw Error(s(261));return Da=null,Aa=0,Ra}function Sl(){for(;null!==La;)Tl(La)}function Ol(){for(;null!==La&&!Or();)Tl(La)}function Tl(e){var t=$a(e.alternate,e,za);e.memoizedProps=e.pendingProps,null===t?Ml(e):La=t,Ma.current=null}function Ml(e){var t=e;do{var n=t.alternate;if(e=t.return,2048&t.flags){if(null!==(n=sa(t)))return n.flags&=2047,void(La=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}else{if(null!==(n=oa(n,t,za)))return void(La=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||1073741824&za||!(4&n.mode)){for(var i=0,r=n.child;null!==r;)i|=r.lanes|r.childLanes,r=r.sibling;n.childLanes=i}null!==e&&!(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}if(null!==(t=t.sibling))return void(La=t);La=t=e}while(null!==t);0===Ra&&(Ra=5)}function Pl(e){var t=Vr();return Ur(99,Dl.bind(null,e,t)),null}function Dl(e,t){do{Al()}while(null!==Xa);if(48&Pa)throw Error(s(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null;var i=n.lanes|n.childLanes,r=i,o=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<o;){var c=31-Vt(o),u=1<<c;r[c]=0,a[c]=-1,l[c]=-1,o&=~u}if(null!==nl&&!(24&i)&&nl.has(e)&&nl.delete(e),e===Da&&(La=Da=null,Aa=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){if(r=Pa,Pa|=32,Ma.current=null,Yi=Kt,gi(a=mi())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,o=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(e){l=null;break e}var d=0,h=-1,p=-1,f=0,m=0,g=a,b=null;t:for(;;){for(var y;g!==l||0!==o&&3!==g.nodeType||(h=d+o),g!==c||0!==u&&3!==g.nodeType||(p=d+u),3===g.nodeType&&(d+=g.nodeValue.length),null!==(y=g.firstChild);)b=g,g=y;for(;;){if(g===a)break t;if(b===l&&++f===o&&(h=d),b===c&&++m===u&&(p=d),null!==(y=g.nextSibling))break;b=(g=b).parentNode}g=y}l=-1===h||-1===p?null:{start:h,end:p}}else l=null;l=l||{start:0,end:0}}else l=null;Bi={focusedElem:a,selectionRange:l},Kt=!1,ll=null,cl=!1,qa=i;do{try{Ll()}catch(e){if(null===qa)throw Error(s(330));Nl(qa,e),qa=qa.nextEffect}}while(null!==qa);ll=null,qa=i;do{try{for(a=e;null!==qa;){var v=qa.flags;if(16&v&&be(qa.stateNode,""),128&v){var _=qa.alternate;if(null!==_){var w=_.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&v){case 2:_a(qa),qa.flags&=-3;break;case 6:_a(qa),qa.flags&=-3,Ea(qa.alternate,qa);break;case 1024:qa.flags&=-1025;break;case 1028:qa.flags&=-1025,Ea(qa.alternate,qa);break;case 4:Ea(qa.alternate,qa);break;case 8:Ca(a,l=qa);var k=l.alternate;ya(l),null!==k&&ya(k)}qa=qa.nextEffect}}catch(e){if(null===qa)throw Error(s(330));Nl(qa,e),qa=qa.nextEffect}}while(null!==qa);if(w=Bi,_=mi(),v=w.focusedElem,a=w.selectionRange,_!==v&&v&&v.ownerDocument&&fi(v.ownerDocument.documentElement,v)){null!==a&&gi(v)&&(_=a.start,void 0===(w=a.end)&&(w=_),"selectionStart"in v?(v.selectionStart=_,v.selectionEnd=Math.min(w,v.value.length)):(w=(_=v.ownerDocument||document)&&_.defaultView||window).getSelection&&(w=w.getSelection(),l=v.textContent.length,k=Math.min(a.start,l),a=void 0===a.end?k:Math.min(a.end,l),!w.extend&&k>a&&(l=a,a=k,k=l),l=pi(v,k),o=pi(v,a),l&&o&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((_=_.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),k>a?(w.addRange(_),w.extend(o.node,o.offset)):(_.setEnd(o.node,o.offset),w.addRange(_))))),_=[];for(w=v;w=w.parentNode;)1===w.nodeType&&_.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof v.focus&&v.focus(),v=0;v<_.length;v++)(w=_[v]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Kt=!!Yi,Bi=Yi=null,e.current=n,qa=i;do{try{for(v=e;null!==qa;){var C=qa.flags;if(36&C&&ma(v,qa.alternate,qa),128&C){_=void 0;var E=qa.ref;if(null!==E){var x=qa.stateNode;qa.tag,_=x,"function"==typeof E?E(_):E.current=_}}qa=qa.nextEffect}}catch(e){if(null===qa)throw Error(s(330));Nl(qa,e),qa=qa.nextEffect}}while(null!==qa);qa=null,jr(),Pa=r}else e.current=n;if(Ja)Ja=!1,Xa=e,Qa=t;else for(qa=i;null!==qa;)t=qa.nextEffect,qa.nextEffect=null,8&qa.flags&&((C=qa).sibling=null,C.stateNode=null),qa=t;if(0===(i=e.pendingLanes)&&(Za=null),1===i?e===rl?il++:(il=0,rl=e):il=0,n=n.stateNode,Cr&&"function"==typeof Cr.onCommitFiberRoot)try{Cr.onCommitFiberRoot(kr,n,void 0,!(64&~n.current.flags))}catch(e){}if(fl(e,Hr()),Ka)throw Ka=!1,e=Ga,Ga=null,e;return 8&Pa||qr(),null}function Ll(){for(;null!==qa;){var e=qa.alternate;cl||null===ll||(8&qa.flags?Qe(qa,ll)&&(cl=!0):13===qa.tag&&Sa(e,qa)&&Qe(qa,ll)&&(cl=!0));var t=qa.flags;256&t&&fa(e,qa),!(512&t)||Ja||(Ja=!0,$r(97,(function(){return Al(),null}))),qa=qa.nextEffect}}function Al(){if(90!==Qa){var e=97<Qa?97:Qa;return Qa=90,Ur(e,Rl)}return!1}function zl(e,t){el.push(t,e),Ja||(Ja=!0,$r(97,(function(){return Al(),null})))}function Il(e,t){tl.push(t,e),Ja||(Ja=!0,$r(97,(function(){return Al(),null})))}function Rl(){if(null===Xa)return!1;var e=Xa;if(Xa=null,48&Pa)throw Error(s(331));var t=Pa;Pa|=32;var n=tl;tl=[];for(var i=0;i<n.length;i+=2){var r=n[i],o=n[i+1],a=r.destroy;if(r.destroy=void 0,"function"==typeof a)try{a()}catch(e){if(null===o)throw Error(s(330));Nl(o,e)}}for(n=el,el=[],i=0;i<n.length;i+=2){r=n[i],o=n[i+1];try{var l=r.create;r.destroy=l()}catch(e){if(null===o)throw Error(s(330));Nl(o,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Pa=t,qr(),!0}function jl(e,t,n){uo(e,t=ua(0,t=aa(n,t),1)),t=ul(),null!==(e=pl(e,1))&&(Ht(e,1,t),fl(e,t))}function Nl(e,t){if(3===e.tag)jl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){jl(n,e,t);break}if(1===n.tag){var i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===Za||!Za.has(i))){var r=da(n,e=aa(t,e),1);if(uo(n,r),r=ul(),null!==(n=pl(n,1)))Ht(n,1,r),fl(n,r);else if("function"==typeof i.componentDidCatch&&(null===Za||!Za.has(i)))try{i.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Fl(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=ul(),e.pingedLanes|=e.suspendedLanes&n,Da===e&&(Aa&n)===n&&(4===Ra||3===Ra&&(62914560&Aa)===Aa&&500>Hr()-Va?kl(e,0):Ba|=n),fl(e,t)}function Yl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(2&(t=e.mode)?4&t?(0===sl&&(sl=Na),0===(t=Yt(62914560&~sl))&&(t=4194304)):t=99===Vr()?1:2:t=1),n=ul(),null!==(e=pl(e,t))&&(Ht(e,t,n),fl(e,n))}function Bl(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hl(e,t,n,i){return new Bl(e,t,n,i)}function Vl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wl(e,t){var n=e.alternate;return null===n?((n=Hl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ul(e,t,n,i,r,o){var a=2;if(i=e,"function"==typeof e)Vl(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case E:return $l(n.children,r,o,t);case R:a=8,r|=16;break;case x:a=8,r|=1;break;case S:return(e=Hl(12,n,t,8|r)).elementType=S,e.type=S,e.lanes=o,e;case P:return(e=Hl(13,n,t,r)).type=P,e.elementType=P,e.lanes=o,e;case D:return(e=Hl(19,n,t,r)).elementType=D,e.lanes=o,e;case j:return ql(n,r,o,t);case N:return(e=Hl(24,n,t,r)).elementType=N,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case O:a=10;break e;case T:a=9;break e;case M:a=11;break e;case L:a=14;break e;case A:a=16,i=null;break e;case z:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Hl(a,n,t,r)).elementType=e,t.type=i,t.lanes=o,t}function $l(e,t,n,i){return(e=Hl(7,e,i,t)).lanes=n,e}function ql(e,t,n,i){return(e=Hl(23,e,i,t)).elementType=j,e.lanes=n,e}function Kl(e,t,n){return(e=Hl(6,e,null,t)).lanes=n,e}function Gl(e,t,n){return(t=Hl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Jl(e,t,n,i){var r=t.current,o=ul(),a=dl(r);e:if(n){t:{if(Ge(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(gr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(s(171))}if(1===n.tag){var c=n.type;if(gr(c)){n=vr(n,c,l);break e}}n=l}else n=dr;return null===t.context?t.context=n:t.pendingContext=n,(t=co(o,a)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),uo(r,t),hl(r,a,o),a}function Xl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ql(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ec(e,t){Ql(e,t),(e=e.alternate)&&Ql(e,t)}function tc(e,t,n){var i=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Zl(e,t,null!=n&&!0===n.hydrate),t=Hl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ao(t),e[Qi]=n.current,Di(8===e.nodeType?e.parentNode:e),i)for(e=0;e<i.length;e++){var r=(t=i[e])._getVersion;r=r(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,r]:n.mutableSourceEagerHydrationData.push(t,r)}this._internalRoot=n}function nc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ic(e,t,n,i,r){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"==typeof r){var a=r;r=function(){var e=Xl(s);a.call(e)}}Jl(t,s,e,r)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tc(e,0,t?{hydrate:!0}:void 0)}(n,i),s=o._internalRoot,"function"==typeof r){var l=r;r=function(){var e=Xl(s);l.call(e)}}vl((function(){Jl(t,s,e,r)}))}return Xl(s)}function rc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nc(t))throw Error(s(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}$a=function(e,t,n){var i=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pr.current)Rs=!0;else{if(!(n&i)){switch(Rs=!1,t.tag){case 3:$s(t),qo();break;case 5:Io(t);break;case 1:gr(t.type)&&_r(t);break;case 4:Ao(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value;var r=t.type._context;ur(Jr,r._currentValue),r._currentValue=i;break;case 13:if(null!==t.memoizedState)return n&t.child.childLanes?Xs(e,t,n):(ur(jo,1&jo.current),null!==(t=ia(e,t,n))?t.sibling:null);ur(jo,1&jo.current);break;case 19:if(i=!!(n&t.childLanes),64&e.flags){if(i)return na(e,t,n);t.flags|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),ur(jo,jo.current),i)break;return null;case 23:case 24:return t.lanes=0,Bs(e,t,n)}return ia(e,t,n)}Rs=!!(16384&e.flags)}else Rs=!1;switch(t.lanes=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=mr(t,hr.current),ro(t,n),r=ss(null,t,i,e,r,n),t.flags|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gr(i)){var o=!0;_r(t)}else o=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,ao(t);var a=i.getDerivedStateFromProps;"function"==typeof a&&go(t,i,a,e),r.updater=bo,t.stateNode=r,r._reactInternals=t,wo(t,i,e,n),t=Us(null,t,i,!0,o,n)}else t.tag=0,js(null,t,r,n),t=t.child;return t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"==typeof e)return Vl(e)?1:0;if(null!=e){if((e=e.$$typeof)===M)return 11;if(e===L)return 14}return 2}(r),e=Zr(r,e),o){case 0:t=Vs(null,t,r,e,n);break e;case 1:t=Ws(null,t,r,e,n);break e;case 11:t=Ns(null,t,r,e,n);break e;case 14:t=Fs(null,t,r,Zr(r.type,e),i,n);break e}throw Error(s(306,r,""))}return t;case 0:return i=t.type,r=t.pendingProps,Vs(e,t,i,r=t.elementType===i?r:Zr(i,r),n);case 1:return i=t.type,r=t.pendingProps,Ws(e,t,i,r=t.elementType===i?r:Zr(i,r),n);case 3:if($s(t),i=t.updateQueue,null===e||null===i)throw Error(s(282));if(i=t.pendingProps,r=null!==(r=t.memoizedState)?r.element:null,lo(e,t),po(t,i,null,n),(i=t.memoizedState.element)===r)qo(),t=ia(e,t,n);else{if((o=(r=t.stateNode).hydrate)&&(Yo=qi(t.stateNode.containerInfo.firstChild),Fo=t,o=Bo=!0),o){if(null!=(e=r.mutableSourceEagerHydrationData))for(r=0;r<e.length;r+=2)(o=e[r])._workInProgressVersionPrimary=e[r+1],Ko.push(o);for(n=Oo(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else js(e,t,i,n),qo();t=t.child}return t;case 5:return Io(t),null===e&&Wo(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,a=r.children,Vi(i,r)?a=null:null!==o&&Vi(i,o)&&(t.flags|=16),Hs(e,t),js(e,t,a,n),t.child;case 6:return null===e&&Wo(t),null;case 13:return Xs(e,t,n);case 4:return Ao(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=So(t,null,i,n):js(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,Ns(e,t,i,r=t.elementType===i?r:Zr(i,r),n);case 7:return js(e,t,t.pendingProps,n),t.child;case 8:case 12:return js(e,t,t.pendingProps.children,n),t.child;case 10:e:{i=t.type._context,r=t.pendingProps,a=t.memoizedProps,o=r.value;var l=t.type._context;if(ur(Jr,l._currentValue),l._currentValue=o,null!==a)if(l=a.value,0==(o=ci(l,o)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(l,o):1073741823))){if(a.children===r.children&&!pr.current){t=ia(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){a=l.child;for(var u=c.firstContext;null!==u;){if(u.context===i&&u.observedBits&o){1===l.tag&&((u=co(-1,n&-n)).tag=2,uo(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),io(l.return,n),c.lanes|=n;break}u=u.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}js(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=(o=t.pendingProps).children,ro(t,n),i=i(r=oo(r,o.unstable_observedBits)),t.flags|=1,js(e,t,i,n),t.child;case 14:return o=Zr(r=t.type,t.pendingProps),Fs(e,t,r,o=Zr(r.type,o),i,n);case 15:return Ys(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Zr(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gr(i)?(e=!0,_r(t)):e=!1,ro(t,n),vo(t,i,r),wo(t,i,r,n),Us(null,t,i,!0,e,n);case 19:return na(e,t,n);case 23:case 24:return Bs(e,t,n)}throw Error(s(156,t.tag))},tc.prototype.render=function(e){Jl(e,this._internalRoot,null,null)},tc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Jl(null,e,null,(function(){t[Qi]=null}))},et=function(e){13===e.tag&&(hl(e,4,ul()),ec(e,4))},tt=function(e){13===e.tag&&(hl(e,67108864,ul()),ec(e,67108864))},nt=function(e){if(13===e.tag){var t=ul(),n=dl(e);hl(e,n,t),ec(e,n)}},it=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=rr(i);if(!r)throw Error(s(90));J(i),ne(i,r)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&se(e,!!n.multiple,t,!1)}},Le=yl,Ae=function(e,t,n,i,r){var o=Pa;Pa|=4;try{return Ur(98,e.bind(null,t,n,i,r))}finally{0===(Pa=o)&&(Ua(),qr())}},ze=function(){!(49&Pa)&&(function(){if(null!==nl){var e=nl;nl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,fl(e,Hr())}))}qr()}(),Al())},Ie=function(e,t){var n=Pa;Pa|=2;try{return e(t)}finally{0===(Pa=n)&&(Ua(),qr())}};var oc={Events:[nr,ir,rr,Pe,De,Al,{current:!1}]},sc={findFiberByHostInstance:tr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ac={bundleType:sc.bundleType,version:sc.version,rendererPackageName:sc.rendererPackageName,rendererConfig:sc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:sc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{kr=lc.inject(ac),Cr=lc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oc,t.createPortal=rc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Pa;if(48&n)return e(t);Pa|=1;try{if(e)return Ur(99,e.bind(null,t))}finally{Pa=n,qr()}},t.hydrate=function(e,t,n){if(!nc(t))throw Error(s(200));return ic(null,e,t,!0,n)},t.render=function(e,t,n){if(!nc(t))throw Error(s(200));return ic(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nc(e))throw Error(s(40));return!!e._reactRootContainer&&(vl((function(){ic(null,null,e,!1,(function(){e._reactRootContainer=null,e[Qi]=null}))})),!0)},t.unstable_batchedUpdates=yl,t.unstable_createPortal=function(e,t){return rc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!nc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return ic(e,t,n,!1,i)},t.version="17.0.2"},40961:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(22551)},41853:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=a(n(5556)),o=n(96540),s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l={bgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,bgD:r.default.string.isRequired,fgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,fgD:r.default.string.isRequired,size:r.default.number.isRequired,title:r.default.string,viewBoxSize:r.default.number.isRequired,xmlns:r.default.string},c=(0,o.forwardRef)((function(e,t){var n=e.bgColor,r=e.bgD,o=e.fgD,a=e.fgColor,l=e.size,c=e.title,u=e.viewBoxSize,d=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize"]);return s.default.createElement("svg",i({},d,{height:l,ref:t,viewBox:"0 0 "+u+" "+u,width:l}),c?s.default.createElement("title",null,c):null,s.default.createElement("path",{d:r,fill:n}),s.default.createElement("path",{d:o,fill:a}))}));c.displayName="QRCodeSvg",c.propTypes=l,c.defaultProps={title:void 0,xmlns:"http://www.w3.org/2000/svg"},t.default=c},194:function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=u(n(46641)),o=u(n(41537)),s=u(n(5556)),a=n(96540),l=u(a),c=u(n(41853));function u(e){return e&&e.__esModule?e:{default:e}}var d={bgColor:s.default.oneOfType([s.default.object,s.default.string]),fgColor:s.default.oneOfType([s.default.object,s.default.string]),level:s.default.string,size:s.default.number,value:s.default.string.isRequired},h=(0,a.forwardRef)((function(e,t){var n=e.bgColor,s=e.fgColor,a=e.level,u=e.size,d=e.value,h=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["bgColor","fgColor","level","size","value"]),p=new r.default(-1,o.default[a]);p.addData(d),p.make();var f=p.modules;return l.default.createElement(c.default,i({},h,{bgColor:n,bgD:f.map((function(e,t){return e.map((function(e,n){return e?"":"M "+n+" "+t+" l 1 0 0 1 -1 0 Z"})).join(" ")})).join(" "),fgColor:s,fgD:f.map((function(e,t){return e.map((function(e,n){return e?"M "+n+" "+t+" l 1 0 0 1 -1 0 Z":""})).join(" ")})).join(" "),ref:t,size:u,viewBoxSize:f.length}))}));h.displayName="QRCode",h.propTypes=d,h.defaultProps={bgColor:"#FFFFFF",fgColor:"#000000",level:"L",size:256},t.Ay=h},15287:function(e,t,n){"use strict";var i=n(45228),r=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var s=60109,a=60110,l=60112;t.Suspense=60113;var c=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;r=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),s=d("react.provider"),a=d("react.context"),l=d("react.forward_ref"),t.Suspense=d("react.suspense"),c=d("react.memo"),u=d("react.lazy")}var h="function"==typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=g.prototype;var v=y.prototype=new b;v.constructor=y,i(v,g.prototype),v.isPureReactComponent=!0;var _={current:null},w=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)w.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:r,type:e,key:s,ref:a,props:o,_owner:_.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var x=/\/+/g;function S(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,n,i,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case o:l=!0}}if(l)return s=s(l=e),e=""===i?"."+S(l,0):i,Array.isArray(s)?(n="",null!=e&&(n=e.replace(x,"$&/")+"/"),O(s,t,n,"",(function(e){return e}))):null!=s&&(E(s)&&(s=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(x,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=i+S(a=e[c],c);l+=O(a,t,n,u,s)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=O(a=a.value,t,n,u=i+S(a,c++),s);else if("object"===a)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function T(e,t,n){if(null==e)return e;var i=[],r=0;return O(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function M(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var P={current:null};function D(){var e=P.current;if(null===e)throw Error(p(321));return e}var L={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:i};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(p(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,n){if(null==e)throw Error(p(267,e));var o=i({},e.props),s=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=_.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)w.call(t,u)&&!k.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];o.children=c}return{$$typeof:r,type:e.type,key:s,ref:a,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return D().useCallback(e,t)},t.useContext=function(e,t){return D().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return D().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return D().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return D().useLayoutEffect(e,t)},t.useMemo=function(e,t){return D().useMemo(e,t)},t.useReducer=function(e,t,n){return D().useReducer(e,t,n)},t.useRef=function(e){return D().useRef(e)},t.useState=function(e){return D().useState(e)},t.version="17.0.2"},96540:function(e,t,n){"use strict";e.exports=n(15287)},26892:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var i,r=(i=n(33215))&&i.__esModule?i:{default:i},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){return t[e]||{extend:e}}},a=t.autoprefix=function(e){var t={};return(0,r.default)(e,(function(e,n){var i={};(0,r.default)(e,(function(e,t){var n=s[t];n?i=o({},i,n(e)):i[t]=e})),t[n]=i})),t};t.default=a},75268:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var i,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=(i=n(96540))&&i.__esModule?i:{default:i};function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function i(){var n,a,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];return a=l=s(this,(n=i.__proto__||Object.getPrototypeOf(i)).call.apply(n,[this].concat(u))),l.state={active:!1},l.handleMouseDown=function(){return l.setState({active:!0})},l.handleMouseUp=function(){return l.setState({active:!1})},l.render=function(){return o.default.createElement(t,{onMouseDown:l.handleMouseDown,onMouseUp:l.handleMouseUp},o.default.createElement(e,r({},l.props,l.state)))},s(l,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,n),i}(o.default.Component)};t.default=a},16686:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var i,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=(i=n(96540))&&i.__esModule?i:{default:i};function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function i(){var n,a,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];return a=l=s(this,(n=i.__proto__||Object.getPrototypeOf(i)).call.apply(n,[this].concat(u))),l.state={hover:!1},l.handleMouseOver=function(){return l.setState({hover:!0})},l.handleMouseOut=function(){return l.setState({hover:!1})},l.render=function(){return o.default.createElement(t,{onMouseOver:l.handleMouseOver,onMouseOut:l.handleMouseOut},o.default.createElement(e,r({},l.props,l.state)))},s(l,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,n),i}(o.default.Component)};t.default=a},99265:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var i=a(n(85015)),r=a(n(33215)),o=a(n(11331)),s=a(n(55378));function a(e){return e&&e.__esModule?e:{default:e}}var l=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,s.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return n.push(e)})):(0,o.default)(t)?(0,r.default)(t,(function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)})):(0,i.default)(t)&&n.push(t)})),n};t.default=l},58527:function(e,t,n){"use strict";t.H8=void 0;var i=c(n(99265)),r=c(n(76203)),o=c(n(26892)),s=c(n(16686)),a=c(n(75268)),l=c(n(62693));function c(e){return e&&e.__esModule?e:{default:e}}s.default,t.H8=s.default,a.default,l.default;t.Ay=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];var a=(0,i.default)(n),l=(0,r.default)(e,a);return(0,o.default)(l)}},62693:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n={},i=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&i("first-child"),e===t-1&&i("last-child"),(0===e||e%2==0)&&i("even"),1===Math.abs(e%2)&&i("odd"),i("nth-child",e),n}},76203:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var i=s(n(33215)),r=s(n(88055)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function s(e){return e&&e.__esModule?e:{default:e}}var a=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,r.default)(e.default)||{};return t.map((function(t){var r=e[t];return r&&(0,i.default)(r,(function(e,t){n[t]||(n[t]={}),n[t]=o({},n[t],r[t])})),t})),n};t.default=a},74728:function(e,t,n){const i=n(78659),r=n(87151),{isPlainObject:o}=n(78682),s=n(14744),a=n(29466),{parse:l}=n(12895),c=["img","audio","video","picture","svg","object","map","iframe","embed"],u=["script","style"];function d(e,t){e&&Object.keys(e).forEach((function(n){t(e[n],n)}))}function h(e,t){return{}.hasOwnProperty.call(e,t)}function p(e,t){const n=[];return d(e,(function(e){t(e)&&n.push(e)})),n}e.exports=m;const f=/^[^\0\t\n\f\r /<=>]+$/;function m(e,t,n){if(null==e)return"";"number"==typeof e&&(e=e.toString());let b="",y="";function v(e,t){const n=this;this.tag=e,this.attribs=t||{},this.tagPosition=b.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){P.length&&(P[P.length-1].text+=n.text)},this.updateParentNodeMediaChildren=function(){P.length&&c.includes(this.tag)&&P[P.length-1].mediaChildren.push(this.tag)}}(t=Object.assign({},m.defaults,t)).parser=Object.assign({},g,t.parser);const _=function(e){return!1===t.allowedTags||(t.allowedTags||[]).indexOf(e)>-1};u.forEach((function(e){_(e)&&!t.allowVulnerableTags&&console.warn(`\n\n Your \`allowedTags\` option includes, \`${e}\`, which is inherently\nvulnerable to XSS attacks. Please remove it from \`allowedTags\`.\nOr, to disable this warning, add the \`allowVulnerableTags\` option\nand ensure you are accounting for this risk.\n\n`)}));const w=t.nonTextTags||["script","style","textarea","option"];let k,C;t.allowedAttributes&&(k={},C={},d(t.allowedAttributes,(function(e,t){k[t]=[];const n=[];e.forEach((function(e){"string"==typeof e&&e.indexOf("*")>=0?n.push(r(e).replace(/\\\*/g,".*")):k[t].push(e)})),n.length&&(C[t]=new RegExp("^("+n.join("|")+")$"))})));const E={},x={},S={};d(t.allowedClasses,(function(e,t){if(k&&(h(k,t)||(k[t]=[]),k[t].push("class")),E[t]=e,Array.isArray(e)){const n=[];E[t]=[],S[t]=[],e.forEach((function(e){"string"==typeof e&&e.indexOf("*")>=0?n.push(r(e).replace(/\\\*/g,".*")):e instanceof RegExp?S[t].push(e):E[t].push(e)})),n.length&&(x[t]=new RegExp("^("+n.join("|")+")$"))}}));const O={};let T,M,P,D,L,A,z;d(t.transformTags,(function(e,t){let n;"function"==typeof e?n=e:"string"==typeof e&&(n=m.simpleTransform(e)),"*"===t?T=n:O[t]=n}));let I=!1;j();const R=new i.Parser({onopentag:function(e,n){if(t.enforceHtmlBoundary&&"html"===e&&j(),A)return void z++;const i=new v(e,n);P.push(i);let r=!1;const c=!!i.text;let u;if(h(O,e)&&(u=O[e](e,n),i.attribs=n=u.attribs,void 0!==u.text&&(i.innerText=u.text),e!==u.tagName&&(i.name=e=u.tagName,L[M]=u.tagName)),T&&(u=T(e,n),i.attribs=n=u.attribs,e!==u.tagName&&(i.name=e=u.tagName,L[M]=u.tagName)),(!_(e)||"recursiveEscape"===t.disallowedTagsMode&&!function(e){for(const t in e)if(h(e,t))return!1;return!0}(D)||null!=t.nestingLimit&&M>=t.nestingLimit)&&(r=!0,D[M]=!0,"discard"!==t.disallowedTagsMode&&"completelyDiscard"!==t.disallowedTagsMode||-1!==w.indexOf(e)&&(A=!0,z=1),D[M]=!0),M++,r){if("discard"===t.disallowedTagsMode||"completelyDiscard"===t.disallowedTagsMode)return;y=b,b=""}b+="<"+e,"script"===e&&(t.allowedScriptHostnames||t.allowedScriptDomains)&&(i.innerText=""),(!k||h(k,e)||k["*"])&&d(n,(function(n,r){if(!f.test(r))return void delete i.attribs[r];if(""===n&&!t.allowedEmptyAttributes.includes(r)&&(t.nonBooleanAttributes.includes(r)||t.nonBooleanAttributes.includes("*")))return void delete i.attribs[r];let c=!1;if(!k||h(k,e)&&-1!==k[e].indexOf(r)||k["*"]&&-1!==k["*"].indexOf(r)||h(C,e)&&C[e].test(r)||C["*"]&&C["*"].test(r))c=!0;else if(k&&k[e])for(const t of k[e])if(o(t)&&t.name&&t.name===r){c=!0;let e="";if(!0===t.multiple){const i=n.split(" ");for(const n of i)-1!==t.values.indexOf(n)&&(""===e?e=n:e+=" "+n)}else t.values.indexOf(n)>=0&&(e=n);n=e}if(c){if(-1!==t.allowedSchemesAppliedToAttributes.indexOf(r)&&F(e,n))return void delete i.attribs[r];if("script"===e&&"src"===r){let e=!0;try{const i=Y(n);if(t.allowedScriptHostnames||t.allowedScriptDomains){const n=(t.allowedScriptHostnames||[]).find((function(e){return e===i.url.hostname})),r=(t.allowedScriptDomains||[]).find((function(e){return i.url.hostname===e||i.url.hostname.endsWith(`.${e}`)}));e=n||r}}catch(t){e=!1}if(!e)return void delete i.attribs[r]}if("iframe"===e&&"src"===r){let e=!0;try{const i=Y(n);if(i.isRelativeUrl)e=h(t,"allowIframeRelativeUrls")?t.allowIframeRelativeUrls:!t.allowedIframeHostnames&&!t.allowedIframeDomains;else if(t.allowedIframeHostnames||t.allowedIframeDomains){const n=(t.allowedIframeHostnames||[]).find((function(e){return e===i.url.hostname})),r=(t.allowedIframeDomains||[]).find((function(e){return i.url.hostname===e||i.url.hostname.endsWith(`.${e}`)}));e=n||r}}catch(t){e=!1}if(!e)return void delete i.attribs[r]}if("srcset"===r)try{let e=a(n);if(e.forEach((function(e){F("srcset",e.url)&&(e.evil=!0)})),e=p(e,(function(e){return!e.evil})),!e.length)return void delete i.attribs[r];n=p(e,(function(e){return!e.evil})).map((function(e){if(!e.url)throw new Error("URL missing");return e.url+(e.w?` ${e.w}w`:"")+(e.h?` ${e.h}h`:"")+(e.d?` ${e.d}x`:"")})).join(", "),i.attribs[r]=n}catch(e){return void delete i.attribs[r]}if("class"===r){const t=E[e],o=E["*"],a=x[e],l=S[e],c=[a,x["*"]].concat(l).filter((function(e){return e}));if(!(u=n,d=t&&o?s(t,o):t||o,m=c,n=d?(u=u.split(/\s+/)).filter((function(e){return-1!==d.indexOf(e)||m.some((function(t){return t.test(e)}))})).join(" "):u).length)return void delete i.attribs[r]}if("style"===r)if(t.parseStyleAttributes)try{if(n=function(e){return e.nodes[0].nodes.reduce((function(e,t){return e.push(`${t.prop}:${t.value}${t.important?" !important":""}`),e}),[]).join(";")}(function(e,t){if(!t)return e;const n=e.nodes[0];let i;return i=t[n.selector]&&t["*"]?s(t[n.selector],t["*"]):t[n.selector]||t["*"],i&&(e.nodes[0].nodes=n.nodes.reduce(function(e){return function(t,n){return h(e,n.prop)&&e[n.prop].some((function(e){return e.test(n.value)}))&&t.push(n),t}}(i),[])),e}(l(e+" {"+n+"}",{map:!1}),t.allowedStyles)),0===n.length)return void delete i.attribs[r]}catch(t){return"undefined"!=typeof window&&console.warn('Failed to parse "'+e+" {"+n+"}\", If you're running this in a browser, we recommend to disable style parsing: options.parseStyleAttributes: false, since this only works in a node environment due to a postcss dependency, More info: https://github.com/apostrophecms/sanitize-html/issues/547"),void delete i.attribs[r]}else if(t.allowedStyles)throw new Error("allowedStyles option cannot be used together with parseStyleAttributes: false.");b+=" "+r,n&&n.length?b+='="'+N(n,!0)+'"':t.allowedEmptyAttributes.includes(r)&&(b+='=""')}else delete i.attribs[r];var u,d,m})),-1!==t.selfClosing.indexOf(e)?b+=" />":(b+=">",!i.innerText||c||t.textFilter||(b+=N(i.innerText),I=!0)),r&&(b=y+N(b),y="")},ontext:function(e){if(A)return;const n=P[P.length-1];let i;if(n&&(i=n.tag,e=void 0!==n.innerText?n.innerText:e),"completelyDiscard"!==t.disallowedTagsMode||_(i))if("discard"!==t.disallowedTagsMode&&"completelyDiscard"!==t.disallowedTagsMode||"script"!==i&&"style"!==i){const n=N(e,!1);t.textFilter&&!I?b+=t.textFilter(n,i):I||(b+=n)}else b+=e;else e="";P.length&&(P[P.length-1].text+=e)},onclosetag:function(e,n){if(A){if(z--,z)return;A=!1}const i=P.pop();if(!i)return;if(i.tag!==e)return void P.push(i);A=!!t.enforceHtmlBoundary&&"html"===e,M--;const r=D[M];if(r){if(delete D[M],"discard"===t.disallowedTagsMode||"completelyDiscard"===t.disallowedTagsMode)return void i.updateParentNodeText();y=b,b=""}L[M]&&(e=L[M],delete L[M]),t.exclusiveFilter&&t.exclusiveFilter(i)?b=b.substr(0,i.tagPosition):(i.updateParentNodeMediaChildren(),i.updateParentNodeText(),-1!==t.selfClosing.indexOf(e)||n&&!_(e)&&["escape","recursiveEscape"].indexOf(t.disallowedTagsMode)>=0?r&&(b=y,y=""):(b+="</"+e+">",r&&(b=y+N(b),y=""),I=!1))}},t.parser);return R.write(e),R.end(),b;function j(){b="",M=0,P=[],D={},L={},A=!1,z=0}function N(e,n){return"string"!=typeof e&&(e+=""),t.parser.decodeEntities&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n&&(e=e.replace(/"/g,"&quot;"))),e=e.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n&&(e=e.replace(/"/g,"&quot;")),e}function F(e,n){for(n=n.replace(/[\x00-\x20]+/g,"");;){const e=n.indexOf("\x3c!--");if(-1===e)break;const t=n.indexOf("--\x3e",e+4);if(-1===t)break;n=n.substring(0,e)+n.substring(t+3)}const i=n.match(/^([a-zA-Z][a-zA-Z0-9.\-+]*):/);if(!i)return!!n.match(/^[/\\]{2}/)&&!t.allowProtocolRelative;const r=i[1].toLowerCase();return h(t.allowedSchemesByTag,e)?-1===t.allowedSchemesByTag[e].indexOf(r):!t.allowedSchemes||-1===t.allowedSchemes.indexOf(r)}function Y(e){if((e=e.replace(/^(\w+:)?\s*[\\/]\s*[\\/]/,"$1//")).startsWith("relative:"))throw new Error("relative: exploit attempt");let t="relative://relative-site";for(let e=0;e<100;e++)t+=`/${e}`;const n=new URL(e,t);return{isRelativeUrl:n&&"relative-site"===n.hostname&&"relative:"===n.protocol,url:n}}}const g={decodeEntities:!0};m.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],nonBooleanAttributes:["abbr","accept","accept-charset","accesskey","action","allow","alt","as","autocapitalize","autocomplete","blocking","charset","cite","class","color","cols","colspan","content","contenteditable","coords","crossorigin","data","datetime","decoding","dir","dirname","download","draggable","enctype","enterkeyhint","fetchpriority","for","form","formaction","formenctype","formmethod","formtarget","headers","height","hidden","high","href","hreflang","http-equiv","id","imagesizes","imagesrcset","inputmode","integrity","is","itemid","itemprop","itemref","itemtype","kind","label","lang","list","loading","low","max","maxlength","media","method","min","minlength","name","nonce","optimum","pattern","ping","placeholder","popover","popovertarget","popovertargetaction","poster","preload","referrerpolicy","rel","rows","rowspan","sandbox","scope","shape","size","sizes","slot","span","spellcheck","src","srcdoc","srclang","srcset","start","step","style","tabindex","target","title","translate","type","usemap","value","width","wrap","onauxclick","onafterprint","onbeforematch","onbeforeprint","onbeforeunload","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onformdata","onhashchange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onlanguagechange","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmessageerror","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onoffline","ononline","onpagehide","onpageshow","onpaste","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreset","onresize","onrejectionhandled","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onslotchange","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","ontoggle","onunhandledrejection","onunload","onvolumechange","onwaiting","onwheel"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src","srcset","alt","title","width","height","loading"]},allowedEmptyAttributes:["alt"],selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1,parseStyleAttributes:!0},m.simpleTransform=function(e,t,n){return n=void 0===n||n,t=t||{},function(i,r){let o;if(n)for(o in t)r[o]=t[o];else r=t;return{tagName:e,attribs:r}}}},87151:function(e){"use strict";e.exports=e=>{if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},7463:function(e,t){"use strict";var n,i,r,o;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,u=null,d=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(d,0),e}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(d,0))},i=function(e,t){u=setTimeout(e,t)},r=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var f=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof f&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,b=-1,y=5,v=0;t.unstable_shouldYield=function(){return t.unstable_now()>=v},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,w=_.port2;_.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();v=e+y;try{g(!0,e)?w.postMessage(null):(m=!1,g=null)}catch(e){throw w.postMessage(null),e}}else m=!1},n=function(e){g=e,m||(m=!0,w.postMessage(null))},i=function(e,n){b=h((function(){e(t.unstable_now())}),n)},r=function(){p(b),b=-1}}function k(e,t){var n=e.length;e.push(t);e:for(;;){var i=n-1>>>1,r=e[i];if(!(void 0!==r&&0<x(r,t)))break e;e[i]=t,e[n]=r,n=i}}function C(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length;i<r;){var o=2*(i+1)-1,s=e[o],a=o+1,l=e[a];if(void 0!==s&&0>x(s,n))void 0!==l&&0>x(l,s)?(e[i]=l,e[a]=n,i=a):(e[i]=s,e[o]=n,i=o);else{if(!(void 0!==l&&0>x(l,n)))break e;e[i]=l,e[a]=n,i=a}}}return t}return null}function x(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],O=[],T=1,M=null,P=3,D=!1,L=!1,A=!1;function z(e){for(var t=C(O);null!==t;){if(null===t.callback)E(O);else{if(!(t.startTime<=e))break;E(O),t.sortIndex=t.expirationTime,k(S,t)}t=C(O)}}function I(e){if(A=!1,z(e),!L)if(null!==C(S))L=!0,n(R);else{var t=C(O);null!==t&&i(I,t.startTime-e)}}function R(e,n){L=!1,A&&(A=!1,r()),D=!0;var o=P;try{for(z(n),M=C(S);null!==M&&(!(M.expirationTime>n)||e&&!t.unstable_shouldYield());){var s=M.callback;if("function"==typeof s){M.callback=null,P=M.priorityLevel;var a=s(M.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?M.callback=a:M===C(S)&&E(S),z(n)}else E(S);M=C(S)}if(null!==M)var l=!0;else{var c=C(O);null!==c&&i(I,c.startTime-n),l=!1}return l}finally{M=null,P=o,D=!1}}var j=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){L||D||(L=!0,n(R))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return C(S)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,o,s){var a=t.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?a+s:a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:T++,callback:o,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>a?(e.sortIndex=s,k(O,e),null===C(S)&&e===C(O)&&(A?r():A=!0,i(I,s-a))):(e.sortIndex=l,k(S,e),L||D||(L=!0,n(R))),e},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},69982:function(e,t,n){"use strict";e.exports=n(7463)},66741:function(e){var t=function(e,t){for(var n="",i=0;i<t;i+=1)n+=e;return n};function n(e,n){var i=null,r=null,o="underline",s="indention",a="-",l=3,c="-",u=!1;n&&("function"==typeof n.linkProcess&&(i=n.linkProcess),"function"==typeof n.imgProcess&&(r=n.imgProcess),n.headingStyle&&(o=n.headingStyle),n.listStyle&&(s=n.listStyle),n.uIndentionChar&&(a=n.uIndentionChar),n.listIndentionTabs&&(l=n.listIndentionTabs),n.oIndentionChar&&(c=n.oIndentionChar),n.keepNbsps&&(u=n.keepNbsps));var d=t(a,l),h=String(e).replace(/\n|\r/g," ");const p=h.match(/<\/body>/i);p&&(h=h.substring(0,p.index));const f=h.match(/<body[^>]*>/i);if(f&&(h=h.substring(f.index+f[0].length,h.length)),h=(h=(h=h.replace(/<(script|style)( [^>]*)*>((?!<\/\1( [^>]*)*>).)*<\/\1>/gi,"")).replace(/<(\/)?((?!h[1-6]( [^>]*)*>)(?!img( [^>]*)*>)(?!a( [^>]*)*>)(?!ul( [^>]*)*>)(?!ol( [^>]*)*>)(?!li( [^>]*)*>)(?!p( [^>]*)*>)(?!div( [^>]*)*>)(?!td( [^>]*)*>)(?!br( [^>]*)*>)[^>\/])[^<>]*>/gi,"")).replace(/<img([^>]*)>/gi,(function(e,t){var n="",i="",o=/src="([^"]*)"/i.exec(t),s=/alt="([^"]*)"/i.exec(t);return null!==o&&(n=o[1]),null!==s&&(i=s[1]),"function"==typeof r?r(n,i):""===i?"![image] ("+n+")":"!["+i+"] ("+n+")"})),"linebreak"===s)h=h.replace(/<\/?ul[^>]*>|<\/?ol[^>]*>|<\/?li[^>]*>/gi,"\n");else if("indention"===s)for(;/<(o|u)l[^>]*>(.*)<\/\1l>/gi.test(h);)h=h.replace(/<(o|u)l([^>]*)>(((?!<(o|u)l[^>]*>)(?!<\/(o|u)l>).)*)<\/\1l>/gi,(function(e,n,i,r){var o=0;return i&&/start="([0-9]+)"/i.test(i)&&(o=/start="([0-9]+)"/i.exec(i)[1]-1),"<p>"+r.replace(/<li[^>]*>(((?!<li[^>]*>)(?!<\/li>).)*)<\/li>/gi,(function(e,i){var r=0;return i.replace(/(^|(<br \/>))(?!<p>)/gi,(function(){return"o"===n&&0===r?(r+=1,"<br />"+(o+=1)+t(c,l-String(o).length)):"<br />"+d}))}))+"</p>"}));for("linebreak"===o?h=h.replace(/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,"\n$2\n"):"underline"===o?h=(h=(h=h.replace(/<h1[^>]*>(((?!<\/h1>).)*)<\/h1>/gi,(function(e,n){return"\n&nbsp;\n"+n+"\n"+t("=",n.length)+"\n&nbsp;\n"}))).replace(/<h2[^>]*>(((?!<\/h2>).)*)<\/h2>/gi,(function(e,n){return"\n&nbsp;\n"+n+"\n"+t("-",n.length)+"\n&nbsp;\n"}))).replace(/<h([3-6])[^>]*>(((?!<\/h\1>).)*)<\/h\1>/gi,(function(e,t,n){return"\n&nbsp;\n"+n+"\n&nbsp;\n"})):"hashify"===o&&(h=h.replace(/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,(function(e,n,i){return"\n&nbsp;\n"+t("#",n)+" "+i+"\n&nbsp;\n"}))),h=(h=(h=(h=h.replace(/<br( [^>]*)*>|<p( [^>]*)*>|<\/p( [^>]*)*>|<div( [^>]*)*>|<\/div( [^>]*)*>|<td( [^>]*)*>|<\/td( [^>]*)*>/gi,"\n")).replace(/<a[^>]*href="([^"]*)"[^>]*>([^<]+)<\/a[^>]*>/gi,(function(e,t,n){return"function"==typeof i?i(t,n):" ["+n+"] ("+t+") "}))).replace(/\n[ \t\f]*/gi,"\n")).replace(/\n\n+/gi,"\n"),h=(h=(h=u?(h=h.replace(/( |\t)+/gi," ")).replace(/&nbsp;/gi," "):h.replace(/( |&nbsp;|\t)+/gi," ")).replace(/\n +/gi,"\n")).replace(/^ +/gi,"");0===h.indexOf("\n");)h=h.substring(1);return 0!==h.length&&h.lastIndexOf("\n")===h.length-1||(h+="\n"),h}!function(t,n){if(this&&"function"==typeof this.define)this.define(n);else if(e.exports)e.exports=n();else{var i=n(),r=this,o=r[t];i.noConflict=function(){return r[t]=o,i},r[t]=i}}("createTextVersion",(function(){return n}))},16426:function(e){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],i=0;i<e.rangeCount;i++)n.push(e.getRangeAt(i));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},46579:function(e,t){!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var i=t.length-1,r=1;r<i;++r)t[r]=t[r].slice(1,-1);return t[i]=t[i].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function i(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function r(e){return e.toUpperCase()}function o(e){var i="[A-Za-z]",r="[0-9]",o=t(r,"[A-Fa-f]"),s=n(n("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+n("%[89A-Fa-f]"+o+"%"+o+o)+"|"+n("%"+o+o)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",l=t("[\\:\\/\\?\\#\\[\\]\\@]",a),c=e?"[\\uE000-\\uF8FF]":"[]",u=t(i,r,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),d=n(i+t(i,r,"[\\+\\-\\.]")+"*"),h=n(n(s+"|"+t(u,a,"[\\:]"))+"*"),p=(n(n("25[0-5]")+"|"+n("2[0-4]"+r)+"|"+n("1"+r+r)+"|"+n("[1-9]"+r)+"|"+r),n(n("25[0-5]")+"|"+n("2[0-4]"+r)+"|"+n("1"+r+r)+"|"+n("0?[1-9]"+r)+"|0?0?"+r)),f=n(p+"\\."+p+"\\."+p+"\\."+p),m=n(o+"{1,4}"),g=n(n(m+"\\:"+m)+"|"+f),b=n(n(m+"\\:")+"{6}"+g),y=n("\\:\\:"+n(m+"\\:")+"{5}"+g),v=n(n(m)+"?\\:\\:"+n(m+"\\:")+"{4}"+g),_=n(n(n(m+"\\:")+"{0,1}"+m)+"?\\:\\:"+n(m+"\\:")+"{3}"+g),w=n(n(n(m+"\\:")+"{0,2}"+m)+"?\\:\\:"+n(m+"\\:")+"{2}"+g),k=n(n(n(m+"\\:")+"{0,3}"+m)+"?\\:\\:"+m+"\\:"+g),C=n(n(n(m+"\\:")+"{0,4}"+m)+"?\\:\\:"+g),E=n(n(n(m+"\\:")+"{0,5}"+m)+"?\\:\\:"+m),x=n(n(n(m+"\\:")+"{0,6}"+m)+"?\\:\\:"),S=n([b,y,v,_,w,k,C,E,x].join("|")),O=n(n(u+"|"+s)+"+"),T=(n(S+"\\%25"+O),n(S+n("\\%25|\\%(?!"+o+"{2})")+O)),M=n("[vV]"+o+"+\\."+t(u,a,"[\\:]")+"+"),P=n("\\["+n(T+"|"+S+"|"+M)+"\\]"),D=n(n(s+"|"+t(u,a))+"*"),L=n(P+"|"+f+"(?!"+D+")|"+D),A=n(r+"*"),z=n(n(h+"@")+"?"+L+n("\\:"+A)+"?"),I=n(s+"|"+t(u,a,"[\\:\\@]")),R=n(I+"*"),j=n(I+"+"),N=n(n(s+"|"+t(u,a,"[\\@]"))+"+"),F=n(n("\\/"+R)+"*"),Y=n("\\/"+n(j+F)+"?"),B=n(N+F),H=n(j+F),V="(?!"+I+")",W=(n(F+"|"+Y+"|"+B+"|"+H+"|"+V),n(n(I+"|"+t("[\\/\\?]",c))+"*")),U=n(n(I+"|[\\/\\?]")+"*"),$=n(n("\\/\\/"+z+F)+"|"+Y+"|"+H+"|"+V),q=n(d+"\\:"+$+n("\\?"+W)+"?"+n("\\#"+U)+"?"),K=n(n("\\/\\/"+z+F)+"|"+Y+"|"+B+"|"+V),G=n(K+n("\\?"+W)+"?"+n("\\#"+U)+"?");return n(q+"|"+G),n(d+"\\:"+$+n("\\?"+W)+"?"),n(n("\\/\\/("+n("("+h+")@")+"?("+L+")"+n("\\:("+A+")")+"?)")+"?("+F+"|"+Y+"|"+H+"|"+V+")"),n("\\?("+W+")"),n("\\#("+U+")"),n(n("\\/\\/("+n("("+h+")@")+"?("+L+")"+n("\\:("+A+")")+"?)")+"?("+F+"|"+Y+"|"+B+"|"+V+")"),n("\\?("+W+")"),n("\\#("+U+")"),n(n("\\/\\/("+n("("+h+")@")+"?("+L+")"+n("\\:("+A+")")+"?)")+"?("+F+"|"+Y+"|"+H+"|"+V+")"),n("\\?("+W+")"),n("\\#("+U+")"),n("("+h+")@"),n("\\:("+A+")"),{NOT_SCHEME:new RegExp(t("[^]",i,r,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",u,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",u,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",u,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",u,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",u,a,"[\\:\\@\\/\\?]",c),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",u,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",u,a),"g"),UNRESERVED:new RegExp(u,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",u,l),"g"),PCT_ENCODED:new RegExp(s,"g"),IPV4ADDRESS:new RegExp("^("+f+")$"),IPV6ADDRESS:new RegExp("^\\[?("+S+")"+n(n("\\%25|\\%(?!"+o+"{2})")+"("+O+")")+"?\\]?$")}}var s=o(!1),a=o(!0),l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=2147483647,u=36,d=/^xn--/,h=/[^\0-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,g=String.fromCharCode;function b(e){throw new RangeError(f[e])}function y(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+function(e,t){for(var n=[],i=e.length;i--;)n[i]=t(e[i]);return n}((e=e.replace(p,".")).split("."),t).join(".")}function v(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&r)<<10)+(1023&o)+65536):(t.push(r),n--)}else t.push(r)}return t}var _=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},w=function(e,t,n){var i=0;for(e=n?m(e/700):e>>1,e+=m(e/t);e>455;i+=u)e=m(e/35);return m(i+36*e/(e+38))},k=function(e){var t,n=[],i=e.length,r=0,o=128,s=72,a=e.lastIndexOf("-");a<0&&(a=0);for(var l=0;l<a;++l)e.charCodeAt(l)>=128&&b("not-basic"),n.push(e.charCodeAt(l));for(var d=a>0?a+1:0;d<i;){for(var h=r,p=1,f=u;;f+=u){d>=i&&b("invalid-input");var g=(t=e.charCodeAt(d++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:u;(g>=u||g>m((c-r)/p))&&b("overflow"),r+=g*p;var y=f<=s?1:f>=s+26?26:f-s;if(g<y)break;var v=u-y;p>m(c/v)&&b("overflow"),p*=v}var _=n.length+1;s=w(r-h,_,0==h),m(r/_)>c-o&&b("overflow"),o+=m(r/_),r%=_,n.splice(r++,0,o)}return String.fromCodePoint.apply(String,n)},C=function(e){var t=[],n=(e=v(e)).length,i=128,r=0,o=72,s=!0,a=!1,l=void 0;try{for(var d,h=e[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var p=d.value;p<128&&t.push(g(p))}}catch(e){a=!0,l=e}finally{try{!s&&h.return&&h.return()}finally{if(a)throw l}}var f=t.length,y=f;for(f&&t.push("-");y<n;){var k=c,C=!0,E=!1,x=void 0;try{for(var S,O=e[Symbol.iterator]();!(C=(S=O.next()).done);C=!0){var T=S.value;T>=i&&T<k&&(k=T)}}catch(e){E=!0,x=e}finally{try{!C&&O.return&&O.return()}finally{if(E)throw x}}var M=y+1;k-i>m((c-r)/M)&&b("overflow"),r+=(k-i)*M,i=k;var P=!0,D=!1,L=void 0;try{for(var A,z=e[Symbol.iterator]();!(P=(A=z.next()).done);P=!0){var I=A.value;if(I<i&&++r>c&&b("overflow"),I==i){for(var R=r,j=u;;j+=u){var N=j<=o?1:j>=o+26?26:j-o;if(R<N)break;var F=R-N,Y=u-N;t.push(g(_(N+F%Y,0))),R=m(F/Y)}t.push(g(_(R,0))),o=w(r,M,y==f),r=0,++y}}}catch(e){D=!0,L=e}finally{try{!P&&z.return&&z.return()}finally{if(D)throw L}}++r,++i}return t.join("")},E={version:"2.1.0",ucs2:{decode:v,encode:function(e){return String.fromCodePoint.apply(String,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e))}},decode:k,encode:C,toASCII:function(e){return y(e,(function(e){return h.test(e)?"xn--"+C(e):e}))},toUnicode:function(e){return y(e,(function(e){return d.test(e)?k(e.slice(4).toLowerCase()):e}))}},x={};function S(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function O(e){for(var t="",n=0,i=e.length;n<i;){var r=parseInt(e.substr(n+1,2),16);if(r<128)t+=String.fromCharCode(r),n+=3;else if(r>=194&&r<224){if(i-n>=6){var o=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&r)<<6|63&o)}else t+=e.substr(n,6);n+=6}else if(r>=224){if(i-n>=9){var s=parseInt(e.substr(n+4,2),16),a=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function T(e,t){function n(e){var n=O(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,S).replace(t.PCT_ENCODED,r)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,S).replace(t.PCT_ENCODED,r)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,S).replace(t.PCT_ENCODED,r)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,S).replace(t.PCT_ENCODED,r)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,S).replace(t.PCT_ENCODED,r)),e}function M(e){return e.replace(/^0*(.*)/,"$1")||"0"}function P(e,t){var n=e.match(t.IPV4ADDRESS)||[],i=l(n,2)[1];return i?i.split(".").map(M).join("."):e}function D(e,t){var n=e.match(t.IPV6ADDRESS)||[],i=l(n,3),r=i[1],o=i[2];if(r){for(var s=r.toLowerCase().split("::").reverse(),a=l(s,2),c=a[0],u=a[1],d=u?u.split(":").map(M):[],h=c.split(":").map(M),p=t.IPV4ADDRESS.test(h[h.length-1]),f=p?7:8,m=h.length-f,g=Array(f),b=0;b<f;++b)g[b]=d[b]||h[m+b]||"";p&&(g[f-1]=P(g[f-1],t));var y=g.reduce((function(e,t,n){if(!t||"0"===t){var i=e[e.length-1];i&&i.index+i.length===n?i.length++:e.push({index:n,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],v=void 0;if(y&&y.length>1){var _=g.slice(0,y.index),w=g.slice(y.index+y.length);v=_.join(":")+"::"+w.join(":")}else v=g.join(":");return o&&(v+="%"+o),v}return e}var L=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,A=void 0==="".match(/(){0}/)[1];function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},i=!1!==t.iri?a:s;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var r=e.match(L);if(r){A?(n.scheme=r[1],n.userinfo=r[3],n.host=r[4],n.port=parseInt(r[5],10),n.path=r[6]||"",n.query=r[7],n.fragment=r[8],isNaN(n.port)&&(n.port=r[5])):(n.scheme=r[1]||void 0,n.userinfo=-1!==e.indexOf("@")?r[3]:void 0,n.host=-1!==e.indexOf("//")?r[4]:void 0,n.port=parseInt(r[5],10),n.path=r[6]||"",n.query=-1!==e.indexOf("?")?r[7]:void 0,n.fragment=-1!==e.indexOf("#")?r[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?r[4]:void 0)),n.host&&(n.host=D(P(n.host,i),i)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var o=x[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)T(n,i);else{if(n.host&&(t.domainHost||o&&o.domainHost))try{n.host=E.toASCII(n.host.replace(i.PCT_ENCODED,O).toLowerCase())}catch(e){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+e}T(n,s)}o&&o.parse&&o.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}var I=/^\.\.?\//,R=/^\/\.(\/|$)/,j=/^\/\.\.(\/|$)/,N=/^\/?(?:.|\n)*?(?=\/|$)/;function F(e){for(var t=[];e.length;)if(e.match(I))e=e.replace(I,"");else if(e.match(R))e=e.replace(R,"/");else if(e.match(j))e=e.replace(j,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(N);if(!n)throw new Error("Unexpected dot segment condition");var i=n[0];e=e.slice(i.length),t.push(i)}return t.join("")}function Y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?a:s,i=[],r=x[(t.scheme||e.scheme||"").toLowerCase()];if(r&&r.serialize&&r.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||r&&r.domainHost)try{e.host=t.iri?E.toUnicode(e.host):E.toASCII(e.host.replace(n.PCT_ENCODED,O).toLowerCase())}catch(n){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+n}T(e,n),"suffix"!==t.reference&&e.scheme&&(i.push(e.scheme),i.push(":"));var o=function(e,t){var n=!1!==t.iri?a:s,i=[];return void 0!==e.userinfo&&(i.push(e.userinfo),i.push("@")),void 0!==e.host&&i.push(D(P(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(i.push(":"),i.push(String(e.port))),i.length?i.join(""):void 0}(e,t);if(void 0!==o&&("suffix"!==t.reference&&i.push("//"),i.push(o),e.path&&"/"!==e.path.charAt(0)&&i.push("/")),void 0!==e.path){var l=e.path;t.absolutePath||r&&r.absolutePath||(l=F(l)),void 0===o&&(l=l.replace(/^\/\//,"/%2F")),i.push(l)}return void 0!==e.query&&(i.push("?"),i.push(e.query)),void 0!==e.fragment&&(i.push("#"),i.push(e.fragment)),i.join("")}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={};return arguments[3]||(e=z(Y(e,n),n),t=z(Y(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=F(t.path||""),i.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=F(t.path||""),i.query=t.query):(t.path?("/"===t.path.charAt(0)?i.path=F(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path:i.path="/"+t.path,i.path=F(i.path)),i.query=t.query):(i.path=e.path,void 0!==t.query?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function H(e,t){return e&&e.toString().replace(t&&t.iri?a.PCT_ENCODED:s.PCT_ENCODED,O)}var V={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var n="https"===String(e.scheme).toLowerCase();return e.port!==(n?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},W={scheme:"https",domainHost:V.domainHost,parse:V.parse,serialize:V.serialize};function U(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var $={scheme:"ws",domainHost:!0,parse:function(e,t){var n=e;return n.secure=U(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n},serialize:function(e,t){if(e.port!==(U(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var n=e.resourceName.split("?"),i=l(n,2),r=i[0],o=i[1];e.path=r&&"/"!==r?r:void 0,e.query=o,e.resourceName=void 0}return e.fragment=void 0,e}},q={scheme:"wss",domainHost:$.domainHost,parse:$.parse,serialize:$.serialize},K={},G="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Z="[0-9A-Fa-f]",J=n(n("%[EFef]"+Z+"%"+Z+Z+"%"+Z+Z)+"|"+n("%[89A-Fa-f]"+Z+"%"+Z+Z)+"|"+n("%"+Z+Z)),X=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Q=new RegExp(G,"g"),ee=new RegExp(J,"g"),te=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',X),"g"),ne=new RegExp(t("[^]",G,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),ie=ne;function re(e){var t=O(e);return t.match(Q)?t:e}var oe={scheme:"mailto",parse:function(e,t){var n=e,i=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var r=!1,o={},s=n.query.split("&"),a=0,l=s.length;a<l;++a){var c=s[a].split("=");switch(c[0]){case"to":for(var u=c[1].split(","),d=0,h=u.length;d<h;++d)i.push(u[d]);break;case"subject":n.subject=H(c[1],t);break;case"body":n.body=H(c[1],t);break;default:r=!0,o[H(c[0],t)]=H(c[1],t)}}r&&(n.headers=o)}n.query=void 0;for(var p=0,f=i.length;p<f;++p){var m=i[p].split("@");if(m[0]=H(m[0]),t.unicodeSupport)m[1]=H(m[1],t).toLowerCase();else try{m[1]=E.toASCII(H(m[1],t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}i[p]=m.join("@")}return n},serialize:function(e,t){var n,i=e,o=null!=(n=e.to)?n instanceof Array?n:"number"!=typeof n.length||n.split||n.setInterval||n.call?[n]:Array.prototype.slice.call(n):[];if(o){for(var s=0,a=o.length;s<a;++s){var l=String(o[s]),c=l.lastIndexOf("@"),u=l.slice(0,c).replace(ee,re).replace(ee,r).replace(te,S),d=l.slice(c+1);try{d=t.iri?E.toUnicode(d):E.toASCII(H(d,t).toLowerCase())}catch(e){i.error=i.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}o[s]=u+"@"+d}i.path=o.join(",")}var h=e.headers=e.headers||{};e.subject&&(h.subject=e.subject),e.body&&(h.body=e.body);var p=[];for(var f in h)h[f]!==K[f]&&p.push(f.replace(ee,re).replace(ee,r).replace(ne,S)+"="+h[f].replace(ee,re).replace(ee,r).replace(ie,S));return p.length&&(i.query=p.join("&")),i}},se=/^([^\:]+)\:(.*)/,ae={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match(se),i=e;if(n){var r=t.scheme||i.scheme||"urn",o=n[1].toLowerCase(),s=n[2],a=r+":"+(t.nid||o),l=x[a];i.nid=o,i.nss=s,i.path=void 0,l&&(i=l.parse(i,t))}else i.error=i.error||"URN can not be parsed.";return i},serialize:function(e,t){var n=t.scheme||e.scheme||"urn",i=e.nid,r=n+":"+(t.nid||i),o=x[r];o&&(e=o.serialize(e,t));var s=e,a=e.nss;return s.path=(i||t.nid)+":"+a,s}},le=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ce={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(le)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};x[V.scheme]=V,x[W.scheme]=W,x[$.scheme]=$,x[q.scheme]=q,x[oe.scheme]=oe,x[ae.scheme]=ae,x[ce.scheme]=ce,e.SCHEMES=x,e.pctEncChar=S,e.pctDecChars=O,e.parse=z,e.removeDotSegments=F,e.serialize=Y,e.resolveComponents=B,e.resolve=function(e,t,n){var i=function(e,t){var n=e;if(t)for(var i in t)n[i]=t[i];return n}({scheme:"null"},n);return Y(B(z(e,i),z(t,i),i,!0),i)},e.normalize=function(e,t){return"string"==typeof e?e=Y(z(e,t),t):"object"===i(e)&&(e=z(Y(e,t),t)),e},e.equal=function(e,t,n){return"string"==typeof e?e=Y(z(e,n),n):"object"===i(e)&&(e=Y(e,n)),"string"==typeof t?t=Y(z(t,n),n):"object"===i(t)&&(t=Y(t,n)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?a.ESCAPE:s.ESCAPE,S)},e.unescapeComponent=H,Object.defineProperty(e,"__esModule",{value:!0})}(t)},49746:function(){},19977:function(){},197:function(){},21866:function(){},52739:function(){},70079:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i},e.exports.__esModule=!0,e.exports.default=e.exports},5901:function(e,t,n){var i=n(70079);e.exports=function(e){if(Array.isArray(e))return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},17383:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},34579:function(e,t,n){var i=n(77736);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},43693:function(e,t,n){var i=n(77736);e.exports=function(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},24994:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},99291:function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},41869:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},41132:function(e,t,n){var i=n(5901),r=n(99291),o=n(17122),s=n(41869);e.exports=function(e){return i(e)||r(e)||o(e)||s()},e.exports.__esModule=!0,e.exports.default=e.exports},89045:function(e,t,n){var i=n(73738).default;e.exports=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},77736:function(e,t,n){var i=n(73738).default,r=n(89045);e.exports=function(e){var t=r(e,"string");return"symbol"==i(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},73738:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},17122:function(e,t,n){var i=n(70079);e.exports=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},46942:function(e,t){var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,o(n)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)i.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},95042:function(e){e.exports={nanoid:(e=21)=>{let t="",n=e;for(;n--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t},customAlphabet:(e,t=21)=>(n=t)=>{let i="",r=n;for(;r--;)i+=e[Math.random()*e.length|0];return i}}},63837:function(e){"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},72079:function(e){"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}},i={};function r(e){var t=i[e];if(void 0!==t)return t.exports;var o=i[e]={id:e,loaded:!1,exports:{}};return n[e].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},r.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"==typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"==typeof n.then)return n}var o=Object.create(null);r.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((function(e){s[e]=function(){return n[e]}}));return s.default=function(){return n},r.d(o,s),o},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var i=n.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=n[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e}(),function(){"use strict";function e(){return e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e.apply(this,arguments)}var t;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var n="beforeunload";function i(e){e.preventDefault(),e.returnValue=""}function o(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function s(e){var t=e.pathname,n=void 0===t?"/":t,i=e.search,r=void 0===i?"":i,o=e.hash,s=void 0===o?"":o;return r&&"?"!==r&&(n+="?"===r.charAt(0)?r:"?"+r),s&&"#"!==s&&(n+="#"===s.charAt(0)?s:"#"+s),n}function a(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}var l=r(73065),c=r.n(l),u=r(96540),d=r(40961),h="An invariant failed, however the error is obfuscated because this is an production build.",p=[];Object.freeze(p);var f={};Object.freeze(f);var m={};function g(){return"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:m}function b(){return++He.mobxGuid}function y(e){throw v(!1,e),"X"}function v(e,t){if(!e)throw new Error("[mobx] "+(t||h))}function _(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var w=function(){};function k(e){return null!==e&&"object"==typeof e}function C(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function E(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function x(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function S(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return k(e)&&!0===e[n]}}function O(e){return Array.isArray(e)||Qt(e)}function T(e){return void 0!==g().Map&&e instanceof g().Map}function M(e){return e instanceof Set}function P(e){for(var t=[];;){var n=e.next();if(n.done)break;t.push(n.value)}return t}function D(){return"function"==typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function L(e){return null===e?null:"object"==typeof e?""+e:e}function A(e,t){for(var n=e.next();!n.done;)t(n.value),n=e.next()}function z(){return"function"==typeof Symbol&&Symbol.iterator||"@@iterator"}function I(e,t){x(e,z(),t)}function R(e){return e[z()]=N,e}function j(){return"function"==typeof Symbol&&Symbol.toStringTag||"@@toStringTag"}function N(){return this}var F=function(){function e(e){void 0===e&&(e="Atom@"+b()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=he.NOT_TRACKING}return e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.reportObserved=function(){return Ke(this)},e.prototype.reportChanged=function(){$e(),function(e){if(e.lowestObserverState!==he.STALE){e.lowestObserverState=he.STALE;for(var t=e.observers,n=t.length;n--;){var i=t[n];i.dependenciesState===he.UP_TO_DATE&&(i.isTracing!==pe.NONE&&Ge(i,e),i.onBecomeStale()),i.dependenciesState=he.STALE}}}(this),qe()},e.prototype.toString=function(){return this.name},e}(),Y=S("Atom",F);function B(e,t,n){void 0===t&&(t=w),void 0===n&&(n=w);var i=new F(e);return vt("onBecomeObserved",i,t,undefined),yt(i,n),i}function H(e,t){return e===t}var V={identity:H,structural:function(e,t){return _n(e,t)},default:function(e,t){return function(e,t){return"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}(e,t)||H(e,t)},shallow:function(e,t){return _n(e,t,1)}},W=function(e,t){return W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},W(e,t)};function U(e,t){function n(){this.constructor=e}W(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var $=function(){return $=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},$.apply(this,arguments)};function q(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function K(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(q(arguments[t]));return e}var G={},Z={};function J(e){if(!0!==e.__mobxDidRunLazyInitializers){var t=e.__mobxDecorators;if(t)for(var n in E(e,"__mobxDidRunLazyInitializers",!0),t){var i=t[n];i.propertyCreator(e,i.prop,i.descriptor,i.decoratorTarget,i.decoratorArguments)}}}function X(e,t){return function(){var n,i,r=function(i,r,o,s){if(!0===s)return t(i,r,o,i,n),null;if(!Object.prototype.hasOwnProperty.call(i,"__mobxDecorators")){var a=i.__mobxDecorators;E(i,"__mobxDecorators",$({},a))}return i.__mobxDecorators[r]={prop:r,propertyCreator:t,descriptor:o,decoratorTarget:i,decoratorArguments:n},function(e,t){var n=t?G:Z;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return J(this),this[e]},set:function(t){J(this),this[e]=t}})}(r,e)};return(2===(i=arguments).length||3===i.length)&&"string"==typeof i[1]||4===i.length&&!0===i[3]?(n=p,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function Q(e,t,n){return Ct(e)?e:Array.isArray(e)?ue.array(e,{name:n}):C(e)?ue.object(e,void 0,{name:n}):T(e)?ue.map(e,{name:n}):M(e)?ue.set(e,{name:n}):e}function ee(e){return e}function te(e){v(e);var t=X(!0,(function(t,n,i,r,o){un(t,n,i?i.initializer?i.initializer.call(t):i.value:void 0,e)})),n=("undefined"!=typeof process&&process.env,t);return n.enhancer=e,n}var ne={deep:!0,name:void 0,defaultDecorator:void 0};function ie(e){return null==e?ne:"string"==typeof e?{name:e,deep:!0}:e}function re(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?ee:Q}Object.freeze(ne),Object.freeze({deep:!1,name:void 0,defaultDecorator:void 0});var oe=te(Q),se=te((function(e,t,n){return null==e||mn(e)||Qt(e)||rn(e)||an(e)?e:Array.isArray(e)?ue.array(e,{name:n,deep:!1}):C(e)?ue.object(e,void 0,{name:n,deep:!1}):T(e)?ue.map(e,{name:n,deep:!1}):M(e)?ue.set(e,{name:n,deep:!1}):y(!1)})),ae=te(ee),le=te((function(e,t,n){return _n(e,t)?t:e})),ce={box:function(e,t){arguments.length>2&&de("box");var n=ie(t);return new Ie(e,re(n),n.name,!0,n.equals)},shallowBox:function(e,t){return arguments.length>2&&de("shallowBox"),ue.box(e,{name:t,deep:!1})},array:function(e,t){arguments.length>2&&de("array");var n=ie(t);return new qt(e,re(n),n.name)},shallowArray:function(e,t){return arguments.length>2&&de("shallowArray"),ue.array(e,{name:t,deep:!1})},map:function(e,t){arguments.length>2&&de("map");var n=ie(t);return new tn(e,re(n),n.name)},shallowMap:function(e,t){return arguments.length>2&&de("shallowMap"),ue.map(e,{name:t,deep:!1})},set:function(e,t){arguments.length>2&&de("set");var n=ie(t);return new sn(e,re(n),n.name)},object:function(e,t,n){return"string"==typeof arguments[1]&&de("object"),function(e,t,n,i){var r=(i=ie(i)).defaultDecorator||(!1===i.deep?ae:oe);J(e),cn(e,i.name,r.enhancer),$e();try{for(var o=Object.getOwnPropertyNames(t),s=0,a=o.length;s<a;s++){var l=o[s],c=Object.getOwnPropertyDescriptor(t,l),u=(n&&l in n?n[l]:c.get?fe:r)(e,l,c,!0);u&&Object.defineProperty(e,l,u)}}finally{qe()}return e}({},e,t,ie(n))},shallowObject:function(e,t){return"string"==typeof arguments[1]&&de("shallowObject"),ue.object(e,{},{name:t,deep:!1})},ref:ae,shallow:se,deep:oe,struct:le},ue=function(e,t,n){if("string"==typeof arguments[1])return oe.apply(null,arguments);if(Ct(e))return e;var i=C(e)?ue.object(e,t,n):Array.isArray(e)?ue.array(e,t):T(e)?ue.map(e,t):M(e)?ue.set(e,t):e;if(i!==e)return i;y(!1)};function de(e){y("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(ce).forEach((function(e){return ue[e]=ce[e]}));var he,pe,fe=X(!1,(function(e,t,n,i,r){var o=n.get,s=n.set,a=r[0]||{};!function(e,t,n){var i=cn(e);n.name=i.name+"."+t,n.context=e,i.values[t]=new je(n),Object.defineProperty(e,t,function(e){return hn[e]||(hn[e]={configurable:He.computedConfigurable,enumerable:!1,get:function(){return pn(this).read(this,e)},set:function(t){pn(this).write(this,e,t)}})}(t))}(e,t,$({get:o,set:s},a))})),me=fe({equals:V.structural}),ge=function(e,t,n){if("string"==typeof t)return fe.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return fe.apply(null,arguments);var i="object"==typeof t?t:{};return i.get=e,i.set="function"==typeof t?t:i.set,i.name=i.name||e.name||"",new je(i)};ge.struct=me,function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}(he||(he={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(pe||(pe={}));var be=function(e){this.cause=e};function ye(e){return e instanceof be}function ve(e){switch(e.dependenciesState){case he.UP_TO_DATE:return!1;case he.NOT_TRACKING:case he.STALE:return!0;case he.POSSIBLY_STALE:for(var t=Se(!0),n=Ee(),i=e.observing,r=i.length,o=0;o<r;o++){var s=i[o];if(Ne(s)){if(He.disableErrorBoundaries)s.get();else try{s.get()}catch(e){return xe(n),Oe(t),!0}if(e.dependenciesState===he.STALE)return xe(n),Oe(t),!0}}return Te(e),xe(n),Oe(t),!1}}function _e(e){var t=e.observers.length>0;He.computationDepth>0&&t&&y(!1),He.allowStateChanges||!t&&"strict"!==He.enforceActions||y(!1)}function we(e,t,n){var i=Se(!0);Te(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++He.runId;var r,o=He.trackingDerivation;if(He.trackingDerivation=e,!0===He.disableErrorBoundaries)r=t.call(n);else try{r=t.call(n)}catch(e){r=new be(e)}return He.trackingDerivation=o,function(e){for(var t=e.observing,n=e.observing=e.newObserving,i=he.UP_TO_DATE,r=0,o=e.unboundDepsCount,s=0;s<o;s++)0===(a=n[s]).diffValue&&(a.diffValue=1,r!==s&&(n[r]=a),r++),a.dependenciesState>i&&(i=a.dependenciesState);for(n.length=r,e.newObserving=null,o=t.length;o--;)0===(a=t[o]).diffValue&&We(a,e),a.diffValue=0;for(;r--;){var a;1===(a=n[r]).diffValue&&(a.diffValue=0,Ve(a,e))}i!==he.UP_TO_DATE&&(e.dependenciesState=i,e.onBecomeStale())}(e),e.observing.length,Oe(i),r}function ke(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)We(t[n],e);e.dependenciesState=he.NOT_TRACKING}function Ce(e){var t=Ee(),n=e();return xe(t),n}function Ee(){var e=He.trackingDerivation;return He.trackingDerivation=null,e}function xe(e){He.trackingDerivation=e}function Se(e){var t=He.allowStateReads;return He.allowStateReads=e,t}function Oe(e){He.allowStateReads=e}function Te(e){if(e.dependenciesState!==he.UP_TO_DATE){e.dependenciesState=he.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=he.UP_TO_DATE}}var Me=0,Pe=1,De=Object.getOwnPropertyDescriptor((function(){}),"name");function Le(e,t){var n=function(){return function(e,t,n,i){var r=function(e,t,n){var i=rt()&&!!e,r=0;if(i){r=Date.now();var o=n&&n.length||0,s=new Array(o);if(o>0)for(var a=0;a<o;a++)s[a]=n[a];st({type:"action",name:e,object:t,arguments:s})}var l=Ee();$e();var c={prevDerivation:l,prevAllowStateChanges:Ae(!0),prevAllowStateReads:Se(!0),notifySpy:i,startTime:r,actionId:Pe++,parentActionId:Me};return Me=c.actionId,c}(e,n,i);try{return t.apply(n,i)}catch(e){throw r.error=e,e}finally{!function(e){Me!==e.actionId&&y("invalid action stack. did you forget to finish an action?"),Me=e.parentActionId,void 0!==e.error&&(He.suppressReactionErrors=!0),ze(e.prevAllowStateChanges),Oe(e.prevAllowStateReads),qe(),xe(e.prevDerivation),e.notifySpy&&lt({time:Date.now()-e.startTime}),He.suppressReactionErrors=!1}(r)}}(e,t,this,arguments)};return n.isMobxAction=!0,n}function Ae(e){var t=He.allowStateChanges;return He.allowStateChanges=e,t}function ze(e){He.allowStateChanges=e}De&&De.configurable;var Ie=function(e){function t(t,n,i,r,o){void 0===i&&(i="ObservableValue@"+b()),void 0===r&&(r=!0),void 0===o&&(o=V.default);var s=e.call(this,i)||this;return s.enhancer=n,s.name=i,s.equals=o,s.hasUnreportedChange=!1,s.value=n(t,void 0,i),r&&rt()&&ot({type:"create",name:s.name,newValue:""+s.value}),s}return U(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){var t=this.value;if((e=this.prepareNewValue(e))!==He.UNCHANGED){var n=rt();n&&st({type:"update",name:this.name,newValue:e,oldValue:t}),this.setNewValue(e),n&&lt()}},t.prototype.prepareNewValue=function(e){if(_e(this),At(this)){var t=It(this,{object:this,type:"update",newValue:e});if(!t)return He.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?He.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),Rt(this)&&Nt(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return zt(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),jt(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return L(this.get())},t}(F);Ie.prototype[D()]=Ie.prototype.valueOf;var Re=S("ObservableValue",Ie),je=function(){function e(e){this.dependenciesState=he.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=he.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+b(),this.value=new be(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=pe.NONE,v(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+b(),e.set&&(this.setter=Le(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?V.structural:V.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState===he.UP_TO_DATE){e.lowestObserverState=he.POSSIBLY_STALE;for(var t=e.observers,n=t.length;n--;){var i=t[n];i.dependenciesState===he.UP_TO_DATE&&(i.dependenciesState=he.POSSIBLY_STALE,i.isTracing!==pe.NONE&&Ge(i,e),i.onBecomeStale())}}}(this)},e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.get=function(){this.isComputing&&y("Cycle detected in computation "+this.name+": "+this.derivation),0!==He.inBatch||0!==this.observers.length||this.keepAlive?(Ke(this),ve(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState!==he.STALE){e.lowestObserverState=he.STALE;for(var t=e.observers,n=t.length;n--;){var i=t[n];i.dependenciesState===he.POSSIBLY_STALE?i.dependenciesState=he.STALE:i.dependenciesState===he.UP_TO_DATE&&(e.lowestObserverState=he.UP_TO_DATE)}}}(this)):ve(this)&&(this.warnAboutUntrackedRead(),$e(),this.value=this.computeValue(!1),qe());var e=this.value;if(ye(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(ye(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){v(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else v(!1,!1)},e.prototype.trackAndCompute=function(){rt()&&ot({object:this.scope,type:"compute",name:this.name});var e=this.value,t=this.dependenciesState===he.NOT_TRACKING,n=this.computeValue(!0),i=t||ye(e)||ye(n)||!this.equals(e,n);return i&&(this.value=n),i},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,He.computationDepth++,e)t=we(this,this.derivation,this.scope);else if(!0===He.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new be(e)}return He.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(ke(this),this.value=void 0)},e.prototype.observe=function(e,t){var n=this,i=!0,r=void 0;return ft((function(){var o=n.get();if(!i||t){var s=Ee();e({type:"update",object:n,newValue:o,oldValue:r}),xe(s)}i=!1,r=o}))},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return L(this.get())},e}();je.prototype[D()]=je.prototype.valueOf;var Ne=S("ComputedValue",je),Fe=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Ye=!0,Be=!1,He=function(){var e=g();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Ye=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Fe).version&&(Ye=!1),Ye?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Fe):(setTimeout((function(){Be||y("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Fe)}();function Ve(e,t){var n=e.observers.length;n&&(e.observersIndexes[t.__mapid]=n),e.observers[n]=t,e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function We(e,t){if(1===e.observers.length)e.observers.length=0,Ue(e);else{var n=e.observers,i=e.observersIndexes,r=n.pop();if(r!==t){var o=i[t.__mapid]||0;o?i[r.__mapid]=o:delete i[r.__mapid],n[o]=r}delete i[t.__mapid]}}function Ue(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,He.pendingUnobservations.push(e))}function $e(){He.inBatch++}function qe(){if(0==--He.inBatch){et();for(var e=He.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.length&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof je&&n.suspend())}He.pendingUnobservations=[]}}function Ke(e){var t=He.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.length&&He.inBatch>0&&Ue(e),!1)}function Ge(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===pe.BREAK){var n=[];Ze(wt(gn(e,void 0)),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof je?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}function Ze(e,t,n){t.length>=1e3?t.push("(and many more)"):(t.push(""+new Array(n).join("\t")+e.name),e.dependencies&&e.dependencies.forEach((function(e){return Ze(e,t,n+1)})))}var Je=function(){function e(e,t,n,i){void 0===e&&(e="Reaction@"+b()),void 0===i&&(i=!1),this.name=e,this.onInvalidate=t,this.errorHandler=n,this.requiresObservable=i,this.observing=[],this.newObserving=[],this.dependenciesState=he.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+b(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=pe.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,He.pendingReactions.push(this),et())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if($e(),this._isScheduled=!1,ve(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&rt()&&ot({name:this.name,type:"scheduled-reaction"})}catch(e){this.reportExceptionInDerivation(e)}}qe()}},e.prototype.track=function(e){$e();var t,n=rt();n&&(t=Date.now(),st({name:this.name,type:"reaction"})),this._isRunning=!0;var i=we(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ke(this),ye(i)&&this.reportExceptionInDerivation(i.cause),n&&lt({time:Date.now()-t}),qe()},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(He.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";He.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,e),rt()&&ot({type:"error",name:this.name,message:n,error:""+e}),He.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||($e(),ke(this),qe()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e.$mobx=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var i=function(e){switch(e.length){case 0:return He.trackingDerivation;case 1:return gn(e[0]);case 2:return gn(e[0],e[1])}}(e);if(!i)return y(!1);i.isTracing===pe.NONE&&console.log("[mobx.trace] '"+i.name+"' tracing enabled"),i.isTracing=n?pe.BREAK:pe.LOG}(this,e)},e}(),Xe=100,Qe=function(e){return e()};function et(){He.inBatch>0||He.isRunningReactions||Qe(tt)}function tt(){He.isRunningReactions=!0;for(var e=He.pendingReactions,t=0;e.length>0;){++t===Xe&&(console.error("Reaction doesn't converge to a stable state after "+Xe+" iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),i=0,r=n.length;i<r;i++)n[i].runReaction()}He.isRunningReactions=!1}var nt=S("Reaction",Je);function it(e){var t=Qe;Qe=function(n){return e((function(){return t(n)}))}}function rt(){return!!He.spyListeners.length}function ot(e){if(He.spyListeners.length)for(var t=He.spyListeners,n=0,i=t.length;n<i;n++)t[n](e)}function st(e){ot($($({},e),{spyReportStart:!0}))}var at={spyReportEnd:!0};function lt(e){ot(e?$($({},e),{spyReportEnd:!0}):at)}function ct(e){return He.spyListeners.push(e),_((function(){He.spyListeners=He.spyListeners.filter((function(t){return t!==e}))}))}function ut(){y(!1)}function dt(e){return function(t,n,i){if(i){if(i.value)return{value:Le(e,i.value),enumerable:!1,configurable:!0,writable:!0};var r=i.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Le(e,r.call(this))}}}return function(e){return function(t,n,i){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){E(this,n,ht(e,t))}})}}(e).apply(this,arguments)}}var ht=function(e,t,n,i){return 1===arguments.length&&"function"==typeof e?Le(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?Le(e,t):1===arguments.length&&"string"==typeof e?dt(e):!0!==i?dt(t).apply(null,arguments):void(e[t]=Le(e.name||t,n.value))};function pt(e,t,n){E(e,t,Le(t,n.bind(e)))}function ft(e,t){void 0===t&&(t=f);var n,i=t&&t.name||e.name||"Autorun@"+b();if(t.scheduler||t.delay){var r=gt(t),o=!1;n=new Je(i,(function(){o||(o=!0,r((function(){o=!1,n.isDisposed||n.track(s)})))}),t.onError,t.requiresObservable)}else n=new Je(i,(function(){this.track(s)}),t.onError,t.requiresObservable);function s(){e(n)}return n.schedule(),n.getDisposer()}ht.bound=function(e,t,n,i){return!0===i?(pt(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return pt(this,t,n.value||n.initializer.call(this)),this[t]},set:ut}:{enumerable:!1,configurable:!0,set:function(e){pt(this,t,e)},get:function(){}}};var mt=function(e){return e()};function gt(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:mt}function bt(e,t,n){void 0===n&&(n=f),"boolean"==typeof n&&(n={fireImmediately:n});var i,r,o,s=n.name||"Reaction@"+b(),a=ht(s,n.onError?(i=n.onError,r=t,function(){try{return r.apply(this,arguments)}catch(e){i.call(this,e)}}):t),l=!n.scheduler&&!n.delay,c=gt(n),u=!0,d=!1,h=n.compareStructural?V.structural:n.equals||V.default,p=new Je(s,(function(){u||l?m():d||(d=!0,c(m))}),n.onError,n.requiresObservable);function m(){if(d=!1,!p.isDisposed){var t=!1;p.track((function(){var n=e(p);t=u||!h(o,n),o=n})),u&&n.fireImmediately&&a(o,p),u||!0!==t||a(o,p),u&&(u=!1)}}return p.schedule(),p.getDisposer()}function yt(e,t,n){return vt("onBecomeUnobserved",e,t,n)}function vt(e,t,n,i){var r="function"==typeof i?gn(t,n):gn(t),o="function"==typeof i?i:n,s=r[e];return"function"!=typeof s?y(!1):(r[e]=function(){s.call(this),o.call(this)},function(){r[e]=s})}function _t(e){var t=e.enforceActions,n=e.computedRequiresReaction,i=e.computedConfigurable,r=e.disableErrorBoundaries,o=e.arrayBuffer,s=e.reactionScheduler,a=e.reactionRequiresObservable,l=e.observableRequiresReaction;if(!0===e.isolateGlobalState&&((He.pendingReactions.length||He.inBatch||He.isRunningReactions)&&y("isolateGlobalState should be called before MobX is running any reactions"),Be=!0,Ye&&(0==--g().__mobxInstanceCount&&(g().__mobxGlobals=void 0),He=new Fe)),void 0!==t){var c=void 0;switch(t){case!0:case"observed":c=!0;break;case!1:case"never":c=!1;break;case"strict":case"always":c="strict";break;default:y("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}He.enforceActions=c,He.allowStateChanges=!0!==c&&"strict"!==c}void 0!==n&&(He.computedRequiresReaction=!!n),void 0!==a&&(He.reactionRequiresObservable=!!a),void 0!==l&&(He.observableRequiresReaction=!!l,He.allowStateReads=!He.observableRequiresReaction),void 0!==i&&(He.computedConfigurable=!!i),void 0!==r&&(!0===r&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors if this is on."),He.disableErrorBoundaries=!!r),"number"==typeof o&&Jt(o),s&&it(s)}function wt(e){var t,n,i={name:e.name};return e.observing&&e.observing.length>0&&(i.dependencies=(t=e.observing,n=[],t.forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),n).map(wt)),i}function kt(e,t,n){return"function"==typeof n?function(e,t,n){return bn(e,t).intercept(n)}(e,t,n):function(e,t){return bn(e).intercept(t)}(e,t)}function Ct(e){return 1!==arguments.length&&y(!1),function(e,t){if(null==e)return!1;if(void 0!==t){if(mn(e)){var n=e.$mobx;return n.values&&!!n.values[t]}return!1}return mn(e)||!!e.$mobx||Y(e)||nt(e)||Ne(e)}(e)}function Et(e,t,n){if(2!==arguments.length||an(e))if(mn(e)){var i=e.$mobx;i.values[t]?i.write(e,t,n):un(e,t,n,i.defaultEnhancer)}else if(rn(e))e.set(t,n);else if(an(e))e.add(t);else{if(!Qt(e))return y(!1);"number"!=typeof t&&(t=parseInt(t,10)),v(t>=0,"Not a valid index: '"+t+"'"),$e(),t>=e.length&&(e.length=t+1),e[t]=n,qe()}else{$e();var r=t;try{for(var o in r)Et(e,o,r[o])}finally{qe()}}}function xt(e,t){if(function(e,t){if(mn(e)){var n=bn(e);return n.getKeys(),!!n.values[t]}return rn(e)||an(e)?e.has(t):Qt(e)?t>=0&&t<e.length:y(!1)}(e,t))return mn(e)?e[t]:rn(e)?e.get(t):Qt(e)?e[t]:y(!1)}Object.create(Error.prototype);var St={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Ot(e,t,n,i){return i.detectCycles&&e.set(t,n),n}function Tt(e,t,n){if(!t.recurseEverything&&!Ct(e))return e;if("object"!=typeof e)return e;if(null===e)return null;if(e instanceof Date)return e;if(Re(e))return Tt(e.get(),t,n);if(Ct(e)&&(mn(i=e)?i.$mobx.getKeys():rn(i)||an(i)?P(i.keys()):Qt(i)?i.map((function(e,t){return t})):y(!1)),!0===t.detectCycles&&null!==e&&n.has(e))return n.get(e);var i;if(Qt(e)||Array.isArray(e)){var r=Ot(n,e,[],t),o=e.map((function(e){return Tt(e,t,n)}));r.length=o.length;for(var s=0,a=o.length;s<a;s++)r[s]=o[s];return r}if(an(e)||Object.getPrototypeOf(e)===Set.prototype){if(!1===t.exportMapsAsObjects){var l=Ot(n,e,new Set,t);return e.forEach((function(e){l.add(Tt(e,t,n))})),l}var c=Ot(n,e,[],t);return e.forEach((function(e){c.push(Tt(e,t,n))})),c}if(rn(e)||Object.getPrototypeOf(e)===Map.prototype){if(!1===t.exportMapsAsObjects){var u=Ot(n,e,new Map,t);return e.forEach((function(e,i){u.set(i,Tt(e,t,n))})),u}var d=Ot(n,e,{},t);return e.forEach((function(e,i){d[i]=Tt(e,t,n)})),d}var h=Ot(n,e,{},t);for(var p in e)h[p]=Tt(e[p],t,n);return h}function Mt(e,t){var n;return"boolean"==typeof t&&(t={detectCycles:t}),t||(t=St),t.detectCycles=void 0===t.detectCycles?!0===t.recurseEverything:!0===t.detectCycles,t.detectCycles&&(n=new Map),Tt(e,t,n)}function Pt(e,t){void 0===t&&(t=void 0),$e();try{return e.apply(t)}finally{qe()}}function Dt(e,t,n){return 1===arguments.length||t&&"object"==typeof t?function(e,t){var n,i=new Promise((function(i,r){var o=Lt(e,i,$($({},t),{onError:r}));n=function(){o(),r("WHEN_CANCELLED")}}));return i.cancel=n,i}(e,t):Lt(e,t,n||{})}function Lt(e,t,n){var i;"number"==typeof n.timeout&&(i=setTimeout((function(){if(!o.$mobx.isDisposed){o();var e=new Error("WHEN_TIMEOUT");if(!n.onError)throw e;n.onError(e)}}),n.timeout)),n.name=n.name||"When@"+b();var r=Le(n.name+"-effect",t),o=ft((function(t){e()&&(t.dispose(),i&&clearTimeout(i),r())}),n);return o}function At(e){return void 0!==e.interceptors&&e.interceptors.length>0}function zt(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),_((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function It(e,t){var n=Ee();try{var i=e.interceptors;if(i)for(var r=0,o=i.length;r<o&&(v(!(t=i[r](t))||t.type,"Intercept handlers should return nothing or a change object"),t);r++);return t}finally{xe(n)}}function Rt(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function jt(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),_((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Nt(e,t){var n=Ee(),i=e.changeListeners;if(i){for(var r=0,o=(i=i.slice()).length;r<o;r++)i[r](t);xe(n)}}var Ft,Yt,Bt,Ht,Vt=(Ft=!1,Yt={},Object.defineProperty(Yt,"0",{set:function(){Ft=!0}}),Object.create(Yt)[0]=1,!1===Ft),Wt=0,Ut=function(){};Bt=Ut,Ht=Array.prototype,void 0!==Object.setPrototypeOf?Object.setPrototypeOf(Bt.prototype,Ht):void 0!==Bt.prototype.__proto__?Bt.prototype.__proto__=Ht:Bt.prototype=Ht,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach((function(e){Object.defineProperty(Ut.prototype,e,{configurable:!0,writable:!0,value:Array.prototype[e]})}));var $t=function(){function e(e,t,n,i){this.array=n,this.owned=i,this.values=[],this.lastKnownLength=0,this.atom=new F(e||"ObservableArray@"+b()),this.enhancer=function(n,i){return t(n,i,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return zt(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),jt(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),i=0;i<e-t;i++)n[i]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=t,t>0&&e+t+1>Wt&&Jt(e+t+1)},e.prototype.spliceWithArray=function(e,t,n){var i=this;_e(this.atom);var r=this.values.length;if(void 0===e?e=0:e>r?e=r:e<0&&(e=Math.max(0,r+e)),t=1===arguments.length?r-e:null==t?0:Math.max(0,Math.min(t,r-e)),void 0===n&&(n=p),At(this)){var o=It(this,{object:this.array,type:"splice",index:e,removedCount:t,added:n});if(!o)return p;t=o.removedCount,n=o.added}n=0===n.length?n:n.map((function(e){return i.enhancer(e,void 0)}));var s=n.length-t;this.updateArrayLength(r,s);var a=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,a),this.dehanceValues(a)},e.prototype.spliceItemsIntoValues=function(e,t,n){var i;if(n.length<1e4)return(i=this.values).splice.apply(i,K([e,t],n));var r=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),r},e.prototype.notifyArrayChildUpdate=function(e,t,n){var i=!this.owned&&rt(),r=Rt(this),o=r||i?{object:this.array,type:"update",index:e,newValue:t,oldValue:n}:null;i&&st($($({},o),{name:this.atom.name})),this.atom.reportChanged(),r&&Nt(this,o),i&&lt()},e.prototype.notifyArraySplice=function(e,t,n){var i=!this.owned&&rt(),r=Rt(this),o=r||i?{object:this.array,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;i&&st($($({},o),{name:this.atom.name})),this.atom.reportChanged(),r&&Nt(this,o),i&&lt()},e}(),qt=function(e){function t(t,n,i,r){void 0===i&&(i="ObservableArray@"+b()),void 0===r&&(r=!1);var o=e.call(this)||this,s=new $t(i,n,o,r);if(x(o,"$mobx",s),t&&t.length){var a=Ae(!0);o.spliceWithArray(0,0,t),ze(a)}return Vt&&Object.defineProperty(s.array,"0",Kt),o}return U(t,e),t.prototype.intercept=function(e){return this.$mobx.intercept(e)},t.prototype.observe=function(e,t){return void 0===t&&(t=!1),this.$mobx.observe(e,t)},t.prototype.clear=function(){return this.splice(0)},t.prototype.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),e.map((function(e){return Qt(e)?e.peek():e})))},t.prototype.replace=function(e){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,e)},t.prototype.toJS=function(){return this.slice()},t.prototype.toJSON=function(){return this.toJS()},t.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},t.prototype.find=function(e,t,n){void 0===n&&(n=0);var i=this.findIndex.apply(this,arguments);return-1===i?void 0:this.get(i)},t.prototype.findIndex=function(e,t,n){void 0===n&&(n=0);for(var i=this.peek(),r=i.length,o=n;o<r;o++)if(e.call(t,i[o],o,this))return o;return-1},t.prototype.splice=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(e);case 2:return this.$mobx.spliceWithArray(e,t)}return this.$mobx.spliceWithArray(e,t,n)},t.prototype.spliceWithArray=function(e,t,n){return this.$mobx.spliceWithArray(e,t,n)},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(n.values.length,0,e),n.values.length},t.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},t.prototype.shift=function(){return this.splice(0,1)[0]},t.prototype.unshift=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(0,0,e),n.values.length},t.prototype.reverse=function(){var e=this.slice();return e.reverse.apply(e,arguments)},t.prototype.sort=function(e){var t=this.slice();return t.sort.apply(t,arguments)},t.prototype.remove=function(e){var t=this.$mobx.dehanceValues(this.$mobx.values).indexOf(e);return t>-1&&(this.splice(t,1),!0)},t.prototype.move=function(e,t){function n(e){if(e<0)throw new Error("[mobx.array] Index out of bounds: "+e+" is negative");var t=this.$mobx.values.length;if(e>=t)throw new Error("[mobx.array] Index out of bounds: "+e+" is not smaller than "+t)}if(n.call(this,e),n.call(this,t),e!==t){var i,r=this.$mobx.values;i=e<t?K(r.slice(0,e),r.slice(e+1,t+1),[r[e]],r.slice(t+1)):K(r.slice(0,t),[r[e]],r.slice(t,e),r.slice(e+1)),this.replace(i)}},t.prototype.get=function(e){var t=this.$mobx;if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},t.prototype.set=function(e,t){var n=this.$mobx,i=n.values;if(e<i.length){_e(n.atom);var r=i[e];if(At(n)){var o=It(n,{type:"update",object:this,index:e,newValue:t});if(!o)return;t=o.newValue}(t=n.enhancer(t,r))!==r&&(i[e]=t,n.notifyArrayChildUpdate(e,t,r))}else{if(e!==i.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+i.length);n.spliceWithArray(e,0,[t])}},t}(Ut);I(qt.prototype,(function(){this.$mobx.atom.reportObserved();var e=this,t=0;return R({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})})),Object.defineProperty(qt.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(e){this.$mobx.setArrayLength(e)}}),E(qt.prototype,j(),"Array"),["indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(e){var t=Array.prototype[e];v("function"==typeof t,"Base function not defined on Array prototype: '"+e+"'"),E(qt.prototype,e,(function(){return t.apply(this.peek(),arguments)}))})),["every","filter","forEach","map","some"].forEach((function(e){v("function"==typeof Array.prototype[e],"Base function not defined on Array prototype: '"+e+"'"),E(qt.prototype,e,(function(t,n){var i=this,r=this.$mobx;return r.atom.reportObserved(),r.dehanceValues(r.values)[e]((function(e,r){return t.call(n,e,r,i)}),n)}))})),["reduce","reduceRight"].forEach((function(e){E(qt.prototype,e,(function(){var t=this,n=this.$mobx;n.atom.reportObserved();var i=arguments[0];return arguments[0]=function(e,r,o){return r=n.dehanceValue(r),i(e,r,o,t)},n.values[e].apply(n.values,arguments)}))})),function(e,t){for(var n=0;n<t.length;n++)E(e,t[n],e[t[n]])}(qt.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var Kt=Gt(0);function Gt(e){return{enumerable:!1,configurable:!1,get:function(){return this.get(e)},set:function(t){this.set(e,t)}}}function Zt(e){Object.defineProperty(qt.prototype,""+e,Gt(e))}function Jt(e){for(var t=Wt;t<e;t++)Zt(t);Wt=e}Jt(1e3);var Xt=S("ObservableArrayAdministration",$t);function Qt(e){return k(e)&&Xt(e.$mobx)}var en={},tn=function(){function e(e,t,n){if(void 0===t&&(t=Q),void 0===n&&(n="ObservableMap@"+b()),this.enhancer=t,this.name=n,this.$mobx=en,this._keysAtom=B(this.name+".keys()"),"function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!He.trackingDerivation)return this._has(e);var n=this._hasMap.get(e);if(!n){var i=n=new Ie(this._has(e),ee,this.name+"."+nn(e)+"?",!1);this._hasMap.set(e,i),yt(i,(function(){return t._hasMap.delete(e)}))}return n.get()},e.prototype.set=function(e,t){var n=this._has(e);if(At(this)){var i=It(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!i)return this;t=i.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(_e(this._keysAtom),At(this)&&!(r=It(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=rt(),i=Rt(this),r=i||n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return n&&st($($({},r),{name:this.name,key:e})),Pt((function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)})),i&&Nt(this,r),n&&lt(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);n&&n.setNewValue(t)},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==He.UNCHANGED){var i=rt(),r=Rt(this),o=r||i?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;i&&st($($({},o),{name:this.name,key:e})),n.setNewValue(t),r&&Nt(this,o),i&&lt()}},e.prototype._addValue=function(e,t){var n=this;_e(this._keysAtom),Pt((function(){var i=new Ie(t,n.enhancer,n.name+"."+nn(e),!1);n._data.set(e,i),t=i.value,n._updateHasMapEntry(e,!0),n._keysAtom.reportChanged()}));var i=rt(),r=Rt(this),o=r||i?{type:"add",object:this,name:e,newValue:t}:null;i&&st($($({},o),{name:this.name,key:e})),r&&Nt(this,o),i&&lt()},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=this.keys();return R({next:function(){var n=t.next(),i=n.done,r=n.value;return{done:i,value:i?void 0:e.get(r)}}})},e.prototype.entries=function(){var e=this,t=this.keys();return R({next:function(){var n=t.next(),i=n.done,r=n.value;return{done:i,value:i?void 0:[r,e.get(r)]}}})},e.prototype.forEach=function(e,t){var n=this;this._keysAtom.reportObserved(),this._data.forEach((function(i,r){return e.call(t,n.get(r),r,n)}))},e.prototype.merge=function(e){var t=this;return rn(e)&&(e=e.toJS()),Pt((function(){var n=Ae(!0);try{C(e)?Object.keys(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=q(e,2),i=n[0],r=n[1];return t.set(i,r)})):T(e)?e.constructor!==Map?y("Cannot initialize from classes that inherit from Map: "+e.constructor.name):e.forEach((function(e,n){return t.set(n,e)})):null!=e&&y("Cannot initialize map from "+e)}finally{ze(n)}})),this},e.prototype.clear=function(){var e=this;Pt((function(){Ce((function(){e._data.forEach((function(t,n){return e.delete(n)}))}))}))},e.prototype.replace=function(e){var t=this;return Pt((function(){var n=function(e){if(T(e)||rn(e))return e;if(Array.isArray(e))return new Map(e);if(C(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return y("Cannot convert to map from '"+e+"'")}(e),i=new Map,r=!1;if(A(t._data.keys(),(function(e){if(!n.has(e))if(t.delete(e))r=!0;else{var o=t._data.get(e);i.set(e,o)}})),A(n.entries(),(function(e){var n=q(e,2),o=n[0],s=n[1],a=t._data.has(o);if(t.set(o,s),t._data.has(o)){var l=t._data.get(o);i.set(o,l),a||(r=!0)}})),!r)if(t._data.size!==i.size)t._keysAtom.reportChanged();else for(var o=t._data.keys(),s=i.keys(),a=o.next(),l=s.next();!a.done;){if(a.value!==l.value){t._keysAtom.reportChanged();break}a=o.next(),l=s.next()}t._data=i})),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e=this,t={};return this.forEach((function(n,i){return t["symbol"==typeof i?i:nn(i)]=e.get(i)})),t},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+P(this.keys()).map((function(t){return nn(t)+": "+e.get(t)})).join(", ")+" }]"},e.prototype.observe=function(e,t){return jt(this,e)},e.prototype.intercept=function(e){return zt(this,e)},e}();function nn(e){return e&&e.toString?e.toString():new String(e).toString()}I(tn.prototype,(function(){return this.entries()})),x(tn.prototype,j(),"Map");var rn=S("ObservableMap",tn),on={},sn=function(){function e(e,t,n){if(void 0===t&&(t=Q),void 0===n&&(n="ObservableSet@"+b()),this.name=n,this.$mobx=on,this._data=new Set,this._atom=B(this.name),"function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,i){return t(e,i,n)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;Pt((function(){Ce((function(){e._data.forEach((function(t){e.delete(t)}))}))}))},e.prototype.forEach=function(e,t){var n=this;this._atom.reportObserved(),this._data.forEach((function(i){e.call(t,i,i,n)}))},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if(_e(this._atom),At(this)&&!(r=It(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){Pt((function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()}));var n=rt(),i=Rt(this),r=i||n?{type:"add",object:this,newValue:e}:null;i&&Nt(this,r)}return this},e.prototype.delete=function(e){var t=this;if(At(this)&&!(r=It(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var n=rt(),i=Rt(this),r=i||n?{type:"delete",object:this,oldValue:e}:null;return Pt((function(){t._atom.reportChanged(),t._data.delete(e)})),i&&Nt(this,r),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=P(this.keys()),n=P(this.values());return R({next:function(){var i=e;return e+=1,i<n.length?{value:[t[i],n[i]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e,t=this,n=0;return void 0!==this._data.values?e=P(this._data.values()):(e=[],this._data.forEach((function(t){return e.push(t)}))),R({next:function(){return n<e.length?{value:t.dehanceValue(e[n++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return an(e)&&(e=e.toJS()),Pt((function(){var n=Ae(!0);try{Array.isArray(e)||M(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&y("Cannot initialize set from "+e)}finally{ze(n)}})),this},e.prototype.observe=function(e,t){return jt(this,e)},e.prototype.intercept=function(e){return zt(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+P(this.keys()).join(", ")+" ]"},e}();I(sn.prototype,(function(){return this.values()})),x(sn.prototype,j(),"Set");var an=S("ObservableSet",sn),ln=function(){function e(e,t,n){this.target=e,this.name=t,this.defaultEnhancer=n,this.values={}}return e.prototype.read=function(e,t){if(this.target===e||(this.illegalAccess(e,t),this.values[t]))return this.values[t].get()},e.prototype.write=function(e,t,n){var i=this.target;i!==e&&this.illegalAccess(e,t);var r=this.values[t];if(r instanceof je)r.set(n);else{if(At(this)){if(!(a=It(this,{type:"update",object:i,name:t,newValue:n})))return;n=a.newValue}if((n=r.prepareNewValue(n))!==He.UNCHANGED){var o=Rt(this),s=rt(),a=o||s?{type:"update",object:i,oldValue:r.value,name:t,newValue:n}:null;s&&st($($({},a),{name:this.name,key:t})),r.setNewValue(n),o&&Nt(this,a),s&&lt()}}},e.prototype.remove=function(e){if(this.values[e]){var t=this.target;if(At(this)&&!(o=It(this,{object:t,name:e,type:"remove"})))return;try{$e();var n=Rt(this),i=rt(),r=this.values[e].get();this.keys&&this.keys.remove(e),delete this.values[e],delete this.target[e];var o=n||i?{type:"remove",object:t,oldValue:r,name:e}:null;i&&st($($({},o),{name:this.name,key:e})),n&&Nt(this,o),i&&lt()}finally{qe()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return jt(this,e)},e.prototype.intercept=function(e){return zt(this,e)},e.prototype.getKeys=function(){var e=this;return void 0===this.keys&&(this.keys=new qt(Object.keys(this.values).filter((function(t){return e.values[t]instanceof Ie})),ee,"keys("+this.name+")",!0)),this.keys.slice()},e}();function cn(e,t,n){void 0===t&&(t=""),void 0===n&&(n=Q);var i=e.$mobx;return i||(C(e)||(t=(e.constructor.name||"ObservableObject")+"@"+b()),t||(t="ObservableObject@"+b()),x(e,"$mobx",i=new ln(e,t,n)),i)}function un(e,t,n,i){var r=cn(e);if(At(r)){var o=It(r,{object:e,name:t,type:"add",newValue:n});if(!o)return;n=o.newValue}n=(r.values[t]=new Ie(n,i,r.name+"."+t,!1)).value,Object.defineProperty(e,t,function(e){return dn[e]||(dn[e]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,e)},set:function(t){this.$mobx.write(this,e,t)}})}(t)),r.keys&&r.keys.push(t),function(e,t,n,i){var r=Rt(e),o=rt(),s=r||o?{type:"add",object:t,name:n,newValue:i}:null;o&&st($($({},s),{name:e.name,key:n})),r&&Nt(e,s),o&&lt()}(r,e,t,n)}var dn=Object.create(null),hn=Object.create(null);function pn(e){return e.$mobx||(J(e),e.$mobx)}var fn=S("ObservableObjectAdministration",ln);function mn(e){return!!k(e)&&(J(e),fn(e.$mobx))}function gn(e,t){if("object"==typeof e&&null!==e){if(Qt(e))return void 0!==t&&y(!1),e.$mobx.atom;if(an(e))return e.$mobx;if(rn(e)){var n=e;return void 0===t?n._keysAtom:((i=n._data.get(t)||n._hasMap.get(t))||y(!1),i)}var i;if(J(e),t&&!e.$mobx&&e[t],mn(e))return t?((i=e.$mobx.values[t])||y(!1),i):y(!1);if(Y(e)||Ne(e)||nt(e))return e}else if("function"==typeof e&&nt(e.$mobx))return e.$mobx;return y(!1)}function bn(e,t){return e||y("Expecting some object"),void 0!==t?bn(gn(e,t)):Y(e)||Ne(e)||nt(e)||rn(e)||an(e)?e:(J(e),e.$mobx?e.$mobx:void y(!1))}function yn(e,t){return(void 0!==t?gn(e,t):mn(e)||rn(e)||an(e)?bn(e):gn(e)).name}var vn=Object.prototype.toString;function _n(e,t,n){return void 0===n&&(n=-1),wn(e,t,n)}function wn(e,t,n,i,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;if("function"!==o&&"object"!==o&&"object"!=typeof t)return!1;e=kn(e),t=kn(t);var s=vn.call(e);if(s!==vn.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t)}var a="[object Array]"===s;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,c=t.constructor;if(l!==c&&!("function"==typeof l&&l instanceof l&&"function"==typeof c&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),r=r||[];for(var u=(i=i||[]).length;u--;)if(i[u]===e)return r[u]===t;if(i.push(e),r.push(t),a){if((u=e.length)!==t.length)return!1;for(;u--;)if(!wn(e[u],t[u],n-1,i,r))return!1}else{var d=Object.keys(e),h=void 0;if(u=d.length,Object.keys(t).length!==u)return!1;for(;u--;)if(!Cn(t,h=d[u])||!wn(e[h],t[h],n-1,i,r))return!1}return i.pop(),r.pop(),!0}function kn(e){return Qt(e)?e.peek():T(e)||rn(e)||M(e)||an(e)?P(e.entries()):e}function Cn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:ct,extras:{getDebugName:yn},$mobx:"$mobx"});var En=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,i){return e[0]===t&&(n=i,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(t,n){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,i=e(n,t);~i&&n.splice(i,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];e.call(t,r[1],r[0])}},t}()}(),xn="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,Sn=void 0!==r.g&&r.g.Math===Math?r.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),On="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(Sn):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},Tn=["top","right","bottom","left","width","height","size","weight"],Mn="undefined"!=typeof MutationObserver,Pn=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,i=!1,r=0;function o(){n&&(n=!1,e()),i&&a()}function s(){On(o)}function a(){var e=Date.now();if(n){if(e-r<2)return;i=!0}else n=!0,i=!1,setTimeout(s,t);r=e}return a}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){xn&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Mn?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){xn&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;Tn.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Dn=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},Ln=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Sn},An=Nn(0,0,0,0);function zn(e){return parseFloat(e)||0}function In(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+zn(e["border-"+n+"-width"])}),0)}var Rn="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof Ln(e).SVGGraphicsElement}:function(e){return e instanceof Ln(e).SVGElement&&"function"==typeof e.getBBox};function jn(e){return xn?Rn(e)?function(e){var t=e.getBBox();return Nn(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return An;var i=Ln(e).getComputedStyle(e),r=function(e){for(var t={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n],o=e["padding-"+r];t[r]=zn(o)}return t}(i),o=r.left+r.right,s=r.top+r.bottom,a=zn(i.width),l=zn(i.height);if("border-box"===i.boxSizing&&(Math.round(a+o)!==t&&(a-=In(i,"left","right")+o),Math.round(l+s)!==n&&(l-=In(i,"top","bottom")+s)),!function(e){return e===Ln(e).document.documentElement}(e)){var c=Math.round(a+o)-t,u=Math.round(l+s)-n;1!==Math.abs(c)&&(a-=c),1!==Math.abs(u)&&(l-=u)}return Nn(r.left,r.top,a,l)}(e):An}function Nn(e,t,n,i){return{x:e,y:t,width:n,height:i}}var Fn=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Nn(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=jn(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Yn=function(e,t){var n=function(e){var t=e.x,n=e.y,i=e.width,r=e.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(o.prototype);return Dn(s,{x:t,y:n,width:i,height:r,top:n,right:t+i,bottom:r+n,left:t}),s}(t);Dn(this,{target:e,contentRect:n})},Bn=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new En,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Ln(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Fn(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Ln(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Yn(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Hn="undefined"!=typeof WeakMap?new WeakMap:new En,Vn=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Pn.getInstance(),i=new Bn(t,n,this);Hn.set(this,i)};["observe","unobserve","disconnect"].forEach((function(e){Vn.prototype[e]=function(){var t;return(t=Hn.get(this))[e].apply(t,arguments)}}));var Wn=void 0!==Sn.ResizeObserver?Sn.ResizeObserver:Vn;class Un extends Promise{setAbortController(e){this.abortController=e}abort(){if(!this.abortController)throw new Error("A request can only be aborted if the setAbortController function was called.");this.abortController.abort()}then(e,t){const n=super.then(e,t);return n.setAbortController(this.abortController),n}catch(e){const t=super.catch(e);return t.setAbortController(this.abortController),t}}const $n={credentials:"same-origin",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}};function qn(e){return Object.keys(e).reduce(((t,n)=>{const i=e[n];return null===i?(t[n]=void 0,t):O(i)?(t[n]=Kn(i),t):i instanceof Object?(t[n]=qn(i),t):(t[n]=i,t)}),{})}function Kn(e){return e.map((e=>e instanceof Object?qn(e):e))}function Gn(e){return Object.keys(e).reduce(((t,n)=>{const i=e[n];return null==i?(t[n]=null,t):O(i)?(t[n]=Zn(i),t):i instanceof Object?(t[n]=Gn(i),t):(t[n]=i,t)}),{})}function Zn(e){return e.map((e=>O(e)?Zn(e):e instanceof Object?Gn(e):e))}function Jn(e){return O(e)?Zn(e):Gn(e)}function Xn(e,t){for(const n of ni.handleResponseHooks)n(e,t);return e}function Qn(e,t){return(e=Xn(e,t)).ok?204===e.status?Promise.resolve({}):e.json().then((e=>O(e)?Kn(e):qn(e))):Promise.reject(e)}function ei(e,t){return Qn(e,t).then((e=>{if(O(e))throw Error("Response was expected to be an object, but an array was given");return e}))}function ti(e,t){let n,i;const r=new Un((function(e,t){n=e,i=t})),o=new AbortController;return r.setAbortController(o),fetch(e,{...$n,...t,signal:o.signal}).then(n).catch(i),r}class ni{static fetch(e,t){return ti(e,t).then((e=>Xn(e,t)))}static get(e){const t={method:"GET"};return ti(e,t).then((e=>ei(e,t)))}static post(e,t){const n={...$n,method:"POST",body:t?JSON.stringify(Jn(t)):void 0};return ti(e,n).then((e=>ei(e,n)))}static put(e,t){const n={...$n,method:"PUT",body:t?JSON.stringify(Jn(t)):void 0};return ti(e,n).then((e=>ei(e,n)))}static patch(e,t){const n={method:"PATCH",body:JSON.stringify(Jn(t))};return ti(e,n).then((e=>Qn(e,n)))}static delete(e){const t={method:"DELETE"};return ti(e,t).then((e=>ei(e,t)))}}ni.handleResponseHooks=[];var ii,ri=ni,oi=r(32017),si=r.n(oi);function ai(e,t){void 0===t&&(t={});for(var n=function(e){for(var t=[],n=0;n<e.length;){var i=e[n];if("*"!==i&&"+"!==i&&"?"!==i)if("\\"!==i)if("{"!==i)if("}"!==i)if(":"!==i)if("("!==i)t.push({type:"CHAR",index:n,value:e[n++]});else{var r=1,o="";if("?"===e[a=n+1])throw new TypeError('Pattern cannot start with "?" at '.concat(a));for(;a<e.length;)if("\\"!==e[a]){if(")"===e[a]){if(0==--r){a++;break}}else if("("===e[a]&&(r++,"?"!==e[a+1]))throw new TypeError("Capturing groups are not allowed at ".concat(a));o+=e[a++]}else o+=e[a++]+e[a++];if(r)throw new TypeError("Unbalanced pattern at ".concat(n));if(!o)throw new TypeError("Missing pattern at ".concat(n));t.push({type:"PATTERN",index:n,value:o}),n=a}else{for(var s="",a=n+1;a<e.length;){var l=e.charCodeAt(a);if(!(l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||95===l))break;s+=e[a++]}if(!s)throw new TypeError("Missing parameter name at ".concat(n));t.push({type:"NAME",index:n,value:s}),n=a}else t.push({type:"CLOSE",index:n,value:e[n++]});else t.push({type:"OPEN",index:n,value:e[n++]});else t.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});else t.push({type:"MODIFIER",index:n,value:e[n++]})}return t.push({type:"END",index:n,value:""}),t}(e),i=t.prefixes,r=void 0===i?"./":i,o="[^".concat(li(t.delimiter||"/#?"),"]+?"),s=[],a=0,l=0,c="",u=function(e){if(l<n.length&&n[l].type===e)return n[l++].value},d=function(e){var t=u(e);if(void 0!==t)return t;var i=n[l],r=i.type,o=i.index;throw new TypeError("Unexpected ".concat(r," at ").concat(o,", expected ").concat(e))},h=function(){for(var e,t="";e=u("CHAR")||u("ESCAPED_CHAR");)t+=e;return t};l<n.length;){var p=u("CHAR"),f=u("NAME"),m=u("PATTERN");if(f||m){var g=p||"";-1===r.indexOf(g)&&(c+=g,g=""),c&&(s.push(c),c=""),s.push({name:f||a++,prefix:g,suffix:"",pattern:m||o,modifier:u("MODIFIER")||""})}else{var b=p||u("ESCAPED_CHAR");if(b)c+=b;else if(c&&(s.push(c),c=""),u("OPEN")){g=h();var y=u("NAME")||"",v=u("PATTERN")||"",_=h();d("CLOSE"),s.push({name:y||(v?a++:""),pattern:y&&!v?o:v,prefix:g,suffix:_,modifier:u("MODIFIER")||""})}else d("END")}}return s}function li(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function ci(e){return e&&e.sensitive?"":"i"}function ui(e,t,n){return e instanceof RegExp?function(e,t){if(!t)return e;for(var n=/\((?:\?<(.*?)>)?(?!\?)/g,i=0,r=n.exec(e.source);r;)t.push({name:r[1]||i++,prefix:"",suffix:"",modifier:"",pattern:""}),r=n.exec(e.source);return e}(e,t):Array.isArray(e)?function(e,t,n){var i=e.map((function(e){return ui(e,t,n).source}));return new RegExp("(?:".concat(i.join("|"),")"),ci(n))}(e,t,n):function(e,t,n){return function(e,t,n){void 0===n&&(n={});for(var i=n.strict,r=void 0!==i&&i,o=n.start,s=void 0===o||o,a=n.end,l=void 0===a||a,c=n.encode,u=void 0===c?function(e){return e}:c,d=n.delimiter,h=void 0===d?"/#?":d,p=n.endsWith,f="[".concat(li(void 0===p?"":p),"]|$"),m="[".concat(li(h),"]"),g=s?"^":"",b=0,y=e;b<y.length;b++){var v=y[b];if("string"==typeof v)g+=li(u(v));else{var _=li(u(v.prefix)),w=li(u(v.suffix));if(v.pattern)if(t&&t.push(v),_||w)if("+"===v.modifier||"*"===v.modifier){var k="*"===v.modifier?"?":"";g+="(?:".concat(_,"((?:").concat(v.pattern,")(?:").concat(w).concat(_,"(?:").concat(v.pattern,"))*)").concat(w,")").concat(k)}else g+="(?:".concat(_,"(").concat(v.pattern,")").concat(w,")").concat(v.modifier);else"+"===v.modifier||"*"===v.modifier?g+="((?:".concat(v.pattern,")").concat(v.modifier,")"):g+="(".concat(v.pattern,")").concat(v.modifier);else g+="(?:".concat(_).concat(w,")").concat(v.modifier)}}if(l)r||(g+="".concat(m,"?")),g+=n.endsWith?"(?=".concat(f,")"):"$";else{var C=e[e.length-1],E="string"==typeof C?m.indexOf(C[C.length-1])>-1:void 0===C;r||(g+="(?:".concat(m,"(?=").concat(f,"))?")),E||(g+="(?=".concat(m,"|").concat(f,")"))}return new RegExp(g,ci(n))}(ai(e,n),t,n)}(e,t,n)}function di(e){const t=e.getFullYear().toString(),n=(e.getMonth()+1).toString(),i=e.getDate().toString(),r=e.getHours().toString(),o=e.getMinutes().toString();return t+"-"+(n[1]?n:"0"+n)+"-"+(i[1]?i:"0"+i)+" "+(r[1]?r:"0"+r)+":"+(o[1]?o:"0"+o)}function hi(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}new Intl.DateTimeFormat("en",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!1});let pi=(hi((ii=class{constructor(e){this.attributeDefaults={},this.children=[],this.options={},this.parent=void 0,this.rerenderAttributes=[],this.path=e.path,this.name=e.name,this.type=e.type,e.attributeDefaults&&(this.attributeDefaults=e.attributeDefaults),e.options&&(this.options=e.options),e.rerenderAttributes&&(this.rerenderAttributes=e.rerenderAttributes)}get availableAttributes(){const e=[];return ui(this.path,e),e.map((e=>e.name))}get regexp(){return ui(this.path)}}).prototype,"availableAttributes",[ge],Object.getOwnPropertyDescriptor(ii.prototype,"availableAttributes"),ii.prototype),hi(ii.prototype,"regexp",[ge],Object.getOwnPropertyDescriptor(ii.prototype,"regexp"),ii.prototype),ii);var fi,mi,gi,bi,yi,vi,_i,wi,ki=new class{constructor(){this.clear()}clear(){this.routes={}}addCollection(e){e.forEach((e=>{if(e.name in this.routes)throw new Error('The name "'+e.name+'" has already been used for another route');const t=new pi(e);this.routes[t.name]=t})),e.forEach((e=>{const t=e.parent;t&&(this.routes[e.name].parent=this.routes[t],this.routes[t].children.push(this.routes[e.name]))}))}get(e){if(!(e in this.routes))throw new Error('The route with the name "'+e+'" does not exist.\n\nRegistered names: '+Object.keys(this.routes).sort().join(", "));return this.routes[e]}getAll(){return this.routes}},Ci=new class{constructor(){this.clear()}clear(){this.resourceViews={}}addResourceViews(e){Object.keys(e).forEach((t=>{if(this.resourceViews[t])throw new Error('The resource views for "'+t+'" has already be configured.');this.resourceViews[t]=e[t]}))}has(e,t){return!!this.resourceViews[t]&&void 0!==this.resourceViews[t].views[e]}get(e,t){if("object"!=typeof this.resourceViews[t])throw new Error('The resource "'+t+'" was not found.');if("string"!=typeof this.resourceViews[t].views[e])throw new Error('The resource view "'+e+'" for resource "'+t+'" was not found.');return this.resourceViews[t].views[e]}};function Ei(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function xi(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const Si=".";function Oi(e){if("true"===e)return!0;if("false"===e)return!1;if("undefined"!==e){if(e&&e.match(/^\d\d\d\d-\d\d-\d\d$/)){const t=new Date(e+" 00:00");if("Invalid Date"!==t.toString())return t}if(e&&e.match(/^\d\d\d\d-\d\d-\d\d \d\d:\d\d$/)){const t=new Date(e);if("Invalid Date"!==t.toString())return t}return isNaN(e)||e&&e.match(/0[^.].*/)?e:parseFloat(e)}}function Ti(e,t){if("object"!=typeof e||"object"!=typeof t)return e==t;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();const n=Object.keys(e);return!!si()(n,Object.keys(t))&&n.every((n=>Ti(e[n],t[n])))}function Mi(e,t,n){O(t)?function(e,t,n){t.forEach(((t,i)=>{Mi(e,t,n+"["+i+"]")}))}(e,t,n):t instanceof Date?function(e,t,n){e.set(n,di(t))}(e,t,n):"object"==typeof t?function(e,t,n){for(const i in t){const r=n+Si+i;Mi(e,t[i],r)}}(e,t,n):e.set(n,t)}function Pi(e,t,n){if(n.includes(Si)){const i=n.split(Si);e[i[0]]||(e[i[0]]={}),Pi(e[i[0]],t,i.slice(1).join(Si))}else if(n.includes("[")&&n.includes("]")){const i=n.slice(0,n.indexOf("["));e[i]||(e[i]=[]),e[i].push(Oi(t))}else e[n]=Oi(t)}let Di=(fi=class{constructor(e){Ei(this,"route",mi,this),Ei(this,"attributes",gi,this),Ei(this,"bindings",bi,this),this.bindingDefaults=new Map,this.attributesHistory={},this.updateRouteHooks={},this.updateAttributesHooks=[],this.redirectFlag=!1,this.reload=()=>{this.match(this.history.location.pathname,this.history.location.search)},this.reset=()=>{this.history.replace({search:"",...a("/")})},Ei(this,"navigate",yi,this),Ei(this,"navigateToResourceView",vi,this),Ei(this,"hasResourceView",_i,this),Ei(this,"redirect",wi,this),this.restore=(e,t={})=>{if(!this.attributesHistory[e]||0===this.attributesHistory[e].length)return void this.update(e,t,this.restore);if(!this.isRouteChanging(e,t))return;const n=this.attributesHistory[e].pop();this.update(e,{...n,...t},this.restore)},this.history=e,this.history.listen((({location:e})=>{c().info('URL was changed to "'+e.pathname+e.search+'"'),this.match(e.pathname,e.search)})),ft((()=>{const{pathname:e,search:t}=this.history.location,n=this.url,i=e+t;if(n!==i){const e=n||i;c().info('Router changes URL to "'+e+'"'+(this.redirectFlag?" replacing history":""));const t={search:"",...a(e)};this.redirectFlag?this.history.replace(t):this.history.push(t),this.redirectFlag=!1}})),window.addEventListener("beforeunload",(e=>{this.sortedUpdateRouteHooks.some((e=>!1===e()))&&(e.preventDefault(),e.returnValue=!0)}))}get sortedUpdateRouteHooks(){return Object.keys(this.updateRouteHooks).sort(((e,t)=>t-e)).reduce(((e,t)=>[...e,...this.updateRouteHooks[t]]),[])}addUpdateRouteHook(e,t=0){return this.updateRouteHooks[t]||(this.updateRouteHooks[t]=[]),this.updateRouteHooks[t].push(e),()=>{const n=this.updateRouteHooks[t],i=n.indexOf(e);-1!==i&&n.splice(i,1)}}addUpdateAttributesHook(e){this.updateAttributesHooks.push(e)}bind(e,t,n=void 0){this.bindings.set(e,t),this.bindingDefaults.set(e,n),void 0===this.attributes[e]&&t.get()===n||(e in this.attributes&&t.get()!==this.attributes[e]&&t.set(this.attributes[e]),void 0===t.get()&&t.set(n))}clearBindings(){this.bindings.clear(),this.bindingDefaults.clear()}match(e,t){for(const n in ki.getAll()){const i=ki.get(n),r=i.regexp.exec(e);if(!r)continue;const{availableAttributes:o}=i,s={};for(let e=1;e<r.length;e++)s[o[e-1]]=Oi(r[e]);return new URLSearchParams(t).forEach(((e,t)=>{Pi(s,e,t)})),void this.handleNavigation(n,s,this.navigate)}const n={};new URLSearchParams(t).forEach(((e,t)=>{n[t]=Oi(e)})),this.attributes=n}handleNavigation(e,t,n){this.isRouteChanging(e,t)&&(this.createAttributesHistory(),this.update(e,t,n))}update(e,t,n){const i=ki.get(e),r={...this.updateAttributesHooks.reduce(((e,n)=>({...n(i,t),...e})),{}),...t},o=i.attributeDefaults;Object.keys(o).forEach((e=>{void 0===r[e]&&(r[e]=o[e])}));for(const e of this.sortedUpdateRouteHooks)if(!e(i,r,n))return;this.route=i,this.attributes=r;for(const[e,t]of this.bindings.entries()){const n=void 0!==this.attributes[e]?this.attributes[e]:this.bindingDefaults.get(e);Ti(Mt(n),Mt(t.get()))||t.set(n)}}get url(){if(!this.route)return"";const e=Mt(this.attributes);for(const[t,n]of this.bindings.entries()){const i=n.get();e[t]=i}const t=function(e,t){void 0===t&&(t={});var n=ci(t),i=t.encode,r=void 0===i?function(e){return e}:i,o=t.validate,s=void 0===o||o,a=e.map((function(e){if("object"==typeof e)return new RegExp("^(?:".concat(e.pattern,")$"),n)}));return function(t){for(var n="",i=0;i<e.length;i++){var o=e[i];if("string"!=typeof o){var l=t?t[o.name]:void 0,c="?"===o.modifier||"*"===o.modifier,u="*"===o.modifier||"+"===o.modifier;if(Array.isArray(l)){if(!u)throw new TypeError('Expected "'.concat(o.name,'" to not repeat, but got an array'));if(0===l.length){if(c)continue;throw new TypeError('Expected "'.concat(o.name,'" to not be empty'))}for(var d=0;d<l.length;d++){var h=r(l[d],o);if(s&&!a[i].test(h))throw new TypeError('Expected all "'.concat(o.name,'" to match "').concat(o.pattern,'", but got "').concat(h,'"'));n+=o.prefix+h+o.suffix}}else if("string"!=typeof l&&"number"!=typeof l){if(!c){var p=u?"an array":"a string";throw new TypeError('Expected "'.concat(o.name,'" to be ').concat(p))}}else{if(h=r(String(l),o),s&&!a[i].test(h))throw new TypeError('Expected "'.concat(o.name,'" to match "').concat(o.pattern,'", but got "').concat(h,'"'));n+=o.prefix+h+o.suffix}}else n+=o}return n}}(ai(this.route.path,r),r)(e),n=new URLSearchParams,{availableAttributes:i}=this.route;var r;Object.keys(e).forEach((t=>{const r=Mt(e[t]);i.includes(t)||r==this.bindingDefaults.get(t)||Mi(n,r,t)}));const o=n.toString();return t+(o?"?"+o:"")}createAttributesHistory(){this.route&&(this.route.name in this.attributesHistory||(this.attributesHistory[this.route.name]=[]),this.attributesHistory[this.route.name].push(Mt(this.attributes)))}isRouteChanging(e,t){const n=ki.get(e);return!(this.route&&this.route.name===n.name&&si()(this.attributes,t))}},mi=xi(fi.prototype,"route",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gi=xi(fi.prototype,"attributes",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),bi=xi(fi.prototype,"bindings",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),xi(fi.prototype,"sortedUpdateRouteHooks",[ge],Object.getOwnPropertyDescriptor(fi.prototype,"sortedUpdateRouteHooks"),fi.prototype),xi(fi.prototype,"bind",[ht],Object.getOwnPropertyDescriptor(fi.prototype,"bind"),fi.prototype),xi(fi.prototype,"clearBindings",[ht],Object.getOwnPropertyDescriptor(fi.prototype,"clearBindings"),fi.prototype),xi(fi.prototype,"match",[ht],Object.getOwnPropertyDescriptor(fi.prototype,"match"),fi.prototype),yi=xi(fi.prototype,"navigate",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t={})=>{this.handleNavigation(e,t,this.navigate)}}}),vi=xi(fi.prototype,"navigateToResourceView",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t,n={})=>{const i=Ci.get(e,t);this.navigate(i,n)}}}),_i=xi(fi.prototype,"hasResourceView",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>Ci.has(e,t)}}),wi=xi(fi.prototype,"redirect",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t={})=>{this.redirectFlag=!0,this.handleNavigation(e,t,this.redirect)}}}),xi(fi.prototype,"update",[ht],Object.getOwnPropertyDescriptor(fi.prototype,"update"),fi.prototype),xi(fi.prototype,"url",[ge],Object.getOwnPropertyDescriptor(fi.prototype,"url"),fi.prototype),fi);function Li(e,t){if(!e)return null;const n=[];return e.rerenderAttributes&&e.rerenderAttributes.forEach((e=>{t&&t.hasOwnProperty(e)&&n.push(t[e])})),e.name+(n.length>0?"-"+n.join("__"):"")}var Ai=Di;function zi(e){return zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zi(e)}function Ii(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ri(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ji(e,t,n){return t&&Ri(e.prototype,t),n&&Ri(e,n),e}function Ni(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bi(e,t)}function Yi(e){return Yi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yi(e)}function Bi(e,t){return Bi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Bi(e,t)}function Hi(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vi(e,t){return e(t={exports:{}},t.exports),t.exports}var Wi,Ui=Vi((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116;function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case u:case d:case o:case a:case s:return e;default:switch(e=e&&e.$$typeof){case c:case h:case l:return e;default:return t}}case r:return t}}}function b(e){return g(e)===d}t.typeOf=g,t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=h,t.Fragment=o,t.Profiler=a,t.Portal=r,t.StrictMode=s,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===a||e===s||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===f||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h)},t.isAsyncMode=function(e){return b(e)||g(e)===u},t.isConcurrentMode=b,t.isContextConsumer=function(e){return g(e)===c},t.isContextProvider=function(e){return g(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return g(e)===h},t.isFragment=function(e){return g(e)===o},t.isProfiler=function(e){return g(e)===a},t.isPortal=function(e){return g(e)===r},t.isStrictMode=function(e){return g(e)===s}}));(Wi=Ui)&&Wi.__esModule&&Object.prototype.hasOwnProperty.call(Wi,"default")&&Wi.default,Ui.typeOf,Ui.AsyncMode,Ui.ConcurrentMode,Ui.ContextConsumer,Ui.ContextProvider,Ui.Element,Ui.ForwardRef,Ui.Fragment,Ui.Profiler,Ui.Portal,Ui.StrictMode,Ui.isValidElementType,Ui.isAsyncMode,Ui.isConcurrentMode,Ui.isContextConsumer,Ui.isContextProvider,Ui.isElement,Ui.isForwardRef,Ui.isFragment,Ui.isProfiler,Ui.isPortal,Ui.isStrictMode;var $i=Vi((function(e){e.exports=Ui})),qi={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Ki={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Gi={};Gi[$i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var Zi=Object.defineProperty,Ji=Object.getOwnPropertyNames,Xi=Object.getOwnPropertySymbols,Qi=Object.getOwnPropertyDescriptor,er=Object.getPrototypeOf,tr=Object.prototype,nr=function e(t,n,i){if("string"!=typeof n){if(tr){var r=er(n);r&&r!==tr&&e(t,r,i)}var o=Ji(n);Xi&&(o=o.concat(Xi(n)));for(var s=Gi[t.$$typeof]||qi,a=Gi[n.$$typeof]||qi,l=0;l<o.length;++l){var c=o[l];if(!(Ki[c]||i&&i[c]||a&&a[c]||s&&s[c])){var u=Qi(n,c);try{Zi(t,c,u)}catch(e){}}}return t}return t},ir=function(){function e(){Ii(this,e),this.listeners=[]}return ji(e,[{key:"on",value:function(e){var t=this;return this.listeners.push(e),function(){var n=t.listeners.indexOf(e);-1!==n&&t.listeners.splice(n,1)}}},{key:"emit",value:function(e){this.listeners.forEach((function(t){return t(e)}))}}]),e}();function rr(e){function t(t,n,i,r,o,s){for(var a=arguments.length,l=new Array(a>6?a-6:0),c=6;c<a;c++)l[c-6]=arguments[c];return Ce((function(){if(r=r||"<<anonymous>>",s=s||i,null==n[i]){if(t){var a=null===n[i]?"null":"undefined";return new Error("The "+o+" `"+s+"` is marked as required in `"+r+"`, but its value is `"+a+"`.")}return null}return e.apply(void 0,[n,i,r,o,s].concat(l))}))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function or(e){var t=zi(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function sr(e,t){return rr((function(n,i,r,o,s){return Ce((function(){if(e&&or(n[i])===t.toLowerCase())return null;var o;switch(t){case"Array":o=Qt;break;case"Object":o=mn;break;case"Map":o=rn;break;default:throw new Error("Unexpected mobxType: ".concat(t))}var a=n[i];if(!o(a)){var l=function(e){var t=or(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}(a),c=e?" or javascript `"+t.toLowerCase()+"`":"";return new Error("Invalid prop `"+s+"` of type `"+l+"` supplied to `"+r+"`, expected `mobx.Observable"+t+"`"+c+".")}return null}))}))}function ar(e,t){return rr((function(n,i,r,o,s){for(var a=arguments.length,l=new Array(a>5?a-5:0),c=5;c<a;c++)l[c-5]=arguments[c];return Ce((function(){if("function"!=typeof t)return new Error("Property `"+s+"` of component `"+r+"` has invalid PropType notation.");var a=sr(e,"Array")(n,i,r);if(a instanceof Error)return a;for(var c=n[i],u=0;u<c.length;u++)if((a=t.apply(void 0,[c,u,r,o,s+"["+u+"]"].concat(l)))instanceof Error)return a;return null}))}))}sr(!1,"Array"),ar.bind(null,!1),sr(!1,"Map"),sr(!1,"Object"),sr(!0,"Array"),ar.bind(null,!0);var lr=sr(!0,"Object"),cr=0,ur={};function dr(e){return ur[e]||(ur[e]=function(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react ".concat(e," (").concat(cr,")");return cr++,t}(e)),ur[e]}var hr=dr("patchMixins"),pr=dr("patchedDefinition");function fr(e,t){for(var n=this,i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];t.locks++;try{var s;return null!=e&&(s=e.apply(this,r)),s}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,r)}))}}function mr(e,t){return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];fr.call.apply(fr,[this,e,t].concat(i))}}function gr(e,t){for(var n=function(e,t){var n=e[hr]=e[hr]||{},i=n[t]=n[t]||{};return i.locks=i.locks||0,i.methods=i.methods||[],i}(e,t),i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];for(var s=0;s<r.length;s++){var a=r[s];n.methods.indexOf(a)<0&&n.methods.push(a)}var l=Object.getOwnPropertyDescriptor(e,t);if(!l||!l[pr]){var c=e[t],u=br(e,t,l?l.enumerable:void 0,n,c);Object.defineProperty(e,t,u)}}function br(e,t,n,i,r){var o,s=mr(r,i);return Ni(o={},pr,!0),Ni(o,"get",(function(){return s})),Ni(o,"set",(function(r){if(this===e)s=mr(r,i);else{var o=br(this,t,n,i,r);Object.defineProperty(this,t,o)}})),Ni(o,"configurable",!0),Ni(o,"enumerable",n),o}var yr={mobxStores:lr};Object.seal(yr);var vr={contextTypes:{get:function(){return yr},set:function(e){console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function _r(e,t,n){var i="inject-"+(t.displayName||t.name||t.constructor&&t.constructor.name||"Unknown");n&&(i+="-with-"+n);var r=function(n){function i(){var e,t;Ii(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Hi(this,(e=Yi(i)).call.apply(e,[this].concat(r)))).storeRef=function(e){t.wrappedInstance=e},t}return Fi(i,n),ji(i,[{key:"render",value:function(){var n={};for(var i in this.props)this.props.hasOwnProperty(i)&&(n[i]=this.props[i]);var r=e(this.context.mobxStores||{},n,this.context)||{};for(var o in r)n[o]=r[o];return function(e){return!(e.prototype&&e.prototype.render)}(t)||(n.ref=this.storeRef),(0,u.createElement)(t,n)}}]),i}(u.Component);return r.displayName=i,nr(r,t),r.wrappedComponent=t,Object.defineProperties(r,vr),r}function wr(){var e;if("function"==typeof arguments[0])return e=arguments[0],function(t){var n=_r(e,t);return n.isMobxInjector=!1,(n=Br(n)).isMobxInjector=!0,n};for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e=function(e){return function(t,n){return e.forEach((function(e){if(!(e in n)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");n[e]=t[e]}})),n}}(t),function(n){return _r(e,n,t.join("-"))}}var kr="$mobx",Cr=dr("isUnmounted"),Er=!1,xr=!1,Sr=!1,Or="undefined"!=typeof WeakMap?new WeakMap:void 0,Tr=new ir,Mr=dr("skipRender"),Pr=dr("isForcingUpdate"),Dr="function"==typeof u.forwardRef&&(0,u.forwardRef)((function(e,t){})).$$typeof;function Lr(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}function Ar(e){if(d.findDOMNode)try{return(0,d.findDOMNode)(e)}catch(e){return null}return null}function zr(e){var t=Ar(e);t&&Or&&Or.set(t,e),Tr.emit({event:"render",renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart,component:e,node:t})}var Ir=new ir;function Rr(e,t){if(jr(e,t))return!0;if("object"!==zi(e)||null===e||"object"!==zi(t)||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++)if(!hasOwnProperty.call(t,n[r])||!jr(e[n[r]],t[n[r]]))return!1;return!0}function jr(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function Nr(e){var t=this;if(!0===xr)return e.call(this);function n(){var e=this;s=!1;var t=void 0,n=void 0;if(a.track((function(){Er&&(e.__$mobRenderStart=Date.now());try{n=function(e,t){var n,i=Ae(!1);try{n=t()}finally{ze(i)}return n}(0,o)}catch(e){t=e}Er&&(e.__$mobRenderEnd=Date.now())})),t)throw Ir.emit(t),t;return n}var i=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",r=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalInstance&&this._reactInternalInstance._debugID||this._reactInternalFiber&&this._reactInternalFiber._debugID;Lr(this,Mr,!1),Lr(this,Pr,!1);var o=e.bind(this),s=!1,a=new Je("".concat(i,"#").concat(r,".render()"),(function(){if(!s&&(s=!0,"function"==typeof t.componentWillReact&&t.componentWillReact(),!0!==t[Cr])){var e=!0;try{Lr(t,Pr,!0),t[Mr]||u.Component.prototype.forceUpdate.call(t),e=!1}finally{Lr(t,Pr,!1),e&&a.dispose()}}}));return a.reactComponent=this,n[kr]=a,this.render=n,n.call(this)}var Fr={componentWillUnmount:function(){if(!0!==xr&&(this.render[kr]&&this.render[kr].dispose(),this[Cr]=!0,Er)){var e=Ar(this);e&&Or&&Or.delete(e),Tr.emit({event:"destroy",component:this,node:e})}},componentDidMount:function(){Er&&zr(this)},componentDidUpdate:function(){Er&&zr(this)},shouldComponentUpdate:function(e,t){return xr&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!Rr(this.props,e)}};function Yr(e,t){var n=dr("reactProp_".concat(t,"_valueHolder")),i=dr("reactProp_".concat(t,"_atomHolder"));function r(){return this[i]||Lr(this,i,B("reactive "+t)),this[i]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return r.call(this).reportObserved(),this[n]},set:function(e){this[Pr]||Rr(this[n],e)?Lr(this,n,e):(Lr(this,n,e),Lr(this,Mr,!0),r.call(this).reportChanged(),Lr(this,Mr,!1))}})}function Br(e,t){if("string"==typeof e)throw new Error("Store names should be provided as array");if(Array.isArray(e))return Sr||(Sr=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),t?wr.apply(null,e)(Br(t)):function(t){return Br(e,t)};var n=e;if(!0===n.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),n.__proto__===u.PureComponent&&console.warn("Mobx observer: You are using 'observer' on React.PureComponent. These two achieve two opposite goals and should not be used together"),Dr&&n.$$typeof===Dr){var i=n.render;if("function"!=typeof i)throw new Error("render property of ForwardRef was not a function");return(0,u.forwardRef)((function(){var e=arguments;return u.createElement(Hr,null,(function(){return i.apply(void 0,e)}))}))}if(!("function"!=typeof n||n.prototype&&n.prototype.render||n.isReactClass||u.Component.isPrototypeOf(n))){var r,o,s=Br((o=r=function(e){function t(){return Ii(this,t),Hi(this,Yi(t).apply(this,arguments))}return Fi(t,e),ji(t,[{key:"render",value:function(){return n.call(this,this.props,this.context)}}]),t}(u.Component),r.displayName=n.displayName||n.name,r.contextTypes=n.contextTypes,r.propTypes=n.propTypes,r.defaultProps=n.defaultProps,o));return nr(s,n),s}if(!n)throw new Error("Please pass a valid component to 'observer'");var a=n.prototype||n;!function(e){["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach((function(t){!function(e,t){gr(e,t,Fr[t])}(e,t)})),e.shouldComponentUpdate?e.shouldComponentUpdate!==Fr.shouldComponentUpdate&&console.warn("Use `shouldComponentUpdate` in an `observer` based component breaks the behavior of `observer` and might lead to unexpected results. Manually implementing `sCU` should not be needed when using mobx-react."):e.shouldComponentUpdate=Fr.shouldComponentUpdate}(a),n.isMobXReactObserver=!0,Yr(a,"props"),Yr(a,"state");var l=a.render;return a.render=function(){return Nr.call(this,l)},n}var Hr=Br((function(e){var t=e.children,n=e.inject,i=e.render,r=t||i;if(void 0===r)return null;if(!n)return r();console.warn("<Observer inject=.../> is no longer supported. Please use inject on the enclosing component instead");var o=wr(n)(r);return u.createElement(o,null)}));Hr.displayName="Observer";var Vr=function(e,t,n,i,r){var o="children"===t?"render":"children";return"function"==typeof e[t]&&"function"==typeof e[o]?new Error("Invalid prop,do not use children and render in the same time in`"+n):"function"!=typeof e[t]&&"function"!=typeof e[o]?new Error("Invalid prop `"+r+"` of type `"+zi(e[t])+"` supplied to `"+n+"`, expected `function`."):void 0};function Wr(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function Ur(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function $r(e,t){try{var n=this.props,i=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}Hr.propTypes={render:Vr,children:Vr},Wr.__suppressDeprecationWarning=!0,Ur.__suppressDeprecationWarning=!0,$r.__suppressDeprecationWarning=!0;var qr={children:!0,key:!0,ref:!0},Kr=function(e){function t(e,n){var i;return Ii(this,t),(i=Hi(this,Yi(t).call(this,e,n))).state={},Gr(e,i.state),i}return Fi(t,e),ji(t,[{key:"render",value:function(){return u.Children.only(this.props.children)}},{key:"getChildContext",value:function(){var e={};return Gr(this.context.mobxStores,e),Gr(this.props,e),{mobxStores:e}}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!e)return null;if(!t)return e;if(Object.keys(e).filter(Zr).length!==Object.keys(t).filter(Zr).length&&console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!e.suppressChangedStoreWarning)for(var n in e)Zr(n)&&t[n]!==e[n]&&console.warn("MobX Provider: Provided store '"+n+"' has changed. Please avoid replacing stores as the change might not propagate to all children");return e}}]),t}(u.Component);function Gr(e,t){if(e)for(var n in e)Zr(n)&&(t[n]=e[n])}function Zr(e){return!qr[e]&&"suppressChangedStoreWarning"!==e}if(Kr.contextTypes={mobxStores:lr},Kr.childContextTypes={mobxStores:lr.isRequired},function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,i=null,r=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?i="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(i="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?r="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(r="UNSAFE_componentWillUpdate"),null!==n||null!==i||null!==r){var o=e.displayName||e.name,s="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+o+" uses "+s+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==i?"\n  "+i:"")+(null!==r?"\n  "+r:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=Wr,t.componentWillReceiveProps=Ur),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=$r;var a=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var i=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;a.call(this,e,t,i)}}}(Kr),dr("disposeOnUnmount"),!u.Component)throw new Error("mobx-react requires React to be available");if(!ct)throw new Error("mobx-react requires mobx to be available");if("function"==typeof d.unstable_batchedUpdates&&_t({reactionScheduler:d.unstable_batchedUpdates}),"object"===("undefined"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__?"undefined":zi(__MOBX_DEVTOOLS_GLOBAL_HOOK__))){var Jr={spy:ct,extras:{getDebugName:yn}},Xr={renderReporter:Tr,componentByNodeRegistry:Or,componentByNodeRegistery:Or,trackComponents:function(){if("undefined"==typeof WeakMap)throw new Error("[mobx-react] tracking components is not supported in this browser.");Er||(Er=!0)}};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(Xr,Jr)}var Qr=r(46942),eo=r.n(Qr);function to(){return to=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},to.apply(this,arguments)}function no(e){c().warn('Invalid icon given: "'+e+'"')}class io extends u.PureComponent{constructor(...e){super(...e),this.handleClick=e=>{const{onClick:t}=this.props;t&&(e.stopPropagation(),t())},this.handleKeypress=e=>{const{onClick:t}=this.props;t&&("Enter"!==e.key&&" "!==e.key||(e.stopPropagation(),t()))}}render(){const{className:e,name:t,onClick:n,iconRef:i,style:r}=this.props;let o="";if(!t||t.length<=0)return no(t),null;switch(t.substr(0,3)){case"su-":case"fas":case"fab":o=null;break;case"fa-":o="fa";break;default:return no(t),null}const s=eo()(o||void 0,t,{"clickable--IaD5obhE5P":n},e),a=n?{onClick:this.handleClick,onKeyPress:this.handleKeypress,role:"button",tabIndex:0}:{};return u.createElement("span",to({"aria-label":t,className:s,ref:i,style:r},a))}}var ro=io;class oo extends u.PureComponent{constructor(...e){super(...e),this.handleClick=()=>{const{onClick:e,value:t}=this.props;e&&e(t)}}render(){const{title:e,children:t,expanded:n,icon:i}=this.props;let{active:r}=this.props;t&&u.Children.forEach(t,(e=>{e.props.active&&(r=!0)}));const o=eo()("item--Rvy6rVvZ53",{"active--a_LDLUweNX":r});return u.createElement("div",{className:o},u.createElement("button",{className:"title--xD3e9Vv62P",onClick:this.handleClick,type:"button"},i&&u.createElement(ro,{className:"icon--I9GqYj9Phb",name:i}),u.createElement("span",{className:"text--f3FZpseJhi"},e),t&&u.createElement(ro,{className:"children-indicator--iFsWEh___I",name:n?"su-angle-down":"su-angle-right"})),n&&t&&u.createElement("div",null,t))}}class so extends u.Component{render(){const{size:e,className:t}=this.props,n={width:e,height:e},i=eo()("spinner--G4SJkK9yhs",t);return u.createElement("div",{className:i,style:n},u.createElement("div",{className:"double-bounce1--JaXLQvd7nP"}),u.createElement("div",{className:"double-bounce2--TdGuB_5mm9"}))}}so.defaultProps={size:40};var ao=so,lo={button:"button--CMWxP7fcJV",primary:"primary--GuhNCvhHsz",secondary:"secondary--BLe9ILAi_I","button-icon":"button-icon--SqrucnDZDR",buttonIcon:"button-icon--SqrucnDZDR","dropdown-icon":"dropdown-icon--hFn1Iv3PMe",dropdownIcon:"dropdown-icon--hFn1Iv3PMe",link:"link--PSEeKCbn_l","button-text":"button-text--lUvLPOKr5t",buttonText:"button-text--lUvLPOKr5t",text:"text--H4KfQZWylC",icon:"icon--RBFSkD1GIK",active:"active--ltCP3MhsSA","has-text":"has-text--mJ2OYHuz9v",hasText:"has-text--mJ2OYHuz9v",loader:"loader--UIBbDFDukJ",loading:"loading--AiGr7HOZHA"};class co extends u.PureComponent{constructor(...e){super(...e),this.handleClick=e=>{e.preventDefault();const t=this.props.onClick;t&&t(this.props.value)}}render(){const{active:e,activeClassName:t,buttonRef:n,children:i,className:r,disabled:o,icon:s,iconClassName:a,loading:l,onClick:c,showDropdownIcon:d,skin:h,type:p}=this.props,f=eo()(lo.button,lo[h],{[lo.loading]:l,[lo.active]:e,[lo.hasText]:!!i,[t||""]:e&&t},r),m=eo()(lo.buttonIcon,a);return u.createElement("button",{className:f,disabled:l||o,onClick:c?this.handleClick:void 0,ref:n,type:p},s&&u.createElement(ro,{className:m,name:s}),i&&u.createElement("span",{className:lo.buttonText},i),d&&u.createElement(ro,{className:lo.dropdownIcon,name:"su-angle-down"}),l&&u.createElement("div",{className:lo.loader},u.createElement(ao,{size:25})))}}co.defaultProps={active:!1,disabled:!1,loading:!1,showDropdownIcon:!1,size:"large",skin:"secondary",type:"button",value:void 0};var uo=co;function ho(e,t,n){return function(e,t,n){const i=t<0?e.length+t:t;if(i>=0&&i<e.length){const i=n<0?e.length+n:n,[r]=e.splice(t,1);e.splice(i,0,r)}}(e=[...e],t,n),e}function po(e){const t=e;if(!t)return"";if(Object.values(t).every((e=>void 0===e)))return"";const n=new URLSearchParams;return Object.keys(t).forEach((e=>{void 0!==t[e]&&n.set(e,t[e])})),"?"+n.toString().replace(/%2C/gi,",")}var fo=r(63282),mo=r.n(fo),go=r(68182),bo=r.n(go);function yo(e){return!!e&&/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)}var vo={"idn-email":e=>yo(e)},_o=(e={allErrors:!0,allowUnionTypes:!0})=>{const t=new(mo())(e);return bo()(t),Object.entries(vo).forEach((([e,n])=>{t.addFormat(e,n)})),t},wo=e=>{if(0===e)return"0 Byte";const t=Math.floor(Math.log(e)/Math.log(1e3));return(e/Math.pow(1e3,t)).toFixed(2)+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][t]},ko=function(e,t){return ko=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ko(e,t)};function Co(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ko(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Eo,xo,So,Oo=function(){return Oo=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Oo.apply(this,arguments)};function To(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))}function Mo(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function Po(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function Do(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function Lo(e){return e.type===xo.literal}function Ao(e){return e.type===xo.argument}function zo(e){return e.type===xo.number}function Io(e){return e.type===xo.date}function Ro(e){return e.type===xo.time}function jo(e){return e.type===xo.select}function No(e){return e.type===xo.plural}function Fo(e){return e.type===xo.pound}function Yo(e){return e.type===xo.tag}function Bo(e){return!(!e||"object"!=typeof e||e.type!==So.number)}function Ho(e){return!(!e||"object"!=typeof e||e.type!==So.dateTime)}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError,function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(Eo||(Eo={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(xo||(xo={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(So||(So={}));var Vo=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,Wo=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function Uo(e){var t={};return e.replace(Wo,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var $o=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i,qo=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,Ko=/^(@+)?(\+|#+)?[rs]?$/g,Go=/(\*)(0+)|(#+)(0+)|(0+)/g,Zo=/^(0+)$/;function Jo(e){var t={};return"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision"),e.replace(Ko,(function(e,n,i){return"string"!=typeof i?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===i?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof i?i.length:0)),""})),t}function Xo(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function Qo(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!Zo.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function es(e){return Xo(e)||{}}function ts(e){for(var t={},n=0,i=e;n<i.length;n++){var r=i[n];switch(r.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=r.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=r.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=Oo(Oo(Oo({},t),{notation:"scientific"}),r.options.reduce((function(e,t){return Oo(Oo({},e),es(t))}),{}));continue;case"engineering":t=Oo(Oo(Oo({},t),{notation:"engineering"}),r.options.reduce((function(e,t){return Oo(Oo({},e),es(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(r.options[0]);continue;case"integer-width":if(r.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");r.options[0].replace(Go,(function(e,n,i,r,o,s){if(n)t.minimumIntegerDigits=i.length;else{if(r&&o)throw new Error("We currently do not support maximum integer digits");if(s)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(Zo.test(r.stem))t.minimumIntegerDigits=r.stem.length;else if(qo.test(r.stem)){if(r.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");r.stem.replace(qo,(function(e,n,i,r,o,s){return"*"===i?t.minimumFractionDigits=n.length:r&&"#"===r[0]?t.maximumFractionDigits=r.length:o&&s?(t.minimumFractionDigits=o.length,t.maximumFractionDigits=o.length+s.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""}));var o=r.options[0];"w"===o?t=Oo(Oo({},t),{trailingZeroDisplay:"stripIfInteger"}):o&&(t=Oo(Oo({},t),Jo(o)))}else if(Ko.test(r.stem))t=Oo(Oo({},t),Jo(r.stem));else{var s=Xo(r.stem);s&&(t=Oo(Oo({},t),s));var a=Qo(r.stem);a&&(t=Oo(Oo({},t),a))}}return t}var ns,is={AX:["H"],BQ:["H"],CP:["H"],CZ:["H"],DK:["H"],FI:["H"],ID:["H"],IS:["H"],ML:["H"],NE:["H"],RU:["H"],SE:["H"],SJ:["H"],SK:["H"],AS:["h","H"],BT:["h","H"],DJ:["h","H"],ER:["h","H"],GH:["h","H"],IN:["h","H"],LS:["h","H"],PG:["h","H"],PW:["h","H"],SO:["h","H"],TO:["h","H"],VU:["h","H"],WS:["h","H"],"001":["H","h"],AL:["h","H","hB"],TD:["h","H","hB"],"ca-ES":["H","h","hB"],CF:["H","h","hB"],CM:["H","h","hB"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],LU:["H","h","hB"],NP:["H","h","hB"],PF:["H","h","hB"],SC:["H","h","hB"],SM:["H","h","hB"],SN:["H","h","hB"],TF:["H","h","hB"],VA:["H","h","hB"],CY:["h","H","hb","hB"],GR:["h","H","hb","hB"],CO:["h","H","hB","hb"],DO:["h","H","hB","hb"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],NA:["h","H","hB","hb"],PA:["h","H","hB","hb"],PR:["h","H","hB","hb"],VE:["h","H","hB","hb"],AC:["H","h","hb","hB"],AI:["H","h","hb","hB"],BW:["H","h","hb","hB"],BZ:["H","h","hb","hB"],CC:["H","h","hb","hB"],CK:["H","h","hb","hB"],CX:["H","h","hb","hB"],DG:["H","h","hb","hB"],FK:["H","h","hb","hB"],GB:["H","h","hb","hB"],GG:["H","h","hb","hB"],GI:["H","h","hb","hB"],IE:["H","h","hb","hB"],IM:["H","h","hb","hB"],IO:["H","h","hb","hB"],JE:["H","h","hb","hB"],LT:["H","h","hb","hB"],MK:["H","h","hb","hB"],MN:["H","h","hb","hB"],MS:["H","h","hb","hB"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],PN:["H","h","hb","hB"],SH:["H","h","hb","hB"],SX:["H","h","hb","hB"],TA:["H","h","hb","hB"],ZA:["H","h","hb","hB"],"af-ZA":["H","h","hB","hb"],AR:["H","h","hB","hb"],CL:["H","h","hB","hb"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],EA:["H","h","hB","hb"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],GT:["H","h","hB","hb"],HN:["H","h","hB","hb"],IC:["H","h","hB","hb"],KG:["H","h","hB","hb"],KM:["H","h","hB","hb"],LK:["H","h","hB","hb"],MA:["H","h","hB","hb"],MX:["H","h","hB","hb"],NI:["H","h","hB","hb"],PY:["H","h","hB","hb"],SV:["H","h","hB","hb"],UY:["H","h","hB","hb"],JP:["H","h","K"],AD:["H","hB"],AM:["H","hB"],AO:["H","hB"],AT:["H","hB"],AW:["H","hB"],BE:["H","hB"],BF:["H","hB"],BJ:["H","hB"],BL:["H","hB"],BR:["H","hB"],CG:["H","hB"],CI:["H","hB"],CV:["H","hB"],DE:["H","hB"],EE:["H","hB"],FR:["H","hB"],GA:["H","hB"],GF:["H","hB"],GN:["H","hB"],GP:["H","hB"],GW:["H","hB"],HR:["H","hB"],IL:["H","hB"],IT:["H","hB"],KZ:["H","hB"],MC:["H","hB"],MD:["H","hB"],MF:["H","hB"],MQ:["H","hB"],MZ:["H","hB"],NC:["H","hB"],NL:["H","hB"],PM:["H","hB"],PT:["H","hB"],RE:["H","hB"],RO:["H","hB"],SI:["H","hB"],SR:["H","hB"],ST:["H","hB"],TG:["H","hB"],TR:["H","hB"],WF:["H","hB"],YT:["H","hB"],BD:["h","hB","H"],PK:["h","hB","H"],AZ:["H","hB","h"],BA:["H","hB","h"],BG:["H","hB","h"],CH:["H","hB","h"],GE:["H","hB","h"],LI:["H","hB","h"],ME:["H","hB","h"],RS:["H","hB","h"],UA:["H","hB","h"],UZ:["H","hB","h"],XK:["H","hB","h"],AG:["h","hb","H","hB"],AU:["h","hb","H","hB"],BB:["h","hb","H","hB"],BM:["h","hb","H","hB"],BS:["h","hb","H","hB"],CA:["h","hb","H","hB"],DM:["h","hb","H","hB"],"en-001":["h","hb","H","hB"],FJ:["h","hb","H","hB"],FM:["h","hb","H","hB"],GD:["h","hb","H","hB"],GM:["h","hb","H","hB"],GU:["h","hb","H","hB"],GY:["h","hb","H","hB"],JM:["h","hb","H","hB"],KI:["h","hb","H","hB"],KN:["h","hb","H","hB"],KY:["h","hb","H","hB"],LC:["h","hb","H","hB"],LR:["h","hb","H","hB"],MH:["h","hb","H","hB"],MP:["h","hb","H","hB"],MW:["h","hb","H","hB"],NZ:["h","hb","H","hB"],SB:["h","hb","H","hB"],SG:["h","hb","H","hB"],SL:["h","hb","H","hB"],SS:["h","hb","H","hB"],SZ:["h","hb","H","hB"],TC:["h","hb","H","hB"],TT:["h","hb","H","hB"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],VC:["h","hb","H","hB"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],ZM:["h","hb","H","hB"],BO:["H","hB","h","hb"],EC:["H","hB","h","hb"],ES:["H","hB","h","hb"],GQ:["H","hB","h","hb"],PE:["H","hB","h","hb"],AE:["h","hB","hb","H"],"ar-001":["h","hB","hb","H"],BH:["h","hB","hb","H"],DZ:["h","hB","hb","H"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],HK:["h","hB","hb","H"],IQ:["h","hB","hb","H"],JO:["h","hB","hb","H"],KW:["h","hB","hb","H"],LB:["h","hB","hb","H"],LY:["h","hB","hb","H"],MO:["h","hB","hb","H"],MR:["h","hB","hb","H"],OM:["h","hB","hb","H"],PH:["h","hB","hb","H"],PS:["h","hB","hb","H"],QA:["h","hB","hb","H"],SA:["h","hB","hb","H"],SD:["h","hB","hb","H"],SY:["h","hB","hb","H"],TN:["h","hB","hb","H"],YE:["h","hB","hb","H"],AF:["H","hb","hB","h"],LA:["H","hb","hB","h"],CN:["H","hB","hb","h"],LV:["H","hB","hb","h"],TL:["H","hB","hb","h"],"zu-ZA":["H","hB","hb","h"],CD:["hB","H"],IR:["hB","H"],"hi-IN":["hB","h","H"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"te-IN":["hB","h","H"],KH:["hB","h","H","hb"],"ta-IN":["hB","h","hb","H"],BN:["hb","hB","h","H"],MY:["hb","hB","h","H"],ET:["hB","hb","h","H"],"gu-IN":["hB","hb","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],TW:["hB","hb","h","H"],KE:["hB","hb","H","h"],MM:["hB","hb","H","h"],TZ:["hB","hb","H","h"],UG:["hB","hb","H","h"]};function rs(e){var t=e.hourCycle;if(void 0===t&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n,i=e.language;return"root"!==i&&(n=e.maximize().region),(is[n||""]||is[i||""]||is["".concat(i,"-001")]||is["001"])[0]}var os=new RegExp("^".concat(Vo.source,"*")),ss=new RegExp("".concat(Vo.source,"*$"));function as(e,t){return{start:e,end:t}}var ls=!!String.prototype.startsWith,cs=!!String.fromCodePoint,us=!!Object.fromEntries,ds=!!String.prototype.codePointAt,hs=!!String.prototype.trimStart,ps=!!String.prototype.trimEnd,fs=Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},ms=!0;try{ms="a"===(null===(ns=Cs("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===ns?void 0:ns[0])}catch(e){ms=!1}var gs,bs=ls?function(e,t,n){return e.startsWith(t,n)}:function(e,t,n){return e.slice(n,n+t.length)===t},ys=cs?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n,i="",r=e.length,o=0;r>o;){if((n=e[o++])>1114111)throw RangeError(n+" is not a valid code point");i+=n<65536?String.fromCharCode(n):String.fromCharCode(55296+((n-=65536)>>10),n%1024+56320)}return i},vs=us?Object.fromEntries:function(e){for(var t={},n=0,i=e;n<i.length;n++){var r=i[n],o=r[0],s=r[1];t[o]=s}return t},_s=ds?function(e,t){return e.codePointAt(t)}:function(e,t){var n=e.length;if(!(t<0||t>=n)){var i,r=e.charCodeAt(t);return r<55296||r>56319||t+1===n||(i=e.charCodeAt(t+1))<56320||i>57343?r:i-56320+(r-55296<<10)+65536}},ws=hs?function(e){return e.trimStart()}:function(e){return e.replace(os,"")},ks=ps?function(e){return e.trimEnd()}:function(e){return e.replace(ss,"")};function Cs(e,t){return new RegExp(e,t)}if(ms){var Es=Cs("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");gs=function(e,t){var n;return Es.lastIndex=t,null!==(n=Es.exec(e)[1])&&void 0!==n?n:""}}else gs=function(e,t){for(var n=[];;){var i=_s(e,t);if(void 0===i||Os(i)||Ts(i))break;n.push(i),t+=i>=65536?2:1}return ys.apply(void 0,n)};var xs=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.locale=t.locale,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var i=[];!this.isEOF();){var r=this.char();if(123===r){if((o=this.parseArgument(e,n)).err)return o;i.push(o.val)}else{if(125===r&&e>0)break;if(35!==r||"plural"!==t&&"selectordinal"!==t){if(60===r&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(Eo.UNMATCHED_CLOSING_TAG,as(this.clonePosition(),this.clonePosition()))}if(60===r&&!this.ignoreTag&&Ss(this.peek()||0)){if((o=this.parseTag(e,t)).err)return o;i.push(o.val)}else{var o;if((o=this.parseLiteral(e,t)).err)return o;i.push(o.val)}}else{var s=this.clonePosition();this.bump(),i.push({type:xo.pound,location:as(s,this.clonePosition())})}}}return{val:i,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var i=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:xo.literal,value:"<".concat(i,"/>"),location:as(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var r=this.parseMessage(e+1,t,!0);if(r.err)return r;var o=r.val,s=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!Ss(this.char()))return this.error(Eo.INVALID_TAG,as(s,this.clonePosition()));var a=this.clonePosition();return i!==this.parseTagName()?this.error(Eo.UNMATCHED_CLOSING_TAG,as(a,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:xo.tag,value:i,children:o,location:as(n,this.clonePosition())},err:null}:this.error(Eo.INVALID_TAG,as(s,this.clonePosition())))}return this.error(Eo.UNCLOSED_TAG,as(n,this.clonePosition()))}return this.error(Eo.INVALID_TAG,as(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e,t=this.offset();for(this.bump();!this.isEOF()&&(45===(e=this.char())||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039);)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),i="";;){var r=this.tryParseQuote(t);if(r)i+=r;else{var o=this.tryParseUnquoted(e,t);if(o)i+=o;else{var s=this.tryParseLeftAngleBracket();if(!s)break;i+=s}}}var a=as(n,this.clonePosition());return{val:{type:xo.literal,value:i,location:a},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(Ss(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(n);this.bump()}return ys.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),ys(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(Eo.EXPECT_ARGUMENT_CLOSING_BRACE,as(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(Eo.EMPTY_ARGUMENT,as(n,this.clonePosition()));var i=this.parseIdentifierIfPossible().value;if(!i)return this.error(Eo.MALFORMED_ARGUMENT,as(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(Eo.EXPECT_ARGUMENT_CLOSING_BRACE,as(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:xo.argument,value:i,location:as(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(Eo.EXPECT_ARGUMENT_CLOSING_BRACE,as(n,this.clonePosition())):this.parseArgumentOptions(e,t,i,n);default:return this.error(Eo.MALFORMED_ARGUMENT,as(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=gs(this.message,t),i=t+n.length;return this.bumpTo(i),{value:n,location:as(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,i){var r,o=this.clonePosition(),s=this.parseIdentifierIfPossible().value,a=this.clonePosition();switch(s){case"":return this.error(Eo.EXPECT_ARGUMENT_TYPE,as(o,a));case"number":case"date":case"time":this.bumpSpace();var l=null;if(this.bumpIf(",")){this.bumpSpace();var c=this.clonePosition();if((b=this.parseSimpleArgStyleIfPossible()).err)return b;if(0===(p=ks(b.val)).length)return this.error(Eo.EXPECT_ARGUMENT_STYLE,as(this.clonePosition(),this.clonePosition()));l={style:p,styleLocation:as(c,this.clonePosition())}}if((y=this.tryParseArgumentClose(i)).err)return y;var u=as(i,this.clonePosition());if(l&&bs(null==l?void 0:l.style,"::",0)){var d=ws(l.style.slice(2));if("number"===s)return(b=this.parseNumberSkeletonFromString(d,l.styleLocation)).err?b:{val:{type:xo.number,value:n,location:u,style:b.val},err:null};if(0===d.length)return this.error(Eo.EXPECT_DATE_TIME_SKELETON,u);var h=d;this.locale&&(h=function(e,t){for(var n="",i=0;i<e.length;i++){var r=e.charAt(i);if("j"===r){for(var o=0;i+1<e.length&&e.charAt(i+1)===r;)o++,i++;var s=1+(1&o),a=o<2?1:3+(o>>1),l=rs(t);for("H"!=l&&"k"!=l||(a=0);a-- >0;)n+="a";for(;s-- >0;)n=l+n}else n+="J"===r?"H":r}return n}(d,this.locale));var p={type:So.dateTime,pattern:h,location:l.styleLocation,parsedOptions:this.shouldParseSkeletons?Uo(h):{}};return{val:{type:"date"===s?xo.date:xo.time,value:n,location:u,style:p},err:null}}return{val:{type:"number"===s?xo.number:"date"===s?xo.date:xo.time,value:n,location:u,style:null!==(r=null==l?void 0:l.style)&&void 0!==r?r:null},err:null};case"plural":case"selectordinal":case"select":var f=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(Eo.EXPECT_SELECT_ARGUMENT_OPTIONS,as(f,Oo({},f)));this.bumpSpace();var m=this.parseIdentifierIfPossible(),g=0;if("select"!==s&&"offset"===m.value){if(!this.bumpIf(":"))return this.error(Eo.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,as(this.clonePosition(),this.clonePosition()));var b;if(this.bumpSpace(),(b=this.tryParseDecimalInteger(Eo.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Eo.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return b;this.bumpSpace(),m=this.parseIdentifierIfPossible(),g=b.val}var y,v=this.tryParsePluralOrSelectOptions(e,s,t,m);if(v.err)return v;if((y=this.tryParseArgumentClose(i)).err)return y;var _=as(i,this.clonePosition());return"select"===s?{val:{type:xo.select,value:n,options:vs(v.val),location:_},err:null}:{val:{type:xo.plural,value:n,options:vs(v.val),offset:g,pluralType:"plural"===s?"cardinal":"ordinal",location:_},err:null};default:return this.error(Eo.INVALID_ARGUMENT_TYPE,as(o,a))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(Eo.EXPECT_ARGUMENT_CLOSING_BRACE,as(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();)switch(this.char()){case 39:this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error(Eo.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,as(n,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=function(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=e.split($o).filter((function(e){return e.length>0})),n=[],i=0,r=t;i<r.length;i++){var o=r[i].split("/");if(0===o.length)throw new Error("Invalid number skeleton");for(var s=o[0],a=o.slice(1),l=0,c=a;l<c.length;l++)if(0===c[l].length)throw new Error("Invalid number skeleton");n.push({stem:s,options:a})}return n}(e)}catch(e){return this.error(Eo.INVALID_NUMBER_SKELETON,t)}return{val:{type:So.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?ts(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,i){for(var r,o=!1,s=[],a=new Set,l=i.value,c=i.location;;){if(0===l.length){var u=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var d=this.tryParseDecimalInteger(Eo.EXPECT_PLURAL_ARGUMENT_SELECTOR,Eo.INVALID_PLURAL_ARGUMENT_SELECTOR);if(d.err)return d;c=as(u,this.clonePosition()),l=this.message.slice(u.offset,this.offset())}if(a.has(l))return this.error("select"===t?Eo.DUPLICATE_SELECT_ARGUMENT_SELECTOR:Eo.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,c);"other"===l&&(o=!0),this.bumpSpace();var h=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?Eo.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:Eo.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,as(this.clonePosition(),this.clonePosition()));var p=this.parseMessage(e+1,t,n);if(p.err)return p;var f=this.tryParseArgumentClose(h);if(f.err)return f;s.push([l,{value:p.val,location:as(h,this.clonePosition())}]),a.add(l),this.bumpSpace(),l=(r=this.parseIdentifierIfPossible()).value,c=r.location}return 0===s.length?this.error("select"===t?Eo.EXPECT_SELECT_ARGUMENT_SELECTOR:Eo.EXPECT_PLURAL_ARGUMENT_SELECTOR,as(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!o?this.error(Eo.MISSING_OTHER_CLAUSE,as(this.clonePosition(),this.clonePosition())):{val:s,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,i=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var r=!1,o=0;!this.isEOF();){var s=this.char();if(!(s>=48&&s<=57))break;r=!0,o=10*o+(s-48),this.bump()}var a=as(i,this.clonePosition());return r?fs(o*=n)?{val:o,err:null}:this.error(t,a):this.error(e,a)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=_s(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(bs(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&Os(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null},e}();function Ss(e){return e>=97&&e<=122||e>=65&&e<=90}function Os(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function Ts(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function Ms(e){e.forEach((function(e){if(delete e.location,jo(e)||No(e))for(var t in e.options)delete e.options[t].location,Ms(e.options[t].value);else zo(e)&&Bo(e.style)||(Io(e)||Ro(e))&&Ho(e.style)?delete e.style.location:Yo(e)&&Ms(e.children)}))}function Ps(e,t){void 0===t&&(t={}),t=Oo({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new xs(e,t).parse();if(n.err){var i=SyntaxError(Eo[n.err.kind]);throw i.location=n.err.location,i.originalMessage=n.err.message,i}return(null==t?void 0:t.captureLocation)||Ms(n.val),n.val}function Ds(e,t){var n=t&&t.cache?t.cache:Fs,i=t&&t.serializer?t.serializer:Rs;return(t&&t.strategy?t.strategy:Is)(e,{cache:n,serializer:i})}function Ls(e,t,n,i){var r=function(e){return null==e||"number"==typeof e||"boolean"==typeof e}(i)?i:n(i),o=t.get(r);return void 0===o&&(o=e.call(this,i),t.set(r,o)),o}function As(e,t,n){var i=Array.prototype.slice.call(arguments,3),r=n(i),o=t.get(r);return void 0===o&&(o=e.apply(this,i),t.set(r,o)),o}function zs(e,t,n,i,r){return n.bind(t,e,i,r)}function Is(e,t){return zs(e,this,1===e.length?Ls:As,t.cache.create(),t.serializer)}var Rs=function(){return JSON.stringify(arguments)};function js(){this.cache=Object.create(null)}js.prototype.get=function(e){return this.cache[e]},js.prototype.set=function(e,t){this.cache[e]=t};var Ns,Fs={create:function(){return new js}},Ys={variadic:function(e,t){return zs(e,this,As,t.cache.create(),t.serializer)},monadic:function(e,t){return zs(e,this,Ls,t.cache.create(),t.serializer)}};!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(Ns||(Ns={}));var Bs,Hs=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.code=n,r.originalMessage=i,r}return Co(t,e),t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),Vs=function(e){function t(t,n,i,r){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(n,'". Options are "').concat(Object.keys(i).join('", "'),'"'),Ns.INVALID_VALUE,r)||this}return Co(t,e),t}(Hs),Ws=function(e){function t(t,n,i){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(n),Ns.INVALID_VALUE,i)||this}return Co(t,e),t}(Hs),Us=function(e){function t(t,n){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(n,'"'),Ns.MISSING_VALUE,n)||this}return Co(t,e),t}(Hs);function $s(e){return"function"==typeof e}function qs(e,t,n,i,r,o,s){if(1===e.length&&Lo(e[0]))return[{type:Bs.literal,value:e[0].value}];for(var a=[],l=0,c=e;l<c.length;l++){var u=c[l];if(Lo(u))a.push({type:Bs.literal,value:u.value});else if(Fo(u))"number"==typeof o&&a.push({type:Bs.literal,value:n.getNumberFormat(t).format(o)});else{var d=u.value;if(!r||!(d in r))throw new Us(d,s);var h=r[d];if(Ao(u))h&&"string"!=typeof h&&"number"!=typeof h||(h="string"==typeof h||"number"==typeof h?String(h):""),a.push({type:"string"==typeof h?Bs.literal:Bs.object,value:h});else if(Io(u)){var p="string"==typeof u.style?i.date[u.style]:Ho(u.style)?u.style.parsedOptions:void 0;a.push({type:Bs.literal,value:n.getDateTimeFormat(t,p).format(h)})}else if(Ro(u))p="string"==typeof u.style?i.time[u.style]:Ho(u.style)?u.style.parsedOptions:i.time.medium,a.push({type:Bs.literal,value:n.getDateTimeFormat(t,p).format(h)});else if(zo(u))(p="string"==typeof u.style?i.number[u.style]:Bo(u.style)?u.style.parsedOptions:void 0)&&p.scale&&(h*=p.scale||1),a.push({type:Bs.literal,value:n.getNumberFormat(t,p).format(h)});else{if(Yo(u)){var f=u.children,m=u.value,g=r[m];if(!$s(g))throw new Ws(m,"function",s);var b=g(qs(f,t,n,i,r,o).map((function(e){return e.value})));Array.isArray(b)||(b=[b]),a.push.apply(a,b.map((function(e){return{type:"string"==typeof e?Bs.literal:Bs.object,value:e}})))}if(jo(u)){if(!(y=u.options[h]||u.options.other))throw new Vs(u.value,h,Object.keys(u.options),s);a.push.apply(a,qs(y.value,t,n,i,r))}else if(No(u)){var y;if(!(y=u.options["=".concat(h)])){if(!Intl.PluralRules)throw new Hs('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',Ns.MISSING_INTL_API,s);var v=n.getPluralRules(t,{type:u.pluralType}).select(h-(u.offset||0));y=u.options[v]||u.options.other}if(!y)throw new Vs(u.value,h,Object.keys(u.options),s);a.push.apply(a,qs(y.value,t,n,i,r,h-(u.offset||0)))}}}}return(_=a).length<2?_:_.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===Bs.literal&&t.type===Bs.literal?n.value+=t.value:e.push(t),e}),[]);var _}function Ks(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(Bs||(Bs={}));var Gs=function(){function e(t,n,i,r){var o,s,a=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=a.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===Bs.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return qs(a.ast,a.locales,a.formatters,a.formats,e,void 0,a.message)},this.resolvedOptions=function(){return{locale:a.resolvedLocale.toString()}},this.getAst=function(){return a.ast},this.locales=n,this.resolvedLocale=e.resolveLocale(n),"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:null==r?void 0:r.ignoreTag,locale:this.resolvedLocale})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=(o=e.formats,(s=i)?Object.keys(o).reduce((function(e,t){var n,i;return e[t]=(n=o[t],(i=s[t])?Oo(Oo(Oo({},n||{}),i||{}),Object.keys(n).reduce((function(e,t){return e[t]=Oo(Oo({},n[t]),i[t]||{}),e}),{})):n),e}),Oo({},o)):o),this.formatters=r&&r.formatters||function(e){return void 0===e&&(e={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Ds((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,Do([void 0],t,!1)))}),{cache:Ks(e.number),strategy:Ys.variadic}),getDateTimeFormat:Ds((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,Do([void 0],t,!1)))}),{cache:Ks(e.dateTime),strategy:Ys.variadic}),getPluralRules:Ds((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,Do([void 0],t,!1)))}),{cache:Ks(e.pluralRules),strategy:Ys.variadic})}}(this.formatterCache)}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(e){var t=Intl.NumberFormat.supportedLocalesOf(e);return t.length>0?new Intl.Locale(t[0]):new Intl.Locale("string"==typeof e?e:e[0])},e.__parse=Ps,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}(),Zs=Gs;let Js;function Xs(e,t){return Js&&e in Js?Js[e].format(t):(c().warn('The translation key "'+e+'" has not been translated. The key itself will be returned instead.'),e)}var Qs,ea,ta,na,ia,ra=new class{constructor(){this.observers={}}updateStorageEventListener(){const e=Object.values(this.observers).flat().length;e>0&&!this.storageEventListener?(this.storageEventListener=e=>{e.key&&this.observers[e.key]&&this.notifyObservers(e.key,this.parseValue(e.newValue))},window.addEventListener("storage",this.storageEventListener)):0===e&&this.storageEventListener&&window.removeEventListener("storage",this.storageEventListener)}notifyObservers(e,t){const n=this.observers[e]||[];for(const e of n)e(t)}set(e,t){t?window.localStorage.setItem(e,JSON.stringify(t)):window.localStorage.removeItem(e),this.notifyObservers(e,t)}observe(e,t,n){if(this.observers[e]||(this.observers[e]=[]),this.observers[e].push(t),this.updateStorageEventListener(),n){const n=window.localStorage.getItem(e);t(this.parseValue(n))}return()=>{const n=this.observers[e]?.indexOf(t);n>-1&&this.observers[e].splice(n,1),this.updateStorageEventListener()}}parseValue(e){try{return e?JSON.parse(e):void 0}catch(e){return}}},oa=ra,sa="menu-button--hfVMN03k0_";function aa(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function la(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var ca,ua,da,ha,pa=Br((ea=class extends u.Component{constructor(...e){super(...e),aa(this,"open",ta,this),aa(this,"handleButtonClick",na,this),aa(this,"close",ia,this),this.handleProfileClick=()=>{const{onProfileClick:e}=this.props;this.close(),e()},this.handleLogoutClick=()=>{const{onLogoutClick:e}=this.props;this.close(),e()}}render(){const{username:e,userImage:t}=this.props,n=eo()("menu--a28LPBQSzi",this.open&&"open--Qjph2FZMAl"),i=eo()("button--X4zwkycNkF",this.open&&"active--ZXonCCUDDU");return u.createElement("div",{className:"user-section--EBIbMNPLZr"},u.createElement("button",{className:i,onClick:this.handleButtonClick,type:"button"},u.createElement("div",{className:"user-image--So81M71Msz"},t&&u.createElement("img",{alt:e,className:"image--iFu0VektAH",src:t,title:e}),!t&&u.createElement(ro,{className:"placeholder--e4yT24SGu0",name:"su-user"})),u.createElement("span",{className:"username--BKMThPMsFU"},e),u.createElement(ro,{name:this.open?"su-angle-down":"su-angle-up"})),u.createElement("div",{className:n,hidden:!this.open},u.createElement(uo,{className:sa,icon:"su-user",onClick:this.handleProfileClick,size:"large",skin:"text"},Xs("sulu_admin.edit_profile")),u.createElement(uo,{className:sa,icon:"su-sign-out-alt",onClick:this.handleLogoutClick,size:"large",skin:"text"},Xs("sulu_admin.logout"))))}},ta=la(ea.prototype,"open",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),na=la(ea.prototype,"handleButtonClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.open=!this.open}}}),ia=la(ea.prototype,"close",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.open=!1}}}),Qs=ea))||Qs;function fa(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let ma=Br((ha=class extends u.Component{setExpandedChild(e){this.expandedChild=e}constructor(e){var t,n,i;super(e),t=this,i=this,(n=da)&&Object.defineProperty(t,"expandedChild",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0}),this.findDefaultExpandedChild=e=>{let t=null;u.Children.forEach(e,(e=>{e.props.children&&u.Children.forEach(e.props.children,(n=>{n.props.active&&(t=e.props.value)}))})),this.setExpandedChild(t)},this.handleItemClick=e=>{this.expandedChild!==e?(this.setExpandedChild(e),this.props.onItemClick(e)):this.setExpandedChild(null)},this.handlePinToggle=()=>{const{onPinToggle:e}=this.props;e&&e()},this.findDefaultExpandedChild(this.props.children)}componentDidUpdate(e){e.children!==this.props.children&&this.findDefaultExpandedChild(this.props.children)}cloneChildren(){return u.Children.map(this.props.children,(e=>u.cloneElement(e,{children:e.props.children?u.Children.map(e.props.children,(e=>{if(e)return u.cloneElement(e,{onClick:this.handleItemClick})})):void 0,expanded:e.props.value===this.expandedChild||e.props.children&&e.props.children.some((e=>e.props.value===this.expandedChild)),onClick:this.handleItemClick})))}render(){const{pinned:e,username:t,userImage:n,onLogoutClick:i,onProfileClick:r,suluVersion:o,onPinToggle:s}=this.props,a=eo()("pin--GwieA7ArLy",{"active--UIuaa3rGsh":e});return u.createElement("div",{className:"navigation--cugYJ0Pwua"},u.createElement("div",{className:"header--gLuOKQguRn"},u.createElement("span",{className:"logo--ny5OTp32Tt",title:o},u.createElement(ro,{name:"su-sulu-logo"})),s&&u.createElement("button",{className:a,onClick:this.handlePinToggle,type:"button"},u.createElement(ro,{className:"pin-icon--fOi8rPbVfm",name:"su-stick-right"}))),u.createElement("div",{className:"items--ioGixf7HsP"},this.cloneChildren()),u.createElement("div",{className:"footer--tHiYYkPROk"},u.createElement(pa,{onLogoutClick:i,onProfileClick:r,userImage:n,username:t})))}},ha.defaultProps={appVersion:void 0,pinned:!1,userImage:void 0},ha.Item=oo,da=fa((ua=ha).prototype,"expandedChild",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fa(ua.prototype,"setExpandedChild",[ht],Object.getOwnPropertyDescriptor(ua.prototype,"setExpandedChild"),ua.prototype),ca=ua))||ca;var ga=ma,ba=r(17334),ya=r.n(ba),va={},_a=r(95093),wa=r.n(_a),ka=r(75195),Ca=r.n(ka);function Ea(e){return O(e)?e.map(Ea).join(","):e instanceof Date?di(e):e instanceof Object?xa(e):Mt(e)}function xa(e){return Object.keys(e).filter((t=>void 0!==e[t])).reduce(((t,n)=>{const i=Mt(e[n]);return t[n]=Ea(i),t}),{})}var Sa,Oa,Ta,Ma,Pa,Da=new class{constructor(){this.endpoints={},this.configurationPromises={}}clear(){this.endpoints={},this.configurationPromises={}}setRoutingData(e){Ca().setRoutingData(e)}setEndpoints(e){this.endpoints=e}getDetailUrl(e,t={}){return c().warn('The "getDetailUrl" method is deprecated since version 2.6 and will be removed. Use the "getUrl" option instead.'),this.getUrl("detail",e,t)}getListUrl(e,t={}){return c().warn('The "getListUrl" method is deprecated since version 2.6 and will be removed. Use the "getUrl" option instead.'),this.getUrl("list",e,t)}getUrl(e,t,n={}){if(!this.endpoints[t])throw new Error('There are no routes for the resourceKey "'+t+'"!\n\nRegistered keys: '+Object.keys(this.endpoints).sort().join(", "));if(!this.endpoints[t].routes[e])throw new Error('There is no "'+e+'" route for the resourceKey "'+t+'"');return Ca().generate(this.endpoints[t].routes[e],xa(n))}},La=class{static get(e,t){return ri.get(Da.getUrl("detail",e,{...t}))}static post(e,t,n){return ri.post(Da.getUrl("detail",e,{...n}),t)}static put(e,t,n){return ri.put(Da.getUrl("detail",e,{...n}),t)}static patch(e,t,n){return ri.patch(Da.getUrl("detail",e,{...n}),t)}static patchList(e,t){return ri.patch(Da.getUrl("list",e),t)}static getList(e,t={}){return ri.get(Da.getUrl("list",e,{...t,flat:!0}))}static delete(e,t){return ri.delete(Da.getUrl("detail",e,{...t}))}static deleteList(e,t){return ri.delete(Da.getUrl("list",e,t))}};function Aa(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function za(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function Ia(){return(window.navigator.languages?window.navigator.languages[0]:null)||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}var Ra,ja,Na=new(Oa=za((Sa=class{constructor(){Aa(this,"config",Oa,this),Aa(this,"initialized",Ta,this),Aa(this,"initializedTranslationsLocale",Ma,this),Aa(this,"loading",Pa,this),this.updateConfigHooks={}}get bundles(){return this.config?Object.keys(this.config):[]}clear(){this.initialized=!1,this.initializedTranslationsLocale=void 0,this.loading=!1,this.config=void 0}setInitialized(){this.initialized=!0}setInitializedTranslationsLocale(e){this.initializedTranslationsLocale=e}setLoading(e){this.loading=e}addUpdateConfigHook(e,t){this.updateConfigHooks[e]||(this.updateConfigHooks[e]=[]),this.updateConfigHooks[e].push(t)}initializeSymfonyRouting(){return ri.get(va.endpoints.routing).then((e=>{Da.setRoutingData(e)}))}initializeTranslations(){const e=sl.user?sl.user.locale:function(){const e=Ia().slice(0,2).toLowerCase();return-1===va.translations.indexOf(e)?va.fallbackLocale:e}();return(this.initializedTranslationsLocale===e?Promise.resolve():ri.get(va.endpoints.translations+"?locale="+e).then((t=>{!function(e,t){Js=Object.keys(e).reduce(((n,i)=>{try{n[i]=new Zs(e[i],t)}catch(t){c().error("The translation key "+i+' could not be translated. It is translated to "'+e[i]+'" which is an invalid IntlMessageFormat: '+t.toString())}return n}),{})}(t,e),this.setInitializedTranslationsLocale(e)}))).then((()=>{this.setLoading(!1)}))}initialize(e){if(this.setLoading(!0),!e)return this.initializeTranslations();const t=ri.get(va.endpoints.config),n=this.initializeSymfonyRouting();return Promise.all([t,n]).then(ht((([e])=>{this.config=e,this.initialized||wa().locale(Ia());for(const t in this.updateConfigHooks)this.updateConfigHooks[t].forEach((n=>{n(e[t],this.initialized)}));return this.setInitialized(),this.initializeTranslations()}))).catch((e=>401!==e.status?Promise.reject(e):this.initializeTranslations()))}}).prototype,"config",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ta=za(Sa.prototype,"initialized",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ma=za(Sa.prototype,"initializedTranslationsLocale",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pa=za(Sa.prototype,"loading",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),za(Sa.prototype,"bundles",[ge],Object.getOwnPropertyDescriptor(Sa.prototype,"bundles"),Sa.prototype),za(Sa.prototype,"clear",[ht],Object.getOwnPropertyDescriptor(Sa.prototype,"clear"),Sa.prototype),za(Sa.prototype,"setInitialized",[ht],Object.getOwnPropertyDescriptor(Sa.prototype,"setInitialized"),Sa.prototype),za(Sa.prototype,"setInitializedTranslationsLocale",[ht],Object.getOwnPropertyDescriptor(Sa.prototype,"setInitializedTranslationsLocale"),Sa.prototype),za(Sa.prototype,"setLoading",[ht],Object.getOwnPropertyDescriptor(Sa.prototype,"setLoading"),Sa.prototype),Sa);function Fa(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let Ya=(Ra=class{constructor(){var e,t,n;e=this,n=this,(t=ja)&&Object.defineProperty(e,"localizations",{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}setLocalizations(e){this.localizations=e}loadLocalizations(){return c().warn('The "loadLocalizations" method is deprecated since 2.1 and will be removed. Use the "localizations" property instead.'),Promise.resolve(this.localizations)}},ja=Fa(Ra.prototype,"localizations",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Fa(Ra.prototype,"setLocalizations",[ht],Object.getOwnPropertyDescriptor(Ra.prototype,"setLocalizations"),Ra.prototype),Ra);var Ba,Ha,Va,Wa,Ua,$a,qa,Ka,Ga,Za,Ja,Xa,Qa=new Ya;function el(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function tl(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const nl="sulu_admin.content_locale";var il=new(Ha=tl((Ba=class{constructor(){el(this,"persistentSettings",Ha,this),this.dirtyPersistentSettings=[],el(this,"user",Va,this),el(this,"contact",Wa,this),el(this,"loggedIn",Ua,this),el(this,"loading",$a,this),el(this,"loginError",qa,this),el(this,"loginMethod",Ka,this),el(this,"forgotPasswordSuccess",Ga,this),el(this,"twoFactorMethods",Za,this),el(this,"twoFactorError",Ja,this),el(this,"redirectUrl",Xa,this),this.handleLogin=e=>{if(this.setTwoFactorMethods([]),"redirect"!==e.method||!e.url){if("json_login"===e.method)return this.setLoginMethod(e.method),void this.setLoading(!1);if(!1===e.completed)return this.setLoading(!1),void(e.twoFactorMethods&&e.twoFactorMethods.length&&this.setTwoFactorMethods(e.twoFactorMethods));if(this.user){if(e.username===this.user.username)return this.setLoggedIn(!0),void this.setLoading(!1);this.clear()}return"json_login"===this.loginMethod&&this.clear(),this.setLoading(!0),Na.initialize(!0).then((()=>{this.setLoading(!1)}))}this.setRedirectUrl(e.url)},this.login=e=>(this.setLoading(!0),ri.post(va.endpoints.loginCheck,e).then((e=>this.handleLogin(e))).catch((e=>{if(this.setLoading(!1),401!==e.status)return Promise.reject(e);"json_login"===this.loginMethod&&this.clear(),this.setLoginError(!0)}))),this.twoFactorLogin=e=>(this.setLoading(!0),ri.post(va.endpoints.twoFactorLoginCheck,e).then((e=>this.handleLogin(e))).catch((e=>{if(this.setLoading(!1),this.setTwoFactorError(!0),401!==e.status)return Promise.reject(e)}))),this.updatePersistentSettings=ya()((()=>{const e=this.dirtyPersistentSettings.reduce(((e,t)=>(this.persistentSettings.has(t)&&(e[t]=this.persistentSettings.get(t)),e)),{});ri.patch(va.endpoints.profileSettings,e),this.dirtyPersistentSettings.splice(0,this.dirtyPersistentSettings.length)}),2500)}clear(){this.persistentSettings=new Map,this.loggedIn=!1,this.loading=!1,this.user=void 0,this.contact=void 0,this.loginError=!1,this.loginMethod="",this.forgotPasswordSuccess=!1,this.twoFactorMethods=[],this.twoFactorError=!1,this.redirectUrl=""}get systemLocale(){return this.user?this.user.locale:va.fallbackLocale}setLoggedIn(e){this.loggedIn=e}setLoading(e){this.loading=e}setLoginError(e){this.loginError=e}setLoginMethod(e){this.loginMethod=e}setForgotPasswordSuccess(e){this.forgotPasswordSuccess=e}setTwoFactorMethods(e){this.twoFactorMethods=e}setTwoFactorError(e){this.twoFactorError=e}setRedirectUrl(e){this.redirectUrl=e}get contentLocale(){const e=this.persistentSettings.get(nl);if(e)return e;const{localizations:t}=Qa,n=t.filter((e=>e.default)),i=n.length?n[0]:t.length>0?t[0]:void 0;return i?i.locale:va.fallbackLocale}setUser(e){this.user=e;const t=this.user.settings;Object.keys(t).forEach((e=>{this.persistentSettings.set(e,t[e])}))}updateContentLocale(e){this.setPersistentSetting(nl,e)}setContact(e){this.contact=e}setFullName(e){this.contact&&(this.contact.fullName=e)}forgotPassword(e){return this.setLoading(!0),ri.post(va.endpoints.forgotPasswordReset,e).then((e=>{"redirect"===e.method&&e.url?this.setRedirectUrl(e.url):(this.setLoading(!1),this.setForgotPasswordSuccess(!0))})).catch((e=>{if(this.setLoading(!1),this.setForgotPasswordSuccess(!0),400!==e.status)return Promise.reject(e)}))}resetPassword(e){return this.setLoading(!0),ri.post(va.endpoints.resetPassword,e).then((({user:e})=>this.handleLogin({username:e}))).catch((()=>{this.setLoading(!1)}))}logout(){return ri.get(va.endpoints.logout).then((()=>{this.setLoggedIn(!1)}))}setPersistentSetting(e,t){this.persistentSettings.get(e)!==t&&(this.persistentSettings.set(e,t),this.dirtyPersistentSettings.push(e),this.updatePersistentSettings())}getPersistentSetting(e){return this.persistentSettings.get(e)}validatePassword(e){const t=va.passwordPattern;return!t||new RegExp(t).test(e)}hasSingleSignOn(){return va.endpoints.has_single_sign_on}}).prototype,"persistentSettings",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Va=tl(Ba.prototype,"user",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Wa=tl(Ba.prototype,"contact",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Ua=tl(Ba.prototype,"loggedIn",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$a=tl(Ba.prototype,"loading",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qa=tl(Ba.prototype,"loginError",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ka=tl(Ba.prototype,"loginMethod",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ga=tl(Ba.prototype,"forgotPasswordSuccess",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Za=tl(Ba.prototype,"twoFactorMethods",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ja=tl(Ba.prototype,"twoFactorError",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xa=tl(Ba.prototype,"redirectUrl",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),tl(Ba.prototype,"clear",[ht],Object.getOwnPropertyDescriptor(Ba.prototype,"clear"),Ba.prototype),tl(Ba.prototype,"systemLocale",[ge],Object.getOwnPropertyDescriptor(Ba.prototype,"systemLocale"),Ba.prototype),tl(Ba.prototype,"setLoggedIn",[ht],Object.getOwnPropertyDescriptor(Ba.prototype,"setLoggedIn"),Ba.prototype),tl(Ba.prototype,"setLoading",[ht],Object.getOwnPropertyDescriptor(Ba.prototype,"setLoading"),Ba.prototype),tl(Ba.prototype,"setLoginError",[ht],Object.getOwnPropertyDescriptor(Ba.prototype,"setLoginError"),Ba.prototype),tl(Ba.prototype,"setLoginMethod",[ht],Object.getOwnPropertyDescriptor(Ba.prototype,"setLoginMethod"),Ba.prototype),tl(Ba.prototype,"setForgotPasswordSuccess",[ht],Object.getOwnPropertyDescriptor(Ba.prototype,"setForgotPasswordSuccess"),Ba.prototype),tl(Ba.prototype,"setTwoFactorMethods",[ht],Object.getOwnPropertyDescriptor(Ba.prototype,"setTwoFactorMethods"),Ba.prototype),tl(Ba.prototype,"setTwoFactorError",[ht],Object.getOwnPropertyDescriptor(Ba.prototype,"setTwoFactorError"),Ba.prototype),tl(Ba.prototype,"setRedirectUrl",[ht],Object.getOwnPropertyDescriptor(Ba.prototype,"setRedirectUrl"),Ba.prototype),tl(Ba.prototype,"contentLocale",[ge],Object.getOwnPropertyDescriptor(Ba.prototype,"contentLocale"),Ba.prototype),tl(Ba.prototype,"setUser",[ht],Object.getOwnPropertyDescriptor(Ba.prototype,"setUser"),Ba.prototype),tl(Ba.prototype,"updateContentLocale",[ht],Object.getOwnPropertyDescriptor(Ba.prototype,"updateContentLocale"),Ba.prototype),tl(Ba.prototype,"setContact",[ht],Object.getOwnPropertyDescriptor(Ba.prototype,"setContact"),Ba.prototype),tl(Ba.prototype,"setFullName",[ht],Object.getOwnPropertyDescriptor(Ba.prototype,"setFullName"),Ba.prototype),tl(Ba.prototype,"setPersistentSetting",[ht],Object.getOwnPropertyDescriptor(Ba.prototype,"setPersistentSetting"),Ba.prototype),Ba),rl=function(e,t){if(t.locale)return t;if(!e.availableAttributes.includes("locale"))return t;const n=Mt(e.options.locales);return n&&!n.includes(il.contentLocale)||(t.locale=il.contentLocale),t},ol=function(e,t){if(!e||!t)return!0;if(!e.availableAttributes.includes("locale"))return!0;if(t.locale){const e="function"==typeof t.locale.get?t.locale.get():t.locale;if("string"!=typeof e)throw new Error('The "locale" router attribute must be a string if given!');il.updateContentLocale(e)}return!0},sl=il;function al(e,t){for(const n of e){if(t===n.id)return n;if(n.items){const e=al(n.items,t);if(e)return e}}}var ll,cl,ul=new class{constructor(){this.clear()}clear(){this.navigationItems=[]}set(e){this.navigationItems=e}get(e){const t=al(this.navigationItems,e);if(!t)throw new Error('Navigation item with id "'+e+'" not found.');return t}getAll(){return this.navigationItems}};function dl(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let hl=Br((cl=class extends u.Component{constructor(...e){super(...e),this.handleNavigationItemClick=e=>{const t=ul.get(e).view;t&&(this.props.router.navigate(t),this.props.onNavigate(t))},this.handleProfileEditClick=()=>{this.props.onProfileClick()},this.handlePinToggle=()=>{this.props.onPinToggle()},this.isItemActive=e=>{const{router:t}=this.props;return!!t.route&&(e.view&&t.route.name===e.view||e.childViews&&e.childViews.includes(t.route.name))}}get username(){return sl.loggedIn&&sl.contact?sl.contact.fullName:""}get userImage(){if(sl.loggedIn&&sl.contact&&sl.contact.avatar)return sl.contact.avatar.thumbnails["sulu-50x50"]}render(){const{appVersion:e,suluVersion:t}=this.props,n=ul.getAll();return u.createElement(ga,{appVersion:e,onItemClick:this.handleNavigationItemClick,onLogoutClick:this.props.onLogout,onPinToggle:this.handlePinToggle,onProfileClick:this.handleProfileEditClick,pinned:this.props.pinned,suluVersion:t,suluVersionLink:"https://github.com/sulu/sulu/releases",title:"Sulu",userImage:this.userImage,username:this.username},n.filter((e=>e.visible)).map((e=>u.createElement(ga.Item,{active:this.isItemActive(e),icon:e.icon,key:e.id,title:e.label,value:e.id},O(e.items)&&e.items.filter((e=>e.visible)).map((e=>u.createElement(ga.Item,{active:this.isItemActive(e),key:e.id,title:e.label,value:e.id})))))))}},dl(cl.prototype,"username",[ge],Object.getOwnPropertyDescriptor(cl.prototype,"username"),cl.prototype),dl(cl.prototype,"userImage",[ge],Object.getOwnPropertyDescriptor(cl.prototype,"userImage"),cl.prototype),ll=cl))||ll;var pl=hl;class fl extends u.PureComponent{constructor(...e){super(...e),this.handleClick=()=>{this.props.onClick&&this.props.onClick()}}render(){const{visible:e,fixed:t}=this.props,n=eo()("backdrop--IB1PYFLKYU",{"visible--S6ns_YwSc8":e,"fixed--SMXQJbanhb":t});return u.createElement("div",{className:n,"data-testid":"backdrop",onClick:this.handleClick,role:"button"})}}fl.defaultProps={fixed:!0,visible:!0};var ml=fl;class gl extends u.Component{render(){const{max:e,value:t}=this.props,n=e-(t?t.toString().length:0),i=eo()("character-counter--DoS1U08sNW",{"exceeded--wbUJJI58ya":n&&n<0});return u.createElement("label",{className:i},n+" "+Xs("sulu_admin.characters_left"))}}var bl=gl;class yl extends u.Component{render(){const{delimiter:e,max:t,value:n}=this.props,i=t-(n?n.split(e).length:0),r=eo()("segment-counter--tyz7E3SQhK",{"exceeded--xsgZXjTGoL":i&&i<0});return u.createElement("label",{className:r},i," ",Xs("sulu_admin.segments_left"))}}var vl=yl,_l={input:"input--f6Y7zzKD1w",left:"left--r4xBFGcxLN",center:"center--eAZuVQHEfP",right:"right--KhhoPncZFJ",collapsed:"collapsed--BapvGaZIeB","has-append-icon":"has-append-icon--l19YOQW5a4",hasAppendIcon:"has-append-icon--l19YOQW5a4",dark:"dark--_ZDVqa6gRR",error:"error--k2XfTe4H0L",disabled:"disabled--Z4YgWIiJtV","prepended-container":"prepended-container--S_9VyXoRnq",prependedContainer:"prepended-container--S_9VyXoRnq",icon:"icon--MHnGed9Qrd",headline:"headline--vD5FgBtF1Z","append-container":"append-container--V3FZI1PUiJ",appendContainer:"append-container--V3FZI1PUiJ","icon-clickable":"icon-clickable--DlJG_7md62",iconClickable:"icon-clickable--DlJG_7md62"};class wl extends u.PureComponent{constructor(...e){super(...e),this.setInputRef=e=>{const{inputRef:t}=this.props;t&&t(e)},this.setInputContainerRef=e=>{const{inputContainerRef:t}=this.props;t&&t(e)},this.handleChange=e=>{this.props.onChange(e.currentTarget.value||void 0,e)},this.handleKeyPress=e=>{const{onKeyPress:t}=this.props;t&&t(e.key||void 0,e)}}render(){const{alignment:e,autocomplete:t,autoFocus:n,headline:i,id:r,inputClass:o,valid:s,disabled:a,icon:l,loading:c,collapsed:d,maxCharacters:h,maxSegments:p,name:f,placeholder:m,onBlur:g,onIconClick:b,onClearClick:y,onFocus:v,onKeyPress:_,segmentDelimiter:w,type:k,value:C,iconStyle:E,iconClassName:x,inputMode:S,inputRef:O,inputContainerRef:T,skin:M,min:P,max:D,step:L}=this.props,A=eo()(_l.input,_l[M],_l[e],{[_l.error]:!s,[_l.disabled]:a,[_l.collapsed]:d,[_l.hasAppendIcon]:y,[_l.headline]:i}),z=eo()(_l.icon,_l[M],x,{[_l.iconClickable]:!!l&&!!b,[_l.collapsed]:d}),I=eo()(_l.prependedContainer,_l[M],{[_l.collapsed]:d});return u.createElement(u.Fragment,null,u.createElement("div",{className:A,ref:T?this.setInputContainerRef:void 0},!c&&l&&u.createElement("div",{className:I},u.createElement(ro,{className:z,name:l,onClick:b||void 0,style:E})),c&&u.createElement("div",{className:I},u.createElement(ao,{size:20})),u.createElement("input",{autoComplete:t,autoFocus:n,className:o,disabled:a,id:r,inputMode:S,max:D,min:P,name:f,onBlur:g,onChange:this.handleChange,onFocus:v,onKeyPress:_?this.handleKeyPress:void 0,placeholder:m,ref:O?this.setInputRef:void 0,step:L,type:k,value:null==C?"":C}),!d&&!!C&&y&&u.createElement("div",{className:_l.appendContainer},u.createElement(ro,{className:z,name:"su-times",onClick:y||void 0,style:E}))),h&&u.createElement(bl,{max:h,value:C}),w&&p&&u.createElement(vl,{delimiter:w,max:p,value:C?C.toString():void 0}))}}wl.defaultProps={alignment:"left",autoFocus:!1,collapsed:!1,disabled:!1,skin:"default",type:"text",valid:!0};var kl=wl;class Cl extends u.Component{render(){const{children:e,small:t}=this.props,n=eo()("header--KBbJRrDhX0",{"small--v4xfJQdEdA":t});return u.createElement("div",{className:n},e)}}Cl.defaultProps={small:!1};var El,xl,Sl,Ol,Tl,Ml,Pl,Dl="form--ILJyinLTXc",Ll="buttons--PSnSq5AuAY",Al="input-field--xyQaAuAbsf",zl="error--Vv9Ig4Y0s_",Il="label-text--sRRHbvtFAj";function Rl(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function jl(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Nl,Fl,Yl,Bl,Hl,Vl,Wl,Ul,$l,ql,Kl=Br(((Pl=class extends u.Component{constructor(...e){super(...e),Rl(this,"inputRef",Sl,this),Rl(this,"user",Ol,this),Rl(this,"setInputRef",Tl,this),Rl(this,"handleUserChange",Ml,this),this.handleSubmit=e=>{if(e.preventDefault(),!this.user)return;const{onSubmit:t}=this.props;t({user:this.user})}}get submitButtonDisabled(){return!this.user}componentDidMount(){this.inputRef&&this.inputRef.focus()}render(){const{success:e}=this.props;return u.createElement(u.Fragment,null,u.createElement(Cl,{small:e},Xs(e?"sulu_admin.forgot_password_success":"sulu_admin.forgot_password")),u.createElement("form",{className:Dl,onSubmit:this.handleSubmit},u.createElement("fieldset",null,u.createElement("label",{className:Al},u.createElement("div",{className:Il},Xs("sulu_admin.username_or_email")),u.createElement(kl,{autocomplete:"username",icon:"su-user",inputRef:this.setInputRef,onChange:this.handleUserChange,value:this.user})),u.createElement("div",{className:Ll},u.createElement(uo,{onClick:this.props.onChangeForm,skin:"link"},Xs("sulu_admin.back_to_login")),u.createElement(uo,{disabled:this.submitButtonDisabled,loading:this.props.loading,skin:"primary",type:"submit"},this.props.success?Xs("sulu_admin.reset_resend"):Xs("sulu_admin.reset"))))))}}).defaultProps={loading:!1,success:!1},Sl=jl((xl=Pl).prototype,"inputRef",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ol=jl(xl.prototype,"user",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jl(xl.prototype,"submitButtonDisabled",[ge],Object.getOwnPropertyDescriptor(xl.prototype,"submitButtonDisabled"),xl.prototype),Tl=jl(xl.prototype,"setInputRef",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.inputRef=e}}}),Ml=jl(xl.prototype,"handleUserChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.user=e}}}),El=xl))||El;function Gl(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Zl(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Jl,Xl,Ql,ec=Br(((ql=class extends u.Component{constructor(...e){super(...e),Gl(this,"inputRef",Yl,this),Gl(this,"user",Bl,this),Gl(this,"password",Hl,this),Gl(this,"setInputRef",Vl,this),Gl(this,"handleUserChange",Wl,this),Gl(this,"handlePasswordChange",Ul,this),Gl(this,"handleSubmit",$l,this)}get submitButtonDisabled(){return!(this.user&&this.password||(this.user||this.password)&&"username_password"!==this.props.mode)}componentDidMount(){this.inputRef&&this.inputRef.focus()}render(){const{error:e}=this.props,t=eo()(Al,{[zl]:e});return u.createElement(u.Fragment,null,u.createElement(Cl,{small:e},Xs(e?"sulu_admin.login_error":"sulu_admin.welcome")),u.createElement("form",{className:Dl,onSubmit:this.handleSubmit},u.createElement("fieldset",null,"password_only"!==this.props.mode&&u.createElement("label",{className:t},u.createElement("div",{className:Il},Xs("sulu_admin.username_or_email")),u.createElement(kl,{autocomplete:"username",autoFocus:"username_only"===this.props.mode,icon:"su-user",inputRef:this.setInputRef,onChange:this.handleUserChange,valid:!this.props.error,value:this.user})),"username_only"!==this.props.mode&&u.createElement("label",{className:t},u.createElement("div",{className:Il},Xs("sulu_admin.password")),u.createElement(kl,{autocomplete:"current-password",autoFocus:"password_only"===this.props.mode,icon:"su-lock",onChange:this.handlePasswordChange,type:"password",valid:!this.props.error,value:this.password})),u.createElement("div",{className:Ll},u.createElement(uo,{onClick:this.props.onChangeForm,skin:"link"},Xs("sulu_admin.forgot_password")),u.createElement(uo,{disabled:this.submitButtonDisabled,loading:this.props.loading,skin:"primary",type:"submit"},Xs("sulu_admin.login"))))))}}).defaultProps={error:!1,loading:!1,mode:"username_password"},Yl=Zl((Fl=ql).prototype,"inputRef",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bl=Zl(Fl.prototype,"user",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hl=Zl(Fl.prototype,"password",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zl(Fl.prototype,"submitButtonDisabled",[ge],Object.getOwnPropertyDescriptor(Fl.prototype,"submitButtonDisabled"),Fl.prototype),Vl=Zl(Fl.prototype,"setInputRef",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.inputRef=e}}}),Wl=Zl(Fl.prototype,"handleUserChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.user=e}}}),Ul=Zl(Fl.prototype,"handlePasswordChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.password=e}}}),$l=Zl(Fl.prototype,"handleSubmit",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{if(e.preventDefault(),this.user&&"username_password"!==this.props.mode){const{onSubmit:e}=this.props;return e({username:this.user,password:this.password??""}),void(this.user&&this.password&&(this.user=void 0,this.password=void 0))}if(!this.user||!this.password)return;const{onSubmit:t}=this.props;t({username:this.user,password:this.password})}}}),Nl=Fl))||Nl,tc={field:"field--wgJO1VHN2q",type:"type--l3cMVwE0__","type-delimiter":"type-delimiter--SOTwz5d0ei",typeDelimiter:"type-delimiter--SOTwz5d0ei","type-icon":"type-icon--YyIkHZxnOH",typeIcon:"type-icon--YyIkHZxnOH",error:"error--mh1Bw_1Ex8",label:"label--fjAWLtX2Ac",dark:"dark--sRHncfoCPm","description-label":"description-label--wUJk3inoWG",descriptionLabel:"description-label--wUJk3inoWG","error-label":"error-label--HbBEdsRSDH",errorLabel:"error-label--HbBEdsRSDH"};function nc(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function ic(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let rc=(Jl=class{constructor(e,t,n,i="ids",r={}){nc(this,"items",Xl,this),nc(this,"loading",Ql,this),this.resourceKey=e,this.locale=n,this.idFilterParameter=i,this.requestParameters=r,this.loadItems(t)}get ids(){return this.items.map((e=>e.id))}set(e){this.items=e}getById(e){return this.items.find((t=>t.id===e))}removeById(e){this.items.splice(this.items.findIndex((t=>t.id===e)),1)}move(e,t){this.items=ho(this.items,e,t)}setLoading(e){this.loading=e}setRequestParameters(e){this.requestParameters=e}loadItems(e){if(e&&0!==e.length)return this.setLoading(!0),La.getList(this.resourceKey,{...this.requestParameters,locale:this.locale?this.locale.get():void 0,[this.idFilterParameter]:e.join(","),limit:void 0,page:1}).then(ht((t=>{const n=t._embedded[this.resourceKey];n.sort(((t,n)=>e.indexOf(t.id)-e.indexOf(n.id))),this.set(n),this.setLoading(!1)})));this.set([])}},Xl=ic(Jl.prototype,"items",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ql=ic(Jl.prototype,"loading",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ic(Jl.prototype,"ids",[ge],Object.getOwnPropertyDescriptor(Jl.prototype,"ids"),Jl.prototype),ic(Jl.prototype,"set",[ht],Object.getOwnPropertyDescriptor(Jl.prototype,"set"),Jl.prototype),ic(Jl.prototype,"removeById",[ht],Object.getOwnPropertyDescriptor(Jl.prototype,"removeById"),Jl.prototype),ic(Jl.prototype,"move",[ht],Object.getOwnPropertyDescriptor(Jl.prototype,"move"),Jl.prototype),ic(Jl.prototype,"setLoading",[ht],Object.getOwnPropertyDescriptor(Jl.prototype,"setLoading"),Jl.prototype),Jl);var oc,sc,ac,lc,cc,uc=rc;function dc(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function hc(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let pc=(oc=class{get loading(){return this.initialLoading||this.deleting||this.patching}constructor(e,t={},n="id"){dc(this,"initialLoading",sc,this),dc(this,"deleting",ac,this),dc(this,"patching",lc,this),dc(this,"data",cc,this),this.resourceKey=e,this.requestParameters=t,this.idProperty=n,this.initialLoading=!0,La.getList(e,t).then(ht((t=>{this.data=t._embedded[e],this.initialLoading=!1}))).catch(ht((()=>{this.initialLoading=!1})))}deleteList(e){return this.deleting=!0,La.deleteList(this.resourceKey,{...this.requestParameters,ids:e}).then(ht((()=>{for(const t of e)this.data.splice(this.data.findIndex((e=>e[this.idProperty]===t)),1);this.deleting=!1})))}patchList(e){return this.patching=!0,La.patchList(this.resourceKey,e).then(ht((e=>{for(const t of e){const e=this.data.findIndex((e=>e[this.idProperty]===t[this.idProperty]));-1===e?this.data.push(t):this.data[e]=t}this.patching=!1})))}},sc=hc(oc.prototype,"initialLoading",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ac=hc(oc.prototype,"deleting",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),lc=hc(oc.prototype,"patching",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cc=hc(oc.prototype,"data",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hc(oc.prototype,"loading",[ge],Object.getOwnPropertyDescriptor(oc.prototype,"loading"),oc.prototype),hc(oc.prototype,"deleteList",[ht],Object.getOwnPropertyDescriptor(oc.prototype,"deleteList"),oc.prototype),hc(oc.prototype,"patchList",[ht],Object.getOwnPropertyDescriptor(oc.prototype,"patchList"),oc.prototype),oc);var fc,mc,gc,bc,yc,vc,_c,wc,kc,Cc,Ec,xc,Sc,Oc,Tc=pc,Mc=r(31095),Pc=r.n(Mc);function Dc(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Lc(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Ac,zc,Ic,Rc=(mc=Lc((fc=class e{constructor(e,t,n={},i={},r,o=!1){Dc(this,"id",mc,this),Dc(this,"initialized",gc,this),Dc(this,"loading",bc,this),Dc(this,"saving",yc,this),Dc(this,"deleting",vc,this),Dc(this,"moving",_c,this),Dc(this,"data",wc,this),Dc(this,"dirty",kc,this),Dc(this,"forbidden",Cc,this),Dc(this,"notFound",Ec,this),Dc(this,"unexpectedError",xc,this),this.loadOptions={},this.load=()=>{const{id:e,observableOptions:{locale:t}}=this;t&&!t.get()||(this.preventLoadingOnce?this.preventLoadingOnce=!1:e?(c().info('ResourceStore loads "'+this.resourceKey+'" data with the ID "'+e+'"'),this.setLoading(!0),this.setForbidden(!1),this.setNotFound(!1),this.setUnexpectedError(!1),this.requestRemoteData().then(ht((e=>{this.idQueryParameter?(this.handleIdQueryParameterResponse(e),this.setMultiple(e)):this.setMultiple(e),this.initialized=!0,this.setLoading(!1),this.dirty=!1}))).catch(ht((t=>{this.initialized=!0,this.setLoading(!1),403===t.status?this.setForbidden(!0):404===t.status?this.setNotFound(!0):(c().error('ResourceStore load "'+this.resourceKey+'" with id "'+e+'" failed with Status code "'+t.status+'"'),this.setUnexpectedError(!0))})))):this.initialized=!0)},this.requestRemoteData=(e={})=>{const{id:t,observableOptions:{locale:n}}=this;return n&&(e.locale=n.get()),this.idQueryParameter?La.get(this.resourceKey,{...e,...this.loadOptions,[this.idQueryParameter]:t}):La.get(this.resourceKey,{...e,...this.loadOptions,id:t})},Dc(this,"reload",Sc,this),Dc(this,"move",Oc,this),this.resourceKey=e,this.id=t,this.observableOptions=n,this.loadOptions=i,this.idQueryParameter=r,this.preventLoadingOnce=o,this.disposer=ft(this.load)}setLoading(e){this.loading=e}setForbidden(e){this.forbidden=e}setNotFound(e){this.notFound=e}setUnexpectedError(e){this.unexpectedError=e}save(e={}){const{locale:t}=this.observableOptions;return t&&(e.locale=t.get()),this.idQueryParameter||!this.id?this.create(e):this.update(e)}create(e){this.saving=!0;const t=e;return this.idQueryParameter&&(t[this.idQueryParameter]=this.id),La.post(this.resourceKey,this.data,t).then(ht((e=>(this.handleIdQueryParameterResponse(e),this.setMultiple(e),this.saving=!1,this.dirty=!1,e)))).catch(ht((e=>{throw this.saving=!1,e})))}update(e){if(!this.id)throw new Error('Can not save resource with an undefined "id"');return this.saving=!0,La.put(this.resourceKey,this.data,{...e,id:this.id}).then(ht((e=>(this.setMultiple(e),this.saving=!1,this.dirty=!1,e)))).catch(ht((e=>{throw this.saving=!1,e})))}delete(e={}){if(!this.data.id)throw new Error('Cannot delete resource with an undefined "id"');const{locale:t}=this.observableOptions;if(e.deleteLocale&&!t)throw new Error('Cannot delete a localized resource with an undefined "locale"');this.deleting=!0;const n=e;return t&&(n.locale=t.get()),La.delete(this.resourceKey,{...n,id:this.data.id}).then(ht((e=>{this.id=void 0,this.setMultiple(e),this.deleting=!1,this.dirty=!1,this.destroy()}))).catch(ht((e=>{throw this.deleting=!1,e})))}copyFromLocale(e,t={}){if(!this.id)throw new Error("Copying from another locale does not work for new objects!");if(!this.locale)throw new Error("Copying from another locale does only work for objects with locales!");const n=this.locale.get();return La.post(this.resourceKey,{},{...t,action:"copy-locale",dest:n,id:this.id,locale:n,src:e}).then(ht((e=>(this.setMultiple(e),e))))}set(e,t){const n=e.startsWith("/")?e.substring(1):e;"id"!==n||"string"!=typeof t&&"number"!=typeof t||(this.id=t),Pc().set(this.data,"/"+n,t)}setMultiple(e){e.id&&(this.id=e.id),Object.keys(e).forEach((t=>{this.set(t,e[t])})),Et(this.data,this.data),c().info('ResourceStore changed "'+this.resourceKey+'" data with the ID "'+(this.id||"undefined")+'"',this.data)}change(e,t){this.set(e,t),this.dirty=!0}changeMultiple(e){this.setMultiple(e),this.dirty=!0}clone(){const t=new e(this.resourceKey,this.id,this.observableOptions,this.loadOptions,void 0,!0);return t.loading=this.loading,Dt((()=>!this.loading),(()=>{t.data=Mt(this.data),t.loading=!1})),t}get locale(){return this.observableOptions.locale}destroy(){this.disposer()}handleIdQueryParameterResponse(e){e.id&&(this.idQueryParameter=void 0,this.id=e.id,this.preventLoadingOnce=!0)}}).prototype,"id",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gc=Lc(fc.prototype,"initialized",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bc=Lc(fc.prototype,"loading",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yc=Lc(fc.prototype,"saving",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vc=Lc(fc.prototype,"deleting",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_c=Lc(fc.prototype,"moving",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wc=Lc(fc.prototype,"data",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),kc=Lc(fc.prototype,"dirty",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cc=Lc(fc.prototype,"forbidden",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ec=Lc(fc.prototype,"notFound",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xc=Lc(fc.prototype,"unexpectedError",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sc=Lc(fc.prototype,"reload",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.load()}}}),Lc(fc.prototype,"setLoading",[ht],Object.getOwnPropertyDescriptor(fc.prototype,"setLoading"),fc.prototype),Lc(fc.prototype,"setForbidden",[ht],Object.getOwnPropertyDescriptor(fc.prototype,"setForbidden"),fc.prototype),Lc(fc.prototype,"setNotFound",[ht],Object.getOwnPropertyDescriptor(fc.prototype,"setNotFound"),fc.prototype),Lc(fc.prototype,"setUnexpectedError",[ht],Object.getOwnPropertyDescriptor(fc.prototype,"setUnexpectedError"),fc.prototype),Lc(fc.prototype,"save",[ht],Object.getOwnPropertyDescriptor(fc.prototype,"save"),fc.prototype),Lc(fc.prototype,"create",[ht],Object.getOwnPropertyDescriptor(fc.prototype,"create"),fc.prototype),Lc(fc.prototype,"update",[ht],Object.getOwnPropertyDescriptor(fc.prototype,"update"),fc.prototype),Lc(fc.prototype,"delete",[ht],Object.getOwnPropertyDescriptor(fc.prototype,"delete"),fc.prototype),Oc=Lc(fc.prototype,"move",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{if(!this.id)throw new Error("Moving does not work for new objects!");this.moving=!0;const{locale:t}=this.observableOptions,n={action:"move",destination:e,locale:t?t.get():void 0};return La.post(this.resourceKey,void 0,{...n,id:this.id}).then(ht((()=>{this.moving=!1}))).catch(ht((e=>{throw this.moving=!1,e})))}}}),Lc(fc.prototype,"set",[ht],Object.getOwnPropertyDescriptor(fc.prototype,"set"),fc.prototype),Lc(fc.prototype,"setMultiple",[ht],Object.getOwnPropertyDescriptor(fc.prototype,"setMultiple"),fc.prototype),Lc(fc.prototype,"change",[ht],Object.getOwnPropertyDescriptor(fc.prototype,"change"),fc.prototype),Lc(fc.prototype,"changeMultiple",[ht],Object.getOwnPropertyDescriptor(fc.prototype,"changeMultiple"),fc.prototype),Lc(fc.prototype,"clone",[ht],Object.getOwnPropertyDescriptor(fc.prototype,"clone"),fc.prototype),Lc(fc.prototype,"handleIdQueryParameterResponse",[ht],Object.getOwnPropertyDescriptor(fc.prototype,"handleIdQueryParameterResponse"),fc.prototype),fc);function jc(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Nc(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Fc,Yc,Bc,Hc,Vc,Wc,Uc,$c,qc,Kc,Gc,Zc=(zc=Nc((Ac=class{constructor(e,t,n,i={}){jc(this,"item",zc,this),jc(this,"loading",Ic,this),this.resourceKey=e,this.locale=n,this.options=i,t&&this.loadItem(t)}set(e){this.item=e}clear(){this.item=void 0}setLoading(e){this.loading=e}loadItem(e){if(e)return this.setLoading(!0),La.get(this.resourceKey,{...this.options,id:e,locale:this.locale?this.locale.get():void 0}).then(ht((e=>{this.item=e,this.setLoading(!1)}))).catch(ht((e=>{if(404!==e.status)return Promise.reject(e);this.item=null,this.setLoading(!1)})));this.item=void 0}}).prototype,"item",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ic=Nc(Ac.prototype,"loading",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Nc(Ac.prototype,"set",[ht],Object.getOwnPropertyDescriptor(Ac.prototype,"set"),Ac.prototype),Nc(Ac.prototype,"clear",[ht],Object.getOwnPropertyDescriptor(Ac.prototype,"clear"),Ac.prototype),Nc(Ac.prototype,"setLoading",[ht],Object.getOwnPropertyDescriptor(Ac.prototype,"setLoading"),Ac.prototype),Nc(Ac.prototype,"loadItem",[ht],Object.getOwnPropertyDescriptor(Ac.prototype,"loadItem"),Ac.prototype),Ac);function Jc(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Xc(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Qc=Br(((Gc=class extends u.Component{constructor(...e){super(...e),Jc(this,"inputRef",Bc,this),Jc(this,"errorMessage",Hc,this),Jc(this,"password1",Vc,this),Jc(this,"password2",Wc,this),Jc(this,"setInputRef",Uc,this),Jc(this,"handlePassword1Change",$c,this),Jc(this,"handlePassword2Change",qc,this),Jc(this,"handleSubmit",Kc,this)}get submitButtonDisabled(){return!(this.password1&&this.password2)}componentDidMount(){this.inputRef&&this.inputRef.focus()}render(){const e=eo()(Al,{[zl]:null!==this.errorMessage});return u.createElement(u.Fragment,null,u.createElement(Cl,{small:null!==this.errorMessage},Xs(this.errorMessage||"sulu_admin.reset_password")),u.createElement("form",{className:Dl,onSubmit:this.handleSubmit},u.createElement("fieldset",null,u.createElement("label",{className:e},u.createElement("div",{className:Il},Xs("sulu_admin.password")),u.createElement(kl,{autocomplete:"new-password",icon:"su-lock",inputRef:this.setInputRef,onChange:this.handlePassword1Change,type:"password",valid:!this.errorMessage,value:this.password1})),u.createElement("label",{className:e},u.createElement("div",{className:Il},Xs("sulu_admin.repeat_password")),u.createElement(kl,{autocomplete:"new-password",icon:"su-lock",onChange:this.handlePassword2Change,type:"password",valid:!this.errorMessage,value:this.password2})),va.passwordInfoTranslationKey&&u.createElement("label",{className:tc.descriptionLabel},Xs(va.passwordInfoTranslationKey)),u.createElement("div",{className:Ll},u.createElement(uo,{onClick:this.props.onChangeForm,skin:"link"},Xs("sulu_admin.back_to_login")),u.createElement(uo,{disabled:this.submitButtonDisabled,loading:this.props.loading,skin:"primary",type:"submit"},Xs("sulu_admin.reset_password"))))))}}).defaultProps={loading:!1},Bc=Xc((Yc=Gc).prototype,"inputRef",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hc=Xc(Yc.prototype,"errorMessage",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vc=Xc(Yc.prototype,"password1",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wc=Xc(Yc.prototype,"password2",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xc(Yc.prototype,"submitButtonDisabled",[ge],Object.getOwnPropertyDescriptor(Yc.prototype,"submitButtonDisabled"),Yc.prototype),Uc=Xc(Yc.prototype,"setInputRef",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.inputRef=e}}}),$c=Xc(Yc.prototype,"handlePassword1Change",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.password1=e,this.errorMessage=null}}}),qc=Xc(Yc.prototype,"handlePassword2Change",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.password2=e,this.errorMessage=null}}}),Kc=Xc(Yc.prototype,"handleSubmit",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{if(e.preventDefault(),!this.password1||!this.password2||this.password1!==this.password2)return void(this.errorMessage="sulu_admin.reset_password_error");if(!sl.validatePassword(this.password1||""))return void(this.errorMessage="sulu_admin.reset_password_pattern_error");this.errorMessage=null;const{onSubmit:t}=this.props;t({password:this.password1||""})}}}),Fc=Yc))||Fc,eu={label:"label--OpPkT9WbAB",disabled:"disabled--F2UiUfUNfp",small:"small--miGXlgiWSo",switch:"switch--lQQJwFYSKo"};class tu extends u.PureComponent{constructor(...e){super(...e),this.handleChange=e=>{const{onChange:t,value:n}=this.props;t&&t(e.currentTarget.checked,n)},this.handleClick=e=>{e.stopPropagation()}}render(){const{icon:e,type:t,name:n,value:i,checked:r,children:o,className:s,disabled:a,size:l,tabIndex:c}=this.props,d=eo()(eu.label,{[eu.disabled]:a},"default"!==l?eu[l]:null),h=eo()(eu.switch,{[eu.disabled]:a},s);return u.createElement("label",{className:d,onClick:this.handleClick,tabIndex:-1},u.createElement("span",{className:h},u.createElement("input",{checked:r,disabled:a,name:n,onChange:this.handleChange,tabIndex:c,type:t,value:i}),u.createElement("span",null,e&&u.createElement(ro,{name:e}))),o&&u.createElement("div",null,o))}}tu.defaultProps={checked:!1,disabled:!1,size:"default",type:"checkbox"};var nu=tu,iu={checkbox:"checkbox--46IjK_04Wl",dark:"dark--E1lnHxclhP",light:"light--Ept4J2kL5K",small:"small--c07sTsETi3"};class ru extends u.PureComponent{render(){const{size:e,skin:t,name:n,value:i,checked:r,onChange:o,children:s,className:a,disabled:l,tabIndex:c}=this.props,d=eo()(iu.checkbox,iu[t],a);return u.createElement(nu,{checked:r,className:d,disabled:l,icon:r?"su-check":void 0,name:n,onChange:o,size:e,tabIndex:c,value:i},s)}}ru.defaultProps={checked:!1,disabled:!1,size:"default",skin:"dark"};class ou extends u.PureComponent{constructor(...e){super(...e),this.handleChange=(e,t)=>{const{onChange:n,values:i}=this.props;n(e&&t?[...i,t]:i.filter((e=>e!==t)))}}render(){const{className:e,disabled:t,values:n}=this.props;return u.createElement("div",{className:e},u.Children.map(this.props.children,(e=>u.cloneElement(e,{checked:n.includes(e.props.value),disabled:t,onChange:this.handleChange}))))}}ou.defaultProps={disabled:!1};var su,au,lu,cu,uu,du,hu,pu,fu,mu=ru;function gu(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function bu(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var yu,vu,_u,wu,ku,Cu,Eu,xu=Br(((fu=class extends u.Component{constructor(...e){super(...e),gu(this,"inputRef",lu,this),gu(this,"authCode",cu,this),gu(this,"trustedDevice",uu,this),gu(this,"setInputRef",du,this),gu(this,"handleAuthCodeChange",hu,this),gu(this,"handleTrustedDeviceChange",pu,this),this.handleSubmit=e=>{if(e.preventDefault(),!this.authCode)return;const{onSubmit:t}=this.props;t({_auth_code:this.authCode,_trusted:this.trustedDevice})}}get submitButtonDisabled(){return!this.authCode}componentDidMount(){this.inputRef&&this.inputRef.focus()}render(){const{error:e,methods:t}=this.props,n=eo()(Al,{[zl]:e});return u.createElement(u.Fragment,null,u.createElement(Cl,{small:e},Xs(e?"sulu_admin.two_factor_authentication_failed":"sulu_admin.two_factor_authentication")),u.createElement("form",{className:Dl,onSubmit:this.handleSubmit},u.createElement("fieldset",null,u.createElement("label",{className:n},u.createElement("div",{className:Il},Xs("sulu_admin.two_factor_verification_code")),u.createElement(kl,{autocomplete:"one-time-code",icon:"su-lock",inputRef:this.setInputRef,onChange:this.handleAuthCodeChange,valid:!e,value:this.authCode})),t.includes("trusted_devices")&&u.createElement(mu,{checked:this.trustedDevice,onChange:this.handleTrustedDeviceChange,size:"small"},Xs("sulu_admin.two_factor_trust_device")),u.createElement("div",{className:Ll},u.createElement(uo,{onClick:this.props.onChangeForm,skin:"link"},Xs("sulu_admin.back_to_login")),u.createElement(uo,{disabled:this.submitButtonDisabled,loading:this.props.loading,skin:"primary",type:"submit"},Xs("sulu_admin.verify"))))))}}).defaultProps={error:!1,loading:!1,methods:[]},lu=bu((au=fu).prototype,"inputRef",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cu=bu(au.prototype,"authCode",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uu=bu(au.prototype,"trustedDevice",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bu(au.prototype,"submitButtonDisabled",[ge],Object.getOwnPropertyDescriptor(au.prototype,"submitButtonDisabled"),au.prototype),du=bu(au.prototype,"setInputRef",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.inputRef=e}}}),hu=bu(au.prototype,"handleAuthCodeChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.authCode=e}}}),pu=bu(au.prototype,"handleTrustedDeviceChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.trustedDevice=e}}}),su=au))||su;function Su(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Ou(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let Tu=Br((Eu=class extends u.Component{constructor(e){super(e),Su(this,"visibleForm",_u,this),Su(this,"clearState",wu,this),Su(this,"handleChangeToLoginForm",ku,this),Su(this,"handleChangeToForgotPasswordForm",Cu,this),this.handleLoginFormSubmit=e=>{sl.login(e).then((()=>{"json_login"!==sl.loginMethod&&(sl.twoFactorMethods&&sl.twoFactorMethods.length>0?ht((()=>{this.visibleForm="two-factor"}))():this.props.onLoginSuccess())}))},this.handleForgotPasswordFormSubmit=e=>{sl.forgotPassword(e).then((()=>{this.props.onLoginSuccess()}))},this.handleTwoFactorFormSubmit=e=>{sl.twoFactorLogin(e).then((()=>{this.props.onLoginSuccess()}))},this.handleResetPasswordFormSubmit=e=>{const{onLoginSuccess:t,router:n}=this.props,{forgotPasswordToken:i}=n.attributes;if("string"!=typeof i)throw new Error('The "forgotPasswordToken" router attribute must be a string!');sl.resetPassword({...e,token:i}).then((()=>{n.reset(),t()}))},this.redirectDisposer=ft((()=>{""!==sl.redirectUrl&&(window.location.href=sl.redirectUrl)}))}componentWillUnmount(){this.redirectDisposer()}get loginFormVisible(){return"login"===this.visibleForm}get forgotPasswordFormVisible(){return"forgot-password"===this.visibleForm}get resetPasswordFormVisible(){return"reset-password"===this.visibleForm}get twoFactorVisible(){return"two-factor"===this.visibleForm}render(){const{backLink:e,initialized:t}=this.props;return u.createElement("div",{className:"login--XuUkbgTguy"},u.createElement("div",{className:"login-container--fT4bX7qJUJ"},u.createElement("div",{className:"form-container--kDFqroUIqC"},u.createElement("div",{className:"logo-container--Do55w4uiAu"},u.createElement(ro,{name:"su-sulu"})),!t&&u.createElement("div",{className:"loader-container--eg1_VVIgI_"},u.createElement(so,{size:20})),t&&this.loginFormVisible&&u.createElement(ec,{error:sl.loginError,loading:sl.loading,mode:sl.hasSingleSignOn()?"json_login"===sl.loginMethod?"password_only":"username_only":"username_password",onChangeForm:this.handleChangeToForgotPasswordForm,onSubmit:this.handleLoginFormSubmit}),t&&this.forgotPasswordFormVisible&&u.createElement(Kl,{loading:sl.loading,onChangeForm:this.handleChangeToLoginForm,onSubmit:this.handleForgotPasswordFormSubmit,success:sl.forgotPasswordSuccess}),t&&this.resetPasswordFormVisible&&u.createElement(Qc,{loading:sl.loading,onChangeForm:this.handleChangeToLoginForm,onSubmit:this.handleResetPasswordFormSubmit}),t&&this.twoFactorVisible&&u.createElement(xu,{error:sl.twoFactorError,loading:sl.loading,methods:sl.twoFactorMethods,onChangeForm:this.handleChangeToLoginForm,onSubmit:this.handleTwoFactorFormSubmit})),u.createElement("div",{className:"back-link-container--ujzvqu0DWq"},t&&u.createElement("a",{className:"back-link--OsFAAWVokL",href:e},u.createElement(ro,{className:"back-link-icon--F8N22GTzpk",name:"su-angle-left"}),Xs("sulu_admin.back_to_website")))))}},Eu.defaultProps={backLink:"/",initialized:!1},_u=Ou((vu=Eu).prototype,"visibleForm",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.props.router.attributes.forgotPasswordToken?"reset-password":"login"}}),Ou(vu.prototype,"loginFormVisible",[ge],Object.getOwnPropertyDescriptor(vu.prototype,"loginFormVisible"),vu.prototype),Ou(vu.prototype,"forgotPasswordFormVisible",[ge],Object.getOwnPropertyDescriptor(vu.prototype,"forgotPasswordFormVisible"),vu.prototype),Ou(vu.prototype,"resetPasswordFormVisible",[ge],Object.getOwnPropertyDescriptor(vu.prototype,"resetPasswordFormVisible"),vu.prototype),Ou(vu.prototype,"twoFactorVisible",[ge],Object.getOwnPropertyDescriptor(vu.prototype,"twoFactorVisible"),vu.prototype),wu=Ou(vu.prototype,"clearState",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.loginFormVisible?sl.setLoginError(!1):this.forgotPasswordFormVisible?sl.setForgotPasswordSuccess(!1):this.twoFactorVisible&&(sl.setTwoFactorMethods([]),sl.setTwoFactorError(!1))}}}),ku=Ou(vu.prototype,"handleChangeToLoginForm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.props.router.reset(),this.visibleForm="login"}}}),Cu=Ou(vu.prototype,"handleChangeToForgotPasswordForm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.visibleForm="forgot-password"}}}),yu=vu))||yu;var Mu=Tu,Pu=r(6411),Du=r.n(Pu),Lu=r(5556),Au=r.n(Lu),zu=!("undefined"==typeof window||!window.document||!window.document.createElement),Iu=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Ru=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Iu(t,[{key:"componentWillUnmount",value:function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"render",value:function(){return zu?(this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),d.createPortal(this.props.children,this.props.node||this.defaultNode)):null}}]),t}(u.Component);Ru.propTypes={children:Au().node.isRequired,node:Au().any};var ju=Ru,Nu=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Fu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Nu(t,[{key:"componentDidMount",value:function(){this.renderPortal()}},{key:"componentDidUpdate",value:function(e){this.renderPortal()}},{key:"componentWillUnmount",value:function(){d.unmountComponentAtNode(this.defaultNode||this.props.node),this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null,this.portal=null}},{key:"renderPortal",value:function(e){this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode));var t=this.props.children;"function"==typeof this.props.children.type&&(t=u.cloneElement(this.props.children)),this.portal=d.unstable_renderSubtreeIntoContainer(this,t,this.props.node||this.defaultNode)}},{key:"render",value:function(){return null}}]),t}(u.Component),Yu=Fu;Fu.propTypes={children:Au().node.isRequired,node:Au().any};var Bu=d.createPortal?ju:Yu;function Hu(e){setTimeout(e)}var Vu,Wu,Uu,$u,qu,Ku,Gu,Zu,Ju={snackbar:"snackbar--MFa87ORITj",visible:"visible--P6tbk3Q8D_",floating:"floating--dgp8XKwJDy",icon:"icon--PgF4TRz9kg",text:"text--SDXq7oUayg","close-icon":"close-icon--FXy_6r2Kwf",closeIcon:"close-icon--FXy_6r2Kwf",clickable:"clickable--BiBLaUzUmQ",error:"error--NmapHY2JOZ","close-button":"close-button--mmq1GXE9nK",closeButton:"close-button--mmq1GXE9nK",warning:"warning--WuPrXsTpdI",info:"info--dNQzlCRxA9",success:"success--JY6TvziDmE"};function Xu(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Qu(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const ed={error:"su-exclamation-triangle",warning:"su-bell",info:"su-exclamation-circle",success:"su-check-circle"},td="error";var nd=Br(((Zu=class extends u.Component{constructor(...e){super(...e),Xu(this,"message",Uu,this),Xu(this,"type",$u,this),Xu(this,"updateMessage",qu,this),Xu(this,"updateType",Ku,this),Xu(this,"handleTransitionEnd",Gu,this)}componentDidMount(){this.updateMessage(),this.updateType()}componentDidUpdate(e){const{message:t,type:n,visible:i}=this.props;i&&(e.visible===i&&e.message===t||this.updateMessage(),e.visible===i&&e.type===n||this.updateType())}render(){const{icon:e,onCloseClick:t,onClick:n,skin:i,visible:r}=this.props,o=eo()(Ju.snackbar,Ju[this.type],{[Ju.clickable]:n,[Ju.floating]:"floating"===i,[Ju.visible]:r});return u.createElement("div",{className:o,onClick:n,onTransitionEnd:this.handleTransitionEnd,role:"button"},u.createElement(ro,{className:Ju.icon,name:e||ed[this.type]}),u.createElement("div",{className:Ju.text},"static"===i?u.createElement(u.Fragment,null,u.createElement("strong",null,Xs("sulu_admin."+this.type))," - "):null,this.message),t&&u.createElement(ro,{className:Ju.closeIcon,name:"su-times",onClick:t}))}}).defaultProps={skin:"static",visible:!0},Uu=Qu((Wu=Zu).prototype,"message",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$u=Qu(Wu.prototype,"type",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return td}}),qu=Qu(Wu.prototype,"updateMessage",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.message=this.props.message}}}),Ku=Qu(Wu.prototype,"updateType",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.type=this.props.type}}}),Gu=Qu(Wu.prototype,"handleTransitionEnd",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{visible:e}=this.props;e||(this.message=void 0,this.type=td)}}}),Vu=Wu))||Vu;class id extends u.PureComponent{render(){const{actions:e}=this.props;return e.length?u.createElement("div",{className:"actions--FbZGOOXr0O"},e.map(((e,t)=>{const n=e.onClick;return u.createElement(uo,{key:t,onClick:n,skin:"link"},e.title)}))):null}}var rd,od,sd,ad,ld,cd,ud={container:"container--fPRxR22fPa",overlay:"overlay--FZRrXneDnF",small:"small--d5eVYtIcU6",large:"large--UJTyDVGa6B","is-down":"is-down--mdpELLrNtN",isDown:"is-down--mdpELLrNtN",content:"content--sSbgJQmc2K",header:"header--ot8VhG9SVR",article:"article--ne6p_TvcRP",footer:"footer--AMln4QTRhX",icon:"icon--TWxMuUzN18",snackbar:"snackbar--OoWbDGqA9M"};function dd(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function hd(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const pd="esc";var fd=Br(((cd=class extends u.Component{constructor(e){super(e),dd(this,"open",sd,this),dd(this,"visible",ad,this),this.close=()=>{this.props.onClose()},dd(this,"handleTransitionEnd",ld,this),this.handleIconClick=()=>{this.close()};const{open:t}=this.props;t&&Du().bind(pd,this.close),this.open=t,this.visible=t}componentWillUnmount(){this.props.open&&Du().unbind(pd)}componentDidUpdate(e){const{open:t}=this.props;e.open!==t&&(t?Du().bind(pd,this.close):Du().unbind(pd),Hu(ht((()=>{this.open=t})))),!1===e.open&&!0===t&&(this.visible=!0)}render(){const{actions:e,children:t,confirmDisabled:n,confirmLoading:i,confirmText:r,onConfirm:o,onSnackbarClick:s,onSnackbarCloseClick:a,size:l,snackbarMessage:c,snackbarType:d,title:h}=this.props,{open:p,visible:f}=this,m=eo()(ud.container,{[ud.isDown]:p}),g=eo()(ud.overlay,{[ud[l]]:l});return u.createElement(u.Fragment,null,f&&u.createElement(Bu,null,u.createElement(ml,null),u.createElement("div",{className:m,onTransitionEnd:this.handleTransitionEnd},u.createElement("div",{className:g},u.createElement("section",{className:ud.content},u.createElement("header",{className:ud.header},u.createElement("h2",null,h),u.createElement(ro,{className:ud.icon,name:"su-times",onClick:this.handleIconClick})),u.createElement("article",{className:ud.article},t),u.createElement("footer",{className:ud.footer},u.createElement(id,{actions:e}),u.createElement(uo,{disabled:n,loading:i,onClick:o,skin:"primary"},r)),u.createElement("div",{className:ud.snackbar},u.createElement(nd,{message:c||"",onClick:s,onCloseClick:a,type:d,visible:!!c})))))))}}).defaultProps={actions:[],confirmDisabled:!1,confirmLoading:!1,snackbarType:"error"},sd=hd((od=cd).prototype,"open",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ad=hd(od.prototype,"visible",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),hd(od.prototype,"componentDidUpdate",[ht],Object.getOwnPropertyDescriptor(od.prototype,"componentDidUpdate"),od.prototype),ld=hd(od.prototype,"handleTransitionEnd",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{open:e}=this.props;e||(this.visible=!1)}}}),rd=od))||rd;class md extends u.Component{render(){const{icon:e,title:t}=this.props;return u.createElement("div",{className:"hint--LtR6GJec5S"},u.createElement("div",{className:"hint-icon--lPCB15AkfV"},u.createElement(ro,{name:e})),t)}}var gd=md,bd={colSpan:"colSpan--mzR07Gm0qC","colSpan-1":"colSpan-1--H7jWxlGAT_",colSpan1:"colSpan-1--H7jWxlGAT_","colSpan-2":"colSpan-2--o6LFupZz4Z",colSpan2:"colSpan-2--o6LFupZz4Z","colSpan-3":"colSpan-3--N54_0eqIXi",colSpan3:"colSpan-3--N54_0eqIXi","colSpan-4":"colSpan-4--oXJcokJTZ8",colSpan4:"colSpan-4--oXJcokJTZ8","colSpan-5":"colSpan-5--eZwnoaZTlx",colSpan5:"colSpan-5--eZwnoaZTlx","colSpan-6":"colSpan-6--WiYadCZezT",colSpan6:"colSpan-6--WiYadCZezT","colSpan-7":"colSpan-7--pqzLOBqeLT",colSpan7:"colSpan-7--pqzLOBqeLT","colSpan-8":"colSpan-8--TKGngsvyyh",colSpan8:"colSpan-8--TKGngsvyyh","colSpan-9":"colSpan-9--Vb3mUAxmLe",colSpan9:"colSpan-9--Vb3mUAxmLe","colSpan-10":"colSpan-10--Zt7DD9LUrX",colSpan10:"colSpan-10--Zt7DD9LUrX","colSpan-11":"colSpan-11--jAnacpw_Vs",colSpan11:"colSpan-11--jAnacpw_Vs","colSpan-12":"colSpan-12--r5ReYG282U",colSpan12:"colSpan-12--r5ReYG282U","space-before-1":"space-before-1--CMMAfjznQF",spaceBefore1:"space-before-1--CMMAfjznQF","space-before-2":"space-before-2--FAfXYPS0CI",spaceBefore2:"space-before-2--FAfXYPS0CI","space-before-3":"space-before-3--mAu9doaSnT",spaceBefore3:"space-before-3--mAu9doaSnT","space-before-4":"space-before-4--a0ZwTp4N6G",spaceBefore4:"space-before-4--a0ZwTp4N6G","space-before-5":"space-before-5--lmSSYPOzrC",spaceBefore5:"space-before-5--lmSSYPOzrC","space-before-6":"space-before-6--wB7OsYNima",spaceBefore6:"space-before-6--wB7OsYNima","space-before-7":"space-before-7--j0G4TT5tK6",spaceBefore7:"space-before-7--j0G4TT5tK6","space-before-8":"space-before-8--zS7kGRD662",spaceBefore8:"space-before-8--zS7kGRD662","space-before-9":"space-before-9--iPbpmVBWrl",spaceBefore9:"space-before-9--iPbpmVBWrl","space-before-10":"space-before-10--EUZmVw9ZHc",spaceBefore10:"space-before-10--EUZmVw9ZHc","space-before-11":"space-before-11--IzycMjRwuV",spaceBefore11:"space-before-11--IzycMjRwuV","space-before-12":"space-before-12--hS5rUlslr4",spaceBefore12:"space-before-12--hS5rUlslr4","space-after-1":"space-after-1--T1ti1bOZgC",spaceAfter1:"space-after-1--T1ti1bOZgC","space-after-2":"space-after-2--ia31WGF2ma",spaceAfter2:"space-after-2--ia31WGF2ma","space-after-3":"space-after-3--OjMvIoY3W3",spaceAfter3:"space-after-3--OjMvIoY3W3","space-after-4":"space-after-4--OC0OhcW3ZJ",spaceAfter4:"space-after-4--OC0OhcW3ZJ","space-after-5":"space-after-5--nf6zwMtYYv",spaceAfter5:"space-after-5--nf6zwMtYYv","space-after-6":"space-after-6--r8XMX2P1kh",spaceAfter6:"space-after-6--r8XMX2P1kh","space-after-7":"space-after-7--JCvKeQH6DK",spaceAfter7:"space-after-7--JCvKeQH6DK","space-after-8":"space-after-8--rQoXTRQ5k_",spaceAfter8:"space-after-8--rQoXTRQ5k_","space-after-9":"space-after-9--l7nHk901hf",spaceAfter9:"space-after-9--l7nHk901hf","space-after-10":"space-after-10--SDr8uAvrty",spaceAfter10:"space-after-10--SDr8uAvrty","space-after-11":"space-after-11--npzBpEVKvc",spaceAfter11:"space-after-11--npzBpEVKvc","space-after-12":"space-after-12--hDklAuxV8p",spaceAfter12:"space-after-12--hDklAuxV8p"};class yd extends u.PureComponent{render(){const{colSpan:e,children:t,className:n,spaceAfter:i,spaceBefore:r}=this.props,o=eo()(n,bd.colSpan,bd["colSpan-"+e],bd["space-before-"+r],bd["space-after-"+i]);return u.createElement("div",{className:o},t)}}function vd(){return vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},vd.apply(this,arguments)}class _d extends u.PureComponent{render(){const{children:e,className:t,...n}=this.props,i=eo()(["item--Z2Jg5lWtcH",t]);return u.createElement(yd,vd({},n,{className:i}),e)}}_d.defaultProps={colSpan:12,spaceAfter:0,spaceBefore:0};function wd(){return wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},wd.apply(this,arguments)}class kd extends u.PureComponent{render(){const{children:e,className:t,...n}=this.props,i=eo()(["section--bCqY1DCCWK",t]);return u.createElement(yd,wd({},n,{className:i}),e)}}kd.defaultProps={colSpan:12,spaceAfter:0,spaceBefore:0};class Cd extends u.PureComponent{render(){const{children:e,className:t}=this.props,n=eo()(["grid--NlXPeQSu8O",t]);return u.createElement("div",{className:n},e)}}Cd.Item=_d,Cd.Section=kd;var Ed=Cd;const xd=10;class Sd{static dimensionsToStyle(e){const t={top:e.top+"px",left:e.left+"px",maxHeight:void 0};return e.height&&(t.maxHeight=e.height+"px"),t}static getCroppedDimensions(e,t,n,i,r,o,s,a,l,c=!0){const u=window.innerWidth,d=window.innerHeight,h={top:n+a-l,left:i+s,height:t,scrollTop:0};c?h.top=n+a+o:n<xd?h.top=xd:n+o>d-xd&&(h.top=d-t-xd);let p=Sd.cropVerticalDimensions(h,d);return!c&&p.dimensions.height>=200||(p.touchesTopBorder&&(h.top=n+a),p.touchesBottomBorder&&p.dimensions.top>d-p.dimensions.top&&(h.top=c?n-t-a:n+o-t-a),p=Sd.cropVerticalDimensions(h,d)),Sd.cropHorizontalDimensions(p.dimensions,u,e,i,r)}static cropVerticalDimensions(e,t){const n={...e};let i=!1,r=!1;if(e.top<xd){const t=e.height+e.top-xd;n.top=xd,n.height=t<0?e.height:t,n.scrollTop=-e.top+xd,i=!0}return n.top+n.height>t-xd&&(n.height=t-n.top-xd,r=!0),{dimensions:n,touchesTopBorder:i,touchesBottomBorder:r}}static cropHorizontalDimensions(e,t,n,i,r){const o={...e};return o.left=Math.max(xd,o.left),n+o.left+xd>t&&(o.left=i+r-n),o}}var Od,Td,Md,Pd,Dd,Ld,Ad;function zd(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Id(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const Rd="esc";var jd=Br(((Ad=class extends u.Component{constructor(e){super(e),zd(this,"popoverChildRef",Md,this),zd(this,"popoverWidth",Pd,this),zd(this,"popoverHeight",Dd,this),this.close=()=>{const{open:e,onClose:t}=this.props;e&&t&&t()},this.updateDimensions=()=>{if(!this.popoverChildRef)return;const{clientHeight:e,clientWidth:t,offsetHeight:n,offsetWidth:i,scrollHeight:r,scrollWidth:o}=this.popoverChildRef;this.setPopoverSize(o+i-t,r+n-e)},this.handleBackdropClick=this.close,zd(this,"setPopoverChildRef",Ld,this),window.addEventListener("blur",this.close),window.addEventListener("resize",this.close),this.mutationObserver=new MutationObserver((()=>{this.setPopoverSize(0,0),this.updateDimensions()})),this.props.open&&Du().bind(Rd,this.close)}componentWillUnmount(){window.removeEventListener("blur",this.close),window.removeEventListener("resize",this.close),this.mutationObserver.disconnect(),this.props.open&&Du().unbind(Rd)}componentDidUpdate(e){this.popoverChildRef&&(this.updateDimensions(),Hu((()=>{this.popoverChildRef.scrollTop=this.dimensions.scrollTop}))),e.open!==this.props.open&&(this.props.open?Du().bind(Rd,this.close):Du().unbind(Rd))}get dimensions(){const{anchorElement:e,verticalOffset:t,horizontalAnchorMode:n,horizontalOffset:i,centerChildElement:r}=this.props,{top:o=0,left:s=0,width:a=0,height:l=0}=e.getBoundingClientRect(),c=r?r.offsetTop:0,u=!r,d="center"===n?(a-this.popoverWidth)/2:0;return Sd.getCroppedDimensions(this.popoverWidth,this.popoverHeight,o,s,a,l,d+i,t,c,u)}setPopoverSize(e,t){this.popoverWidth=e,this.popoverHeight=t}render(){const{open:e,children:t,anchorElement:n,backdrop:i}=this.props;if(!e||!n)return null;const r=this.dimensions,o={...Sd.dimensionsToStyle(r),position:"fixed",pointerEvents:"auto"},s=r.top>n.getBoundingClientRect().top?"bottom":"top",a=r.left===n.getBoundingClientRect().left?"left":"right";return u.createElement(u.Fragment,null,u.createElement(Bu,null,i&&u.createElement(ml,{onClick:this.handleBackdropClick,visible:!1}),u.createElement("div",{className:"container--OC4sp33c3M"},t&&t(this.setPopoverChildRef,o,s,a))))}}).defaultProps={backdrop:!0,horizontalAnchorMode:"left",horizontalOffset:0,open:!1,verticalOffset:0},Md=Id((Td=Ad).prototype,"popoverChildRef",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pd=Id(Td.prototype,"popoverWidth",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dd=Id(Td.prototype,"popoverHeight",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Id(Td.prototype,"dimensions",[ge],Object.getOwnPropertyDescriptor(Td.prototype,"dimensions"),Td.prototype),Id(Td.prototype,"setPopoverSize",[ht],Object.getOwnPropertyDescriptor(Td.prototype,"setPopoverSize"),Td.prototype),Ld=Id(Td.prototype,"setPopoverChildRef",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{e&&(this.popoverChildRef=e,this.mutationObserver.disconnect(),this.mutationObserver.observe(this.popoverChildRef,{childList:!0,subtree:!0}));const{popoverChildRef:t}=this.props;t&&t(e)}}}),Od=Td))||Od,Nd="icon--eMohZEY7m0";class Fd extends u.PureComponent{constructor(...e){super(...e),this.handleButtonClick=()=>{const{disabled:e,onClick:t,value:n}=this.props;!e&&t&&t(n)}}render(){const{children:e,active:t,icon:n,disabled:i}=this.props,r=eo()("item--Ly6z6AKKQ9",{"active--YXN2v4hzgX":t});return u.createElement("button",{className:r,disabled:i,onClick:this.handleButtonClick,type:"button"},u.createElement("span",{className:Nd},n&&t&&u.createElement(ro,{className:Nd,name:n})),u.createElement("span",null,e))}}Fd.defaultProps={active:!1,disabled:!1};class Yd extends u.PureComponent{render(){const{children:e,title:t}=this.props;return u.createElement("div",{className:"section--Eh4pXLmS18"},t&&u.createElement("div",{className:"title--rFJSA3k5by"},t),u.createElement("div",{className:"children--bsDfonFdBf"},e))}}class Bd extends u.PureComponent{constructor(...e){super(...e),this.handleItemClick=e=>{this.props.onChange(e)},this.cloneChildren=e=>{const{value:t,icon:n}=this.props;return u.Children.map(e,(e=>e?u.cloneElement(e,{active:t===e.props.value,onClick:this.handleItemClick,icon:n}):null))}}render(){const{title:e,children:t}=this.props;return u.createElement(Yd,{title:e},this.cloneChildren(t))}}Bd.defaultProps={icon:"su-check"};class Hd extends u.PureComponent{constructor(...e){super(...e),this.handleButtonClick=()=>{const{onClick:e,onAfterAction:t,value:n}=this.props;e(n),t&&t()}}render(){const{disabled:e,icon:t}=this.props;return u.createElement("button",{className:"action--FXuMJmY1em",disabled:e,onClick:this.handleButtonClick,type:"button"},t&&u.createElement(ro,{className:"icon--koLVjH0KyJ",name:t}),this.props.children)}}Hd.defaultProps={disabled:!1,value:void 0};var Vd,Wd,Ud,$d,qd;function Kd(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Gd(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Zd,Jd,Xd,Qd,eh,th,nh,ih=Br(((qd=class extends u.Component{constructor(...e){super(...e),Kd(this,"displayValueRef",Ud,this),Kd(this,"setDisplayValueRef",$d,this),this.cloneAnchorElement=e=>u.cloneElement(e,{[this.props.refProp]:this.setDisplayValueRef})}cloneChildren(e){return u.Children.map(e,(e=>e?e.type===Yd?u.cloneElement(e,{children:this.cloneSection(e)}):e:null))}cloneSection(e){return e?e.props.children?u.Children.map(e.props.children,(e=>e?e.type===Hd?this.cloneAction(e):e:null)):e:null}cloneAction(e){const{onClose:t}=this.props;return u.cloneElement(e,{onAfterAction:t})}render(){const{anchorElement:e,open:t,onClose:n}=this.props,i=this.cloneAnchorElement(e);return u.createElement(u.Fragment,null,i,u.createElement(jd,{anchorElement:this.displayValueRef,onClose:n,open:t,verticalOffset:20},((e,t,n,i)=>{const r="top"===n?"bottom":"top";return this.renderMenu(e,t,r,i)})))}renderMenu(e,t,n="top",i="left"){const{children:r}=this.props,o=this.cloneChildren(r),s=eo()("arrow--pUWAhv9sN3",{"top--Zo5CzFiA6A":"top"===n,"bottom--GW1QHbRQ4N":"bottom"===n,"left--O0nQDGyYML":"left"===i,"right--oPiBx6YuEP":"right"===i});return u.createElement("div",{className:"arrowMenuContainer--P92W8d5lax",ref:e,style:t},u.createElement("div",{className:s}),u.createElement("div",{className:"arrowMenu--QSz06n_dDJ"},o))}}).defaultProps={refProp:"ref"},qd.Section=Yd,qd.SingleItemSection=Bd,qd.Item=Fd,qd.Action=Hd,Ud=Gd((Wd=qd).prototype,"displayValueRef",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$d=Gd(Wd.prototype,"setDisplayValueRef",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.displayValueRef=e}}}),Vd=Wd))||Vd;function rh(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function oh(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var sh=Br(((nh=class extends u.Component{constructor(...e){super(...e),rh(this,"open",Xd,this),rh(this,"handleArrowMenuOpen",Qd,this),rh(this,"handleArrowMenuClose",eh,this),rh(this,"handleTypeChange",th,this)}get selectedType(){const{type:e,types:t}=this.props;if(t)return t.find((t=>t.value===e))}renderType(){const{selectedType:e}=this;return e?u.createElement("button",{className:tc.type,onClick:this.handleArrowMenuOpen,type:"button"},u.createElement("span",{className:tc.typeDelimiter},""),e.label,u.createElement(ro,{className:tc.typeIcon,name:"su-angle-down"})):u.createElement("span",null)}render(){const{children:e,colSpan:t,description:n,error:i,id:r,label:o,required:s,skin:a,spaceAfter:l,types:c}=this.props,{selectedType:d}=this,h=eo()(tc.field,{[tc[a]]:!!a,[tc.error]:!!i});return u.createElement(Ed.Item,{className:"grid-item--WVKAPYTfw9",colSpan:t,spaceAfter:l},u.createElement("div",{className:h},o&&u.createElement("label",{className:tc.label,htmlFor:r},o,d&&c&&u.createElement(ih,{anchorElement:this.renderType(),onClose:this.handleArrowMenuClose,open:this.open},u.createElement(ih.SingleItemSection,{onChange:this.handleTypeChange,value:d.value},c.map((e=>u.createElement(ih.Item,{key:e.value,value:e.value},e.label))))),s&&" *"),e,n&&u.createElement("div",{className:tc.descriptionLabel},n),u.createElement("div",{className:tc.errorLabel},i)))}}).defaultProps={colSpan:12,required:!1,spaceAfter:0},Xd=oh((Jd=nh).prototype,"open",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oh(Jd.prototype,"selectedType",[ge],Object.getOwnPropertyDescriptor(Jd.prototype,"selectedType"),Jd.prototype),Qd=oh(Jd.prototype,"handleArrowMenuOpen",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.open=!0}}}),eh=oh(Jd.prototype,"handleArrowMenuClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.open=!1}}}),th=oh(Jd.prototype,"handleTypeChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{onTypeChange:t}=this.props;t&&(this.open=!1,t(e))}}}),Zd=Jd))||Zd;class ah extends u.PureComponent{render(){const{children:e}=this.props;return u.createElement("div",{className:"divider--gIOSC9eY16"},e)}}var lh=ah;class ch extends u.Component{render(){const{children:e,label:t,colSpan:n}=this.props,i=u.Children.toArray(e);return(t||12===n)&&i.unshift(u.createElement(Ed.Item,{className:"divider-container--dGmbXVcf6j",colSpan:12,key:i.length},u.createElement(lh,null,t))),u.createElement(Ed.Section,{className:"grid-section--jkObO_j_5s",colSpan:n},i)}}ch.defaultProps={colSpan:12};class uh extends u.Component{constructor(...e){super(...e),this.cloneChildren=()=>{const{children:e,skin:t}=this.props;return u.Children.map(e,(e=>e?u.cloneElement(e,{skin:t}):null))}}render(){return u.createElement(Ed,{className:"grid--VzWZS2QOSh"},this.cloneChildren())}}uh.Field=sh,uh.Section=ch;var dh,hh=uh,ph=r(91892),fh=r.n(ph),mh=new class{constructor(){this.clear()}clear(){this.conditionDataProviders=[]}add(e){this.conditionDataProviders.push(e)}getAll(){return this.conditionDataProviders}},gh=new class{constructor(){this.clear()}clear(){this.fields={},this.options={}}add(e,t,n={}){if(e in this.fields)throw new Error('The key "'+e+'" has already been used for another field');this.fields[e]=t,this.options[e]=n}get(e){if(!(e in this.fields))throw new Error('There is no field with key "'+e+'" registered.\n\nRegistered keys: '+Object.keys(this.fields).sort().join(", "));return this.fields[e]}getOptions(e){if(!(e in this.options))throw new Error('There are no options for a field with the key "'+e+'" registered.\n\nRegistered keys: '+Object.keys(this.options).sort().join(", "));return this.options[e]}has(e){return e in this.fields}},bh="field-container--Q5SjjCxQA4",yh="field--xl144dwzsP";function vh(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let _h=(vh((dh=class{constructor(e){this.saveHandlers=[],this.finishFieldHandlers=[],this.formStore=e}get resourceKey(){return this.formStore.resourceKey}get locale(){return this.formStore.locale}get options(){return this.formStore.options}get metadataOptions(){return this.formStore.metadataOptions}get errors(){return this.formStore.errors}get id(){return this.formStore.id}getValueByPath(e){return this.formStore.getValueByPath(e)}getValuesByTag(e){return this.formStore.getValuesByTag(e)}getPathsByTag(e){return this.formStore.getPathsByTag(e)}getSchemaEntryByPath(e){return this.formStore.getSchemaEntryByPath(e)}addSaveHandler(e){this.saveHandlers.push(e)}triggerSaveHandler(e){"string"==typeof e&&c().warn('Passing a string to the "submit" method is deprecated since 2.2 and will be removed. Pass an object with an "action" property instead.'),this.saveHandlers.forEach((t=>t(e)))}addFinishFieldHandler(e){this.finishFieldHandlers.push(e)}finishField(e,t){this.formStore.finishField(e),this.finishFieldHandlers.forEach((n=>n(e,t)))}isFieldModified(e){return this.formStore.isFieldModified(e)}}).prototype,"resourceKey",[ge],Object.getOwnPropertyDescriptor(dh.prototype,"resourceKey"),dh.prototype),vh(dh.prototype,"locale",[ge],Object.getOwnPropertyDescriptor(dh.prototype,"locale"),dh.prototype),vh(dh.prototype,"options",[ge],Object.getOwnPropertyDescriptor(dh.prototype,"options"),dh.prototype),vh(dh.prototype,"metadataOptions",[ge],Object.getOwnPropertyDescriptor(dh.prototype,"metadataOptions"),dh.prototype),vh(dh.prototype,"errors",[ge],Object.getOwnPropertyDescriptor(dh.prototype,"errors"),dh.prototype),vh(dh.prototype,"id",[ge],Object.getOwnPropertyDescriptor(dh.prototype,"id"),dh.prototype),dh);var wh,kh,Ch,Eh;function xh(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let Sh=(wh=ge.struct,Br((Eh=class extends u.Component{constructor(...e){super(...e),this.handleChange=(e,t)=>{const{name:n,onChange:i}=this.props;this.disabled||i(n,e,t)},this.handleFinish=(e,t)=>{const{dataPath:n,onFinish:i,schemaPath:r}=this.props;e&&t&&i(e,t),i(n,r)}}get conditionData(){const{data:e,dataPath:t,formInspector:n}=this.props;return mh.getAll().reduce((function(e,i){return{...e,...i(e,t,n)}}),{...e})}get disabled(){const{schema:e}=this.props;return!!e.disabledCondition&&fh().evalSync(e.disabledCondition,this.conditionData)}get visible(){const{schema:e}=this.props;return!e.visibleCondition||fh().evalSync(e.visibleCondition,this.conditionData)}findErrorKeyword(e){if(e&&!O(e)&&"const"!==e.keyword){if("string"==typeof e.keyword)return e.keyword;for(const t in e)return this.findErrorKeyword(e[t])}}get types(){return this.props.schema.types}render(){if(!this.visible)return null;const{data:e,dataPath:t,error:n,formInspector:i,name:r,onSuccess:o,router:s,schema:a,schemaPath:l,showAllErrors:d,value:h}=this.props,{defaultType:p,description:f,label:m,maxOccurs:g,minOccurs:b,onInvalid:y,options:v={},required:_,type:w}=a;let k;try{k=gh.get(w)}catch(e){return"ignore"===y?null:(c().error(e),u.createElement(hh.Field,{colSpan:a.colSpan,spaceAfter:a.spaceAfter},u.createElement("div",{className:bh},u.createElement("div",{className:yh},u.createElement("div",{className:"field-exception--vvqnwZ9kjn"},u.createElement("h4",null,"Error while rendering field!"),u.createElement("p",null,u.createElement("b",null,"Name:")," ",r,u.createElement("br",null),u.createElement("b",null,"Exception:")," ",e.toString()))))))}const C=gh.getOptions(w),E=this.findErrorKeyword(n);return u.createElement(hh.Field,{colSpan:a.colSpan,description:f,error:E?Xs("sulu_admin.error_"+E.toLowerCase()):void 0,id:t,label:m,required:_,spaceAfter:a.spaceAfter},u.createElement("div",{className:bh},u.createElement("div",{className:yh},u.createElement(k,{data:e,dataPath:t,defaultType:p,disabled:this.disabled,error:n,fieldTypeOptions:C,formInspector:i,label:m||r,maxOccurs:g,minOccurs:b,onChange:this.handleChange,onFinish:this.handleFinish,onSuccess:o,router:s,schemaOptions:v,schemaPath:l,showAllErrors:d,types:this.types,value:h}))))}},Eh.defaultProps={showAllErrors:!1},xh((Ch=Eh).prototype,"conditionData",[ge],Object.getOwnPropertyDescriptor(Ch.prototype,"conditionData"),Ch.prototype),xh(Ch.prototype,"disabled",[ge],Object.getOwnPropertyDescriptor(Ch.prototype,"disabled"),Ch.prototype),xh(Ch.prototype,"visible",[ge],Object.getOwnPropertyDescriptor(Ch.prototype,"visible"),Ch.prototype),xh(Ch.prototype,"types",[wh],Object.getOwnPropertyDescriptor(Ch.prototype,"types"),Ch.prototype),kh=Ch))||kh);var Oh,Th,Mh=Sh;function Ph(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Dh,Lh,Ah,zh,Ih=Br((Ph((Th=class extends u.Component{get conditionData(){const{data:e,formInspector:t}=this.props;return mh.getAll().reduce((function(e,n){return{...e,...n(e,void 0,t)}}),{...e})}get visible(){const{schema:e}=this.props;return!e.visibleCondition||fh().evalSync(e.visibleCondition,this.conditionData)}render(){if(!this.visible)return null;const{children:e,name:t,schema:n}=this.props,{colSpan:i,label:r}=n;return u.createElement(hh.Section,{colSpan:i,key:t,label:r},e)}}).prototype,"conditionData",[ge],Object.getOwnPropertyDescriptor(Th.prototype,"conditionData"),Th.prototype),Ph(Th.prototype,"visible",[ge],Object.getOwnPropertyDescriptor(Th.prototype,"visible"),Th.prototype),Oh=Th))||Oh;let Rh=Br((zh=class extends u.Component{constructor(...e){var t,n,i;super(...e),t=this,i=this,(n=Ah)&&Object.defineProperty(t,"handleFieldFinish",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}renderSection(e,t,n){const{data:i,formInspector:r}=this.props,{items:o}=e;return u.createElement(Ih,{data:i,formInspector:r,key:t,name:t,schema:e},!!o&&Object.keys(o).map((e=>this.renderItem(o[e],e,n+"/items/"+e))))}renderField(e,t,n){const{data:i,dataPath:r,errors:o,formInspector:s,onChange:a,onSuccess:l,router:c,showAllErrors:d,value:h}=this.props,p=r+"/"+t,f=(d||s.isFieldModified(p))&&o&&o[t]?o[t]:void 0;return u.createElement(Mh,{data:i,dataPath:p,error:f,formInspector:s,key:t+"_"+e.type,name:t,onChange:a,onFinish:this.handleFieldFinish,onSuccess:l,router:c,schema:e,schemaPath:n,showAllErrors:d,value:Pc().has(h,"/"+t)?Pc().get(h,"/"+t):void 0})}renderItem(e,t,n){return"section"===e.type?this.renderSection(e,t,n):this.renderField(e,t,n)}render(){const{schema:e,schemaPath:t}=this.props,n=Object.keys(e);return u.createElement(hh,null,n.map((n=>this.renderItem(e[n],n,t+"/"+n))))}},zh.defaultProps={showAllErrors:!1},jh=(Lh=zh).prototype,Nh="handleFieldFinish",Fh=[ht],Yh={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{const{onFieldFinish:n}=this.props;n&&n(e,t)}}},Bh={},Object.keys(Yh).forEach((function(e){Bh[e]=Yh[e]})),Bh.enumerable=!!Bh.enumerable,Bh.configurable=!!Bh.configurable,("value"in Bh||Bh.initializer)&&(Bh.writable=!0),void 0===(Bh=Fh.slice().reverse().reduce((function(e,t){return t(jh,Nh,e)||e}),Bh)).initializer&&(Object.defineProperty(jh,Nh,Bh),Bh=null),Ah=Bh,Dh=Lh))||Dh;var jh,Nh,Fh,Yh,Bh,Hh,Vh,Wh,Uh,$h,qh,Kh=Rh,Gh={"dialog-container":"dialog-container--ZqbDdMAc85",dialogContainer:"dialog-container--ZqbDdMAc85",dialog:"dialog--Xq2xnClGz1",small:"small--WFuY1yXBbx",large:"large--YXeMc15seZ",open:"open--dr4v5xGQSK",content:"content--xLGJTtvoON",header:"header--b0DC6wRgSd",headerItem:"headerItem--JJMHqShyzN",footer:"footer--KXVVYi1dII",snackbar:"snackbar--u4S12tZJFC",article:"article--py0SGzpXJO",left:"left--V9uXnh5h6Y",center:"center--Yv5PQ5Wxec"};function Zh(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Jh(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Xh=Br(((qh=class extends u.Component{constructor(e){super(e),Zh(this,"open",Wh,this),Zh(this,"visible",Uh,this),Zh(this,"handleTransitionEnd",$h,this);const{open:t}=this.props;this.open=t,this.visible=t}componentDidUpdate(e){const{open:t}=this.props;!1===e.open&&!0===t&&(this.visible=!0),e.open!==t&&Hu(ht((()=>{this.open=t})))}render(){const{align:e,children:t,confirmDisabled:n,cancelText:i,confirmLoading:r,confirmText:o,onCancel:s,onConfirm:a,onSnackbarClick:l,onSnackbarCloseClick:c,size:d,snackbarMessage:h,snackbarType:p,title:f}=this.props,{open:m,visible:g}=this,b=eo()(Gh.dialogContainer,{[Gh.open]:m}),y=eo()(Gh.dialog,{[Gh[d]]:d}),v=eo()(Gh.article,{[Gh[e]]:e});return u.createElement(u.Fragment,null,g&&u.createElement(Bu,null,u.createElement(ml,null),u.createElement("div",{className:b,onTransitionEnd:this.handleTransitionEnd},u.createElement("div",{className:y},u.createElement("section",{className:Gh.content},u.createElement("div",{className:Gh.snackbar},u.createElement(nd,{message:h||"",onClick:l,onCloseClick:c,type:p,visible:!!h})),u.createElement("header",{className:Gh.header},u.createElement("span",{className:Gh.headerItem},f)),u.createElement("article",{className:v},t),u.createElement("footer",{className:Gh.footer},u.createElement(uo,{disabled:n,loading:r,onClick:a,skin:"primary"},o),s&&i&&u.createElement(uo,{onClick:s,skin:"secondary"},i)))))))}}).defaultProps={align:"center",confirmDisabled:!1,confirmLoading:!1,snackbarType:"error"},Wh=Jh((Vh=qh).prototype,"open",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Uh=Jh(Vh.prototype,"visible",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jh(Vh.prototype,"componentDidUpdate",[ht],Object.getOwnPropertyDescriptor(Vh.prototype,"componentDidUpdate"),Vh.prototype),$h=Jh(Vh.prototype,"handleTransitionEnd",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{open:e}=this.props;e||(this.visible=!1)}}}),Hh=Vh))||Hh;class Qh extends u.PureComponent{render(){return u.createElement("li",{className:"divider--wslYKuyCL_"})}}class ep extends u.PureComponent{constructor(...e){super(...e),this.setRef=e=>{const{menuRef:t}=this.props;t&&e&&t(e)}}render(){const{style:e,children:t}=this.props;return u.createElement("ul",{className:"menu--IHt1KoW1_F",ref:this.setRef,style:e},t)}}ep.Divider=Qh;var tp=ep;class np extends u.PureComponent{constructor(...e){super(...e),this.triggerButton=()=>{const{onClick:e,afterAction:t,value:n}=this.props;e(n),t&&t()},this.handleButtonClick=()=>{this.triggerButton()},this.handleButtonKeyDown=e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),this.triggerButton())},this.setButtonRef=e=>{const{buttonRef:t}=this.props;t&&t(e)},this.handleMouseMove=()=>{this.props.requestFocus&&this.props.requestFocus()}}render(){return u.createElement("li",{onMouseMove:this.handleMouseMove},u.createElement("button",{className:"action--vFLdDCHw5w",onClick:this.handleButtonClick,onKeyDown:this.handleButtonKeyDown,ref:this.setButtonRef,type:"button"},this.props.children))}}var ip={option:"option--I74DdRkNkR",selected:"selected--viEP8H177J",icon:"icon--VzFlGSf16D",checkbox:"checkbox--H7YRRTB9kz",input:"input--nhQx4Wrt7l"};class rp extends u.PureComponent{constructor(...e){super(...e),this.triggerButton=()=>{this.props.onClick&&this.props.onClick(this.props.value)},this.handleButtonClick=()=>{this.triggerButton()},this.handleButtonKeyDown=e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),this.triggerButton())},this.setItemRef=e=>{const{optionRef:t,selected:n}=this.props;t&&e&&t(e,n)},this.setButtonRef=e=>{const{buttonRef:t}=this.props;t&&t(e)},this.handleMouseMove=()=>{this.props.requestFocus&&this.props.requestFocus()}}renderSelectedVisualization(){return"icon"===this.props.selectedVisualization?this.props.selected?u.createElement(ro,{className:ip.icon,name:"su-check"}):null:u.createElement(mu,{checked:this.props.selected,className:ip.input,onChange:this.handleButtonClick,tabIndex:-1})}render(){const{anchorWidth:e,selected:t,children:n,disabled:i,selectedVisualization:r}=this.props,o=eo()(ip.option,ip[r],{[ip.selected]:t});return u.createElement("li",{onMouseMove:this.handleMouseMove,ref:this.setItemRef},u.createElement("button",{className:o,disabled:i,onClick:this.handleButtonClick,onKeyDown:this.handleButtonKeyDown,ref:this.setButtonRef,style:{minWidth:e+10},type:"button"},this.renderSelectedVisualization(),n))}}rp.defaultProps={anchorWidth:0,disabled:!1,selected:!1,selectedVisualization:"icon"};class op extends u.PureComponent{render(){let{children:e}=this.props;if(!e)return null;e=e.toString();const t=Math.ceil(e.length/2),n=e.substr(0,t),i=e.substr(t);return u.createElement("div",{"aria-label":e,className:"cropped-text--EuWFm7bbv_",title:e},u.createElement("div",{"aria-hidden":!0,className:"front--d5a1jRIhia"},n),u.createElement("div",{"aria-hidden":!0,className:"back--nrRiHWjn1f"},u.createElement("span",null,i)),u.createElement("div",{className:"whole--dZEolfsWRz"},e))}}var sp=op,ap={displayValue:"displayValue--Pq9bamL5lE",flat:"flat--msTl1uTdbv",dark:"dark--XVzMU971WT",default:"default--HJ6vT1KPKT","has-icon":"has-icon--buEo3qc5az",hasIcon:"has-icon--buEo3qc5az","front-icon":"front-icon--qHQE9BIpxs",frontIcon:"front-icon--qHQE9BIpxs",toggle:"toggle--JCVyOy8aRZ"};class lp extends u.PureComponent{constructor(...e){super(...e),this.handleClick=e=>{const{onClick:t}=this.props;e.preventDefault(),t()},this.setButtonRef=e=>{const{displayValueRef:t}=this.props;t&&e&&t(e)}}render(){const{children:e,disabled:t,icon:n,skin:i}=this.props,r=eo()(ap.displayValue,ap[i],{[ap.hasIcon]:!!n});return u.createElement("button",{className:r,disabled:t,onClick:t?void 0:this.handleClick,ref:this.setButtonRef,type:"button"},!!n&&u.createElement(ro,{className:ap.frontIcon,name:n}),"string"==typeof e||"number"==typeof e?u.createElement(sp,null,String(e)):e,u.createElement(ro,{className:ap.toggle,name:"su-angle-down"}))}}lp.defaultProps={disabled:!1,skin:"default"};var cp,up,dp,hp,pp,fp,mp,gp,bp,yp,vp,_p,wp,kp,Cp,Ep;function xp(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Sp(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let Op=Br((Ep=class extends u.Component{constructor(...e){super(...e),xp(this,"displayValueRef",dp,this),xp(this,"selectedOptionRef",hp,this),xp(this,"buttonRefsByIndex",pp,this),xp(this,"searchText",fp,this),xp(this,"focusedElementIndex",mp,this),xp(this,"open",gp,this),xp(this,"setDisplayValueRef",bp,this),xp(this,"setSelectedOptionRef",yp,this),this.setButtonRef=e=>ht((t=>{t?(this.buttonRefsByIndex.set(e,t),e===this.focusedElementIndex&&t.focus()):this.buttonRefsByIndex.has(e)&&this.buttonRefsByIndex.delete(e)})),xp(this,"openOptionList",vp,this),xp(this,"closeOptionList",_p,this),xp(this,"clearSearchText",wp,this),this.debouncedClearSearchText=ya()(this.clearSearchText,500),xp(this,"appendSearchText",kp,this),xp(this,"requestFocus",Cp,this),this.handleOptionClick=e=>{this.props.onSelect(e),this.props.closeOnSelect&&this.closeOptionList()},this.handleDisplayValueClick=this.openOptionList,this.handleOptionListClose=this.closeOptionList,this.handleRequestFocus=e=>()=>{this.requestFocus(e)},this.handleKeyDown=e=>["Enter","ArrowUp","ArrowDown"].includes(e.key)&&!this.open?(e.preventDefault(),void this.openOptionList()):"Escape"===e.key&&this.open?(e.preventDefault(),void this.closeOptionList()):"ArrowUp"===e.key&&this.open?(e.preventDefault(),this.clearSearchText(),void this.requestFocus(Math.max(...this.availableButtonIndices.filter((e=>e<this.focusedElementIndex))))):"ArrowDown"===e.key&&this.open?(e.preventDefault(),this.clearSearchText(),void this.requestFocus(Math.min(...this.availableButtonIndices.filter((e=>e>this.focusedElementIndex))))):void 0,this.handleKeyPress=e=>{this.open&&(e.preventDefault(),this.appendSearchText(e.key))}}get buttonTextsByIndex(){return Array.from(this.buttonRefsByIndex.entries()).reduce(((e,[t,n])=>(e.set(t,n.textContent),e)),new Map)}get availableButtonIndices(){return Array.from(this.buttonRefsByIndex.keys())}get firstSelectedIndex(){let e=-1;return u.Children.forEach(this.props.children,((t,n)=>{t&&t.type===rp&&-1===e&&this.props.isOptionSelected(t)&&(e=n)})),e}cloneOption(e,t){const n=this.displayValueRef?this.displayValueRef.getBoundingClientRect().width:0;return u.cloneElement(e,{anchorWidth:n,onClick:this.handleOptionClick,selected:this.props.isOptionSelected(e),selectedVisualization:this.props.selectedVisualization,requestFocus:this.handleRequestFocus(t),optionRef:this.setSelectedOptionRef,buttonRef:this.setButtonRef(t)})}cloneAction(e,t){return u.cloneElement(e,{afterAction:this.closeOptionList,buttonRef:this.setButtonRef(t),requestFocus:this.handleRequestFocus(t)})}cloneChildren(){return u.Children.map(this.props.children,((e,t)=>{if(!e)return e;switch(e.type){case rp:return this.cloneOption(e,t);case np:return this.cloneAction(e,t);default:return e}}))}render(){const{icon:e,disabled:t,displayValue:n,skin:i}=this.props,r=this.cloneChildren();return u.createElement("div",{className:"select--ItpEsSpa9G",onKeyDown:this.handleKeyDown,onKeyPress:this.handleKeyPress,role:"none"},u.createElement(lp,{disabled:t,displayValueRef:this.setDisplayValueRef,icon:e,onClick:this.handleDisplayValueClick,skin:i},n),u.createElement(jd,{anchorElement:this.displayValueRef,centerChildElement:this.selectedOptionRef,horizontalOffset:-20,onClose:this.handleOptionListClose,open:this.open,verticalOffset:2},((e,t)=>u.createElement(tp,{menuRef:e,style:t},u.Children.count(r)>0?r:u.createElement(rp,{disabled:!0,value:null},Xs("sulu_admin.no_options_available"))))))}},Ep.defaultProps={closeOnSelect:!0,disabled:!1,skin:"default"},Ep.Action=np,Ep.Option=rp,Ep.Divider=tp.Divider,dp=Sp((up=Ep).prototype,"displayValueRef",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hp=Sp(up.prototype,"selectedOptionRef",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pp=Sp(up.prototype,"buttonRefsByIndex",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),fp=Sp(up.prototype,"searchText",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),mp=Sp(up.prototype,"focusedElementIndex",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),gp=Sp(up.prototype,"open",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Sp(up.prototype,"buttonTextsByIndex",[ge],Object.getOwnPropertyDescriptor(up.prototype,"buttonTextsByIndex"),up.prototype),Sp(up.prototype,"availableButtonIndices",[ge],Object.getOwnPropertyDescriptor(up.prototype,"availableButtonIndices"),up.prototype),Sp(up.prototype,"firstSelectedIndex",[ge],Object.getOwnPropertyDescriptor(up.prototype,"firstSelectedIndex"),up.prototype),bp=Sp(up.prototype,"setDisplayValueRef",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{e&&(this.displayValueRef=e)}}}),yp=Sp(up.prototype,"setSelectedOptionRef",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{(!this.selectedOptionRef||e&&t)&&(this.selectedOptionRef=e)}}}),vp=Sp(up.prototype,"openOptionList",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.open=!0,this.clearSearchText(),this.focusedElementIndex=this.firstSelectedIndex}}}),_p=Sp(up.prototype,"closeOptionList",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{onClose:e}=this.props;this.open&&(e&&e(),this.open=!1,this.displayValueRef&&this.displayValueRef.focus())}}}),wp=Sp(up.prototype,"clearSearchText",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.searchText=""}}}),kp=Sp(up.prototype,"appendSearchText",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.searchText+=e;const t=Array.from(this.buttonTextsByIndex.entries()).find((([,e])=>e.toLowerCase().startsWith(this.searchText.toLowerCase())));t&&this.requestFocus(t[0]),this.debouncedClearSearchText()}}}),Cp=Sp(up.prototype,"requestFocus",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{if(!this.buttonRefsByIndex.has(e))return;this.focusedElementIndex=e;const t=this.buttonRefsByIndex.get(e);t&&t.focus()}}}),cp=up))||cp;var Tp=Op;class Mp extends u.PureComponent{constructor(...e){super(...e),this.isOptionSelected=e=>e.props.value===this.props.value&&!e.props.disabled,this.handleSelect=e=>{this.props.onChange&&this.props.onChange(e)}}get displayValue(){let e=Xs("sulu_admin.please_choose");return u.Children.forEach(this.props.children,(t=>{t&&t.type===Mp.Option&&this.props.value==t.props.value&&(e=t.props.children)})),e}render(){const{children:e,disabled:t,icon:n,skin:i}=this.props;return u.createElement(Tp,{disabled:t,displayValue:this.displayValue,icon:n,isOptionSelected:this.isOptionSelected,onSelect:this.handleSelect,skin:i},e)}}Mp.defaultProps={disabled:!1,skin:"default"},Mp.Action=Tp.Action,Mp.Option=Tp.Option,Mp.Divider=Tp.Divider;var Pp,Dp,Lp,Ap,zp=Mp;function Ip(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Rp(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var jp,Np,Fp,Yp,Bp=Br((Dp=class extends u.Component{constructor(e){super(e),Ip(this,"selectedLocale",Lp,this),this.handleCancel=()=>{this.props.onCancel()},this.handleConfirm=()=>{this.props.onConfirm(this.selectedLocale)},Ip(this,"handleLocaleChange",Ap,this),this.selectedLocale=this.props.locales[0]}render(){const{locales:e,open:t}=this.props;return u.createElement(Xh,{align:"left",cancelText:Xs("sulu_admin.no"),confirmText:Xs("sulu_admin.yes"),onCancel:this.handleCancel,onConfirm:this.handleConfirm,open:t,title:Xs("sulu_admin.ghost_dialog_title")},u.createElement("p",null,Xs("sulu_admin.ghost_dialog_description")),u.createElement(hh,null,u.createElement(hh.Field,{colSpan:6,label:Xs("sulu_admin.choose_language")},u.createElement(zp,{onChange:this.handleLocaleChange,value:this.selectedLocale},e.map((e=>u.createElement(zp.Option,{key:e,value:e},e)))))))}},Lp=Rp(Dp.prototype,"selectedLocale",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ap=Rp(Dp.prototype,"handleLocaleChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{if("string"!=typeof e)throw new Error("Only strings are accepted as locales! This should not happen and is likely a bug.");this.selectedLocale=e}}}),Pp=Dp))||Pp;function Hp(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Vp(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Wp,Up,$p,qp,Kp,Gp,Zp,Jp,Xp,Qp=Br((Np=class extends u.Component{constructor(...e){super(...e),Hp(this,"selectedType",Fp,this),this.handleCancel=()=>{this.props.onCancel()},this.handleConfirm=()=>{this.props.onConfirm(this.selectedType)},Hp(this,"handleTypeChange",Yp,this)}render(){const{open:e,types:t}=this.props;return u.createElement(Xh,{align:"left",cancelText:Xs("sulu_admin.cancel"),confirmDisabled:!this.selectedType,confirmText:Xs("sulu_admin.ok"),onCancel:this.handleCancel,onConfirm:this.handleConfirm,open:e,title:Xs("sulu_admin.missing_type_dialog_title")},u.createElement("p",null,Xs("sulu_admin.missing_type_dialog_description")),u.createElement(hh,null,u.createElement(hh.Field,{colSpan:6},u.createElement(zp,{onChange:this.handleTypeChange,value:this.selectedType},Object.keys(t).map((e=>u.createElement(zp.Option,{key:t[e].key,value:t[e].key},t[e].title)))))))}},Fp=Vp(Np.prototype,"selectedType",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yp=Vp(Np.prototype,"handleTypeChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{if("string"!=typeof e)throw new Error("Only strings are accepted as types! This should not happen and is likely a bug.");this.selectedType=e}}}),jp=Np))||jp;function ef(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function tf(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let nf=Br((Up=class extends u.Component{constructor(e){super(e),ef(this,"showAllErrors",$p,this),ef(this,"displayGhostDialog",qp,this),ef(this,"submit",Kp,this),this.handleChange=(e,t,n)=>{this.props.store.change(e,t,n)},ef(this,"handleGhostDialogCancel",Gp,this),ef(this,"handleGhostDialogConfirm",Zp,this),ef(this,"handleMissingTypeDialogConfirm",Jp,this),ef(this,"handleMissingTypeDialogCancel",Xp,this),this.handleFieldFinish=(e,t)=>{c().debug('Finished editing field with dataPath "'+e+'" and schemaPath "'+t+'"',Mt(this.formInspector.getValueByPath(e)));const{store:n}=this.props;n.validate(),this.formInspector.finishField(e,t)},this.displayGhostDialogDisposer=ft((()=>{const{store:e}=this.props,{data:{availableLocales:t},loading:n,locale:i}=e;n?this.hideGhostDialog():t&&i&&!t.includes(i.get())&&this.showGhostDialog()}))}componentWillUnmount(){this.displayGhostDialogDisposer()}get formInspector(){return new _h(this.props.store)}showGhostDialog(){this.displayGhostDialog=!0}hideGhostDialog(){this.displayGhostDialog=!1}render(){const{onSuccess:e,router:t,store:n}=this.props,{data:{availableLocales:i}}=n;return n.forbidden?u.createElement(gd,{icon:"su-lock",title:Xs("sulu_admin.no_permissions")}):n.notFound?u.createElement(gd,{icon:"su-battery-low",title:Xs("sulu_admin.not_found")}):n.unexpectedError?u.createElement(gd,{icon:"su-exclamation-triangle",title:Xs("sulu_admin.unexpected_error")}):n.loading?u.createElement(ao,null):u.createElement(u.Fragment,null,n.id&&i&&u.createElement(Bp,{locales:i,onCancel:this.handleGhostDialogCancel,onConfirm:this.handleGhostDialogConfirm,open:this.displayGhostDialog}),u.createElement(Qp,{onCancel:this.handleMissingTypeDialogCancel,onConfirm:this.handleMissingTypeDialogConfirm,open:n.hasInvalidType,types:n.types}),!n.hasInvalidType&&u.createElement(Kh,{data:n.data,dataPath:"",errors:n.errors,formInspector:this.formInspector,onChange:this.handleChange,onFieldFinish:this.handleFieldFinish,onSuccess:e,router:t,schema:n.schema,schemaPath:"",showAllErrors:this.showAllErrors,value:n.data}))}},$p=tf(Up.prototype,"showAllErrors",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qp=tf(Up.prototype,"displayGhostDialog",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tf(Up.prototype,"formInspector",[ge],Object.getOwnPropertyDescriptor(Up.prototype,"formInspector"),Up.prototype),Kp=tf(Up.prototype,"submit",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{"string"==typeof e&&c().warn('Passing a string to the "submit" method is deprecated since 2.2 and will be removed. Pass an object with an "action" property instead.');const{onError:t,onSubmit:n,store:i}=this.props;if(this.showAllErrors=!0,i.validate()){const t=n(e);return t?t.then((t=>(this.formInspector.triggerSaveHandler(e),t))):t}if(t)return t(i.errors)}}}),tf(Up.prototype,"showGhostDialog",[ht],Object.getOwnPropertyDescriptor(Up.prototype,"showGhostDialog"),Up.prototype),tf(Up.prototype,"hideGhostDialog",[ht],Object.getOwnPropertyDescriptor(Up.prototype,"hideGhostDialog"),Up.prototype),Gp=tf(Up.prototype,"handleGhostDialogCancel",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.hideGhostDialog()}}}),Zp=tf(Up.prototype,"handleGhostDialogConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{store:t}=this.props;t.copyFromLocale&&(t.copyFromLocale(e),this.hideGhostDialog())}}}),Jp=tf(Up.prototype,"handleMissingTypeDialogConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{store:t}=this.props;t.changeType(e)}}}),Xp=tf(Up.prototype,"handleMissingTypeDialogCancel",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{onMissingTypeCancel:e}=this.props;e&&e()}}}),Wp=Up))||Wp;var rf,of,sf,af=nf;function lf(){return{__bundles:Na.bundles}}function cf(e,t,n){return{__locale:n.locale?.get()}}function uf(e,t){if(!t)return{__parent:e};let n=t;const i={};let r=i;do{n=n.substring(0,n.lastIndexOf("/"));const t=Pc().get(e,n);O(t)||(r.__parent={...t},r=r.__parent)}while(n.match(/^\/.*\//));return i}function df(){return{__user:Mt(sl.user)}}function hf(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function pf(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const ff="section";function mf(e,t,n){const i=n[t].type;i!==ff&&Pc().set(e,"/"+t,void 0);const r=n[t].items;return i===ff&&r&&Object.keys(r).reduce(((t,n)=>mf(e,n,r)),e),e}function gf(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:0}function bf(e,t,n,i=[""]){const r=[];for(const o in n){const{items:s,tags:a,type:l,types:c}=n[o];if(l===ff&&s)r.push(...bf(e,t,s,i));else if(c&&Object.keys(c).length>0&&t[o]&&O(t[o]))for(const n of t[o].keys()){const s=t[o][n];s.type in c&&r.push(...bf(e,s,c[s.type].form,i.concat([o,n])))}else if(a){const t=a.filter((t=>t.name===e));if(0===t.length)continue;r.push({path:i.concat([o]).join("/"),priority:Math.max(...t.map((e=>e.priority||0)))})}}return r.sort(gf)}function yf(e,t,n,i=[""]){return bf(e,t,n,i).map((e=>e.path))}let vf=(of=pf((rf=class{constructor(){hf(this,"schema",of,this),this.modifiedFields=[],hf(this,"errors",sf,this),this.pathsByTag={},this.getValueByPath=e=>Pc().has(this.data,e)?Pc().get(this.data,e):void 0}get forbidden(){return!1}get notFound(){return!1}get unexpectedError(){return!1}isFieldModified(e){return this.modifiedFields.includes(e)}finishField(e){this.modifiedFields.includes(e)||this.modifiedFields.push(e)}validate(){const{validator:e}=this,t={};if(e&&!e(Mt(this.data)))for(const n of e.errors)switch(n.keyword){case"type":case"if":case"then":case"else":case"oneOf":case"anyOf":case"allOf":break;case"required":Pc().set(t,n.instancePath+"/"+n.params.missingProperty,{keyword:n.keyword,parameters:n.params});break;default:Pc().set(t,n.instancePath,{keyword:n.keyword,parameters:n.params})}return this.errors=t,!this.hasErrors||(c().info("Form validation detected the following errors: ",Mt(this.errors)),!1)}get hasErrors(){return Object.keys(this.errors).length>0}getValuesByTag(e){return this.getPathsByTag(e).map(this.getValueByPath)}getPathsByTag(e){const{data:t,schema:n}=this;return e in this.pathsByTag||(this.pathsByTag[e]=yf(e,t,n)),this.pathsByTag[e]}getSchemaEntryByPath(e){return Pc().get(this.schema,e)}addMissingSchemaProperties(){const e=Object.keys(this.schema).reduce(((e,t)=>mf(e,t,this.schema)),{});Et(this.data,{...e,...this.data})}destroy(){}}).prototype,"schema",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sf=pf(rf.prototype,"errors",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),pf(rf.prototype,"validate",[ht],Object.getOwnPropertyDescriptor(rf.prototype,"validate"),rf.prototype),pf(rf.prototype,"hasErrors",[ge],Object.getOwnPropertyDescriptor(rf.prototype,"hasErrors"),rf.prototype),pf(rf.prototype,"addMissingSchemaProperties",[ht],Object.getOwnPropertyDescriptor(rf.prototype,"addMissingSchemaProperties"),rf.prototype),rf);var _f,wf,kf,Cf,Ef;function xf(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Sf(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const Of=_o();let Tf=(wf=Sf((_f=class extends vf{constructor(e,t,n,i,r){super(),this.id=void 0,this.options={},this.resourceKey=void 0,xf(this,"data",wf,this),xf(this,"dirty",kf,this),xf(this,"loading",Cf,this),xf(this,"types",Ef,this),this.data=e,this.schema=t,this.locale=i,this.addMissingSchemaProperties(),this.validator=n?Of.compile(n):void 0,this.metadataOptions=r}change(e,t,n){const i=e.startsWith("/")?e:"/"+e;Pc().set(this.data,i,t),n?.isDefaultValue||n?.isServerValue||(this.dirty=!0)}changeMultiple(e,t){Object.keys(e).forEach((n=>{this.change(n,e[n],t)})),Et(this.data,this.data)}get hasInvalidType(){return!1}setMultiple(e){c().warn('The "setMultiple" method is deprecated and will be removed. Use the "changeMultiple" method instead.'),this.data={...this.data,...e}}changeType(){throw new Error("The MemoryFormStore cannot handle types")}}).prototype,"data",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kf=Sf(_f.prototype,"dirty",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cf=Sf(_f.prototype,"loading",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ef=Sf(_f.prototype,"types",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Sf(_f.prototype,"change",[ht],Object.getOwnPropertyDescriptor(_f.prototype,"change"),_f.prototype),Sf(_f.prototype,"changeMultiple",[ht],Object.getOwnPropertyDescriptor(_f.prototype,"changeMultiple"),_f.prototype),Sf(_f.prototype,"setMultiple",[ht],Object.getOwnPropertyDescriptor(_f.prototype,"setMultiple"),_f.prototype),_f);const Mf={credentials:"same-origin",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}};var Pf=new class{constructor(){this.metadataPromises={}}loadMetadata(e,t,n={}){const i={type:e,key:t,...n};this.metadataPromises[e]||(this.metadataPromises[e]={});const r=t+po(n);if(!this.metadataPromises[e][r]){const t=Ca().generate("sulu_admin.metadata",i),n=ri.fetch(t,Mf).then((t=>{if(!t.ok)return this.metadataPromises[e][r]=void 0,Promise.reject(t);const n=t.headers.get("cache-control");return n&&n.includes("no-store")&&(this.metadataPromises[e][r]=void 0),t.json()}));return this.metadataPromises[e][r]=n,n}return this.metadataPromises[e][r]}};const Df="form";var Lf,Af,zf,If=new class{getSchemaTypes(e,t){return Pf.loadMetadata(Df,e,t).then((e=>{const{defaultType:t,types:n}=e;return n?{defaultType:t,types:Object.keys(n).reduce(((e,t)=>(e[t]={key:t,title:n[t].title||t},e)),{})}:null}))}getSchema(e,t,n){return Pf.loadMetadata(Df,e,n).then((n=>{const i=this.getTypeConfiguration(n,t,e);if(!i&&t)throw new Error('Type "'+t+'" not found for the formKey "'+e+'"');if(!("form"in i)){let n='There is no form schema for the formKey "'+e+'"';throw t&&(n+=' for the type "'+t+'"'),new Error(n)}return this.hasGlobalBlock(i)?Pf.loadMetadata(Df,"block",{}).then((e=>({typeConfiguration:i,blockSchema:e}))):{typeConfiguration:i,blockSchema:null}})).then((({typeConfiguration:e,blockSchema:t})=>t?(Object.keys(e.form).forEach((n=>{e.form[n].types&&Object.keys(e.form[n].types).forEach((i=>{!e.form[n].types||Mt(e.form[n].types[i].form).length>0||e.form[n].types&&t.types[i]&&(e.form[n].types[i].form=t.types[i].form)}))})),e.form):e.form))}hasGlobalBlock(e){return void 0!==Object.keys(e.form).find((t=>!!e.form[t].types&&void 0!==Object.keys(e.form[t].types).find((n=>!(!e.form[t].types||Mt(e.form[t].types[n].form).length>0||!e.form[t].types)))))}getJsonSchema(e,t,n){return Pf.loadMetadata(Df,e,n).then((n=>{const i=this.getTypeConfiguration(n,t,e);if(!("schema"in i)){let n='There is no json schema for the formKey "'+e+'"';throw t&&(n+=' for the type "'+t+'"'),new Error(n)}return i.schema}))}getTypeConfiguration(e,t,n){if(e.types&&!t)throw new Error('The "'+n+'" configuration requires a type for loading the form schema');if(!e.types&&t)throw new Error('The "'+n+'" configuration does not support types, but a type of "'+t+'" was given');return e.types?e.types[t]:e}};function Rf(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let jf=(Lf=ge.struct,Af=class{constructor(e,t,n,i){!function(e,t,n,i){n&&Object.defineProperty(e,"innerFormStore",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}(this,0,zf,this),Promise.all([If.getSchema(t,n,i),If.getJsonSchema(t,n,i)]).then(ht((([t,n])=>{this.innerFormStore=e(t,n)})))}change(e,t,n){Dt((()=>!!this.innerFormStore),(()=>{this.innerFormStore?.change(e,t,n)}))}changeType(e,t){Dt((()=>!!this.innerFormStore),(()=>{this.innerFormStore?.changeType(e,t)}))}changeMultiple(e,t){Dt((()=>!!this.innerFormStore),(()=>{this.innerFormStore?.changeMultiple(e,t)}))}get data(){return this.innerFormStore?this.innerFormStore.data:{}}destroy(){Dt((()=>!!this.innerFormStore),(()=>{this.innerFormStore?.destroy()}))}get dirty(){return!!this.innerFormStore&&this.innerFormStore.dirty}set dirty(e){Dt((()=>!!this.innerFormStore),(()=>{this.innerFormStore.dirty=e}))}get errors(){return this.innerFormStore?this.innerFormStore.errors:[]}get hasErrors(){return!!this.innerFormStore&&this.innerFormStore.hasErrors}get forbidden(){return!!this.innerFormStore&&this.innerFormStore.forbidden}get notFound(){return!!this.innerFormStore&&this.innerFormStore.notFound}get unexpectedError(){return!!this.innerFormStore&&this.innerFormStore.unexpectedError}finishField(e){Dt((()=>!!this.innerFormStore),(()=>{this.innerFormStore?.finishField(e)}))}getPathsByTag(e){return this.innerFormStore?this.innerFormStore.getPathsByTag(e):[]}getSchemaEntryByPath(e){if(this.innerFormStore)return this.innerFormStore.getSchemaEntryByPath(e)}getValueByPath(e){return!!this.innerFormStore&&this.innerFormStore.getValueByPath(e)}getValuesByTag(e){return this.innerFormStore?this.innerFormStore.getValuesByTag(e):[]}get hasInvalidType(){return!!this.innerFormStore&&this.innerFormStore.hasInvalidType}get id(){if(this.innerFormStore)return this.innerFormStore.id}isFieldModified(e){return!!this.innerFormStore&&this.innerFormStore.isFieldModified(e)}get loading(){return!this.innerFormStore||this.innerFormStore.loading}set loading(e){Dt((()=>!!this.innerFormStore),(()=>{this.innerFormStore.loading=e}))}get locale(){if(this.innerFormStore)return this.innerFormStore.locale}get metadataOptions(){if(this.innerFormStore)return this.innerFormStore.metadataOptions}get options(){return this.innerFormStore?this.innerFormStore.options:{}}get resourceKey(){if(this.innerFormStore)return this.innerFormStore.resourceKey}get schema(){return this.innerFormStore?this.innerFormStore.schema:{}}get types(){return this.innerFormStore?this.innerFormStore.types:{}}validate(){return!this.innerFormStore||this.innerFormStore.validate()}setType(e){if(c().warn('The "setType" method is deprecated and will be removed. Use the "changeType" method instead.'),this.innerFormStore&&"function"==typeof this.innerFormStore.setType)return this.innerFormStore.setType(e)}setMultiple(e){c().warn('The "setMultiple" method is deprecated and will be removed. Use the "changeMultiple" method instead.'),this.innerFormStore&&"function"==typeof this.innerFormStore.setMultiple&&this.innerFormStore.setMultiple(e)}},zf=Rf(Af.prototype,"innerFormStore",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rf(Af.prototype,"data",[ge],Object.getOwnPropertyDescriptor(Af.prototype,"data"),Af.prototype),Rf(Af.prototype,"dirty",[ge],Object.getOwnPropertyDescriptor(Af.prototype,"dirty"),Af.prototype),Rf(Af.prototype,"errors",[ge],Object.getOwnPropertyDescriptor(Af.prototype,"errors"),Af.prototype),Rf(Af.prototype,"hasErrors",[ge],Object.getOwnPropertyDescriptor(Af.prototype,"hasErrors"),Af.prototype),Rf(Af.prototype,"forbidden",[ge],Object.getOwnPropertyDescriptor(Af.prototype,"forbidden"),Af.prototype),Rf(Af.prototype,"notFound",[ge],Object.getOwnPropertyDescriptor(Af.prototype,"notFound"),Af.prototype),Rf(Af.prototype,"unexpectedError",[ge],Object.getOwnPropertyDescriptor(Af.prototype,"unexpectedError"),Af.prototype),Rf(Af.prototype,"hasInvalidType",[ge],Object.getOwnPropertyDescriptor(Af.prototype,"hasInvalidType"),Af.prototype),Rf(Af.prototype,"id",[ge],Object.getOwnPropertyDescriptor(Af.prototype,"id"),Af.prototype),Rf(Af.prototype,"loading",[ge],Object.getOwnPropertyDescriptor(Af.prototype,"loading"),Af.prototype),Rf(Af.prototype,"locale",[ge],Object.getOwnPropertyDescriptor(Af.prototype,"locale"),Af.prototype),Rf(Af.prototype,"metadataOptions",[ge],Object.getOwnPropertyDescriptor(Af.prototype,"metadataOptions"),Af.prototype),Rf(Af.prototype,"options",[ge],Object.getOwnPropertyDescriptor(Af.prototype,"options"),Af.prototype),Rf(Af.prototype,"resourceKey",[ge],Object.getOwnPropertyDescriptor(Af.prototype,"resourceKey"),Af.prototype),Rf(Af.prototype,"schema",[Lf],Object.getOwnPropertyDescriptor(Af.prototype,"schema"),Af.prototype),Rf(Af.prototype,"types",[ge],Object.getOwnPropertyDescriptor(Af.prototype,"types"),Af.prototype),Af);var Nf,Ff,Yf,Bf,Hf,Vf=new class{createFromFormKey(e,t={},n,i,r){return new jf(((e,i)=>new Tf(t,e,i,n,r)),e,i,r)}createFromSchema(e,t,n={}){return new Tf(n,e,t)}};function Wf(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Uf(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const $f="template",qf=_o();function Kf(e,t,n,i){let r={};if(!e||!t)return r;for(const o in t){const{items:s,defaultType:a,type:l,types:c}=t[o],{items:u,defaultType:d,type:h,types:p}=e[o]||{};if(l===ff&&s)r=Kf(e,s,n,i);else if(h===ff&&u)r=Kf(u,t,n,i);else if(c&&p&&Object.keys(c).length>0&&Object.keys(p).length>0&&n[o]&&i[o]&&O(n[o])&&O(i[o]))for(let e=0;e<Math.max(i[o].length,n[o].length);++e){const t=Mt(i[o].length>e&&i[o][e]||{}),s=Mt(n[o].length>e&&n[o][e]||{}),l=s?.type,u=l&&l in c?l:t?.type||a,h=Kf(p[s.type]?.form||p[d].form,c[u].form,s,t);r[o]||(r[o]=[]),Object.keys(h).length>0&&(h.type=u,h.settings=s?.settings||t.settings,r[o].push(h))}else n[o]&&l===h?r[o]=n[o]:r[o]=i[o]}return r}let Gf=(Ff=Uf((Nf=class extends vf{constructor(e,t,n={},i){super(),Wf(this,"types",Ff,this),Wf(this,"schemaLoading",Yf,this),Wf(this,"typesLoading",Bf,this),Wf(this,"handleSchemaTypeResponse",Hf,this),this.handleSchemaResponse=([e,t])=>(this.validator=t?qf.compile(t):void 0,this.pathsByTag={},this.loadAndMergeRemoteData(this.schema,e).then(ht((()=>{this.schema=e,this.addMissingSchemaProperties(),this.validate(),this.setSchemaLoading(!1)})))),this.loadAndMergeRemoteData=(e,t)=>e?this.resourceStore.requestRemoteData({template:this.type}).then((n=>{const i=Kf(e,t,this.data,n);this.setMultiple(i)})):Promise.resolve(),this.resourceStore=e,this.formKey=t,this.options=n,this.metadataOptions=i,If.getSchemaTypes(this.formKey,this.metadataOptions).then(this.handleSchemaTypeResponse)}destroy(){this.schemaDisposer&&this.schemaDisposer()}get hasTypes(){return Object.keys(this.types).length>0}get hasInvalidType(){return!!this.types&&!!this.type&&!xt(this.types,this.type)}get loading(){return this.resourceStore.loading||this.schemaLoading}get data(){return this.resourceStore.data}get type(){return this.hasTypes?xt(this.data,$f):void 0}save(e={}){return this.validate()?this.resourceStore.save({...this.options,...e}).then((e=>{const{modifiedFields:t}=this;return t.splice(0,t.length),e})).catch((e=>e.json().then(ht((e=>Promise.reject(e)))))):Promise.reject("Errors occured when trying to save the data from the FormStore")}delete(e){return this.resourceStore.delete({...this.options,...e})}copyFromLocale(e){return this.resourceStore.copyFromLocale(e,this.options)}set(e,t){c().warn('The "set" method is deprecated and will be removed. Use the "change" method instead.'),this.resourceStore.set(e,t)}setMultiple(e){c().warn('The "setMultiple" method is deprecated and will be removed. Use the "changeMultiple" method instead.'),this.resourceStore.setMultiple(e)}change(e,t,n){n?.isDefaultValue||n?.isServerValue?this.resourceStore.set(e,t):this.resourceStore.change(e,t)}changeMultiple(e,t){t?.isDefaultValue||t?.isServerValue?this.resourceStore.setMultiple(e):this.resourceStore.changeMultiple(e)}get locale(){return this.resourceStore.locale}get resourceKey(){return this.resourceStore.resourceKey}get id(){return this.resourceStore.id}get saving(){return this.resourceStore.saving}get deleting(){return this.resourceStore.deleting}get forbidden(){return this.resourceStore.forbidden}get notFound(){return this.resourceStore.notFound}get unexpectedError(){return this.resourceStore.unexpectedError}get dirty(){return this.resourceStore.dirty}set dirty(e){this.resourceStore.dirty=e}setSchemaLoading(e){this.schemaLoading=e}setType(e){if(c().warn('The "setType" method is deprecated and will be removed. Use the "changeType" method instead.'),!this.hasTypes)throw new Error('The form "'+this.formKey+'" handled by this ResourceFormStore cannot handle types');this.set($f,e)}changeType(e,t){if(!this.hasTypes)throw new Error('The form "'+this.formKey+'" handled by this ResourceFormStore cannot handle types');this.change($f,e,t)}getSchemaEntryByPath(e){return Pc().get(this.schema,e)}}).prototype,"types",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Yf=Uf(Nf.prototype,"schemaLoading",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Bf=Uf(Nf.prototype,"typesLoading",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Hf=Uf(Nf.prototype,"handleSchemaTypeResponse",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{types:t={},defaultType:n}=e||{};this.types=t,this.typesLoading=!1,this.hasTypes&&Dt((()=>!this.resourceStore.loading),(()=>{const e=this.resourceStore.data[$f]||n||Object.keys(this.types)[0];Et(this.data,{[$f]:e})})),this.schemaDisposer=ft((()=>{!this.hasTypes||this.type?this.hasTypes&&this.type&&!this.types[this.type]?this.setSchemaLoading(!1):(this.setSchemaLoading(!0),Promise.all([If.getSchema(this.formKey,this.type,this.metadataOptions),If.getJsonSchema(this.formKey,this.type,this.metadataOptions)]).then(this.handleSchemaResponse)):this.setSchemaLoading(!1)}))}}}),Uf(Nf.prototype,"hasTypes",[ge],Object.getOwnPropertyDescriptor(Nf.prototype,"hasTypes"),Nf.prototype),Uf(Nf.prototype,"hasInvalidType",[ge],Object.getOwnPropertyDescriptor(Nf.prototype,"hasInvalidType"),Nf.prototype),Uf(Nf.prototype,"loading",[ge],Object.getOwnPropertyDescriptor(Nf.prototype,"loading"),Nf.prototype),Uf(Nf.prototype,"data",[ge],Object.getOwnPropertyDescriptor(Nf.prototype,"data"),Nf.prototype),Uf(Nf.prototype,"type",[ge],Object.getOwnPropertyDescriptor(Nf.prototype,"type"),Nf.prototype),Uf(Nf.prototype,"save",[ht],Object.getOwnPropertyDescriptor(Nf.prototype,"save"),Nf.prototype),Uf(Nf.prototype,"locale",[ge],Object.getOwnPropertyDescriptor(Nf.prototype,"locale"),Nf.prototype),Uf(Nf.prototype,"resourceKey",[ge],Object.getOwnPropertyDescriptor(Nf.prototype,"resourceKey"),Nf.prototype),Uf(Nf.prototype,"id",[ge],Object.getOwnPropertyDescriptor(Nf.prototype,"id"),Nf.prototype),Uf(Nf.prototype,"saving",[ge],Object.getOwnPropertyDescriptor(Nf.prototype,"saving"),Nf.prototype),Uf(Nf.prototype,"deleting",[ge],Object.getOwnPropertyDescriptor(Nf.prototype,"deleting"),Nf.prototype),Uf(Nf.prototype,"forbidden",[ge],Object.getOwnPropertyDescriptor(Nf.prototype,"forbidden"),Nf.prototype),Uf(Nf.prototype,"notFound",[ge],Object.getOwnPropertyDescriptor(Nf.prototype,"notFound"),Nf.prototype),Uf(Nf.prototype,"unexpectedError",[ge],Object.getOwnPropertyDescriptor(Nf.prototype,"unexpectedError"),Nf.prototype),Uf(Nf.prototype,"dirty",[ge],Object.getOwnPropertyDescriptor(Nf.prototype,"dirty"),Nf.prototype),Uf(Nf.prototype,"setSchemaLoading",[ht],Object.getOwnPropertyDescriptor(Nf.prototype,"setSchemaLoading"),Nf.prototype),Uf(Nf.prototype,"setType",[ht],Object.getOwnPropertyDescriptor(Nf.prototype,"setType"),Nf.prototype),Uf(Nf.prototype,"changeType",[ht],Object.getOwnPropertyDescriptor(Nf.prototype,"changeType"),Nf.prototype),Nf);var Zf,Jf,Xf,Qf,em,tm,nm=new class{createFromResourceStore(e,t,n={},i){return new Gf(e,t,n,i)}};function im(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function rm(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var om=Br((Jf=class extends u.Component{constructor(...e){super(...e),im(this,"changer",Xf,this),im(this,"creator",Qf,this),im(this,"changerLoaded",em,this),im(this,"creatorLoaded",tm,this),this.loadChanger=()=>{"number"==typeof this.changerId?La.get("users",{id:this.changerId}).then(ht((e=>{this.setChanger(e)}))).catch(ht((e=>{if(404!==e.status)return Promise.reject(e);this.setChanger(void 0)}))):this.setChanger(void 0)},this.loadCreator=()=>{"number"==typeof this.creatorId?La.get("users",{id:this.creatorId}).then(ht((e=>{this.setCreator(e)}))).catch(ht((e=>{if(404!==e.status)return Promise.reject(e);this.setCreator(void 0)}))):this.setCreator(void 0)}}componentDidMount(){this.changerDisposer=ft(this.loadChanger),this.creatorDisposer=ft(this.loadCreator)}componentWillUnmount(){this.changerDisposer(),this.creatorDisposer()}setChanger(e){this.changer=e,this.changerLoaded=!0}setCreator(e){this.creator=e,this.creatorLoaded=!0}get changerId(){return this.props.formInspector.getValueByPath("/changer")}get creatorId(){return this.props.formInspector.getValueByPath("/creator")}get changerFullName(){return this.changer?this.changer.fullName:void 0}get changed(){const{formInspector:e}=this.props,t=e.getValueByPath("/changed");if("string"==typeof t)return new Date(t).toLocaleString()}get creatorFullName(){return this.creator?this.creator.fullName:void 0}get created(){const{formInspector:e}=this.props,t=e.getValueByPath("/created");if("string"==typeof t)return new Date(t).toLocaleString()}render(){return this.changerLoaded&&this.creatorLoaded?u.createElement(u.Fragment,null,u.createElement("p",null,Xs("sulu_admin.changelog_line_changer",{changer:String(this.changerFullName),changed:this.changed})),u.createElement("p",null,Xs("sulu_admin.changelog_line_creator",{creator:String(this.creatorFullName),created:this.created}))):u.createElement(ao,null)}},Xf=rm(Jf.prototype,"changer",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qf=rm(Jf.prototype,"creator",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),em=rm(Jf.prototype,"changerLoaded",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tm=rm(Jf.prototype,"creatorLoaded",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rm(Jf.prototype,"setChanger",[ht],Object.getOwnPropertyDescriptor(Jf.prototype,"setChanger"),Jf.prototype),rm(Jf.prototype,"setCreator",[ht],Object.getOwnPropertyDescriptor(Jf.prototype,"setCreator"),Jf.prototype),rm(Jf.prototype,"changerId",[ge],Object.getOwnPropertyDescriptor(Jf.prototype,"changerId"),Jf.prototype),rm(Jf.prototype,"creatorId",[ge],Object.getOwnPropertyDescriptor(Jf.prototype,"creatorId"),Jf.prototype),rm(Jf.prototype,"changerFullName",[ge],Object.getOwnPropertyDescriptor(Jf.prototype,"changerFullName"),Jf.prototype),rm(Jf.prototype,"changed",[ge],Object.getOwnPropertyDescriptor(Jf.prototype,"changed"),Jf.prototype),rm(Jf.prototype,"creatorFullName",[ge],Object.getOwnPropertyDescriptor(Jf.prototype,"creatorFullName"),Jf.prototype),rm(Jf.prototype,"created",[ge],Object.getOwnPropertyDescriptor(Jf.prototype,"created"),Jf.prototype),Zf=Jf))||Zf;class sm extends u.Component{constructor(...e){super(...e),this.handleEditClick=()=>{const{id:e,onEdit:t}=this.props;t&&t(e)},this.handleRemoveClick=()=>{const{id:e,onRemove:t}=this.props;t&&t(e)}}render(){const{children:e,onEdit:t,onRemove:n}=this.props;return u.createElement("section",{className:"card--rZTofqq_DB"},u.createElement("div",{className:"icons--uwPiJCHlOb"},t&&u.createElement(ro,{name:"su-pen",onClick:this.handleEditClick}),n&&u.createElement(ro,{name:"su-trash-alt",onClick:this.handleRemoveClick})),e)}}var am=sm;class lm extends u.Component{render(){const{children:e,onAdd:t,onEdit:n,onRemove:i}=this.props;return u.createElement(u.Fragment,null,u.createElement("section",{className:"cards--m4eBKvUdfL"},e&&u.Children.map(e,((e,t)=>u.createElement("div",{className:"card--e6O5aWIyke",key:t},u.cloneElement(e,{id:t,onEdit:n,onRemove:i}))))),u.createElement("div",{className:"add-button-container--jRuz78UjK5"},u.createElement(uo,{icon:"su-plus",onClick:t,skin:"secondary"},Xs("sulu_admin.add"))))}}lm.Card=am;var cm,um,dm,hm,pm,fm,mm,gm,bm,ym=lm;function vm(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function _m(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var wm=Br((um=class extends u.Component{constructor(e){super(e),vm(this,"overlayIndex",dm,this),vm(this,"formStore",hm,this),this.setFormRef=e=>{this.formRef=e},vm(this,"handleAdd",pm,this),vm(this,"handleEdit",fm,this),vm(this,"handleRemove",mm,this),vm(this,"handleCloseOverlay",gm,this),this.handleConfirm=()=>{if(!this.formRef)throw new Error("The reference to the form does not exist, although the overlay was confirmed. This should not happen and is likely a bug.");this.formRef.submit()},vm(this,"handleOverlaySubmit",bm,this);const{fieldTypeOptions:{renderCardContent:t,schema:n}={}}=this.props;if(!t)throw new Error('The "renderCardContent" field type option must be a function!');if(!n)throw new Error('The "schema" field type option must be a valid schema!')}closeFormStore(){this.formStore&&(this.formStore.destroy(),this.formStore=void 0)}render(){const{fieldTypeOptions:{addOverlayTitle:e,editOverlayTitle:t,renderCardContent:n},value:i}=this.props;return u.createElement(u.Fragment,null,u.createElement(ym,{onAdd:this.handleAdd,onEdit:this.handleEdit,onRemove:this.handleRemove},!!i&&i.map(((e,t)=>u.createElement(ym.Card,{key:t},n(e))))),u.createElement(fd,{confirmDisabled:!!this.formStore&&!this.formStore.dirty,confirmText:Xs("sulu_admin.ok"),onClose:this.handleCloseOverlay,onConfirm:this.handleConfirm,open:!!this.formStore,size:"small",title:null!==this.overlayIndex?Xs(t):Xs(e)},u.createElement("div",{className:"overlay--IOfZBmecgL"},!!this.formStore&&u.createElement(Uj,{onSubmit:this.handleOverlaySubmit,ref:this.setFormRef,store:this.formStore}))))}},dm=_m(um.prototype,"overlayIndex",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),hm=_m(um.prototype,"formStore",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),pm=_m(um.prototype,"handleAdd",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{fieldTypeOptions:{jsonSchema:e,schema:t}}=this.props;this.overlayIndex=void 0,this.formStore=Vf.createFromSchema(t,e)}}}),fm=_m(um.prototype,"handleEdit",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{fieldTypeOptions:{jsonSchema:t,schema:n},value:i}=this.props;if(!i)throw new Error("The index to edit does not exists. This should not happen and is likely a bug.");this.overlayIndex=e,this.formStore=Vf.createFromSchema(n,t,Mt(i[e]))}}}),mm=_m(um.prototype,"handleRemove",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{onChange:t,value:n}=this.props;if(!n)throw new Error("The index to remove does not exists. This should not happen and is likely a bug.");t(n.filter(((t,n)=>n!==e)))}}}),gm=_m(um.prototype,"handleCloseOverlay",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.closeFormStore()}}}),bm=_m(um.prototype,"handleOverlaySubmit",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{onChange:e,onFinish:t,value:n}=this.props,{formStore:i}=this;if(!i)throw new Error("The formStore does not exist, although it was submitted. This should nto happen and is likely a bug.");null==n?e([i.data]):void 0===this.overlayIndex?e([...n,i.data]):e(n.map(((e,t)=>t===this.overlayIndex?i.data:e))),t(),this.closeFormStore()}}}),_m(um.prototype,"closeFormStore",[ht],Object.getOwnPropertyDescriptor(um.prototype,"closeFormStore"),um.prototype),cm=um))||cm;class km extends u.Component{constructor(e){super(e),c().warn('The "PermissionHint" component is deprecated since 3.0 and will be removed. Use the "Hint" component instead.')}render(){return u.createElement(gd,{icon:"su-lock",title:Xs("sulu_admin.no_permissions")})}}var Cm,Em,xm,Sm,Om,Tm,Mm,Pm,Dm,Lm,Am,zm,Im,Rm,jm,Nm,Fm,Ym,Bm,Hm,Vm,Wm,Um,$m=km,qm=new class{getSchema(e,t){return Pf.loadMetadata("list",e,t)}};function Km(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Gm(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const Zm="sulu_admin.list_store",Jm="active",Xm="sort_column",Qm="sort_order",eg="filter",tg="limit",ng="schema";let ig=(Cm=ge.struct,Em=class e{static getActiveSetting(e,t){const n=[Zm,e,t,Jm].join(".");return sl.getPersistentSetting(n)}static setActiveSetting(e,t,n){const i=[Zm,e,t,Jm].join(".");sl.setPersistentSetting(i,n)}static getFilterSetting(e,t){const n=[Zm,e,t,eg].join(".");return sl.getPersistentSetting(n)}static setFilterSetting(e,t,n){const i=[Zm,e,t,eg].join(".");sl.setPersistentSetting(i,n)}static getSortColumnSetting(e,t){const n=[Zm,e,t,Xm].join(".");return sl.getPersistentSetting(n)}static setSortColumnSetting(e,t,n){const i=[Zm,e,t,Xm].join(".");sl.setPersistentSetting(i,n)}static getSortOrderSetting(e,t){const n=[Zm,e,t,Qm].join(".");return sl.getPersistentSetting(n)}static setSortOrderSetting(e,t,n){const i=[Zm,e,t,Qm].join(".");sl.setPersistentSetting(i,n)}static getLimitSetting(e,t){const n=[Zm,e,t,tg].join(".");return sl.getPersistentSetting(n)}static setLimitSetting(e,t,n){const i=[Zm,e,t,tg].join(".");sl.setPersistentSetting(i,n)}static getSchemaSetting(e,t){const n=[Zm,e,t,ng].join(".");return sl.getPersistentSetting(n)}static setSchemaSetting(e,t,n){const i=[Zm,e,t,ng].join(".");sl.setPersistentSetting(i,n)}constructor(t,n,i,r,o={},s,a){Km(this,"pageCount",xm,this),Km(this,"selections",Sm,this),Km(this,"dataLoading",Om,this),Km(this,"deleting",Tm,this),Km(this,"deletingSelection",Mm,this),Km(this,"moving",Pm,this),Km(this,"movingSelection",Dm,this),Km(this,"copying",Lm,this),Km(this,"ordering",Am,this),Km(this,"schemaLoading",zm,this),Km(this,"shouldReload",Im,this),Km(this,"loadingStrategy",Rm,this),Km(this,"structureStrategy",jm,this),Km(this,"options",Nm,this),Km(this,"schema",Fm,this),Km(this,"forbidden",Ym,this),this.active=ue.box(),this.filterOptions=ue.box({}),this.sortColumn=ue.box(),this.sortOrder=ue.box(),this.searchTerm=ue.box(),this.limit=ue.box(10),this.changeUserSchema=t=>{const n=[];Object.keys(t).map((e=>{const i=t[e];n.push({schemaKey:e,visibility:i.visibility})})),e.setSchemaSetting(this.listKey,this.userSettingsKey,n)},Km(this,"updateLoadingStrategy",Bm,this),Km(this,"updateStructureStrategy",Hm,this),Km(this,"clear",Vm,this),this.delete=(e,t)=>(this.deleting=!0,La.delete(this.resourceKey,{...this.queryOptions,...t,id:e}).then(ht((()=>{this.deleting=!1,this.deselectById(e),this.remove(e)}))).catch(ht((e=>{throw this.deleting=!1,e})))),this.move=(e,t)=>(this.moving=!0,this.requestMove(e,t).then(ht((()=>{this.moving=!1,this.activate(e),this.clear()})))),Km(this,"moveSelection",Wm,this),this.copy=(e,t,n)=>{const i={...this.options,action:"copy",destination:t},{locale:r}=this.observableOptions;return r&&(i.locale=r.get()),this.copying=!0,La.post(this.resourceKey,void 0,{...i,id:e}).then(ht((e=>{this.copying=!1,n?.(e),this.activate(e.id),this.clear()})))},Km(this,"deleteSelection",Um,this),this.remove=e=>{this.structureStrategy.remove(e)},this.sendRequest=()=>{if(!this.initialized)return;const t={};for(const e in this.observableOptions)t[e]=this.observableOptions[e].get();this.setDataLoading(!0),this.setForbidden(!1);const n=this.active.get(),i={...t,...this.options};this.initialSelectionIds&&(i.selectedIds=this.initialSelectionIds.join(",")),i.selectedIds||(n&&Ce((()=>!this.structureStrategy.findById(n)))&&(this.structureStrategy.clear(),i.expandedIds=n),!i.expandedIds&&n&&(i.parentId=n)),i.sortBy=this.sortColumn.get(),i.sortOrder=this.sortOrder.get(),i.limit=this.limit.get(),i.fields=this.fields,Object.keys(this.filterQueryOption).length>0&&(i.filter=this.filterQueryOption),this.searchTerm.get()&&(i.search=this.searchTerm.get()),c().info('List loads "'+this.resourceKey+'" data with the following options:',i),this.pendingRequest&&this.pendingRequest.abort(),this.pendingRequest=this.loadingStrategy.load(this.resourceKey,i,i.selectedIds||i.expandedIds?void 0:n).then(ht((e=>{this.pendingRequest=void 0,this.pageCount=e.pages,this.setDataLoading(!1),this.initialSelectionIds&&(this.initialSelectionIds.map((e=>this.findById(e))).forEach((e=>{e&&this.select(e)})),this.initialSelectionIds=void 0)}))).catch((t=>{if("AbortError"!==t.name){if(this.pendingRequest=void 0,this.active.get()&&404===t.status)return e.setActiveSetting(this.listKey,this.userSettingsKey,void 0),void this.setActive(void 0);403===t.status&&this.setForbidden(!0),this.setDataLoading(!1)}}))},this.resourceKey=t,this.listKey=n,this.userSettingsKey=i,this.observableOptions=r,this.options=o,this.metadataOptions=s,this.initialSelectionIds=a,this.sendRequestDisposer=ft((()=>{this.shouldReload?this.setShouldReload(!1):this.sendRequest()}));const l=e=>{this.initialized&&e.object.get()!==e.newValue&&this.reset()},{locale:u}=this.observableOptions;u&&(this.localeDisposer=kt(u,"",(e=>(l(e),e)))),this.searchDisposer=kt(this.searchTerm,"",(e=>(l(e),e))),this.filterDisposer=kt(this.filterOptions,"",(t=>{const n=t.object.get(),i=n?Object.keys(n).reduce(((e,t)=>(void 0!==n[t]&&(e[t]=n[t]),e)),{}):{},r=t.newValue,o=r?Object.keys(r).reduce(((e,t)=>(void 0!==r[t]&&(e[t]=r[t]),e)),{}):{};return si()(i,o)||l(t),si()(n,r)||e.setFilterSetting(this.listKey,this.userSettingsKey,t.newValue),t})),this.sortColumnDisposer=kt(this.sortColumn,"",(t=>(e.setSortColumnSetting(this.listKey,this.userSettingsKey,t.newValue),l(t),t))),this.sortOrderDisposer=kt(this.sortOrder,"",(t=>(e.setSortOrderSetting(this.listKey,this.userSettingsKey,t.newValue),l(t),t))),this.limitDisposer=kt(this.limit,"",(t=>(e.setLimitSetting(this.listKey,this.userSettingsKey,t.newValue),l(t),t))),this.activeSettingDisposer=kt(this.active,"",(t=>(e.setActiveSetting(this.listKey,this.userSettingsKey,t.newValue),t))),qm.getSchema(this.listKey,this.metadataOptions).then(ht((e=>{this.schema=e,this.schemaLoading=!1})))}get initialized(){return!!this.loadingStrategy&&!!this.structureStrategy&&!!this.schema}get loading(){return this.dataLoading||this.schemaLoading}get data(){return this.structureStrategy.data}get visibleItems(){return this.structureStrategy.visibleItems}get activeItems(){return this.structureStrategy.activeItems}get queryOptions(){const e={...this.options},{locale:t}=this.observableOptions;return t&&(e.locale=t.get()),e}get filterQueryOption(){const e=this.filterOptions.get();return Object.keys(e).reduce(((t,n)=>(void 0!==e[n]&&(t[n]=e[n]),t)),{})}get userSchema(){if(!this.initialized)return{};const t=e.getSchemaSetting(this.listKey,this.userSettingsKey)||[],n={};for(const e of t)this.schema.hasOwnProperty(e.schemaKey)&&(n[e.schemaKey]={...this.schema[e.schemaKey],visibility:e.visibility});for(const e of Object.keys(this.schema))n.hasOwnProperty(e)||(n[e]=this.schema[e]);return n}get filterableFields(){if(this.schema)return Object.keys(this.schema).reduce(((e,t)=>(this.schema[t].filterType&&(e[t]=this.schema[t]),e)),{})}get fields(){const e=[];return Object.keys(this.userSchema).forEach((t=>{const n=this.userSchema[t];"yes"!==n.visibility&&"always"!==n.visibility||e.push(t)})),e.includes("id")||e.push("id"),e}reset(){const e=this.getPage();this.clear(),this.pageCount=0,e&&e>1&&this.setPage(1)}reload(){this.setShouldReload(!0)}findById(e){return this.structureStrategy.findById(e)}requestMove(e,t){const n={...this.options,action:"move",destination:t},{locale:i}=this.observableOptions;return i&&(n.locale=i.get()),La.post(this.resourceKey,void 0,{...n,id:e})}setDataLoading(e){this.dataLoading=e}setForbidden(e){this.forbidden=e}setShouldReload(e){this.shouldReload=e}getPage(){return this.observableOptions.page.get()}setPage(e){this.observableOptions.page.set(e)}setLimit(e){this.limit.set(e)}setActive(e){this.active.set(e)}activate(e){this.setActive(void 0),this.setActive(e),this.structureStrategy.activate&&this.structureStrategy.activate(e)}deactivate(e){this.structureStrategy.deactivate&&this.structureStrategy.deactivate(e)}sort(e,t){this.sortColumn.set(e),this.sortOrder.set(t)}order(e,t){return this.ordering=!0,La.post(this.resourceKey,{position:t},{...this.queryOptions,action:"order",id:e}).then(ht((()=>{this.ordering=!1,this.structureStrategy.order(e,t)})))}search(e){e!==this.searchTerm.get()&&this.searchTerm.set(e)}filter(e){this.filterOptions.set(e)}select(e){-1===this.selections.findIndex((t=>t.id===e.id))&&this.selections.push(e)}selectVisibleItems(){c().warn('The "selectVisibleItems" method will select disabled rows. Therefore the method is deprecated since version 2.0. Use the "visibleItems" property and the "select" method instead.'),this.visibleItems.forEach((e=>{this.select(e)}))}deselect(e){this.deselectById(e.id)}deselectById(e){const t=this.selections.findIndex((t=>t.id===e));-1!==t&&this.selections.splice(t,1)}deselectVisibleItems(){c().warn('The "deselectVisibleItems" method will deselect disabled rows. Therefore the method is deprecated since version 2.0. Use the "visibleItems" property and the "deselect" method instead.'),this.visibleItems.forEach((e=>{this.deselect(e)}))}get selectionIds(){return this.selections.map((e=>e.id))}clearSelection(){this.selections=[]}destroy(){this.sendRequestDisposer(),this.searchDisposer(),this.filterDisposer(),this.sortColumnDisposer(),this.sortOrderDisposer(),this.limitDisposer(),this.activeSettingDisposer(),this.localeDisposer&&this.localeDisposer()}},xm=Gm(Em.prototype,"pageCount",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Sm=Gm(Em.prototype,"selections",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Om=Gm(Em.prototype,"dataLoading",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Tm=Gm(Em.prototype,"deleting",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Mm=Gm(Em.prototype,"deletingSelection",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pm=Gm(Em.prototype,"moving",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Dm=Gm(Em.prototype,"movingSelection",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Lm=Gm(Em.prototype,"copying",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Am=Gm(Em.prototype,"ordering",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),zm=Gm(Em.prototype,"schemaLoading",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Im=Gm(Em.prototype,"shouldReload",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Rm=Gm(Em.prototype,"loadingStrategy",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jm=Gm(Em.prototype,"structureStrategy",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nm=Gm(Em.prototype,"options",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fm=Gm(Em.prototype,"schema",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ym=Gm(Em.prototype,"forbidden",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gm(Em.prototype,"initialized",[ge],Object.getOwnPropertyDescriptor(Em.prototype,"initialized"),Em.prototype),Gm(Em.prototype,"loading",[ge],Object.getOwnPropertyDescriptor(Em.prototype,"loading"),Em.prototype),Gm(Em.prototype,"data",[ge],Object.getOwnPropertyDescriptor(Em.prototype,"data"),Em.prototype),Gm(Em.prototype,"visibleItems",[ge],Object.getOwnPropertyDescriptor(Em.prototype,"visibleItems"),Em.prototype),Gm(Em.prototype,"activeItems",[ge],Object.getOwnPropertyDescriptor(Em.prototype,"activeItems"),Em.prototype),Gm(Em.prototype,"queryOptions",[ge],Object.getOwnPropertyDescriptor(Em.prototype,"queryOptions"),Em.prototype),Gm(Em.prototype,"filterQueryOption",[Cm],Object.getOwnPropertyDescriptor(Em.prototype,"filterQueryOption"),Em.prototype),Gm(Em.prototype,"userSchema",[ge],Object.getOwnPropertyDescriptor(Em.prototype,"userSchema"),Em.prototype),Gm(Em.prototype,"filterableFields",[ge],Object.getOwnPropertyDescriptor(Em.prototype,"filterableFields"),Em.prototype),Gm(Em.prototype,"fields",[ge],Object.getOwnPropertyDescriptor(Em.prototype,"fields"),Em.prototype),Bm=Gm(Em.prototype,"updateLoadingStrategy",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.loadingStrategy&&this.loadingStrategy===e||(this.loadingStrategy&&this.reset(),this.structureStrategy&&(e.setStructureStrategy(this.structureStrategy),this.structureStrategy.clear()),this.loadingStrategy=e)}}}),Hm=Gm(Em.prototype,"updateStructureStrategy",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{if(this.structureStrategy===e)return;this.loadingStrategy&&this.loadingStrategy.setStructureStrategy(e);const t=!!this.structureStrategy;this.structureStrategy=e,t&&this.reload()}}}),Vm=Gm(Em.prototype,"clear",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.structureStrategy&&this.structureStrategy.clear()}}}),Gm(Em.prototype,"reset",[ht],Object.getOwnPropertyDescriptor(Em.prototype,"reset"),Em.prototype),Gm(Em.prototype,"reload",[ht],Object.getOwnPropertyDescriptor(Em.prototype,"reload"),Em.prototype),Wm=Gm(Em.prototype,"moveSelection",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{selectionIds:t}=this;return this.movingSelection=!0,Promise.all(t.map((t=>this.requestMove(t,e)))).then(ht((()=>{this.movingSelection=!1,this.clear(),this.activate(e)})))}}}),Um=Gm(Em.prototype,"deleteSelection",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const e=[];return this.deletingSelection=!0,this.selectionIds.forEach((t=>{e.push(La.delete(this.resourceKey,{...this.queryOptions,id:t}).catch((e=>{if(404!==e.status)return Promise.reject(e)})))})),Promise.all(e).then(ht((()=>{this.selectionIds.forEach(this.remove),this.clearSelection(),this.reload(),this.deletingSelection=!1}))).catch(ht((e=>(this.deletingSelection=!1,Promise.reject(e)))))}}}),Gm(Em.prototype,"setDataLoading",[ht],Object.getOwnPropertyDescriptor(Em.prototype,"setDataLoading"),Em.prototype),Gm(Em.prototype,"setForbidden",[ht],Object.getOwnPropertyDescriptor(Em.prototype,"setForbidden"),Em.prototype),Gm(Em.prototype,"setShouldReload",[ht],Object.getOwnPropertyDescriptor(Em.prototype,"setShouldReload"),Em.prototype),Gm(Em.prototype,"setPage",[ht],Object.getOwnPropertyDescriptor(Em.prototype,"setPage"),Em.prototype),Gm(Em.prototype,"setLimit",[ht],Object.getOwnPropertyDescriptor(Em.prototype,"setLimit"),Em.prototype),Gm(Em.prototype,"setActive",[ht],Object.getOwnPropertyDescriptor(Em.prototype,"setActive"),Em.prototype),Gm(Em.prototype,"activate",[ht],Object.getOwnPropertyDescriptor(Em.prototype,"activate"),Em.prototype),Gm(Em.prototype,"deactivate",[ht],Object.getOwnPropertyDescriptor(Em.prototype,"deactivate"),Em.prototype),Gm(Em.prototype,"sort",[ht],Object.getOwnPropertyDescriptor(Em.prototype,"sort"),Em.prototype),Gm(Em.prototype,"order",[ht],Object.getOwnPropertyDescriptor(Em.prototype,"order"),Em.prototype),Gm(Em.prototype,"search",[ht],Object.getOwnPropertyDescriptor(Em.prototype,"search"),Em.prototype),Gm(Em.prototype,"filter",[ht],Object.getOwnPropertyDescriptor(Em.prototype,"filter"),Em.prototype),Gm(Em.prototype,"select",[ht],Object.getOwnPropertyDescriptor(Em.prototype,"select"),Em.prototype),Gm(Em.prototype,"selectVisibleItems",[ht],Object.getOwnPropertyDescriptor(Em.prototype,"selectVisibleItems"),Em.prototype),Gm(Em.prototype,"deselect",[ht],Object.getOwnPropertyDescriptor(Em.prototype,"deselect"),Em.prototype),Gm(Em.prototype,"deselectById",[ht],Object.getOwnPropertyDescriptor(Em.prototype,"deselectById"),Em.prototype),Gm(Em.prototype,"deselectVisibleItems",[ht],Object.getOwnPropertyDescriptor(Em.prototype,"deselectVisibleItems"),Em.prototype),Gm(Em.prototype,"selectionIds",[ge],Object.getOwnPropertyDescriptor(Em.prototype,"selectionIds"),Em.prototype),Gm(Em.prototype,"clearSelection",[ht],Object.getOwnPropertyDescriptor(Em.prototype,"clearSelection"),Em.prototype),Em);var rg,og,sg,ag={list:"list--dPegz97DZD",overlay:"overlay--SAgC9O3q1c","adapter-container":"adapter-container--Ho0wN18CHC",adapterContainer:"adapter-container--Ho0wN18CHC",column_list:"column_list--YmMIcDrc17",columnList:"column_list--YmMIcDrc17",adapter:"adapter--Fsp8n_AZ4l",dialog:"dialog--yhB0DlzNHq"};function lg(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var cg,ug,dg=Br(((sg=class extends u.Component{get preSelectedItems(){return this.props.preSelectedItems}get listStore(){return this.props.listStore}constructor(e){super(e),this.updateSelection=()=>{this.listStore.clearSelection(),this.preSelectedItems.forEach((e=>{this.listStore.select(e)}))},this.handleConfirm=()=>{this.props.onConfirm()},this.updateSelectionDisposer=ft(this.updateSelection)}componentDidUpdate(e){const{clearSelectionOnClose:t,open:n,reloadOnOpen:i}=this.props;!this.listStore.loading&&i&&!1===e.open&&!0===n&&(this.listStore.reset(),this.listStore.reload()),t&&!0===e.open&&!1===n&&this.listStore.clearSelection()}componentWillUnmount(){this.updateSelectionDisposer()}render(){const{adapter:e,allowActivateForDisabledItems:t,confirmLoading:n,disabledIds:i,itemDisabledCondition:r,onClose:o,open:s,overlayType:a,preSelectedItems:l,title:c}=this.props,d=eo()(ag.adapterContainer,ag[a],ag[e]),h=eo()(ag.list,ag.adapter,ag[e]),p=u.createElement("div",{className:d},u.createElement("div",{className:h},u.createElement(GC,{adapters:[e],allowActivateForDisabledItems:t,copyable:!1,deletable:!1,disabledIds:i,itemDisabledCondition:r,movable:!1,orderable:!1,searchable:!0,store:this.listStore})));if("overlay"===a)return u.createElement(fd,{confirmDisabled:si()(Mt(l),Mt(this.listStore.selections)),confirmLoading:n,confirmText:Xs("sulu_admin.confirm"),onClose:o,onConfirm:this.handleConfirm,open:s,size:"large",title:c},p);if("dialog"===a)return u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmDisabled:si()(Mt(l),Mt(this.listStore.selections)),confirmLoading:n,confirmText:Xs("sulu_admin.confirm"),onCancel:o,onConfirm:this.handleConfirm,open:s,size:"large",title:c},p);throw new Error('The "'+a+'" overlayType does not exist in the ListOverlay.')}}).defaultProps={allowActivateForDisabledItems:!0,clearSelectionOnClose:!1,disabledIds:[],overlayType:"overlay",preSelectedItems:[],reloadOnOpen:!1},lg((og=sg).prototype,"preSelectedItems",[ge],Object.getOwnPropertyDescriptor(og.prototype,"preSelectedItems"),og.prototype),lg(og.prototype,"listStore",[ge],Object.getOwnPropertyDescriptor(og.prototype,"listStore"),og.prototype),lg(og.prototype,"componentDidUpdate",[ht],Object.getOwnPropertyDescriptor(og.prototype,"componentDidUpdate"),og.prototype),rg=og))||rg;var hg=Br(((ug=class extends u.Component{constructor(e){super(e),this.page=ue.box(1),this.handleConfirm=()=>{if(this.listStore.selections.length>1)throw new Error("The SingleListOverlay can only handle single selection.This should not happen and is likely a bug.");this.props.onConfirm(this.listStore.selections[0])};const t=ge((()=>this.props.excludedIds.length?this.props.excludedIds:void 0),{equals:V.structural});this.excludedIdsDisposer=t.observe((()=>this.listStore.clear()));const{listKey:n,locale:i,metadataOptions:r,options:o,preSelectedItem:s,resourceKey:a}=this.props,l={};l.page=this.page,l.excludedIds=t,i&&(l.locale=i);const c=[];s&&c.push(s.id),this.listStore=new ig(a,n,"single_list_overlay",l,o,r,c),this.changeOptionsDisposer=bt((()=>this.props.options),(e=>{this.listStore.reset(),this.listStore.initialSelectionIds=this.listStore.selectionIds,this.listStore.options={...this.listStore.options,...e}}),{equals:V.structural}),this.selectionDisposer=ft((()=>{const{selections:e}=this.listStore;if(e.length<=1)return;const t=e[e.length-1];t&&(this.listStore.clearSelection(),this.listStore.select(t))}))}componentWillUnmount(){this.listStore.destroy(),this.excludedIdsDisposer(),this.changeOptionsDisposer(),this.selectionDisposer()}render(){const{adapter:e,allowActivateForDisabledItems:t,clearSelectionOnClose:n,confirmLoading:i,disabledIds:r,itemDisabledCondition:o,onClose:s,open:a,overlayType:l,preSelectedItem:c,reloadOnOpen:d,title:h}=this.props;return u.createElement(dg,{adapter:e,allowActivateForDisabledItems:t,clearSelectionOnClose:n,confirmLoading:i,disabledIds:r,itemDisabledCondition:o,listStore:this.listStore,onClose:s,onConfirm:this.handleConfirm,open:a,overlayType:l,preSelectedItems:c?[c]:void 0,reloadOnOpen:d,title:h})}}).defaultProps={clearSelectionOnClose:!1,disabledIds:[],excludedIds:[],overlayType:"overlay"},cg=ug))||cg;class pg extends u.PureComponent{constructor(...e){super(...e),this.handleCancel=()=>{const{onCancel:e}=this.props;e()},this.handleConfirm=()=>{const{allowDeletion:e,onCancel:t,onConfirm:n}=this.props;e?n():t()}}render(){const{allowDeletion:e,confirmLoading:t,referencingResourcesData:n}=this.props;return u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmLoading:t,confirmText:Xs(e?"sulu_admin.delete":"sulu_admin.ok"),onCancel:e?this.handleCancel:void 0,onConfirm:this.handleConfirm,open:!0,title:Xs(e?"sulu_admin.delete_linked_warning_title":"sulu_admin.item_not_deletable")},Xs(e?"sulu_admin.delete_linked_warning_text":"sulu_admin.delete_linked_abort_text"),u.createElement("ul",null,n.referencingResources.map(((e,t)=>{const{title:n=null}=e;return n?u.createElement("li",{key:t},n):null}))))}}pg.defaultProps={allowDeletion:!0};var fg=pg,mg={progressBar:"progressBar--rAz58PanoW",error:"error--VDQaMp4Nkw",warning:"warning--oeeOvknYiD",success:"success--BcQHjsmIRc"};class gg extends u.PureComponent{get max(){const{max:e}=this.props;return e<1?1:e}get value(){const{value:e}=this.props;return e<0?0:e>this.max?this.max:e}render(){const{skin:e}=this.props,t=eo()(mg.progressBar,mg[e]);return u.createElement("progress",{className:t,max:this.max,value:this.value},this.value/this.max*100,"%")}}gg.defaultProps={skin:"progress"};var bg,yg,vg,_g,wg,kg,Cg,Eg,xg,Sg,Og,Tg=gg;function Mg(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Pg(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Dg=Br((yg=class extends u.Component{constructor(...e){super(...e),Mg(this,"inProgress",vg,this),Mg(this,"finished",_g,this),Mg(this,"showSnackbar",wg,this),Mg(this,"error",kg,this),Mg(this,"closed",Cg,this),Mg(this,"totalDeletedResources",Eg,this),this.promises=[],Mg(this,"handleConfirm",xg,this),this.deleteResourceBatches=e=>{const{requestOptions:t}=this.props;if(0===e.length)return Promise.resolve();const[n,...i]=e;return n.forEach((e=>{const n=La.delete(e.resourceKey,{...t,id:e.id});n.then(ht((()=>{this.totalDeletedResources++}))).catch((()=>{})),this.promises.push(n)})),Promise.all(this.promises).then((()=>{if(this.promises.splice(0,this.promises.length),this.inProgress)return this.deleteResourceBatches(i)}))},Mg(this,"handleCancel",Sg,this),Mg(this,"handleSnackbarCloseClick",Og,this)}get title(){return this.props.dependantResourcesData.title}get detail(){return this.props.dependantResourcesData.detail}get dependantResourceBatches(){return this.props.dependantResourcesData.dependantResourceBatches}get dependantResourcesCount(){return this.props.dependantResourcesData.dependantResourcesCount}componentDidUpdate(e){si()(Mt(e.dependantResourcesData),Mt(this.props.dependantResourcesData))&&si()(Mt(e.requestOptions),Mt(this.props.requestOptions))||(this.inProgress=!1,this.finished=!1,this.showSnackbar=!0,this.error=void 0,this.closed=!1,this.totalDeletedResources=0,this.promises=[])}get errored(){return!!this.error}get snackbarType(){if(this.showSnackbar&&this.errored)return"error"}get snackbarMessage(){if("error"===this.snackbarType&&this.error)return this.error}render(){return u.createElement(Xh,{cancelText:this.errored||this.finished?Xs("sulu_admin.close"):Xs("sulu_admin.cancel"),confirmDisabled:this.errored||this.finished,confirmLoading:this.inProgress,confirmText:Xs("sulu_admin.delete"),onCancel:this.handleCancel,onConfirm:this.handleConfirm,onSnackbarCloseClick:this.handleSnackbarCloseClick,open:!this.closed,snackbarMessage:this.snackbarMessage,snackbarType:this.snackbarType,title:this.title},!this.inProgress&&!this.finished&&!this.errored&&u.createElement("p",null,this.detail),(this.inProgress||this.finished||this.errored)&&u.createElement(u.Fragment,null,u.createElement("div",{className:"progressBar--a0PogCU3Om"},u.createElement(Tg,{max:this.dependantResourcesCount,skin:this.errored?"error":this.finished?"success":"progress",value:this.errored?this.totalDeletedResources+1:this.totalDeletedResources})),u.createElement("p",null,Xs("sulu_admin.delete_dependants_progress_text",{count:`${this.totalDeletedResources}/${this.dependantResourcesCount}`}))))}},vg=Pg(yg.prototype,"inProgress",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_g=Pg(yg.prototype,"finished",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wg=Pg(yg.prototype,"showSnackbar",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),kg=Pg(yg.prototype,"error",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Cg=Pg(yg.prototype,"closed",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Eg=Pg(yg.prototype,"totalDeletedResources",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Pg(yg.prototype,"title",[ge],Object.getOwnPropertyDescriptor(yg.prototype,"title"),yg.prototype),Pg(yg.prototype,"detail",[ge],Object.getOwnPropertyDescriptor(yg.prototype,"detail"),yg.prototype),Pg(yg.prototype,"dependantResourceBatches",[ge],Object.getOwnPropertyDescriptor(yg.prototype,"dependantResourceBatches"),yg.prototype),Pg(yg.prototype,"dependantResourcesCount",[ge],Object.getOwnPropertyDescriptor(yg.prototype,"dependantResourcesCount"),yg.prototype),Pg(yg.prototype,"componentDidUpdate",[ht],Object.getOwnPropertyDescriptor(yg.prototype,"componentDidUpdate"),yg.prototype),Pg(yg.prototype,"errored",[ge],Object.getOwnPropertyDescriptor(yg.prototype,"errored"),yg.prototype),xg=Pg(yg.prototype,"handleConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{onFinish:e,onError:t}=this.props;this.inProgress=!0,this.deleteResourceBatches(this.dependantResourceBatches).then(ht((()=>{this.inProgress=!1,this.finished=!0,e&&e()}))).catch((e=>{e.json().then(ht((e=>{this.inProgress=!1,this.error=e.detail||e.title||Xs("sulu_admin.unexpected_delete_server_error"),t&&t(e)})))}))}}}),Sg=Pg(yg.prototype,"handleCancel",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{onCancel:e}=this.props;this.inProgress&&(this.inProgress=!1,this.promises.forEach((e=>{e.abort()}))),this.closed=!0,e&&e()}}}),Og=Pg(yg.prototype,"handleSnackbarCloseClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showSnackbar=!1}}}),Pg(yg.prototype,"snackbarType",[ge],Object.getOwnPropertyDescriptor(yg.prototype,"snackbarType"),yg.prototype),Pg(yg.prototype,"snackbarMessage",[ge],Object.getOwnPropertyDescriptor(yg.prototype,"snackbarMessage"),yg.prototype),bg=yg))||bg;const Lg=1105;class Ag extends u.Component{}Ag.hasColumnOptions=!1,Ag.searchable=!0,Ag.paginatable=!0;var zg,Ig,Rg,jg,Ng,Fg,Yg=new class{constructor(){this.clear()}clear(){this.adapters={},this.options={}}has(e){return!!this.adapters[e]}add(e,t,n={}){if(e in this.adapters)throw new Error('The key "'+e+'" has already been used for another list adapter');this.adapters[e]=t,this.options[e]=n}get(e){if(!(e in this.adapters))throw new Error('The list adapter with the key "'+e+'" is not defined. You probably forgot to add it to the registry using the "add" method.\n\nRegistered keys: '+Object.keys(this.adapters).sort().join(", "));return this.adapters[e]}getOptions(e){if(!(e in this.options))throw new Error('There are no options for a list adapter with the key "'+e+'" registered.\n\nRegistered keys: '+Object.keys(this.options).sort().join(", "));return this.options[e]}};function Bg(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Hg(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Vg=Br(((Fg=class extends u.Component{constructor(...e){super(...e),Bg(this,"open",Rg,this),Bg(this,"handleButtonClick",jg,this),Bg(this,"handleArrowMenuClose",Ng,this)}render(){const{children:e,className:t,icon:n,label:i,skin:r}=this.props,o=u.createElement(uo,{className:t,icon:n,onClick:this.handleButtonClick,showDropdownIcon:!0,skin:r},i);return u.createElement(ih,{anchorElement:o,onClose:this.handleArrowMenuClose,open:this.open,refProp:"buttonRef"},u.createElement(ih.Section,null,e))}}).defaultProps={skin:"secondary"},Fg.Item=ih.Action,Rg=Hg((Ig=Fg).prototype,"open",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jg=Hg(Ig.prototype,"handleButtonClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.open=!0}}}),Ng=Hg(Ig.prototype,"handleArrowMenuClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.open=!1}}}),zg=Ig))||zg;class Wg extends u.PureComponent{constructor(...e){super(...e),this.cloneChildren=()=>{const{children:e}=this.props;return u.Children.map(e,(e=>{if(!e)return null;const t=eo()("button--WKkZ4wkN40",e.props.className);return u.cloneElement(e,{className:t,skin:"icon"})}))}}render(){return u.createElement("div",{className:"button-group--Uw1hhYHiIV"},this.cloneChildren())}}var Ug,$g,qg,Kg,Gg=Wg;class Zg extends u.PureComponent{constructor(...e){super(...e),this.handleAdapterChange=e=>{e&&this.props.currentAdapter!==e&&this.props.onAdapterChange(e)}}render(){const{currentAdapter:e,adapters:t}=this.props;return t.length<2?null:u.createElement(Gg,null,t.map(((t,n)=>{const i=Yg.get(t);return u.createElement(uo,{active:t===e,icon:i.icon,key:n,onClick:this.handleAdapterChange,value:t})})))}}function Jg(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Xg(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Qg=Br(($g=class extends u.Component{constructor(...e){super(...e),Jg(this,"collapsed",qg,this),Jg(this,"value",Kg,this),this.handleChange=e=>{this.setValue(e)},this.handleKeyPress=e=>{"Enter"===e&&this.search()},this.search=()=>{this.collapsed||this.value||this.setCollapsed(!0),this.props.onSearch(this.value)},this.handleBlur=()=>{this.search()},this.handleIconClick=()=>{this.collapsed&&this.setCollapsed(!1)},this.handleClearClick=()=>{this.setValue(void 0),this.search()}}setCollapsed(e){this.collapsed=e}setValue(e){this.value=e}updateValue(e){this.setValue(e),e&&this.setCollapsed(!1)}componentDidMount(){this.updateValue(this.props.value)}componentDidUpdate(e){e.value!==this.props.value&&this.updateValue(this.props.value)}render(){return u.createElement("label",{"aria-label":Xs("sulu_admin.list_search_placeholder")},u.createElement(wl,{collapsed:this.collapsed,icon:"su-search",onBlur:this.handleBlur,onChange:this.handleChange,onClearClick:this.handleClearClick,onIconClick:this.handleIconClick,onKeyPress:this.handleKeyPress,placeholder:Xs("sulu_admin.list_search_placeholder"),skin:"dark",value:this.value}))}},qg=Xg($g.prototype,"collapsed",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Kg=Xg($g.prototype,"value",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xg($g.prototype,"setCollapsed",[ht],Object.getOwnPropertyDescriptor($g.prototype,"setCollapsed"),$g.prototype),Xg($g.prototype,"setValue",[ht],Object.getOwnPropertyDescriptor($g.prototype,"setValue"),$g.prototype),Ug=$g))||Ug;function eb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function tb(e,t){if(e){if("string"==typeof e)return eb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eb(e,t):void 0}}function nb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(e,t)||tb(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ib(e){return ib="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ib(e)}function rb(e){var t=function(e,t){if("object"!=ib(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=ib(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ib(t)?t:t+""}function ob(e,t,n){return(t=rb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&i.push.apply(i,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach((function(t){ob(e,t,n[t])}))}return e}function ab(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lb(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,rb(i.key),i)}}function cb(e,t,n){return t&&lb(e.prototype,t),n&&lb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ub(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function db(e,t){if(t&&("object"===ib(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ub(e)}function hb(e){return hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hb(e)}function pb(e,t){return pb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pb(e,t)}function fb(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pb(e,t)}var mb=r(20311),gb=r.n(mb);var bb=function(){function e(){ab(this,e),ob(this,"refs",{})}return cb(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find((function(t){return t.node.sortableInfo.index==e.active.index}))}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort(yb)}}]),e}();function yb(e,t){return e.node.sortableInfo.index-t.node.sortableInfo.index}function vb(e,t){return Object.keys(e).reduce((function(n,i){return-1===t.indexOf(i)&&(n[i]=e[i]),n}),{})}var _b={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},wb=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return"ms"===t?"ms":t&&t.length?t[0].toUpperCase()+t.substr(1):""}();function kb(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}function Cb(e,t){e.style["".concat(wb,"Transform")]=null==t?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function Eb(e,t){e.style["".concat(wb,"TransitionDuration")]=null==t?"":"".concat(t,"ms")}function xb(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function Sb(e,t,n){return Math.max(e,Math.min(n,t))}function Ob(e){return"px"===e.substr(-2)?parseFloat(e):0}function Tb(e,t){var n=t.displayName||t.name;return n?"".concat(e,"(").concat(n,")"):e}function Mb(e,t){var n=e.getBoundingClientRect();return{top:n.top+t.top,left:n.left+t.left}}function Pb(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function Db(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:0,top:0};if(e){var i={left:n.left+e.offsetLeft,top:n.top+e.offsetTop};return e.parentNode===t?i:Db(e.parentNode,t,i)}}function Lb(e){var t=e.lockOffset,n=e.width,i=e.height,r=t,o=t,s="px";if("string"==typeof t){var a=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);gb()(null!==a,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),r=parseFloat(t),o=parseFloat(t),s=a[1]}return gb()(isFinite(r)&&isFinite(o),"lockOffset value should be a finite. Given %s",t),"%"===s&&(r=r*n/100,o=o*i/100),{x:r,y:o}}function Ab(e){return e instanceof HTMLElement?function(e){var t=window.getComputedStyle(e),n=/(auto|scroll)/;return["overflow","overflowX","overflowY"].find((function(e){return n.test(t[e])}))}(e)?e:Ab(e.parentNode):null}var zb={Anchor:"A",Button:"BUTTON",Canvas:"CANVAS",Input:"INPUT",Option:"OPTION",Textarea:"TEXTAREA",Select:"SELECT"};function Ib(t){var n,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return i=n=function(n){function i(){var e,t;ab(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ob(ub(ub(t=db(this,(e=hb(i)).call.apply(e,[this].concat(r))))),"wrappedInstance",(0,u.createRef)()),t}return fb(i,n),cb(i,[{key:"componentDidMount",value:function(){(0,d.findDOMNode)(this).sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return gb()(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.wrappedInstance.current}},{key:"render",value:function(){var n=r.withRef?this.wrappedInstance:null;return(0,u.createElement)(t,e({ref:n},this.props))}}]),i}(u.Component),ob(n,"displayName",Tb("sortableHandle",t)),i}function Rb(e){return null!=e.sortableHandle}var jb=function(){function e(t,n){ab(this,e),this.container=t,this.onScrollCallback=n}return cb(e,[{key:"clear",value:function(){null!=this.interval&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(e){var t=this,n=e.translate,i=e.minTranslate,r=e.maxTranslate,o=e.width,s=e.height,a={x:0,y:0},l={x:1,y:1},c=this.container,u=c.scrollTop,d=c.scrollLeft,h=c.scrollHeight,p=c.scrollWidth,f=0===u,m=h-u-c.clientHeight==0,g=0===d,b=p-d-c.clientWidth==0;n.y>=r.y-s/2&&!m?(a.y=1,l.y=10*Math.abs((r.y-s/2-n.y)/s)):n.x>=r.x-o/2&&!b?(a.x=1,l.x=10*Math.abs((r.x-o/2-n.x)/o)):n.y<=i.y+s/2&&!f?(a.y=-1,l.y=10*Math.abs((n.y-s/2-i.y)/s)):n.x<=i.x+o/2&&!g&&(a.x=-1,l.x=10*Math.abs((n.x-o/2-i.x)/o)),this.interval&&(this.clear(),this.isAutoScrolling=!1),0===a.x&&0===a.y||(this.interval=setInterval((function(){t.isAutoScrolling=!0;var e={left:l.x*a.x,top:l.y*a.y};t.container.scrollTop+=e.top,t.container.scrollLeft+=e.left,t.onScrollCallback(e)}),5))}}]),e}(),Nb={axis:Au().oneOf(["x","y","xy"]),contentWindow:Au().any,disableAutoscroll:Au().bool,distance:Au().number,getContainer:Au().func,getHelperDimensions:Au().func,helperClass:Au().string,helperContainer:Au().oneOfType([Au().func,"undefined"==typeof HTMLElement?Au().any:Au().instanceOf(HTMLElement)]),hideSortableGhost:Au().bool,keyboardSortingTransitionDuration:Au().number,lockAxis:Au().string,lockOffset:Au().oneOfType([Au().number,Au().string,Au().arrayOf(Au().oneOfType([Au().number,Au().string]))]),lockToContainerEdges:Au().bool,onSortEnd:Au().func,onSortMove:Au().func,onSortOver:Au().func,onSortStart:Au().func,pressDelay:Au().number,pressThreshold:Au().number,keyCodes:Au().shape({lift:Au().arrayOf(Au().number),drop:Au().arrayOf(Au().number),cancel:Au().arrayOf(Au().number),up:Au().arrayOf(Au().number),down:Au().arrayOf(Au().number)}),shouldCancelStart:Au().func,transitionDuration:Au().number,updateBeforeSortStart:Au().func,useDragHandle:Au().bool,useWindowAsScrollContainer:Au().bool},Fb={lift:[32],drop:[32],cancel:[27],up:[38,37],down:[40,39]},Yb={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:function(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}},hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:Fb,shouldCancelStart:function(e){return-1!==[zb.Input,zb.Textarea,zb.Select,zb.Option,zb.Button].indexOf(e.target.tagName)||!!xb(e.target,(function(e){return"true"===e.contentEditable}))},transitionDuration:300,useWindowAsScrollContainer:!1},Bb=Object.keys(Nb),Hb=(0,u.createContext)({manager:{}});function Vb(t){var n,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return i=n=function(n){function i(e){var t;ab(this,i),ob(ub(ub(t=db(this,hb(i).call(this,e)))),"state",{}),ob(ub(ub(t)),"handleStart",(function(e){var n=t.props,i=n.distance,r=n.shouldCancelStart;if(2!==e.button&&!r(e)){t.touched=!0,t.position=Pb(e);var o=xb(e.target,(function(e){return null!=e.sortableInfo}));if(o&&o.sortableInfo&&t.nodeIsChild(o)&&!t.state.sorting){var s=t.props.useDragHandle,a=o.sortableInfo,l=a.index,c=a.collection;if(a.disabled)return;if(s&&!xb(e.target,Rb))return;t.manager.active={collection:c,index:l},function(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}(e)||e.target.tagName!==zb.Anchor||e.preventDefault(),i||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout((function(){return t.handlePress(e)}),t.props.pressDelay))}}})),ob(ub(ub(t)),"nodeIsChild",(function(e){return e.sortableInfo.manager===t.manager})),ob(ub(ub(t)),"handleMove",(function(e){var n=t.props,i=n.distance,r=n.pressThreshold;if(!t.state.sorting&&t.touched&&!t._awaitingUpdateBeforeSortStart){var o=Pb(e),s={x:t.position.x-o.x,y:t.position.y-o.y},a=Math.abs(s.x)+Math.abs(s.y);t.delta=s,i||r&&!(a>=r)?i&&a>=i&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}})),ob(ub(ub(t)),"handleEnd",(function(){t.touched=!1,t.cancel()})),ob(ub(ub(t)),"cancel",(function(){var e=t.props.distance;t.state.sorting||(e||clearTimeout(t.pressTimer),t.manager.active=null)})),ob(ub(ub(t)),"handlePress",(function(e){try{var n=t.manager.getActive(),i=function(){if(n){var i=function(){var n,i,r,c,m,g,b,y=h.sortableInfo.index,v=(n=h,{bottom:Ob((i=window.getComputedStyle(n)).marginBottom),left:Ob(i.marginLeft),right:Ob(i.marginRight),top:Ob(i.marginTop)}),_=function(e){var t=window.getComputedStyle(e);return"grid"===t.display?{x:Ob(t.gridColumnGap),y:Ob(t.gridRowGap)}:{x:0,y:0}}(t.container),w=t.scrollContainer.getBoundingClientRect(),k=s({index:y,node:h,collection:p});if(t.node=h,t.margin=v,t.gridGap=_,t.width=k.width,t.height=k.height,t.marginOffset={x:t.margin.left+t.margin.right+t.gridGap.x,y:Math.max(t.margin.top,t.margin.bottom,t.gridGap.y)},t.boundingClientRect=h.getBoundingClientRect(),t.containerBoundingRect=w,t.index=y,t.newIndex=y,t.axis={x:o.indexOf("x")>=0,y:o.indexOf("y")>=0},t.offsetEdge=Db(h,t.container),t.initialOffset=Pb(f?sb({},e,{pageX:t.boundingClientRect.left,pageY:t.boundingClientRect.top}):e),t.initialScroll={left:t.scrollContainer.scrollLeft,top:t.scrollContainer.scrollTop},t.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},t.helper=t.helperContainer.appendChild((c="input, textarea, select, canvas, [contenteditable]",m=(r=h).querySelectorAll(c),(b=(g=r.cloneNode(!0)).querySelectorAll(c),function(e){if(Array.isArray(e))return eb(e)}(b)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(b)||tb(b)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(e,t){"file"!==e.type&&(e.value=m[t].value),"radio"===e.type&&e.name&&(e.name="__sortableClone__".concat(e.name)),e.tagName===zb.Canvas&&m[t].width>0&&m[t].height>0&&e.getContext("2d").drawImage(m[t],0,0)})),g)),kb(t.helper,{boxSizing:"border-box",height:"".concat(t.height,"px"),left:"".concat(t.boundingClientRect.left-v.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(t.boundingClientRect.top-v.top,"px"),width:"".concat(t.width,"px")}),f&&t.helper.focus(),l&&(t.sortableGhost=h,kb(h,{opacity:0,visibility:"hidden"})),t.minTranslate={},t.maxTranslate={},f){var C=d?{top:0,left:0,width:t.contentWindow.innerWidth,height:t.contentWindow.innerHeight}:t.containerBoundingRect,E=C.top,x=C.left,S=C.width,O=E+C.height,T=x+S;t.axis.x&&(t.minTranslate.x=x-t.boundingClientRect.left,t.maxTranslate.x=T-(t.boundingClientRect.left+t.width)),t.axis.y&&(t.minTranslate.y=E-t.boundingClientRect.top,t.maxTranslate.y=O-(t.boundingClientRect.top+t.height))}else t.axis.x&&(t.minTranslate.x=(d?0:w.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(d?t.contentWindow.innerWidth:w.left+w.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(d?0:w.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(d?t.contentWindow.innerHeight:w.top+w.height)-t.boundingClientRect.top-t.height/2);a&&a.split(" ").forEach((function(e){return t.helper.classList.add(e)})),t.listenerNode=e.touches?e.target:t.contentWindow,f?(t.listenerNode.addEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.addEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.addEventListener("keydown",t.handleKeyDown)):(_b.move.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)})),_b.end.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}))),t.setState({sorting:!0,sortingIndex:y}),u&&u({node:h,index:y,collection:p,isKeySorting:f,nodes:t.manager.getOrderedRefs(),helper:t.helper},e),f&&t.keyMove(0)},r=t.props,o=r.axis,s=r.getHelperDimensions,a=r.helperClass,l=r.hideSortableGhost,c=r.updateBeforeSortStart,u=r.onSortStart,d=r.useWindowAsScrollContainer,h=n.node,p=n.collection,f=t.manager.isKeySorting,m=function(){if("function"==typeof c){t._awaitingUpdateBeforeSortStart=!0;var n=function(t,n){try{var i=(r=h.sortableInfo.index,Promise.resolve(c({collection:p,index:r,node:h,isKeySorting:f},e)).then((function(){})))}catch(e){return n(!0,e)}var r;return i&&i.then?i.then(n.bind(null,!1),n.bind(null,!0)):n(!1,value)}(0,(function(e,n){if(t._awaitingUpdateBeforeSortStart=!1,e)throw n;return n}));if(n&&n.then)return n.then((function(){}))}}();return m&&m.then?m.then(i):i()}}();return Promise.resolve(i&&i.then?i.then((function(){})):void 0)}catch(e){return Promise.reject(e)}})),ob(ub(ub(t)),"handleSortMove",(function(e){var n=t.props.onSortMove;"function"==typeof e.preventDefault&&e.cancelable&&e.preventDefault(),t.updateHelperPosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)})),ob(ub(ub(t)),"handleSortEnd",(function(e){var n=t.props,i=n.hideSortableGhost,r=n.onSortEnd,o=t.manager,s=o.active.collection,a=o.isKeySorting,l=t.manager.getOrderedRefs();t.listenerNode&&(a?(t.listenerNode.removeEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("keydown",t.handleKeyDown)):(_b.move.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)})),_b.end.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})))),t.helper.parentNode.removeChild(t.helper),i&&t.sortableGhost&&kb(t.sortableGhost,{opacity:"",visibility:""});for(var c=0,u=l.length;c<u;c++){var d=l[c],h=d.node;d.edgeOffset=null,d.boundingClientRect=null,Cb(h,null),Eb(h,null),d.translate=null}t.autoScroller.clear(),t.manager.active=null,t.manager.isKeySorting=!1,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof r&&r({collection:s,newIndex:t.newIndex,oldIndex:t.index,isKeySorting:a,nodes:l},e),t.touched=!1})),ob(ub(ub(t)),"autoscroll",(function(){var e=t.props.disableAutoscroll,n=t.manager.isKeySorting;if(e)t.autoScroller.clear();else{if(n){var i=sb({},t.translate),r=0,o=0;return t.axis.x&&(i.x=Math.min(t.maxTranslate.x,Math.max(t.minTranslate.x,t.translate.x)),r=t.translate.x-i.x),t.axis.y&&(i.y=Math.min(t.maxTranslate.y,Math.max(t.minTranslate.y,t.translate.y)),o=t.translate.y-i.y),t.translate=i,Cb(t.helper,t.translate),t.scrollContainer.scrollLeft+=r,void(t.scrollContainer.scrollTop+=o)}t.autoScroller.update({height:t.height,maxTranslate:t.maxTranslate,minTranslate:t.minTranslate,translate:t.translate,width:t.width})}})),ob(ub(ub(t)),"onAutoScroll",(function(e){t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()})),ob(ub(ub(t)),"handleKeyDown",(function(e){var n=e.keyCode,i=t.props,r=i.shouldCancelStart,o=i.keyCodes,s=sb({},Fb,void 0===o?{}:o);t.manager.active&&!t.manager.isKeySorting||!(t.manager.active||s.lift.includes(n)&&!r(e)&&t.isValidSortingTarget(e))||(e.stopPropagation(),e.preventDefault(),s.lift.includes(n)&&!t.manager.active?t.keyLift(e):s.drop.includes(n)&&t.manager.active?t.keyDrop(e):s.cancel.includes(n)?(t.newIndex=t.manager.active.index,t.keyDrop(e)):s.up.includes(n)?t.keyMove(-1):s.down.includes(n)&&t.keyMove(1))})),ob(ub(ub(t)),"keyLift",(function(e){var n=e.target,i=xb(n,(function(e){return null!=e.sortableInfo})).sortableInfo,r=i.index,o=i.collection;t.initialFocusedNode=n,t.manager.isKeySorting=!0,t.manager.active={index:r,collection:o},t.handlePress(e)})),ob(ub(ub(t)),"keyMove",(function(e){var n=t.manager.getOrderedRefs(),i=n[n.length-1].node.sortableInfo.index,r=t.newIndex+e,o=t.newIndex;if(!(r<0||r>i)){t.prevIndex=o,t.newIndex=r;var s=function(e,t,n){return e<n&&e>t?e-1:e>n&&e<t?e+1:e}(t.newIndex,t.prevIndex,t.index),a=n.find((function(e){return e.node.sortableInfo.index===s})),l=a.node,c=t.containerScrollDelta,u=a.boundingClientRect||Mb(l,c),d=a.translate||{x:0,y:0},h=u.top+d.y-c.top,p=u.left+d.x-c.left,f=o<r,m=f&&t.axis.x?l.offsetWidth-t.width:0,g=f&&t.axis.y?l.offsetHeight-t.height:0;t.handleSortMove({pageX:p+m,pageY:h+g,ignoreTransition:0===e})}})),ob(ub(ub(t)),"keyDrop",(function(e){t.handleSortEnd(e),t.initialFocusedNode&&t.initialFocusedNode.focus()})),ob(ub(ub(t)),"handleKeyEnd",(function(e){t.manager.active&&t.keyDrop(e)})),ob(ub(ub(t)),"isValidSortingTarget",(function(e){var n=t.props.useDragHandle,i=e.target,r=xb(i,(function(e){return null!=e.sortableInfo}));return r&&r.sortableInfo&&!r.sortableInfo.disabled&&(n?Rb(i):i.sortableInfo)}));var n=new bb;return function(e){gb()(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}(e),t.manager=n,t.wrappedInstance=(0,u.createRef)(),t.sortableContextValue={manager:n},t.events={end:t.handleEnd,move:t.handleMove,start:t.handleStart},t}return fb(i,n),cb(i,[{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer,n=this.getContainer();Promise.resolve(n).then((function(n){e.container=n,e.document=e.container.ownerDocument||document;var i=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"==typeof i?i():i,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:Ab(e.container)||e.container,e.autoScroller=new jb(e.scrollContainer,e.onAutoScroll),Object.keys(e.events).forEach((function(t){return _b[t].forEach((function(n){return e.container.addEventListener(n,e.events[t],!1)}))})),e.container.addEventListener("keydown",e.handleKeyDown)}))}},{key:"componentWillUnmount",value:function(){var e=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach((function(t){return _b[t].forEach((function(n){return e.container.removeEventListener(n,e.events[t])}))})),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(e){var t=this.props,n=t.lockAxis,i=t.lockOffset,r=t.lockToContainerEdges,o=t.transitionDuration,s=t.keyboardSortingTransitionDuration,a=void 0===s?o:s,l=this.manager.isKeySorting,c=e.ignoreTransition,u=Pb(e),d={x:u.x-this.initialOffset.x,y:u.y-this.initialOffset.y};if(d.y-=window.pageYOffset-this.initialWindowScroll.top,d.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=d,r){var h=function(e){var t=e.height,n=e.width,i=e.lockOffset,r=Array.isArray(i)?i:[i,i];gb()(2===r.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",i);var o=nb(r,2),s=o[0],a=o[1];return[Lb({height:t,lockOffset:s,width:n}),Lb({height:t,lockOffset:a,width:n})]}({height:this.height,lockOffset:i,width:this.width}),p=nb(h,2),f=p[0],m=p[1],g={x:this.width/2-f.x,y:this.height/2-f.y},b={x:this.width/2-m.x,y:this.height/2-m.y};d.x=Sb(this.minTranslate.x+g.x,this.maxTranslate.x-b.x,d.x),d.y=Sb(this.minTranslate.y+g.y,this.maxTranslate.y-b.y,d.y)}"x"===n?d.y=0:"y"===n&&(d.x=0),l&&a&&!c&&Eb(this.helper,a),Cb(this.helper,d)}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,i=e.onSortOver,r=this.containerScrollDelta,o=this.windowScrollDelta,s=this.manager.getOrderedRefs(),a=this.offsetEdge.left+this.translate.x+r.left,l=this.offsetEdge.top+this.translate.y+r.top,c=this.manager.isKeySorting,u=this.newIndex;this.newIndex=null;for(var d=0,h=s.length;d<h;d++){var p=s[d].node,f=p.sortableInfo.index,m=p.offsetWidth,g=p.offsetHeight,b={height:this.height>g?g/2:this.height/2,width:this.width>m?m/2:this.width/2},y=c&&f>this.index&&f<=u,v=c&&f<this.index&&f>=u,_={x:0,y:0},w=s[d].edgeOffset;w||(w=Db(p,this.container),s[d].edgeOffset=w,c&&(s[d].boundingClientRect=Mb(p,r)));var k=d<s.length-1&&s[d+1],C=d>0&&s[d-1];k&&!k.edgeOffset&&(k.edgeOffset=Db(k.node,this.container),c&&(k.boundingClientRect=Mb(k.node,r))),f!==this.index?(t&&Eb(p,t),this.axis.x?this.axis.y?v||f<this.index&&(a+o.left-b.width<=w.left&&l+o.top<=w.top+b.height||l+o.top+b.height<=w.top)?(_.x=this.width+this.marginOffset.x,w.left+_.x>this.containerBoundingRect.width-b.width&&k&&(_.x=k.edgeOffset.left-w.left,_.y=k.edgeOffset.top-w.top),null===this.newIndex&&(this.newIndex=f)):(y||f>this.index&&(a+o.left+b.width>=w.left&&l+o.top+b.height>=w.top||l+o.top+b.height>=w.top+g))&&(_.x=-(this.width+this.marginOffset.x),w.left+_.x<this.containerBoundingRect.left+b.width&&C&&(_.x=C.edgeOffset.left-w.left,_.y=C.edgeOffset.top-w.top),this.newIndex=f):y||f>this.index&&a+o.left+b.width>=w.left?(_.x=-(this.width+this.marginOffset.x),this.newIndex=f):(v||f<this.index&&a+o.left<=w.left+b.width)&&(_.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=f)):this.axis.y&&(y||f>this.index&&l+o.top+b.height>=w.top?(_.y=-(this.height+this.marginOffset.y),this.newIndex=f):(v||f<this.index&&l+o.top<=w.top+b.height)&&(_.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=f))),Cb(p,_),s[d].translate=_):n&&(this.sortableGhost=p,kb(p,{opacity:0,visibility:"hidden"}))}null==this.newIndex&&(this.newIndex=this.index),c&&(this.newIndex=u);var E=c?this.prevIndex:u;i&&this.newIndex!==E&&i({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:E,isKeySorting:c,nodes:s,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return gb()(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.wrappedInstance.current}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!=typeof e?(0,d.findDOMNode)(this):e(r.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var n=r.withRef?this.wrappedInstance:null;return(0,u.createElement)(Hb.Provider,{value:this.sortableContextValue},(0,u.createElement)(t,e({ref:n},vb(this.props,Bb))))}},{key:"helperContainer",get:function(){var e=this.props.helperContainer;return"function"==typeof e?e():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){return this.props.useWindowAsScrollContainer?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),i}(u.Component),ob(n,"displayName",Tb("sortableList",t)),ob(n,"defaultProps",Yb),ob(n,"propTypes",Nb),i}var Wb={index:Au().number.isRequired,collection:Au().oneOfType([Au().number,Au().string]),disabled:Au().bool},Ub=Object.keys(Wb);function $b(t){var n,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return i=n=function(n){function i(){var e,t;ab(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ob(ub(ub(t=db(this,(e=hb(i)).call.apply(e,[this].concat(r))))),"wrappedInstance",(0,u.createRef)()),t}return fb(i,n),cb(i,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(e){this.node&&(e.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),e.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),e.collection!==this.props.collection&&(this.unregister(e.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var e=this.props,t=e.collection,n=e.disabled,i=e.index,r=(0,d.findDOMNode)(this);r.sortableInfo={collection:t,disabled:n,index:i,manager:this.context.manager},this.node=r,this.ref={node:r},this.context.manager.add(t,this.ref)}},{key:"unregister",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.collection;this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return gb()(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.wrappedInstance.current}},{key:"render",value:function(){var n=r.withRef?this.wrappedInstance:null;return(0,u.createElement)(t,e({ref:n},vb(this.props,Ub)))}}]),i}(u.Component),ob(n,"displayName",Tb("sortableElement",t)),ob(n,"contextType",Hb),ob(n,"propTypes",Wb),ob(n,"defaultProps",{collection:0}),i}const qb=Ib((()=>u.createElement("span",{className:"drag-handle--ZGAmIRnLKy"},u.createElement(ro,{name:"su-more"}))));class Kb extends u.Component{constructor(...e){super(...e),this.handleIconClick=()=>{const{onChange:e,schemaKey:t,visibility:n}=this.props;e("yes"===n?"no":"yes",t)}}render(){const{label:e,visibility:t}=this.props,n=eo()("column-option--G1YK4R2W6V",{"column-option-disabled--fEd0rSmOcY":"no"===t});return u.createElement("div",{className:n},u.createElement(qb,null),u.createElement("span",{className:"label--FvQV7eMH8A"},e),"always"!==t&&u.createElement(ro,{className:"icon--_aIgVpPSM5",name:"su-eye",onClick:this.handleIconClick}))}}var Gb,Zb,Jb,Xb,Qb,ey,ty,ny;function iy(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function ry(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const oy=$b(Kb),sy=Vb((({children:e,className:t})=>u.createElement("div",{className:t},e)));var ay=Br((Zb=class extends u.Component{constructor(...e){super(...e),iy(this,"columnOptions",Jb,this),iy(this,"sorting",Xb,this),this.handleConfirm=()=>{const e={};for(const t of this.columnOptions)e[t.schemaKey]=t.schemaEntry;this.props.onConfirm(e)},iy(this,"handleColumnOptionChange",Qb,this),iy(this,"setColumnOptions",ey,this),iy(this,"handleItemsSortStart",ty,this),iy(this,"handleItemsSortEnd",ny,this)}componentDidMount(){this.setColumnOptions(this.props.schema)}componentDidUpdate(e){const t=this.props.schema;e.schema!==t&&this.setColumnOptions(t)}render(){const{onClose:e,open:t}=this.props,n=eo()("overlay--WS2XtaMMby",{"sorting--iTOjXCXtuA":this.sorting});return u.createElement(fd,{confirmText:Xs("sulu_admin.confirm"),onClose:e,onConfirm:this.handleConfirm,open:t,size:"small",title:Xs("sulu_admin.column_options")},u.createElement(sy,{axis:"y",className:n,helperClass:"dragging--j_bEBJ8MTK",lockAxis:"y",lockToContainerEdges:!0,onSortEnd:this.handleItemsSortEnd,onSortStart:this.handleItemsSortStart,useDragHandle:!0},this.columnOptions.map(((e,t)=>"never"===e.schemaEntry.visibility?null:u.createElement(oy,{index:t,key:t,label:e.schemaEntry.label,onChange:this.handleColumnOptionChange,schemaKey:e.schemaKey,visibility:e.schemaEntry.visibility})))))}},Jb=ry(Zb.prototype,"columnOptions",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Xb=ry(Zb.prototype,"sorting",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qb=ry(Zb.prototype,"handleColumnOptionChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{for(const n of this.columnOptions)if(n.schemaKey===t)return void(n.schemaEntry.visibility=e)}}}),ey=ry(Zb.prototype,"setColumnOptions",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const t=[];Object.keys(e).map((n=>{const i={...e[n]};t.push({schemaKey:n,schemaEntry:i})})),this.columnOptions=t}}}),ry(Zb.prototype,"componentDidMount",[ht],Object.getOwnPropertyDescriptor(Zb.prototype,"componentDidMount"),Zb.prototype),ry(Zb.prototype,"componentDidUpdate",[ht],Object.getOwnPropertyDescriptor(Zb.prototype,"componentDidUpdate"),Zb.prototype),ty=ry(Zb.prototype,"handleItemsSortStart",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.sorting=!0}}}),ny=ry(Zb.prototype,"handleItemsSortEnd",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return({newIndex:e,oldIndex:t})=>{var n,i,r;this.columnOptions=(i=t,r=e,(n=(n=this.columnOptions).slice()).splice(r<0?n.length+r:r,0,n.splice(i,1)[0]),n),this.sorting=!1}}}),Gb=Zb))||Gb,ly={chip:"chip--zHe9lhCXb3",icon:"icon--v39cbCR3HL",clickable:"clickable--VBfa9p3LVC",disabled:"disabled--KAa9SlblbJ",primary:"primary--puJMdFrRGk",secondary:"secondary--WixGY3ihGb",small:"small--e4oMffg7Go",medium:"medium--LhtnoGhQad"};class cy extends u.Component{constructor(...e){super(...e),this.handleClick=()=>{const{onClick:e,value:t}=this.props;e&&e(t)},this.handleDelete=()=>{const{onDelete:e,value:t}=this.props;e&&e(t)}}render(){const{children:e,disabled:t,onClick:n,onDelete:i,size:r,skin:o}=this.props,s=eo()(ly.chip,ly[o],ly[r],{[ly.disabled]:t,[ly.clickable]:!!n});return u.createElement("button",{className:s,onClick:this.handleClick,type:"button"},e,!t&&i&&u.createElement(ro,{className:ly.icon,name:"su-times",onClick:this.handleDelete}))}}cy.defaultProps={disabled:!1,size:"small",skin:"secondary"};var uy,dy,hy=cy;function py(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let fy=(uy=class{constructor(e,t,n,i={}){!function(e,t,n,i){n&&Object.defineProperty(e,"value",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}(this,0,dy,this),this.confirm=()=>{},this.onChange=e,this.parameters=t,this.value=n,this.options=i}destroy(){}setValue(e){this.value=e}getFormNode(){return null}getValueNode(e){return Promise.resolve(null)}},dy=py(uy.prototype,"value",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),py(uy.prototype,"setValue",[ht],Object.getOwnPropertyDescriptor(uy.prototype,"setValue"),uy.prototype),uy);var my,gy,by,yy,vy,_y,wy=new class{constructor(){this.clear()}clear(){this.fieldFilterTypes={},this.options={}}has(e){return!!this.fieldFilterTypes[e]}add(e,t,n={}){if(e in this.fieldFilterTypes)throw new Error('The key "'+e+'" has already been used for another field filter type');this.fieldFilterTypes[e]=t,this.options[e]=n}get(e){if(!(e in this.fieldFilterTypes))throw new Error('The list field filter type with the key "'+e+'" is not defined. You probably forgot to add it to the registry using the "add" method.\n\nRegistered keys: '+Object.keys(this.fieldFilterTypes).sort().join(", "));return this.fieldFilterTypes[e]}getOptions(e){if(!(e in this.options))throw new Error('There are no options for a field with the key "'+e+'" registered.\n\nRegistered keys: '+Object.keys(this.options).sort().join(", "));return this.options[e]}};function ky(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Cy(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const Ey="esc",xy="enter";var Sy,Oy,Ty,My,Py,Dy,Ly,Ay,zy,Iy=Br((gy=class extends u.Component{constructor(e){super(e),ky(this,"value",by,this),ky(this,"valueNodeLoading",yy,this),ky(this,"valueNode",vy,this),ky(this,"handleFieldFilterTypeChange",_y,this),this.handleButtonClick=()=>{this.fieldFilterType.confirm();const{column:e,onChange:t}=this.props;t(e,this.value)};const{filterType:t,filterTypeParameters:n,onClose:i,open:r,value:o}=this.props;if(this.value=o,!t)throw new Error('The field does not have a "filterType". This should not happen and is likely a bug.');this.fieldFilterType=new(wy.get(t))(this.handleFieldFilterTypeChange,n,o,wy.getOptions(t)),this.valueDisposer=ft((()=>{this.fieldFilterType.setValue(this.value)})),this.valueNodeDisposer=ft((()=>{const e=this.fieldFilterType.getValueNode(this.propValue);e&&(this.setValueNodeLoading(!0),e.then(ht((e=>{this.setValueNodeLoading(!1),this.setValueNode(e)}))))})),r&&(Du().bind(Ey,i),Du().bind(xy,this.handleButtonClick))}get propValue(){return this.props.value}componentDidUpdate(e){const{onClose:t,open:n,value:i}=this.props;!1===e.open&&!0===n&&(this.value=i),e.open!==n&&(n?(Du().bind(Ey,t),Du().bind(xy,this.handleButtonClick)):(Du().unbind(Ey),Du().unbind(xy)))}componentWillUnmount(){this.valueDisposer(),this.valueNodeDisposer(),this.fieldFilterType.destroy(),this.props.open&&(Du().unbind(Ey),Du().unbind(xy))}setValueNodeLoading(e){this.valueNodeLoading=e}setValueNode(e){this.valueNode=e}render(){const{column:e,label:t,onClick:n,onClose:i,onDelete:r,open:o}=this.props;return u.createElement(ih,{anchorElement:u.createElement("span",{className:"field-filter-item--Yg5pkAEf4A"},u.createElement(hy,{onClick:n,onDelete:r,size:"medium",skin:"primary",value:e},t,": ",this.valueNodeLoading?u.createElement(ao,{size:10}):this.valueNode)),onClose:i,open:o},u.createElement(ih.Section,null,this.fieldFilterType.getFormNode(),u.createElement("div",{className:"button-container--YHQuQiBgQ5"},u.createElement(uo,{onClick:this.handleButtonClick,skin:"link"},Xs("sulu_admin.ok")))))}},by=Cy(gy.prototype,"value",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yy=Cy(gy.prototype,"valueNodeLoading",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vy=Cy(gy.prototype,"valueNode",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cy(gy.prototype,"propValue",[ge],Object.getOwnPropertyDescriptor(gy.prototype,"propValue"),gy.prototype),Cy(gy.prototype,"componentDidUpdate",[ht],Object.getOwnPropertyDescriptor(gy.prototype,"componentDidUpdate"),gy.prototype),Cy(gy.prototype,"setValueNodeLoading",[ht],Object.getOwnPropertyDescriptor(gy.prototype,"setValueNodeLoading"),gy.prototype),Cy(gy.prototype,"setValueNode",[ht],Object.getOwnPropertyDescriptor(gy.prototype,"setValueNode"),gy.prototype),_y=Cy(gy.prototype,"handleFieldFilterTypeChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.value=e}}}),my=gy))||my;function Ry(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function jy(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Ny,Fy,Yy,By,Hy,Vy,Wy,Uy,$y,qy,Ky,Gy,Zy,Jy,Xy,Qy,ev,tv,nv,iv,rv,ov,sv,av,lv,cv,uv,dv,hv,pv,fv,mv,gv,bv,yv,vv,_v,wv,kv,Cv,Ev=Br((Oy=class extends u.Component{constructor(...e){super(...e),Ry(this,"filterMenuOpen",Ty,this),Ry(this,"filterChipOpen",My,this),Ry(this,"handleFilterMenuButtonClick",Py,this),Ry(this,"handleFilterMenuClose",Dy,this),Ry(this,"openFilterItem",Ly,this),Ry(this,"closeFilterItem",Ay,this),this.handleFilterMenuActionClick=e=>{const{onChange:t,value:n}=this.props;t({...n,[e]:void 0}),this.openFilterItem(e)},this.handleFilterItemClick=e=>{this.openFilterItem(e)},this.handleFilterItemClose=()=>{this.closeFilterItem()},this.handleFilterItemChange=(e,t)=>{const{onChange:n,value:i}=this.props;n({...i,[e]:t}),this.closeFilterItem()},Ry(this,"handleFilterItemDelete",zy,this)}get filteredFields(){return Object.keys(this.props.value)}render(){const{fields:e,value:t}=this.props;return u.createElement("div",{className:"field-filter--Q7cN0ymJYt"},Object.keys(e).length>0&&u.createElement(ih,{anchorElement:u.createElement("div",{className:"filter-button--s1wK5F88dy"},u.createElement(uo,{icon:"su-filter",onClick:this.handleFilterMenuButtonClick,showDropdownIcon:!0,skin:"icon"})),onClose:this.handleFilterMenuClose,open:this.filterMenuOpen},u.createElement(ih.Section,null,Object.keys(e).map((t=>u.createElement(ih.Action,{disabled:this.filteredFields.includes(t),key:t,onClick:this.handleFilterMenuActionClick,value:t},e[t].label))))),this.filteredFields.map((n=>u.createElement(Iy,{column:n,filterType:e[n].filterType,filterTypeParameters:e[n].filterTypeParameters,key:n,label:e[n].label,onChange:this.handleFilterItemChange,onClick:this.handleFilterItemClick,onClose:this.handleFilterItemClose,onDelete:this.handleFilterItemDelete,open:this.filterChipOpen===n,value:t[n]}))))}},Ty=jy(Oy.prototype,"filterMenuOpen",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),My=jy(Oy.prototype,"filterChipOpen",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),jy(Oy.prototype,"filteredFields",[ge],Object.getOwnPropertyDescriptor(Oy.prototype,"filteredFields"),Oy.prototype),Py=jy(Oy.prototype,"handleFilterMenuButtonClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.filterMenuOpen=!0}}}),Dy=jy(Oy.prototype,"handleFilterMenuClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.filterMenuOpen=!1}}}),Ly=jy(Oy.prototype,"openFilterItem",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.filterChipOpen=e}}}),Ay=jy(Oy.prototype,"closeFilterItem",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.filterChipOpen=void 0}}}),zy=jy(Oy.prototype,"handleFilterItemDelete",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{onChange:t,value:n}=this.props,{[e]:i,...r}=n;t(r)}}}),Sy=Oy))||Sy;function xv(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Sv(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const Ov="sulu_admin.list",Tv="adapter";let Mv=Br((Cv=class e extends u.Component{static getAdapterSetting(e,t){const n=[Ov,e,t,Tv].join(".");return sl.getPersistentSetting(n)}static setAdapterSetting(e,t,n){const i=[Ov,e,t,Tv].join(".");sl.setPersistentSetting(i,n)}get currentAdapter(){return Yg.get(this.currentAdapterKey)}get currentAdapterOptions(){return Yg.getOptions(this.currentAdapterKey)}get disabledIds(){const{disabledIds:e,itemDisabledCondition:t,store:n}=this.props;return[...e,...(t?n.visibleItems.filter((e=>fh().evalSync(t,e))):[]).map((e=>e.id))]}get showColumnOptions(){return this.currentAdapter.hasColumnOptions&&this.props.showColumnOptions}constructor(t){super(t),xv(this,"currentAdapterKey",Yy,this),xv(this,"showCopyOverlay",By,this),xv(this,"showDeleteDialog",Hy,this),xv(this,"showMoveOverlay",Vy,this),xv(this,"showDeleteSelectionDialog",Wy,this),xv(this,"allowConflictDeletion",Uy,this),xv(this,"showOrderDialog",$y,this),xv(this,"adapterOptionsOpen",qy,this),xv(this,"columnOptionsOpen",Ky,this),xv(this,"referencingResourcesData",Gy,this),xv(this,"dependantResourcesData",Zy,this),xv(this,"movingRestrictedTarget",Jy,this),xv(this,"setCurrentAdapterKey",Xy,this),xv(this,"requestSelectionDelete",Qy,this),xv(this,"handleSelectionDeleteDialogConfirmClick",ev,this),xv(this,"handleSelectionDeleteDialogCancelClick",tv,this),xv(this,"handleRequestItemDelete",nv,this),xv(this,"closeAllDialogs",iv,this),xv(this,"handleDeleteResponseError",rv,this),xv(this,"handleDeleteDialogConfirmClick",ov,this),xv(this,"handleDeleteDialogCancelClick",sv,this),xv(this,"handleRequestItemMove",av,this),xv(this,"handleMoveOverlayConfirmClick",lv,this),xv(this,"handleMoveOverlayClose",cv,this),xv(this,"handleMovePermissionWarningConfirm",uv,this),xv(this,"handleMovePermissionWarningCancel",dv,this),xv(this,"handleRequestItemCopy",hv,this),xv(this,"handleCopyOverlayConfirmClick",pv,this),xv(this,"handleCopyOverlayClose",fv,this),xv(this,"handleRequestItemOrder",mv,this),xv(this,"handleOrderDialogConfirmClick",gv,this),xv(this,"handleOrderDialogCancelClick",bv,this),this.handlePageChange=e=>{this.props.store.setPage(e)},this.handleLimitChange=e=>{this.props.store.setLimit(e)},this.handleSort=(e,t)=>{this.props.store.sort(e,t)},this.handleSearch=e=>{this.props.store.search(e)},this.handleFilterChange=e=>{this.props.store.filter(e)},this.handleItemSelectionChange=(e,t)=>{const{store:n}=this.props,i=n.findById(e);i&&(t?n.select(i):n.deselect(i))},this.handleAllSelectionChange=e=>{const{store:t}=this.props;t.visibleItems.forEach((n=>{this.disabledIds.includes(n.id)||(e?t.select(n):t.deselect(n))}))},this.handleAdapterChange=e=>{this.setCurrentAdapterKey(e)},this.handleItemActivate=e=>{const{allowActivateForDisabledItems:t,store:n}=this.props;!t&&this.disabledIds.includes(e)||n.activate(e)},this.handleItemDeactivate=e=>{this.props.store.deactivate(e)},xv(this,"handleAdapterOptionsButtonClick",yv,this),xv(this,"handleAdapterOptionsClose",vv,this),xv(this,"handleColumnOptionsOpen",_v,this),xv(this,"handleColumnOptionsClose",wv,this),xv(this,"handleColumnOptionsChange",kv,this),this.validateAdapters();const{store:n}=this.props;this.adapterDisposer=kt(this,"currentAdapterKey",(t=>(e.setAdapterSetting(n.listKey,n.userSettingsKey,t.newValue),t)))}componentDidUpdate(e){const{adapters:t,store:n,paginated:i}=this.props;si()(t,e.adapters)||this.validateAdapters(),n!==e.store&&(n.updateLoadingStrategy(new this.currentAdapter.LoadingStrategy({paginated:this.currentAdapter.paginatable&&i})),n.updateStructureStrategy(new this.currentAdapter.StructureStrategy))}validateAdapters(){const{adapters:t,store:n}=this.props;if(t.forEach((e=>{if(!Yg.has(e))throw new Error('ListAdapter with the name "'+e+'" does not exist.Did you forget to add it to the "listAdapterRegistry"?')})),!this.currentAdapterKey){const t=e.getAdapterSetting(n.listKey,n.userSettingsKey);this.setCurrentAdapterKey(t||this.props.adapters[0])}}renderDeleteReferencedResourceDialog(){if(!this.referencingResourcesData)return null;const{store:e}=this.props;return u.createElement(fg,{allowDeletion:this.allowConflictDeletion,confirmLoading:e.deleting,onCancel:this.handleDeleteDialogCancelClick,onConfirm:this.handleDeleteDialogConfirmClick,referencingResourcesData:this.referencingResourcesData})}get deleteDependantResourcesDialogRequestOptions(){const{store:e}=this.props;return e.queryOptions}renderDeleteDependantResourcesDialog(){return this.dependantResourcesData?u.createElement(Dg,{dependantResourcesData:this.dependantResourcesData,onCancel:this.handleDeleteDialogCancelClick,onFinish:this.handleDeleteDialogConfirmClick,requestOptions:this.deleteDependantResourcesDialogRequestOptions}):null}render(){const{actions:e,adapters:t,copyable:n,deletable:i,disabled:r,header:o,itemActionsProvider:s,movable:a,onItemClick:l,onItemAdd:c,paginated:d,orderable:h,adapterOptions:p,selectable:f,store:m,toolbarClassName:g}=this.props,{filterableFields:b,loading:y,schemaLoading:v,userSchema:_}=m,w=this.currentAdapter,k=eo()("list--w0sr9iIQzQ",{"disabled--RWhOAw1XKn":r}),C=eo()("toolbar--fO9agCOYEc",g),E=this.props.searchable&&w.searchable,x=this.props.filterable&&b&&Object.keys(b).length>0,S=E||x||e.length||this.showColumnOptions||t.length>1;return m.forbidden?u.createElement($m,null):u.createElement("div",{className:"list-container--R_i5KfZVXK"},o,!v&&S&&u.createElement("div",{className:C},u.createElement("div",{className:"toolbar-left--R6hMdhYoHr"},E&&u.createElement(Qg,{onSearch:this.handleSearch,value:m.searchTerm.get()}),x&&u.createElement(Ev,{fields:b||{},onChange:this.handleFilterChange,value:m.filterOptions.get()})),u.createElement("div",{className:"toolbar-right--dndILrM7e_"},e.map(((e,t)=>{const n=e.onClick;return u.createElement(uo,{disabled:e.disabled,icon:e.icon,key:t,onClick:n,skin:"icon"},e.label)})),this.showColumnOptions&&u.createElement(u.Fragment,null,u.createElement(ih,{anchorElement:u.createElement("div",null,u.createElement(uo,{icon:"su-sort",onClick:this.handleAdapterOptionsButtonClick,showDropdownIcon:!0,skin:"icon"})),onClose:this.handleAdapterOptionsClose,open:this.adapterOptionsOpen},u.createElement(ih.Section,null,u.createElement(ih.Action,{onClick:this.handleColumnOptionsOpen},Xs("sulu_admin.column_options")))),u.createElement(ay,{onClose:this.handleColumnOptionsClose,onConfirm:this.handleColumnOptionsChange,open:this.columnOptionsOpen,schema:_})),u.createElement(Zg,{adapters:t,currentAdapter:this.currentAdapterKey,onAdapterChange:this.handleAdapterChange}))),u.createElement("div",{className:k},y&&0===m.pageCount?u.createElement(ao,{className:"loader--mhXlVZAv1o"}):u.createElement(w,{active:m.active.get(),activeItems:m.activeItems,adapterOptions:p?p[this.currentAdapterKey]:void 0,data:m.data,disabledIds:this.disabledIds,itemActionsProvider:s,limit:m.limit.get(),loading:y,onAllSelectionChange:f?this.handleAllSelectionChange:void 0,onItemActivate:this.handleItemActivate,onItemAdd:c,onItemClick:l,onItemDeactivate:this.handleItemDeactivate,onItemSelectionChange:f?this.handleItemSelectionChange:void 0,onLimitChange:this.handleLimitChange,onPageChange:this.handlePageChange,onRequestItemCopy:n?this.handleRequestItemCopy:void 0,onRequestItemDelete:i?this.handleRequestItemDelete:void 0,onRequestItemMove:a?this.handleRequestItemMove:void 0,onRequestItemOrder:h?this.handleRequestItemOrder:void 0,onSort:this.handleSort,options:this.currentAdapterOptions,page:m.getPage(),pageCount:m.pageCount,paginated:d,schema:m.userSchema,selections:m.selectionIds,sortColumn:m.sortColumn.get(),sortOrder:m.sortOrder.get()})),u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmLoading:m.deletingSelection,confirmText:Xs("sulu_admin.ok"),onCancel:this.handleSelectionDeleteDialogCancelClick,onConfirm:this.handleSelectionDeleteDialogConfirmClick,open:this.showDeleteSelectionDialog,title:Xs("sulu_admin.delete_warning_title")},Xs("sulu_admin.delete_selection_warning_text",{count:m.selections.length})),i&&u.createElement(u.Fragment,null,u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmLoading:m.deleting,confirmText:Xs("sulu_admin.ok"),onCancel:this.handleDeleteDialogCancelClick,onConfirm:this.handleDeleteDialogConfirmClick,open:this.showDeleteDialog,title:Xs("sulu_admin.delete_warning_title")},Xs("sulu_admin.delete_warning_text")),this.renderDeleteReferencedResourceDialog(),this.renderDeleteDependantResourcesDialog()),a&&u.createElement(u.Fragment,null,u.createElement(hg,{adapter:t[0],allowActivateForDisabledItems:!1,clearSelectionOnClose:!0,confirmLoading:m.movingSelection||m.moving,disabledIds:this.moveId?[this.moveId]:[],listKey:m.listKey,locale:m.observableOptions.locale,metadataOptions:m.metadataOptions,onClose:this.handleMoveOverlayClose,onConfirm:this.handleMoveOverlayConfirmClick,open:this.showMoveOverlay,options:m.options,reloadOnOpen:!0,resourceKey:m.resourceKey,title:Xs("sulu_admin.move_copy_overlay_title")}),u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmText:Xs("sulu_admin.confirm"),onCancel:this.handleMovePermissionWarningCancel,onConfirm:this.handleMovePermissionWarningConfirm,open:!!this.movingRestrictedTarget,title:Xs("sulu_security.move_permission_title")},Xs("sulu_security.move_permission_warning"))),n&&u.createElement(hg,{adapter:t[0],clearSelectionOnClose:!0,confirmLoading:m.copying,listKey:m.listKey,locale:m.observableOptions.locale,metadataOptions:m.metadataOptions,onClose:this.handleCopyOverlayClose,onConfirm:this.handleCopyOverlayConfirmClick,open:this.showCopyOverlay,reloadOnOpen:!0,resourceKey:m.resourceKey,title:Xs("sulu_admin.move_copy_overlay_title")}),h&&u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmLoading:m.ordering,confirmText:Xs("sulu_admin.ok"),onCancel:this.handleOrderDialogCancelClick,onConfirm:this.handleOrderDialogConfirmClick,open:this.showOrderDialog,title:Xs("sulu_admin.order_warning_title")},Xs("sulu_admin.order_warning_text")))}},Cv.defaultProps={actions:[],allowActivateForDisabledItems:!0,copyable:!0,deletable:!0,disabled:!1,disabledIds:[],filterable:!0,movable:!0,orderable:!0,paginated:!0,searchable:!0,selectable:!0,showColumnOptions:!0},Yy=Sv((Fy=Cv).prototype,"currentAdapterKey",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),By=Sv(Fy.prototype,"showCopyOverlay",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Hy=Sv(Fy.prototype,"showDeleteDialog",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vy=Sv(Fy.prototype,"showMoveOverlay",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wy=Sv(Fy.prototype,"showDeleteSelectionDialog",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Uy=Sv(Fy.prototype,"allowConflictDeletion",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$y=Sv(Fy.prototype,"showOrderDialog",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qy=Sv(Fy.prototype,"adapterOptionsOpen",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ky=Sv(Fy.prototype,"columnOptionsOpen",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gy=Sv(Fy.prototype,"referencingResourcesData",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Zy=Sv(Fy.prototype,"dependantResourcesData",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Jy=Sv(Fy.prototype,"movingRestrictedTarget",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Sv(Fy.prototype,"currentAdapter",[ge],Object.getOwnPropertyDescriptor(Fy.prototype,"currentAdapter"),Fy.prototype),Sv(Fy.prototype,"currentAdapterOptions",[ge],Object.getOwnPropertyDescriptor(Fy.prototype,"currentAdapterOptions"),Fy.prototype),Sv(Fy.prototype,"disabledIds",[ge],Object.getOwnPropertyDescriptor(Fy.prototype,"disabledIds"),Fy.prototype),Sv(Fy.prototype,"showColumnOptions",[ge],Object.getOwnPropertyDescriptor(Fy.prototype,"showColumnOptions"),Fy.prototype),Xy=Sv(Fy.prototype,"setCurrentAdapterKey",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.currentAdapterKey=e,this.props.store.loadingStrategy instanceof this.currentAdapter.LoadingStrategy||this.props.store.updateLoadingStrategy(new this.currentAdapter.LoadingStrategy({paginated:this.currentAdapter.paginatable&&this.props.paginated})),this.props.store.structureStrategy instanceof this.currentAdapter.StructureStrategy||this.props.store.updateStructureStrategy(new this.currentAdapter.StructureStrategy)}}}),Qy=Sv(Fy.prototype,"requestSelectionDelete",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e=!0)=>{this.showDeleteSelectionDialog=!0,this.allowConflictDeletion=e}}}),ev=Sv(Fy.prototype,"handleSelectionDeleteDialogConfirmClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.props.store.deleteSelection().then(ht((()=>{this.showDeleteSelectionDialog=!1}))).catch(this.handleDeleteResponseError)}}}),tv=Sv(Fy.prototype,"handleSelectionDeleteDialogCancelClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showDeleteSelectionDialog=!1}}}),nv=Sv(Fy.prototype,"handleRequestItemDelete",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.showDeleteDialog=!0;const t=new Promise((e=>this.resolveDelete=e));return t.then(ht((t=>t.deleted?(this.props.store.delete(e).then(ht((()=>{this.showDeleteDialog=!1}))).catch(this.handleDeleteResponseError),t):(this.showDeleteDialog=!1,t)))),t}}}),iv=Sv(Fy.prototype,"closeAllDialogs",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showDeleteDialog=!1,this.showDeleteSelectionDialog=!1,this.referencingResourcesData=void 0,this.dependantResourcesData=void 0}}}),rv=Sv(Fy.prototype,"handleDeleteResponseError",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{onDeleteError:t}=this.props;e.json().then(ht((n=>{this.closeAllDialogs(),409!==e.status||1106!==n.code?409!==e.status||n.code!==Lg?t&&t(n):(this.dependantResourcesData={dependantResourceBatches:n.dependantResourceBatches,dependantResourcesCount:n.dependantResourcesCount,detail:n.detail,title:n.title},new Promise((e=>this.resolveDelete=e)).then(ht((e=>{if(!e.deleted)return this.closeAllDialogs(),e;this.props.store.delete(n.resource.id).then(this.closeAllDialogs).catch(this.handleDeleteResponseError)})))):(this.referencingResourcesData={resource:n.resource,referencingResources:n.referencingResources,referencingResourcesCount:n.referencingResourcesCount},new Promise((e=>this.resolveDelete=e)).then(ht((e=>{if(!e.deleted)return this.closeAllDialogs(),e;this.props.store.delete(n.resource.id,{force:!0}).then(this.closeAllDialogs).catch(this.handleDeleteResponseError)}))))})))}}}),ov=Sv(Fy.prototype,"handleDeleteDialogConfirmClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{if(!this.resolveDelete)throw new Error("The resolveDelete function is not set. This should not happen, and is likely a bug.");this.resolveDelete({deleted:!0})}}}),sv=Sv(Fy.prototype,"handleDeleteDialogCancelClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{if(!this.resolveDelete)throw new Error("The resolveDelete function is not set. This should not happen, and is likely a bug.");this.resolveDelete({deleted:!1})}}}),av=Sv(Fy.prototype,"handleRequestItemMove",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.moveId=e,this.showMoveOverlay=!0;const t=new Promise((e=>this.resolveMove=e));return t.then(ht((e=>{if(!e.moved||!e.parent)return this.showMoveOverlay=!1,this.moveId=void 0,e;if(!this.moveId)throw new Error("The moveId is not set. This should not happen and is likely a bug.");return this.props.store.move(this.moveId,e.parent.id).then(ht((()=>{this.moveId=void 0,this.showMoveOverlay=!1}))),e}))),t}}}),lv=Sv(Fy.prototype,"handleMoveOverlayConfirmClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{if(!this.moveId)throw new Error("The moveId is not set. This should not happen and is likely a bug.");const t=this.props.store.findById(this.moveId);if(!t)throw new Error("The moveId does not refer to an element. This should not happen and is likely a bug.");if(t._hasPermissions||e._hasPermissions)this.movingRestrictedTarget=e;else{if(!this.resolveMove)throw new Error("The resolveMove function is not set. This should not happen, and is likely a bug.");this.resolveMove({moved:!0,parent:e})}}}}),cv=Sv(Fy.prototype,"handleMoveOverlayClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{if(!this.resolveMove)throw new Error("The resolveMove function is not set. This should not happen, and is likely a bug.");this.resolveMove({moved:!1})}}}),uv=Sv(Fy.prototype,"handleMovePermissionWarningConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{if(!this.resolveMove)throw new Error("The resolveMove function is not set. This should not happen, and is likely a bug.");this.resolveMove({moved:!0,parent:this.movingRestrictedTarget}),this.movingRestrictedTarget=void 0}}}),dv=Sv(Fy.prototype,"handleMovePermissionWarningCancel",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.movingRestrictedTarget=void 0}}}),hv=Sv(Fy.prototype,"handleRequestItemCopy",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.showCopyOverlay=!0;const t=new Promise((e=>this.resolveCopy=e));return t.then(ht((t=>t.copied?(this.props.store.copy(e,t.parent.id,this.props?.onCopyFinished).then(ht((()=>{this.showCopyOverlay=!1}))),t):(this.showCopyOverlay=!1,t)))),t}}}),pv=Sv(Fy.prototype,"handleCopyOverlayConfirmClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{if(!this.resolveCopy)throw new Error("The resolveCopy function is not set. This should not happen, and is likely a bug.");this.resolveCopy({copied:!0,parent:e})}}}),fv=Sv(Fy.prototype,"handleCopyOverlayClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{if(!this.resolveCopy)throw new Error("The resolveCopy function is not set. This should not happen, and is likely a bug.");this.resolveCopy({copied:!1})}}}),mv=Sv(Fy.prototype,"handleRequestItemOrder",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{this.showOrderDialog=!0;const n=new Promise((e=>this.resolveOrder=e));return n.then(ht((n=>n.ordered?(this.props.store.order(e,t).then(ht((()=>{this.showOrderDialog=!1}))),n):(this.showOrderDialog=!1,n)))),n}}}),gv=Sv(Fy.prototype,"handleOrderDialogConfirmClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{if(!this.resolveOrder)throw new Error("The resolveOrder function is not set. This should not happen, and is likely a bug.");this.resolveOrder({ordered:!0})}}}),bv=Sv(Fy.prototype,"handleOrderDialogCancelClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{if(!this.resolveOrder)throw new Error("The resolveOrder function is not set. This should not happen, and is likely a bug.");this.resolveOrder({ordered:!1})}}}),yv=Sv(Fy.prototype,"handleAdapterOptionsButtonClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.adapterOptionsOpen=!this.adapterOptionsOpen}}}),vv=Sv(Fy.prototype,"handleAdapterOptionsClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.adapterOptionsOpen=!1}}}),_v=Sv(Fy.prototype,"handleColumnOptionsOpen",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.columnOptionsOpen=!0}}}),wv=Sv(Fy.prototype,"handleColumnOptionsClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.columnOptionsOpen=!1}}}),kv=Sv(Fy.prototype,"handleColumnOptionsChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.columnOptionsOpen=!1,this.props.store.changeUserSchema(e)}}}),Sv(Fy.prototype,"deleteDependantResourcesDialogRequestOptions",[ge],Object.getOwnPropertyDescriptor(Fy.prototype,"deleteDependantResourcesDialogRequestOptions"),Fy.prototype),Ny=Fy))||Ny;var Pv=Mv,Dv=new class{constructor(){this.clear()}clear(){this.fieldTransformers={}}has(e){return!!this.fieldTransformers[e]}add(e,t){if(e in this.fieldTransformers)throw new Error('The key "'+e+'" has already been used for another field transformer');this.fieldTransformers[e]=t}get(e){if(!(e in this.fieldTransformers))throw new Error('The list field transformer with the key "'+e+'" is not defined. You probably forgot to add it to the registry using the "add" method.\n\nRegistered keys: '+Object.keys(this.fieldTransformers).sort().join(", "));return this.fieldTransformers[e]}},Lv=class extends fy{constructor(...e){super(...e),this.handleChange=e=>{const{onChange:t}=this;t(e?{eq:e}:void 0)}}setInputRef(e){e&&e.focus()}getFormNode(){const{value:e}=this;return u.createElement(kl,{inputRef:this.setInputRef,onChange:this.handleChange,value:e?e.eq:void 0})}getValueNode(e){return Promise.resolve(e?e.eq:null)}};class Av{transform(e){return e?e.join(", "):null}}const zv="sulu-40x40";class Iv{transform(e){return e?"object"!=typeof e?(c().error('Invalid type given: "'+typeof e+'". "object" is needed.'),null):e.hasOwnProperty(zv)?u.createElement("img",{src:e[zv]}):(c().error('Object needs property "'+zv+'".'),null):null}}class Rv{transform(e){return e?u.createElement("span",{className:"text-box--oMW_bgcI6q",title:e},e):null}}class jv extends u.PureComponent{render(){const{disabled:e,name:t,value:n,checked:i,children:r,onChange:o}=this.props;return u.createElement(nu,{checked:i,className:"toggler--GtE0p0UgTM",disabled:e,name:t,onChange:o,value:n},r)}}jv.defaultProps={checked:!1,disabled:!1};var Nv=jv,Fv=class extends fy{constructor(e,t,n){super(e,t,n),void 0===n&&e(!1)}getFormNode(){const{onChange:e}=this;return u.createElement(Nv,{checked:this.value||!1,onChange:e})}getValueNode(e){return void 0===e?Promise.resolve(null):Promise.resolve(Xs(e?"sulu_admin.yes":"sulu_admin.no"))}};class Yv{transform(e){return u.createElement(mu,{checked:!!e,disabled:!0})}}class Bv{transform(e){if(!e)return null;if(!/^#[0-9a-f]{3}([0-9a-f]{3})?$/i.test(e))return c().error(`Invalid color given: "${e}". Format needs to be "#RGB" or "#RRGGBB".`),null;const t={};return t.backgroundColor=e,u.createElement("div",{className:"color-box--EvAHqpeTEf",style:t})}}var Hv={"list-icon":"list-icon--T3971isyRN",listIcon:"list-icon--T3971isyRN",dark:"dark--_aOvtjQtpK"};class Vv{transform(e,t){if(!e)return e;const{mapping:n,default:i,skin:r="default"}=t;if(!n)return e;if("object"!=typeof n)return c().error('Transformer parameter "mapping" needs to be of type collection.'),null;let o=n[e];if(!o){if(!i)return c().warn(`There was no icon specified in the "mapping" transformer parameter for the value "${e}".`),e;if("string"!=typeof i&&"object"!=typeof i)return c().warn('Transformer parameter "default" needs to be of type string or collection, '+typeof i+" given."),e;o=i}return r&&"string"!=typeof r?(c().error(`Transformer parameter "skin" needs to be of type string, ${typeof r} given.`),null):"object"==typeof o?this.transformObjectConfig(e,o,r):"string"==typeof o?this.transformStringConfig(o,r):(c().error(`Transformer parameter "mapping/${e}" needs to be either of type string or collection.`),null)}transformObjectConfig(e,t,n){const{icon:i,color:r}=t;if(!i||"string"!=typeof i)return c().error(`Transformer parameter "mapping/${e}/icon" needs to be of type string.`),null;if(void 0!==r&&"string"!=typeof r)return c().error(`Transformer parameter "mapping/${e}/color" needs to be of type string.`),null;const o={};return r&&(o.color=r),u.createElement(ro,{className:this.getClassName(n),name:i,style:o})}transformStringConfig(e,t){return u.createElement(ro,{className:this.getClassName(t),name:e})}getClassName(e){return eo()(Hv.listIcon,Hv[e])}}class Wv{transform(e){return void 0===e?null:wo(e)}}const Uv="YYYY-MM-DD";class $v{transform(e){if(!e)return null;const t=wa()(e,Uv);return t.isValid()?t.format("L"):(c().error('Invalid date given: "'+e+'". Format needs to be "'+Uv+'"'),null)}}var qv,Kv,Gv,Zv,Jv,Xv,Qv,e_,t_=r(69052),n_=r.n(t_);function i_(){return i_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i_.apply(this,arguments)}function r_(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function o_(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let s_=Br((e_=class extends u.Component{setOpen(e){this.open=e}setValue(e){this.value=e}setShowError(e){this.showError=e}constructor(e){super(e),this.inputChanged=!1,r_(this,"open",Gv,this),r_(this,"showError",Zv,this),r_(this,"value",Jv,this),r_(this,"inputRef",Xv,this),r_(this,"setInputRef",Qv,this),this.handleChange=e=>{this.inputChanged=!1,this.props.onChange(e),this.setShowError(!!this.value&&!e);const t="string"==typeof this.value?wa()(this.value,this.getFormat()):wa()(this.value);(!this.value&&e||this.value&&!e||!t.isSame(wa()(e),"day"))&&this.setOpen(!1)},this.handleDatepickerChange=e=>{if(!e)return this.setValue(void 0),void this.handleChange(void 0);"string"!=typeof e?e.isValid()?this.handleChange(e.toDate()):this.handleChange(void 0):this.setValue(e)},this.handleInputBlur=()=>{if(this.inputChanged&&"string"==typeof this.value){const e=wa()(this.value,this.getFormat());this.handleChange(e.isValid()?e.toDate():void 0)}},this.handleOpenOverlay=()=>{this.setOpen(!0)},this.handleCloseOverlay=()=>{this.setOpen(!1)},this.getInputChange=e=>(t,n)=>{this.inputChanged=!0,this.setValue(t),e.onChange(n)},this.getDateFormat=()=>{const e=this.props.options.dateFormat;return!e&&!1!==e||!0===e||!e&&!this.getTimeFormat()?wa().localeData().longDateFormat("L")||"":e||""},this.getTimeFormat=()=>{const e=this.props.options.timeFormat;return!0===e?wa().localeData().longDateFormat("LT")||"":e||""},this.getFormat=()=>[this.getDateFormat(),this.getTimeFormat()].filter((e=>!!e)).join(" "),this.renderInput=e=>{const t=this.getInputChange(e);return this.inputRef?d.createPortal(u.createElement(kl,i_({},e,{id:this.props.id,inputRef:this.props.inputRef,onBlur:this.handleInputBlur,onChange:t,onIconClick:e.disabled?void 0:this.handleOpenOverlay})),this.inputRef):null},this.setValue(this.props.value)}componentDidUpdate(){this.value&&!this.props.value||this.setValue(this.props.value)}render(){const{className:e,disabled:t,options:n,placeholder:i,valid:r}=this.props,o={...n,dateFormat:this.getDateFormat()||!1,timeFormat:this.getTimeFormat()||!1},s={placeholder:i||this.getFormat(),valid:r&&!this.showError,disabled:t,icon:o.dateFormat?"su-calendar":"su-clock"};return u.createElement("div",{className:e},u.createElement("div",{ref:this.setInputRef}),u.createElement(jd,{anchorElement:this.inputRef,backdrop:this.open,horizontalOffset:34,onClose:this.handleCloseOverlay,open:!0,verticalOffset:-31},((e,t)=>u.createElement("div",{ref:e,style:t},u.createElement(n_(),i_({},o,{inputProps:s,onChange:this.handleDatepickerChange,onClose:this.handleCloseOverlay,open:this.open,renderInput:this.renderInput,value:this.value}))))))}},e_.defaultProps={disabled:!1,options:{dateFormat:void 0,timeFormat:void 0},valid:!0},Gv=o_((Kv=e_).prototype,"open",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zv=o_(Kv.prototype,"showError",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jv=o_(Kv.prototype,"value",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xv=o_(Kv.prototype,"inputRef",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o_(Kv.prototype,"setOpen",[ht],Object.getOwnPropertyDescriptor(Kv.prototype,"setOpen"),Kv.prototype),o_(Kv.prototype,"setValue",[ht],Object.getOwnPropertyDescriptor(Kv.prototype,"setValue"),Kv.prototype),o_(Kv.prototype,"setShowError",[ht],Object.getOwnPropertyDescriptor(Kv.prototype,"setShowError"),Kv.prototype),Qv=o_(Kv.prototype,"setInputRef",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.inputRef=e}}}),qv=Kv))||qv;var a_=s_,l_="label--_N0qchN4zY",c_="date--jjEunkDxQf";function u_(e){return e?e.toLocaleDateString(void 0,{year:"numeric",month:"2-digit",day:"2-digit"}):""}function d_(e){return e?e.toLocaleString(void 0,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):""}var h_,p_=class extends fy{constructor(...e){super(...e),this.handleChange=(e,t)=>{const{onChange:n,value:i}=this;n({...i,[e]:t})},this.handleFromChange=e=>{this.handleChange("from",e)},this.handleToChange=e=>{this.handleChange("to",e)}}setFromInputRef(e){e&&e.focus()}getFormNode(){const{value:e}=this;return u.createElement(u.Fragment,null,u.createElement("label",{className:l_},Xs("sulu_admin.from")),u.createElement(a_,{className:c_,inputRef:this.setFromInputRef,onChange:this.handleFromChange,options:{dateFormat:!0,timeFormat:this.options.timeFormat},value:e?e.from:void 0}),u.createElement("label",{className:l_},Xs("sulu_admin.until")),u.createElement(a_,{className:c_,onChange:this.handleToChange,options:{dateFormat:!0,timeFormat:this.options.timeFormat},value:e?e.to:void 0}))}getValueNode(e){if(!e)return Promise.resolve(null);const{from:t,to:n}=e,i=this.options.timeFormat?d_:u_;return t||n?t&&!n?Promise.resolve(Xs("sulu_admin.from")+" "+i(t)):!t&&n?Promise.resolve(Xs("sulu_admin.until")+" "+i(n)):Promise.resolve(i(t)+" - "+i(n)):Promise.resolve(null)}},f_={light:"light--wXfR3lPp_R"};class m_{transform(e,t){if(!e)return null;const n=wa()(e,wa().ISO_8601);if(!n.isValid())return c().error('Invalid date given: "'+e+'". Format needs to be in "ISO 8601"'),null;const{skin:i="default",format:r="default"}=t||{};if("string"!=typeof i)return c().error(`Transformer parameter "skin" needs to be of type string, ${typeof i} given.`),null;let o;o="relative"===r?this.getRelativeDateTime(n):this.getDefaultDateTime(n);const s=eo()(f_[i]);return u.createElement("span",{className:s},o)}getRelativeDateTime(e){const t=()=>"["+this.getDefaultDateTime(e)+"]";return e.calendar({sameDay:"["+Xs("sulu_admin.sameDay")+"] HH:mm",lastDay:"["+Xs("sulu_admin.lastDay")+"] HH:mm",nextDay:"["+Xs("sulu_admin.nextDay")+"] HH:mm",nextWeek:t(),lastWeek:t(),sameElse:t()})}getDefaultDateTime(e){return e.format("LLL")}}let g_=(function(e,t,n,i,r){var o={};Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}((h_=class extends fy{constructor(...e){super(...e),this.handleChange=e=>{this.onChange(e.length>0?e:void 0)}}get parameterOptions(){const{parameters:e}=this;if(!e)throw new Error('The "SelectFieldFilterType" needs some parameters to work!');const{options:t}=e;if("object"!=typeof t||null===t)throw new Error('The "options" parameter must be an object!');return t}getFormNode(){const{value:e}=this;return u.createElement(ou,{onChange:this.handleChange,values:e||[]},Object.keys(this.parameterOptions).map((e=>u.createElement(mu,{key:e,value:e},Xs(this.parameterOptions[e])))))}getValueNode(e){return e?Promise.resolve(e.map((e=>Xs(this.parameterOptions[e]))).join(", ")):Promise.resolve(null)}}).prototype,"parameterOptions",[ge],Object.getOwnPropertyDescriptor(h_.prototype,"parameterOptions"),h_.prototype),h_);var b_,y_=g_;function v_(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const __={lt:"<",eq:"=",gt:">"};function w_(e){const t=e?Object.keys(e):[];if(t.length>1)throw new Error('The "NumberFilterFieldType" only accepts an array with exactly one key!');return t[0]}function k_(e){if(e)return e[w_(e)]}var C_=(v_((b_=class extends fy{constructor(e,t,n){super(e,t,n),this.handleOperatorChange=e=>{if(!e)throw new Error("The operator cannot be changed to undefined! This should not happen and is likely a bug.");const{onChange:t}=this;t({[e]:this.number})},this.handleInputChange=e=>{const{onChange:t}=this;t({[this.operator]:e})},void 0===n&&e({eq:void 0})}get operator(){return w_(this.value)}get number(){return k_(this.value)}setInputRef(e){e&&e.focus()}getFormNode(){return u.createElement("div",{className:"number-field-filter-type--D0ZEAGXtWk"},u.createElement(zp,{onChange:this.handleOperatorChange,value:this.operator},u.createElement(zp.Option,{value:"lt"},__.lt),u.createElement(zp.Option,{value:"eq"},__.eq),u.createElement(zp.Option,{value:"gt"},__.gt)),u.createElement(kl,{inputRef:this.setInputRef,onChange:this.handleInputChange,type:"number",value:this.number}))}getValueNode(e){return Promise.resolve((__[w_(e)]||"")+" "+(k_(e)||""))}}).prototype,"operator",[ge],Object.getOwnPropertyDescriptor(b_.prototype,"operator"),b_.prototype),v_(b_.prototype,"number",[ge],Object.getOwnPropertyDescriptor(b_.prototype,"number"),b_.prototype),b_);class E_{transform(e){return e?isNaN(e)?(c().error('Invalid number given: "'+e+'"'),null):e.toLocaleString():null}}class x_ extends u.PureComponent{constructor(...e){super(...e),this.highlightMatchingTextPart=e=>{if(!e)return null;if(!this.props.query)return e;let t,n,i=[];try{t=new RegExp(this.props.query,"gi"),n=e.split(t),i=e.match(t)}catch(t){n=e.split(this.props.query),i=[];for(let e=0;e<n.length-1;e++)i.push(this.props.query)}return u.createElement("span",null,n.map(((e,t)=>u.createElement(u.Fragment,null,e,i&&i[t]?u.createElement("strong",null,i[t]):null))))},this.handleClick=()=>{const{value:e,onSelect:t}=this.props;t&&t(e)}}render(){const{minWidth:e,icon:t,children:n}=this.props;return u.createElement("li",{className:"suggestion-item--IXebbKCRdg",style:{minWidth:e+"px"}},u.createElement("button",{className:"suggestion--RWHIb3iz99",onClick:this.handleClick,type:"button"},t&&u.createElement(ro,{className:"icon--yIFiQMATGc",name:t}),"string"==typeof n&&this.highlightMatchingTextPart(n),"function"==typeof n&&n(this.highlightMatchingTextPart)))}}x_.defaultProps={minWidth:0,query:""};var S_,O_,T_;function M_(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let P_=(T_=class extends u.Component{constructor(...e){super(...e),function(e,t,n,i){n&&Object.defineProperty(e,"suggestionsRef",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}(this,0,O_,this),this.setSuggestionsRef=e=>{this.suggestionsRef=e},this.handlePopoverClose=()=>{this.props.onClose&&this.props.onClose()},this.handleUp=()=>{const e=this.buttons[this.activeButtonIndex-1];e&&e.focus()},this.handleDown=()=>{const e=this.buttons[this.activeButtonIndex+1];e&&e.focus()}}get buttons(){return this.suggestionsRef?Array.from(this.suggestionsRef.getElementsByTagName("button")):[]}get activeButtonIndex(){return this.buttons.findIndex((e=>e===document.activeElement))}componentDidMount(){!0===this.props.open&&(Du().bind("up",this.handleUp),Du().bind("down",this.handleDown))}componentDidUpdate(e){!0===this.props.open&&!1===e.open&&(Du().bind("up",this.handleUp),Du().bind("down",this.handleDown)),!1===this.props.open&&!0===e.open&&(Du().unbind("up"),Du().unbind("down"))}render(){const{anchorElement:e,idProperty:t,minWidth:n,onSelect:i,open:r,query:o,searchProperties:s,suggestions:a}=this.props;return u.createElement(jd,{anchorElement:e,horizontalOffset:5,onClose:this.handlePopoverClose,open:r,popoverChildRef:this.setSuggestionsRef,verticalOffset:-2},((e,r)=>u.createElement(tp,{menuRef:e,style:r},a.map((e=>u.createElement(x_,{key:e[t],minWidth:n,onSelect:i,query:o,value:e},(t=>s.map((n=>u.createElement("span",{className:"column--mEyAe6dJfm",key:n},t(e[n])))))))))))}},T_.defaultProps={idProperty:"id",minWidth:0},O_=M_((S_=T_).prototype,"suggestionsRef",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M_(S_.prototype,"buttons",[ge],Object.getOwnPropertyDescriptor(S_.prototype,"buttons"),S_.prototype),M_(S_.prototype,"activeButtonIndex",[ge],Object.getOwnPropertyDescriptor(S_.prototype,"activeButtonIndex"),S_.prototype),S_);var D_,L_,A_,z_,I_,R_,j_,N_,F_,Y_,B_,H_,V_,W_=P_;function U_(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function $_(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var q_,K_,G_,Z_,J_,X_=Br(((V_=class extends u.Component{constructor(...e){super(...e),U_(this,"inputContainerRef",A_,this),U_(this,"inputRef",z_,this),U_(this,"displaySuggestions",I_,this),U_(this,"inputValue",R_,this),U_(this,"setInputContainerRef",j_,this),U_(this,"setInputRef",N_,this),this.handleDelete=e=>{const{onChange:t,onFinish:n,value:i}=this.props;t(i.filter((t=>t!=e))),this.debouncedSearch(this.inputValue),n&&n()},U_(this,"handleInputChange",F_,this),this.handleInputFocus=()=>{Du().bind("enter",this.handleEnterAndComma),Du().bind(",",this.handleEnterAndComma),Du().bind("backspace",this.handleBackspace),this.search(this.inputValue)},this.handleInputBlur=()=>{Du().unbind("enter"),Du().unbind(","),Du().unbind("backspace")},this.handleEnterAndComma=()=>{const{allowAdd:e,displayProperty:t,idProperty:n,suggestions:i,value:r}=this.props;if(0===this.inputValue.length)return!1;const o=i.find((e=>e[t]===this.inputValue));if(o)return this.handleSelect(o),!1;const s=r.find((e=>e[t].toLowerCase()===this.inputValue.toLowerCase()));return!(!e||s||(this.handleSelect({[n]:this.inputValue}),1))},this.handleBackspace=()=>{const{value:e}=this.props;return this.inputValue.length>0||0!==e.length&&void this.handleDelete(e[e.length-1])},U_(this,"handleSelect",Y_,this),U_(this,"handlePopoverClose",B_,this),U_(this,"search",H_,this),this.debouncedSearch=ya()(this.search,300)}componentWillUnmount(){this.debouncedSearch.clear()}get popoverMinWidth(){return this.inputContainerRef?this.inputContainerRef.scrollWidth-10:0}render(){const{disabled:e,displayProperty:t,id:n,idProperty:i,loading:r,searchProperties:o,suggestions:s,value:a}=this.props,l=eo()("multi-auto-complete--xRptJ378cl",{"disabled--zBIXGILMDQ":e}),c=eo()("input--zJbaMWrFu7","mousetrap");return u.createElement(u.Fragment,null,u.createElement("div",{className:l,ref:this.setInputContainerRef},u.createElement("div",{className:"icon--UyBcVTuYRX"},r?u.createElement(ao,{size:16}):u.createElement(ro,{name:"su-search"})),u.createElement("div",{className:"items--Wsy23uj8za"},a.map((n=>u.createElement("span",{className:"chip--tI8oPkgcWJ",key:n[i]},u.createElement(hy,{disabled:e,onDelete:this.handleDelete,value:n},n[t])))),u.createElement("input",{className:c,disabled:e,id:n,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,ref:this.setInputRef,value:this.inputValue}))),u.createElement(W_,{anchorElement:this.inputContainerRef,idProperty:i,minWidth:this.popoverMinWidth,onClose:this.handlePopoverClose,onSelect:this.handleSelect,open:!e&&this.displaySuggestions&&s.length>0,query:this.inputValue,searchProperties:o,suggestions:s}))}}).defaultProps={allowAdd:!1,disabled:!1,idProperty:"id",loading:!1},A_=$_((L_=V_).prototype,"inputContainerRef",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z_=$_(L_.prototype,"inputRef",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I_=$_(L_.prototype,"displaySuggestions",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R_=$_(L_.prototype,"inputValue",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),j_=$_(L_.prototype,"setInputContainerRef",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{e&&(this.inputContainerRef=e)}}}),N_=$_(L_.prototype,"setInputRef",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{inputRef:t}=this.props;t&&t(e),e&&(this.inputRef=e)}}}),$_(L_.prototype,"popoverMinWidth",[ge],Object.getOwnPropertyDescriptor(L_.prototype,"popoverMinWidth"),L_.prototype),F_=$_(L_.prototype,"handleInputChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.inputValue=e.currentTarget.value,this.debouncedSearch(this.inputValue)}}}),Y_=$_(L_.prototype,"handleSelect",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{onChange:t,onFinish:n,value:i}=this.props;t([...i,e]),this.inputValue="",this.inputRef.focus(),n&&n()}}}),B_=$_(L_.prototype,"handlePopoverClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.displaySuggestions=!1}}}),H_=$_(L_.prototype,"search",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.props.onSearch(e),this.displaySuggestions=!0}}}),D_=L_))||D_;function Q_(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function ew(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var tw,nw,iw,rw,ow,sw,aw,lw=(K_=ew((q_=class{constructor(e,t,n={},i){Q_(this,"searchResults",K_,this),Q_(this,"loading",G_,this),Q_(this,"clearSearchResults",Z_,this),Q_(this,"search",J_,this),this.resourceKey=e,this.searchProperties=t,this.options=n,this.locale=i}}).prototype,"searchResults",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G_=ew(q_.prototype,"loading",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Z_=ew(q_.prototype,"clearSearchResults",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.searchResults.splice(0,this.searchResults.length)}}}),J_=ew(q_.prototype,"search",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t=void 0)=>{const{resourceKey:n,searchProperties:i}=this;return this.loading=!0,La.getList(n,{...this.options,excludedIds:t,locale:this.locale?this.locale.get():void 0,limit:10,page:1,searchFields:i,search:e}).then(ht((e=>(this.clearSearchResults(),this.searchResults.push(...e._embedded[n]),this.loading=!1,this.searchResults)))).catch(ht((()=>{this.loading=!1}))).then((()=>[]))}}}),q_),cw=Br(((nw=class extends u.Component{constructor(e){super(e),this.handleChange=e=>{const{selectionStore:t}=this.props;t.set(e),this.searchStore.clearSearchResults()},this.handleSearch=e=>{const{selectionStore:t}=this.props;this.searchStore.search(e,t.ids)};const{options:t,searchProperties:n,selectionStore:i}=this.props;this.searchStore=new lw(i.resourceKey,n,t,i.locale)}render(){const{allowAdd:e,disabled:t,displayProperty:n,id:i,idProperty:r,inputRef:o,searchProperties:s,selectionStore:a}=this.props;return u.createElement(X_,{allowAdd:e,disabled:t,displayProperty:n,id:i,idProperty:r,inputRef:o,loading:this.searchStore.loading||a.loading,onChange:this.handleChange,onSearch:this.handleSearch,searchProperties:s,suggestions:this.searchStore.searchResults,value:a.items||[]})}}).defaultProps={allowAdd:!1,disabled:!1,idProperty:"id",options:{}},tw=nw))||tw;function uw(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function dw(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let hw=Br((aw=class extends u.Component{constructor(e){super(e),uw(this,"resourceListStore",ow,this),uw(this,"createResourceListStore",sw,this),this.handleChange=e=>{const{onChange:t,idProperty:n}=this.props,i=this.resourceListStore.data.filter((t=>e.includes(t[n])));t(e,i)},this.createResourceListStore()}componentDidUpdate(e){const{resourceKey:t,requestParameters:n}=this.props;si()(e.requestParameters,n)&&e.resourceKey===t||this.createResourceListStore()}render(){const{disabled:e,displayProperty:t,idProperty:n,values:i}=this.props;return this.resourceListStore.loading||!this.resourceListStore.data?u.createElement(ao,{size:30}):u.createElement(ou,{disabled:e,onChange:this.handleChange,values:i},this.resourceListStore.data.map(((e,i)=>u.createElement(mu,{key:i,value:e[n]},e[t]))))}},aw.defaultProps={disabled:!1,idProperty:"id",requestParameters:{},values:[]},ow=dw((rw=aw).prototype,"resourceListStore",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sw=dw(rw.prototype,"createResourceListStore",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{resourceKey:e,requestParameters:t}=this.props;this.resourceListStore=new Tc(e,t)}}}),iw=rw))||iw;var pw,fw,mw,gw=hw;function bw(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function yw(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const vw="auto_complete";var _w=(fw=yw((pw=class extends fy{get type(){return this.parameters&&(this.parameters.type||vw)}constructor(e,t,n){super(e,t,n),bw(this,"selectValue",fw,this),bw(this,"setSelectValue",mw,this),this.handleSelectChange=e=>{this.setSelectValue(e)},this.confirm=()=>{this.onChange(this.selectValue)},this.selectionStore=new uc(this.resourceKey,[],ue.box(sl.contentLocale)),this.selectionStoreDisposer=ft((()=>{const{onChange:e,selectionStore:t}=this;0!==t.ids.length?e(t.ids):e(void 0)})),this.valueDisposer=ft((()=>{const e=Mt(this.value||[]);si()(e,Ce((()=>Mt(this.selectionStore.ids))))||this.selectionStore.loadItems(e),si()(e,Ce((()=>this.selectValue)))||this.setSelectValue(e)}))}destroy(){this.selectionStoreDisposer(),this.valueDisposer()}get resourceKey(){const{parameters:e}=this;if(!e)throw new Error('The "SelectionFieldFilterType" needs some parameters to work!');const{resourceKey:t}=e;if("string"!=typeof t)throw new Error('The "resourceKey" parameters must be a string!');return t}get displayProperty(){const{parameters:e}=this;if(!e)throw new Error('The "SelectionFieldFilterType" needs some parameters to work!');const{displayProperty:t}=e;if("string"!=typeof t)throw new Error('The "displayProperty" parameter must be a string!');return t}setInputRef(e){e&&e.focus()}getFormNode(){return u.createElement("div",{className:"selection-field-filter-type--YiM7DkWhtx"},this.type===vw&&u.createElement(cw,{displayProperty:this.displayProperty,inputRef:this.setInputRef,searchProperties:[this.displayProperty],selectionStore:this.selectionStore}),"select"===this.type&&u.createElement(gw,{displayProperty:this.displayProperty,onChange:this.handleSelectChange,resourceKey:this.resourceKey,values:this.selectValue}))}getValueNode(e){return e?new Promise((t=>{Dt((()=>!this.selectionStore.loading),(()=>t(e.map((e=>{const t=this.selectionStore.getById(e);return t?t[this.displayProperty]:""})).join(", "))))})):Promise.resolve(null)}}).prototype,"selectValue",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),yw(pw.prototype,"type",[ge],Object.getOwnPropertyDescriptor(pw.prototype,"type"),pw.prototype),yw(pw.prototype,"resourceKey",[ge],Object.getOwnPropertyDescriptor(pw.prototype,"resourceKey"),pw.prototype),yw(pw.prototype,"displayProperty",[ge],Object.getOwnPropertyDescriptor(pw.prototype,"displayProperty"),pw.prototype),mw=yw(pw.prototype,"setSelectValue",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.selectValue=e}}}),pw);const ww="HH:mm:ss";class kw{transform(e){if(!e)return null;const t=wa()(e,ww);return t.isValid()?t.format("LT"):(c().error('Invalid time given: "'+e+'". Format needs to be "'+ww+'"'),null)}}class Cw{transform(e,t){if(void 0===e)return null;const{prefix:n=""}=t;return Xs(n+e)}}var Ew=r(74728),xw=r.n(Ew);class Sw{transform(e){if(!e)return null;const t=xw()(e.toString(),{allowedTags:["b","em","i","s","small","strong","sub","sup","time","u"],allowedAttributes:{},disallowedTagsMode:"recursiveEscape"});return u.createElement("div",{dangerouslySetInnerHTML:{__html:t}})}}var Ow,Tw,Mw,Pw,Dw;class Lw extends u.Component{constructor(...e){super(...e),this.handleClick=()=>{const{id:e,onClick:t}=this.props;t&&t(e)}}render(){const{icon:e,visible:t}=this.props,n=eo()({"button--afayKqvmSu":!0,"visible--Qio5iBWB7e":t});return u.createElement(ro,{className:n,name:e,onClick:this.handleClick})}}function Aw(){return Aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Aw.apply(this,arguments)}function zw(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Iw(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Lw.defaultProps={visible:!0};var Rw=Br(((Dw=class extends u.Component{constructor(e){super(e),zw(this,"order",Mw,this),this.handleClick=()=>{const{onClick:e,id:t}=this.props;e&&e(t)},this.handleDoubleClick=()=>{const{onDoubleClick:e,id:t,showOrderField:n}=this.props;n||e&&e(t)},zw(this,"handleOrderChange",Pw,this),this.handleOrderBlur=()=>{const{id:e,onOrderChange:t,order:n}=this.props;t&&this.order&&n!==this.order&&t(e,this.order).then(ht((e=>{e||(this.order=this.props.order)})))},this.handleOrderKeyPress=(e,t)=>{"Enter"===e&&t.currentTarget.blur()},this.renderButtons=()=>{const{buttons:e,id:t}=this.props;return e?e.map(((e,n)=>{const i=`button-${n}`;return u.createElement(Lw,Aw({},e,{id:t,key:i}))})):null},this.order=this.props.order}componentDidUpdate(e){const{order:t}=this.props;e.order!==t&&(this.order=t)}render(){const{active:e,children:t,disabled:n,hasChildren:i,indicators:r,showOrderField:o,selected:s}=this.props,a=eo()("item--jv0rCG9c96",{"active--UqJm2gaOfT":e,"disabled--QicLEHvUgc":n,"selected--zYHMPeMYkR":s,"order-field-shown--XwbsiINUUc":o});return u.createElement("div",{className:a,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,role:"button"},!o&&u.createElement("span",{className:"buttons--RVdZPw_q8x"},this.renderButtons()),o&&u.createElement("div",{className:"order-input--j9ARWwgnVy"},u.createElement(kl,{alignment:"center",onBlur:this.handleOrderBlur,onChange:this.handleOrderChange,onKeyPress:this.handleOrderKeyPress,value:this.order})),u.createElement("span",{className:"text--_9Gm_vyYUc"},u.createElement(sp,null,t)),r&&r.map(((e,t)=>u.createElement("span",{className:"indicator--gXSlsGzoBI",key:t},e))),u.createElement("span",{className:"children--FzkQWy14F7"},i&&u.createElement(ro,{name:"su-angle-right"})))}}).defaultProps={active:!1,disabled:!1,hasChildren:!1,selected:!1,showOrderField:!1},Mw=Iw((Tw=Dw).prototype,"order",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Iw(Tw.prototype,"componentDidUpdate",[ht],Object.getOwnPropertyDescriptor(Tw.prototype,"componentDidUpdate"),Tw.prototype),Pw=Iw(Tw.prototype,"handleOrderChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{e||(this.order=void 0);const t=parseInt(e);isNaN(t)||(this.order=t)}}}),Ow=Tw))||Ow;class jw extends u.Component{constructor(...e){super(...e),this.cloneItems=e=>{if(!e)return null;const{onItemClick:t,onItemDoubleClick:n}=this.props;return u.Children.map(e,(e=>u.cloneElement(e,{onClick:t,onDoubleClick:n})))},this.handleMouseEnter=()=>{const{index:e,onActive:t}=this.props;t&&t(e)}}render(){const{children:e,loading:t,scrolling:n}=this.props,i=eo()("column--VK3btZlKmv",{"scrolling--eabimoLL8S":n});return u.createElement("div",{className:i,onMouseEnter:this.handleMouseEnter,role:"button"},t?u.createElement("div",{className:"loader--S16ego3TAQ"},u.createElement(ao,null)):this.cloneItems(e))}}jw.defaultProps={loading:!1,scrolling:!1};var Nw,Fw,Yw,Bw,Hw,Vw,Ww={toolbar:"toolbar--LJUfLcoFR9",item:"item--WlGyl3KT0S",primary:"primary--n037Ag2Tam",secondary:"secondary--vqAoYArmm_"};function Uw(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function $w(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var qw,Kw,Gw,Zw,Jw,Xw=Br(((Vw=class extends u.Component{constructor(...e){super(...e),Uw(this,"open",Yw,this),Uw(this,"handleClick",Bw,this),Uw(this,"handleMenuClose",Hw,this)}renderButton(){const{icon:e,skin:t}=this.props,n=eo()(Ww.item,Ww[t]);return u.createElement("button",{className:n,onClick:this.handleClick,type:"button"},u.createElement(ro,{name:e}),u.createElement(ro,{className:"button-arrow-icon--jbCVbCHo42",name:"su-angle-down"}))}render(){return u.createElement(u.Fragment,null,u.createElement(ih,{anchorElement:this.renderButton(),onClose:this.handleMenuClose,open:this.open},u.createElement(ih.Section,null,this.props.options.map((({disabled:e,label:t,onClick:n},i)=>u.createElement(ih.Action,{disabled:e,key:i,onClick:n},t))))))}}).defaultProps={skin:"primary"},Yw=$w((Fw=Vw).prototype,"open",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bw=$w(Fw.prototype,"handleClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.open=!0}}}),Hw=$w(Fw.prototype,"handleMenuClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.open=!1}}}),Nw=Fw))||Nw;class Qw extends u.Component{constructor(...e){super(...e),this.handleClick=()=>{this.props.onClick()},this.render=()=>{const{icon:e,skin:t}=this.props,n=eo()(Ww.item,Ww[t]);return u.createElement("button",{className:n,onClick:this.handleClick,type:"button"},u.createElement(ro,{name:e}))}}}function ek(){return ek=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ek.apply(this,arguments)}function tk(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function nk(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Qw.defaultProps={skin:"primary"};var ik,rk,ok,sk,ak,lk,ck,uk=Br(((Jw=class extends u.Component{constructor(...e){super(...e),tk(this,"toolbar",Gw,this),tk(this,"setToolbarRef",Zw,this),this.renderToolbarItems=e=>e.map(((e,t)=>{switch(e.type){case"dropdown":return u.createElement(Xw,ek({},e,{key:t}));case"button":return u.createElement(Qw,ek({},e,{key:t}));default:throw new Error('Unknown toolbar item type given: "'+e.type+'"')}}))}render(){const{toolbarItems:e}=this.props;return u.createElement("div",{className:Ww.toolbar,ref:this.setToolbarRef},this.renderToolbarItems(e))}}).defaultProps={toolbarItems:[]},Gw=nk((Kw=Jw).prototype,"toolbar",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zw=nk(Kw.prototype,"setToolbarRef",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{toolbarRef:t}=this.props;t&&t(e)}}}),qw=Kw))||qw;function dk(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function hk(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var pk=Br(((ck=class extends u.Component{constructor(...e){super(...e),dk(this,"activeColumnIndex",ok,this),dk(this,"scrollPosition",sk,this),this.setContainerRef=e=>{e&&(this.container=e)},this.setToolbarRef=e=>{e&&(this.toolbar=e)},dk(this,"handleScroll",ak,this),dk(this,"handleActive",lk,this),this.cloneColumns=e=>{const{onItemClick:t,onItemDoubleClick:n}=this.props,i=this.containerScrolling;return u.Children.map(e,((e,r)=>u.cloneElement(e,{index:r,onActive:this.handleActive,onItemClick:t,onItemDoubleClick:n,scrolling:i})))}}componentDidMount(){this.container.addEventListener("scroll",this.handleScroll)}componentWillUnmount(){this.container.removeEventListener("scroll",this.handleScroll)}componentDidUpdate(e){const{children:t}=this.props;this.activeColumnIndex>=u.Children.count(t)&&(this.activeColumnIndex=0),this.container&&this.props.children!==e.children&&(this.container.scrollLeft=this.columnWidth*(u.Children.count(t)-1))}get columnWidth(){const e=parseInt("300px");return isNaN(e)?0:e}get containerWidth(){return this.container?this.container.clientWidth:0}get containerScrollWidth(){return this.container?this.container.scrollWidth:0}get containerScrolling(){return this.containerWidth<this.containerScrollWidth}render(){const{children:e}=this.props,t=-this.scrollPosition+this.activeColumnIndex*this.columnWidth,n=eo()("column-list-container--MrJw3zhgy7",{"first-visible-column-active--WUvsMulb9g":t<=0,"last-visible-column-active--E_0iILWYfF":t>=this.containerWidth-this.columnWidth}),i=this.props.toolbarItemsProvider(this.activeColumnIndex);return u.createElement("div",{className:"column-list-toolbar-container--_oaxTKrZDo"},!!i&&u.createElement("div",{className:"toolbar-container--n_QKgOUS20",style:{marginLeft:t}},!!i.length&&u.createElement(uk,{toolbarItems:i,toolbarRef:this.setToolbarRef})),u.createElement("div",{className:n,ref:this.setContainerRef},u.createElement("div",{className:"column-list--ESc8EVjaUn"},this.cloneColumns(e))))}}).Column=jw,ck.Item=Rw,ok=hk((rk=ck).prototype,"activeColumnIndex",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),sk=hk(rk.prototype,"scrollPosition",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),hk(rk.prototype,"componentDidUpdate",[ht],Object.getOwnPropertyDescriptor(rk.prototype,"componentDidUpdate"),rk.prototype),ak=hk(rk.prototype,"handleScroll",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.scrollPosition=this.container.scrollLeft}}}),lk=hk(rk.prototype,"handleActive",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{void 0!==e&&(this.activeColumnIndex=e)}}}),ik=rk))||ik;class fk extends u.Component{render(){const{className:e}=this.props,t=eo()("ghost-indicator--EG58ZO40ip",e);return u.createElement("span",{className:t},this.props.locale)}}var mk=fk;class gk extends u.Component{render(){const{className:e,draft:t,published:n}=this.props;if(!t&&!n)return null;const i=eo()("publish-indicator--beTsRji7Z2",e);return u.createElement("div",{className:i},n&&u.createElement("span",{className:"published--WLdO7KF3Er"}),t&&u.createElement("span",{className:"draft--mHW5ZeSa8Z"}))}}gk.defaultProps={draft:!1,published:!1};var bk,yk,vk=gk;class _k{setStructureStrategy(e){this.structureStrategy=e}load(e,t){throw new Error("Not implemented")}}class wk extends _k{constructor(e={}){super(),this.options=e}load(e,t,n){return this.options.paginated||(t.page=void 0,t.limit=void 0),La.getList(e,{...t}).then(ht((t=>{const i=t._embedded[e];return this.structureStrategy.clear(n),i.forEach((e=>this.structureStrategy.addItem(e,n))),t})))}}function kk(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function Ck(e,t,n){e.filter(((e,n)=>n>t)).forEach((e=>n.delete(e)))}let Ek=(bk=class{get visibleItems(){return this.data.reduce(((e,t)=>e.concat(...t)),[])}get activeItems(){return Array.from(this.rawData.keys())}get data(){return Array.from(this.rawData.values())}constructor(){!function(e,t,n,i){n&&Object.defineProperty(e,"rawData",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}(this,0,yk,this),this.rawData.set(void 0,[])}activate(e){const t=this.data.findIndex((t=>-1!==t.findIndex((t=>t.id===e))));Ck(this.activeItems,t,this.rawData),this.rawData.set(e,[])}remove(e){for(const t of this.activeItems.keys()){const n=this.activeItems[t];if(!n)continue;const i=this.rawData.get(n);if(i)for(const r of i.keys()){const o=i[r].id;if(o===e&&(this.activeItems.includes(o)&&Ck(this.activeItems,t,this.rawData),i.splice(r,1),0===i.length)){const e=this.findById(n);e&&(e.hasChildren=!1)}}}}findById(e){for(const t of this.data)for(const n of t)if(n.id===e)return n}order(e,t){for(const n of this.rawData.keys()){const i=this.rawData.get(n);if(!i)continue;const r=i.findIndex((t=>t.id===e));if(-1!==r)return void this.rawData.set(n,ho(i,r,t-1))}throw new Error('The id "'+e+'" was tried to be ordered to a different position, but it does not exist!')}clear(e){e||(this.rawData.clear(),this.rawData.set(e,[]));const t=this.activeItems.indexOf(e);if(-1===t)return;Ck(this.activeItems,t,this.rawData);const n=this.rawData.get(e);n&&n.length>0&&n.splice(0,n.length)}addItem(e,t){let n=this.rawData.get(t);if(n||(n=[],this.rawData.set(t,n)),n.push(e),!e._embedded)return;const i=Object.keys(e._embedded)[0],r=e._embedded[i];O(r)&&!this.rawData.has(e.id)&&(this.rawData.set(e.id,[]),r.forEach((t=>{this.addItem(t,e.id)})))}},yk=kk(bk.prototype,"rawData",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),kk(bk.prototype,"visibleItems",[ge],Object.getOwnPropertyDescriptor(bk.prototype,"visibleItems"),bk.prototype),kk(bk.prototype,"activeItems",[ge],Object.getOwnPropertyDescriptor(bk.prototype,"activeItems"),bk.prototype),kk(bk.prototype,"data",[ge],Object.getOwnPropertyDescriptor(bk.prototype,"data"),bk.prototype),kk(bk.prototype,"remove",[ht],Object.getOwnPropertyDescriptor(bk.prototype,"remove"),bk.prototype),kk(bk.prototype,"order",[ht],Object.getOwnPropertyDescriptor(bk.prototype,"order"),bk.prototype),kk(bk.prototype,"clear",[ht],Object.getOwnPropertyDescriptor(bk.prototype,"clear"),bk.prototype),bk);var xk,Sk,Ok,Tk,Mk,Pk;function Dk(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Lk(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let Ak=Br((Pk=class extends Ag{constructor(...e){super(...e),Dk(this,"orderColumn",Ok,this),Dk(this,"handleItemClick",Tk,this),Dk(this,"handleItemDoubleClick",Mk,this),this.handleItemSelectionChange=e=>{const{onItemSelectionChange:t,selections:n}=this.props;t&&t(e,!n.includes(e))},this.handleOrderChange=(e,t)=>{const{data:n,onRequestItemOrder:i}=this.props;if(!i)throw new Error("Items were tried to order although there is no onRequestItemOrder callback available. This should not happen and is likely a bug.");if(void 0===this.orderColumn||null===this.orderColumn)throw new Error("Ordering can only be changed if a column has been selected to be ordered. This should not happen and is likely a bug.");const r=n[this.orderColumn].length;return t>r&&(t=r),i(e,t).then((({ordered:e})=>e))},this.getIndicators=e=>{if(e.ghostLocale)return[u.createElement(mk,{key:"ghost",locale:e.ghostLocale})];const t=[];if(e._hasPermissions&&t.push(u.createElement(ro,{key:"permissions",name:"su-permissions"})),"internal"===e.linked?t.push(u.createElement(ro,{key:"internal",name:"su-link2"})):"external"===e.linked?t.push(u.createElement(ro,{key:"external",name:"su-link"})):e.shadowLocale&&t.push(u.createElement(ro,{key:"shadow",name:"su-shadow-page"})),void 0!==e.publishedState||void 0!==e.published){const n=!e.publishedState,i=!!e.published;!n&&i||t.push(u.createElement(vk,{draft:n,key:"publish",published:i}))}const{adapterOptions:{get_indicators:n}={}}=this.props;if(n){if("function"!=typeof n)throw new Error('The "get_indicators" option of the ColumnListAdapter must be a function!');t.push(...n(e))}return t},this.getButtons=e=>{const{onItemClick:t,onItemSelectionChange:n}=this.props,i=!!e.ghostLocale,r=[],{_permissions:{view:o=!0,edit:s=!0}={}}=e;if(t){const e=i?"su-plus-circle":s?"su-pen":"su-eye";r.push({icon:e,onClick:t,visible:o})}if(n){const e={icon:"su-check",onClick:this.handleItemSelectionChange};r.push(e)}return r},this.getToolbarItems=e=>{const{activeItems:t,adapterOptions:{display_root_level_toolbar:n=!0}={},data:i,onItemAdd:r,onRequestItemCopy:o,onRequestItemDelete:s,onRequestItemMove:a,onRequestItemOrder:l}=this.props;if(!t)throw new Error("The ColumnListAdapter does not work without activeItems. This error should not happen and is likely a bug.");if(!n&&!t[e])return[];if(this.orderColumn===e)return[{icon:"su-times",type:"button",onClick:ht((()=>{this.orderColumn=void 0}))}];const c=[],u=i[e-1],d=u?u.find((n=>n.id===t[e])):void 0,{_permissions:{add:h=!0,edit:p=!0}={}}=d||{};r&&h&&c.push({icon:"su-plus-circle",type:"button",onClick:()=>{r(t[e])}});const f=void 0!==t[e+1],m=i[e],g=m?m.find((n=>n.id===t[e+1])):void 0,{_permissions:{delete:b=!0,edit:y=!0}={}}=g||{},v=[];return s&&v.push({disabled:!f||!b,label:Xs("sulu_admin.delete"),onClick:()=>{const n=t[e+1];if(!n)throw new Error("An undefined itemId cannot be deleted! This should not happen and is likely a bug.");s(n)}}),a&&v.push({disabled:!f||!y,label:Xs("sulu_admin.move"),onClick:()=>{const n=t[e+1];if(!n)throw new Error("An undefined itemId cannot be deleted! This should not happen and is likely a bug.");a(n)}}),o&&v.push({disabled:!f||!y,label:Xs("sulu_admin.copy"),onClick:()=>{const n=t[e+1];if(!n)throw new Error("An undefined itemId cannot be deleted! This should not happen and is likely a bug.");o(n)}}),l&&v.push({disabled:!p,label:Xs("sulu_admin.order"),onClick:ht((()=>{this.orderColumn=e}))}),v.length>0&&c.push({icon:"su-cog",type:"dropdown",options:v}),c.length>0?c:void 0}}render(){const{activeItems:e,disabledIds:t,loading:n,selections:i}=this.props;return u.createElement("div",{className:"column-list-adapter--nsHPbH9TDm"},u.createElement(pk,{onItemClick:this.handleItemClick,onItemDoubleClick:this.handleItemDoubleClick,toolbarItemsProvider:this.getToolbarItems},this.props.data.map(((r,o)=>u.createElement(pk.Column,{key:o,loading:o>=this.props.data.length-1&&n},r.map(((n,r)=>u.createElement(pk.Item,{active:e?e.includes(n.id):void 0,buttons:this.getButtons(n),disabled:t.includes(n.id),hasChildren:n.hasChildren,id:n.id,indicators:this.getIndicators(n),key:n.id,onOrderChange:this.handleOrderChange,order:r+1,selected:i.includes(n.id),showOrderField:this.orderColumn===o},n.title||n.name))))))))}},Pk.LoadingStrategy=wk,Pk.StructureStrategy=Ek,Pk.icon="su-columns",Pk.searchable=!1,Pk.paginatable=!1,Pk.defaultProps={data:[]},Ok=Lk((Sk=Pk).prototype,"orderColumn",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Tk=Lk(Sk.prototype,"handleItemClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{data:t,onItemActivate:n}=this.props;void 0!==this.orderColumn&&null!==this.orderColumn&&t[this.orderColumn].some((t=>t.id===e))||n&&(n(e),this.orderColumn=void 0)}}}),Mk=Lk(Sk.prototype,"handleItemDoubleClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{data:t,onItemClick:n}=this.props,i=t.map((e=>Mt(e))).flat().find((t=>t.id===e))||{},{_permissions:{view:r=!0}={}}=i;n&&r&&n(e)}}}),xk=Sk))||xk;var zk=Ak,Ik={table:"table--VEZk6p5fMN",header:"header--X0v_oyR1ZH","header-cell":"header-cell--WzewAehL94",headerCell:"header-cell--WzewAehL94",cell:"cell--H_86gjONTL","button-cell":"button-cell--k_V3eCBeMd",buttonCell:"button-cell--k_V3eCBeMd",clickable:"clickable--Xy5J_nqxU4",shrink:"shrink--rlxU21I9YN","cell-content":"cell-content--gxAWPnDX4J",cellContent:"cell-content--gxAWPnDX4J","toggle-icon":"toggle-icon--GVUcinKNlF",toggleIcon:"toggle-icon--GVUcinKNlF","cell-select":"cell-select--lkJqRzA8m4",cellSelect:"cell-select--lkJqRzA8m4","header-cell-sort-icon":"header-cell-sort-icon--V_AcYRO7dJ",headerCellSortIcon:"header-cell-sort-icon--V_AcYRO7dJ","header-button-cell":"header-button-cell--QkoW9lXmHp",headerButtonCell:"header-button-cell--QkoW9lXmHp",row:"row--eIUMx306dl",disabled:"disabled--kHx031gqHL","table-placeholder-area":"table-placeholder-area--sSade0Wj6B",tablePlaceholderArea:"table-placeholder-area--sSade0Wj6B","table-placeholder-icon":"table-placeholder-icon--A_AETnATU1",tablePlaceholderIcon:"table-placeholder-icon--A_AETnATU1","table-placeholder-text":"table-placeholder-text--BEBjkfCh2v",tablePlaceholderText:"table-placeholder-text--BEBjkfCh2v",dark:"dark--RHXKQwhD58",light:"light--Yq1LmGOVGu",flat:"flat--CteCwWO9T3","has-buttons":"has-buttons--ahgJBhMlm1",hasButtons:"has-buttons--ahgJBhMlm1"};class Rk extends u.PureComponent{constructor(...e){super(...e),this.getSortOrderIcon=()=>{const{sortOrder:e}=this.props;switch(e){case"asc":return u.createElement(ro,{className:Ik.headerCellSortIcon,name:"su-angle-up"});case"desc":return u.createElement(ro,{className:Ik.headerCellSortIcon,name:"su-angle-down"});default:return null}},this.handleOnClick=()=>{const{name:e,onClick:t,sortOrder:n}=this.props;t&&e&&t(e,"asc"===n?"desc":"asc")}}render(){const{onClick:e,children:t,className:n,width:i}=this.props,r=eo()(n,Ik.headerCell,{[Ik.clickable]:!!e},{[Ik[i]]:"auto"!==i});return u.createElement("th",{className:r},!e&&u.createElement("span",null,t),e&&u.createElement("button",{onClick:this.handleOnClick,type:"button"},t,this.getSortOrderIcon()))}}Rk.defaultProps={width:"auto"};class jk extends u.PureComponent{constructor(...e){super(...e),this.isMultipleSelect=()=>"multiple"===this.props.selectMode,this.isSingleSelect=()=>"single"===this.props.selectMode,this.createHeader=e=>{const{buttons:t,selectInFirstCell:n}=this.props,i=[],r=this.createHeaderCells(e);if(t&&t.length>0){const e=this.createHeaderButtonCells();e&&i.push(...e)}return n||(this.isMultipleSelect()?i.push(this.createCheckboxCell()):this.isSingleSelect()&&i.push(this.createEmptyCell())),r.unshift(...i),r},this.createHeaderCells=e=>u.Children.map(e,((e,t)=>{const n=`header-${t}`,{props:i}=e;let{children:r}=i;return 0===t&&(r=this.createFirstCell(r)),u.cloneElement(e,{...i,key:n,children:r})})),this.createFirstCell=e=>{const{allSelected:t,selectInFirstCell:n,onAllSelectionChange:i,skin:r}=this.props;return n&&this.isMultipleSelect()&&i?u.createElement(u.Fragment,null,u.createElement("span",{className:Ik.cellSelect},u.createElement(mu,{checked:t,onChange:this.handleAllSelectionChange,skin:"dark"===r?"light":"dark"})),e):e},this.createHeaderButtonCells=()=>{const{buttons:e}=this.props;return e?e.map(((e,t)=>{const n=`header-button-${t}`;return u.createElement(Rk,{className:Ik.headerButtonCell,key:n},u.createElement(ro,{name:e.icon}))})):null},this.createCheckboxCell=()=>{const{skin:e}=this.props;return u.createElement(Rk,{key:"header-checkbox"},u.createElement(mu,{checked:this.props.allSelected,onChange:this.handleAllSelectionChange,skin:"dark"===e?"light":"dark"}))},this.createEmptyCell=()=>u.createElement(Rk,{key:"header-empty"}),this.handleAllSelectionChange=e=>{const{onAllSelectionChange:t}=this.props;t&&t(e)}}render(){const{children:e}=this.props,t=this.createHeader(e);return u.createElement("thead",{className:Ik.header},u.createElement("tr",null,t))}}jk.defaultProps={allSelected:!1,selectInFirstCell:!1,selectMode:"none",skin:"dark"};var Nk,Fk,Yk={radio:"radio--MmPURpR9cG",dark:"dark--CFuwOY6trz",light:"light--itYOZGur_c",disabled:"disabled--D29hHIq7vM"};class Bk extends u.PureComponent{constructor(...e){super(...e),this.handleChange=(e,t)=>{this.props.onChange&&this.props.onChange(t)}}render(){const{disabled:e,name:t,value:n,checked:i,children:r}=this.props,o=eo()(Yk.radio,Yk[this.props.skin],{[Yk.disabled]:e});return u.createElement(nu,{checked:i,className:o,disabled:e,name:t,onChange:this.handleChange,type:"radio",value:n},r)}}Bk.defaultProps={checked:!1,disabled:!1,skin:"dark"};class Hk extends u.PureComponent{render(){return u.createElement("div",{className:this.props.className},u.Children.map(this.props.children,(e=>u.cloneElement(e,{checked:!!this.props.value&&e.props.value===this.props.value,disabled:this.props.disabled,onChange:this.props.onChange}))))}}Hk.defaultProps={disabled:!1};class Vk extends u.PureComponent{render(){const{colSpan:e,children:t,className:n,depth:i,width:r}=this.props,o=eo()(n,Ik.cell,{[Ik[r]]:"auto"!==r}),s={};return i&&(s.paddingLeft=25*i+"px"),u.createElement("td",{className:o,colSpan:e},u.createElement("div",{className:Ik.cellContent,style:s},t))}}Vk.defaultProps={width:"auto"};class Wk extends u.PureComponent{constructor(...e){super(...e),this.handleClick=()=>{const{rowIndex:e,onClick:t,rowId:n}=this.props;t&&t(n,e)}}render(){const{disabled:e,icon:t}=this.props;return u.createElement(Vk,{className:Ik.buttonCell},u.createElement("button",{disabled:e,onClick:this.handleClick,type:"button"},u.createElement(ro,{name:t})))}}Wk.defaultProps={disabled:!1};class Uk extends u.PureComponent{constructor(...e){super(...e),this.getIdentifier=()=>{const{id:e,rowIndex:t}=this.props;return e||t},this.isMultipleSelect=()=>"multiple"===this.props.selectMode,this.isSingleSelect=()=>"single"===this.props.selectMode,this.createCells=e=>{const{buttons:t,selectInFirstCell:n}=this.props,i=[];if(t&&t.length>0){const e=this.createButtonCells();e&&i.push(...e)}if(!n){const e=this.createSelect();e&&i.push(u.createElement(Vk,{key:"choice",width:"shrink"},e))}const r=this.cloneCells(e);return r.unshift(i),r},this.cloneCells=e=>u.Children.map(e,((e,t)=>{const n=`cell-${t}`,{props:i}=e,r=0===t,{depth:o}=this.props;let{children:s}=i;return r&&(s=this.createFirstCell(s)),u.cloneElement(e,{...i,key:n,children:s,depth:r&&o?o:void 0})})),this.createFirstCell=e=>{const{hasChildren:t,selectInFirstCell:n,onSelectionChange:i}=this.props;return u.createElement(u.Fragment,null,n&&i&&u.createElement("div",{className:Ik.cellSelect},this.createSelect()),t&&this.createToggler(),e)},this.createSelect=()=>this.props.onSelectionChange?this.isSingleSelect()?this.createRadioCell():this.isMultipleSelect()?this.createCheckboxCell():void 0:null,this.createToggler=()=>{const{isLoading:e,expanded:t}=this.props;return u.createElement("span",{className:Ik.toggleIcon},e?u.createElement(so,{size:10}):u.createElement(io,{name:!0===t?"su-angle-down":"su-angle-right",onClick:!1===t?this.handleExpand:this.handleCollapse}))},this.createRadioCell=()=>{const{selected:e}=this.props;return u.createElement(Bk,{checked:e,onChange:this.handleSingleSelectionChange,skin:"dark",value:this.getIdentifier()})},this.createCheckboxCell=()=>{const{selected:e}=this.props;return u.createElement(mu,{checked:e,onChange:this.handleMultipleSelectionChange,skin:"dark",value:this.getIdentifier()})},this.createButtonCells=()=>{const{buttons:e,rowIndex:t}=this.props;return e?e.map(((e,n)=>{const i=`control-${t}-${n}`,{disabled:r,icon:o,onClick:s}=e;return u.createElement(Wk,{disabled:r,icon:o,key:i,onClick:s,rowId:this.getIdentifier(),rowIndex:t})})):null},this.handleCollapse=()=>{const{onCollapse:e}=this.props;e&&e(this.getIdentifier())},this.handleExpand=()=>{const{onExpand:e}=this.props;e&&e(this.getIdentifier())},this.handleSingleSelectionChange=e=>{const{onSelectionChange:t}=this.props;t&&e&&t(e)},this.handleMultipleSelectionChange=(e,t)=>{const{onSelectionChange:n}=this.props;n&&null!=t&&n(t,e)}}render(){const{children:e,disabled:t}=this.props,n=eo()(Ik.row,{[Ik.disabled]:t}),i=this.createCells(e);return u.createElement("tr",{className:n},i)}}Uk.defaultProps={depth:0,disabled:!1,expanded:!1,hasChildren:!1,isLoading:!1,rowIndex:0,selected:!1,selectInFirstCell:!1};class $k extends u.PureComponent{constructor(...e){super(...e),this.cloneRows=e=>{if(!e)return;const{buttons:t,selectMode:n}=this.props;return u.Children.map(e,((e,i)=>u.cloneElement(e,{buttons:t,...e.props,key:`body-row-${i}`,rowIndex:i,selectMode:n,selectInFirstCell:this.props.selectInFirstCell,onSelectionChange:this.props.onRowSelectionChange?this.handleRowSelectionChange:void 0,onExpand:this.handleRowExpand,onCollapse:this.handleRowCollapse})))},this.handleRowSelectionChange=(e,t)=>{const{onRowSelectionChange:n}=this.props;n&&n(e,t)},this.handleRowExpand=e=>{const{onRowExpand:t}=this.props;t&&t(e)},this.handleRowCollapse=e=>{const{onRowCollapse:t}=this.props;t&&t(e)}}render(){const{children:e}=this.props,t=this.cloneRows(e);return u.createElement("tbody",null,t)}}$k.defaultProps={selectInFirstCell:!1,selectMode:"none"};var qk,Kk,Gk=Br(((Fk=class extends u.Component{constructor(...e){super(...e),this.cloneHeader=(e,t)=>{if(!e)return null;const{buttons:n,onAllSelectionChange:i,selectMode:r,selectInFirstCell:o,skin:s}=this.props;return u.cloneElement(e,{allSelected:t,buttons:[...n,...e.props.buttons||[]],onAllSelectionChange:i?this.handleAllSelectionChange:void 0,selectMode:r,selectInFirstCell:o,skin:s})},this.cloneBody=e=>e?u.cloneElement(e,{buttons:this.props.buttons,selectMode:this.props.selectMode,selectInFirstCell:this.props.selectInFirstCell,onRowSelectionChange:this.props.onRowSelectionChange?this.handleRowSelectionChange:void 0,onRowExpand:this.handleRowExpand,onRowCollapse:this.handleRowCollapse}):null,this.checkAllRowsSelected=e=>{const t=e.props.children;if(!t)return!1;return!u.Children.map(t,(e=>e.props.selected||e.props.disabled)).includes(!1)},this.createTablePlaceholderArea=()=>{const{placeholderText:e}=this.props;return u.createElement("div",{className:Ik.tablePlaceholderArea},u.createElement(ro,{className:Ik.tablePlaceholderIcon,name:"su-battery-low"}),e&&u.createElement("div",{className:Ik.tablePlaceholderText},e))},this.handleRowExpand=e=>{const{onRowExpand:t}=this.props;t&&t(e)},this.handleRowCollapse=e=>{const{onRowCollapse:t}=this.props;t&&t(e)},this.handleAllSelectionChange=e=>{const{onAllSelectionChange:t}=this.props;t&&t(e)},this.handleRowSelectionChange=(e,t)=>{const{onRowSelectionChange:n}=this.props;n&&n(e,t)}}render(){const{buttons:e,children:t,skin:n}=this.props;let i,r;u.Children.forEach(t,(e=>{if(e)switch(e.type){case jk:r=e;break;case $k:i=e;break;default:throw new Error("The Table component only accepts the following children types: "+[jk.name,$k.name].join(", "))}}));const o=this.cloneBody(i),s=o&&0===u.Children.count(o.props.children),a=!(!o||s)&&this.checkAllRowsSelected(o),l=this.cloneHeader(r,a),c=eo()(Ik.tableContainer,Ik[n],{[Ik.hasButtons]:e.length>0});return u.createElement("div",{className:c},u.createElement("table",{className:Ik.table},l,o),s&&this.createTablePlaceholderArea())}}).defaultProps={buttons:[],selectMode:"none",skin:"dark"},Fk.Header=jk,Fk.Body=$k,Fk.Row=Uk,Fk.Cell=Vk,Fk.HeaderCell=Rk,Nk=Fk))||Nk;function Zk(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function Jk(e,t=[]){t.push(...e.map((e=>e.data)));for(const n of e)Jk(n.children,t);return t}function Xk(e,t){for(const n of e){if(n.data.id===t)return n.data;const e=Xk(n.children,t);if(e)return e}}function Qk(e,t){if(e.some((e=>e.data.id===t)))return e;for(const n of e){const e=Qk(n.children,t);if(e)return e}}function eC(e,t){for(const n of e.keys()){const i=e[n];if(i.data.id===t)return e.splice(n,1),!0;if(eC(i.children,t)&&0===i.children.length)return i.hasChildren=!1,!0}return!1}function tC(e,t){if(void 0===t)return e;for(let n=0;n<e.length;n++){const i=e[n],{data:r,children:o}=i;if(t===r.id)return o;const s=tC(o,t);if(s)return s}}let nC=(qk=class{constructor(){!function(e,t,n,i){n&&Object.defineProperty(e,"data",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}(this,0,Kk,this)}get visibleItems(){return Jk(this.data)}order(e,t){const n=Qk(this.data,e);if(!n)throw new Error('The id "'+e+'" was tried to be ordered to a different position, but it does not exist!');const i=n.findIndex((t=>t.data.id===e));n.splice(0,n.length,...ho(n,i,t-1))}remove(e){eC(this.data,e)}findById(e){return Xk(this.data,e)}deactivate(e){const t=tC(this.data,e);t&&t.splice(0,t.length)}addItem(e,t){const n=tC(this.data,t);if(!n)throw new Error('Cannot add items to non-existing parentId "'+(t||"undefined")+'"!');if(n.push({data:e,hasChildren:e.hasChildren,children:[]}),e._embedded&&Object.keys(e._embedded).length>0){const t=Object.keys(e._embedded)[0],n=e._embedded[t];n&&n.forEach((t=>this.addItem(t,e.id)))}}clear(e){const t=tC(this.data,e);t&&0!==t.length&&t.splice(0,t.length)}},Kk=Zk(qk.prototype,"data",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Zk(qk.prototype,"visibleItems",[ge],Object.getOwnPropertyDescriptor(qk.prototype,"visibleItems"),qk.prototype),Zk(qk.prototype,"order",[ht],Object.getOwnPropertyDescriptor(qk.prototype,"order"),qk.prototype),Zk(qk.prototype,"clear",[ht],Object.getOwnPropertyDescriptor(qk.prototype,"clear"),qk.prototype),qk);var iC,rC,oC,sC,aC,lC,cC="display--U9GazeKQ5o";function uC(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function dC(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const hC=[10,20,50,100];let pC=Br((lC=class extends u.Component{constructor(...e){super(...e),uC(this,"currentInputValue",oC,this),this.hasNextPage=()=>{const{currentPage:e,totalPages:t}=this.props;return!(!e||!t)&&e<t},this.hasPreviousPage=()=>{const{currentPage:e}=this.props;return!!e&&e>1},this.handlePreviousClick=()=>{const{currentPage:e,onPageChange:t}=this.props;this.hasPreviousPage()&&e&&t(e-1)},this.handleNextClick=()=>{const{currentPage:e,onPageChange:t}=this.props;this.hasNextPage()&&e&&t(e+1)},this.handleLimitChange=e=>{const{currentLimit:t,onLimitChange:n}=this.props,i=parseInt(e);i!==t&&n(i)},uC(this,"handleInputChange",sC,this),this.handleInputBlur=()=>{this.validateAndSubmitInputValue()},this.handleInputKeyPress=e=>{"Enter"===e&&this.validateAndSubmitInputValue()},uC(this,"validateAndSubmitInputValue",aC,this)}componentDidMount(){const{currentPage:e}=this.props;this.currentInputValue=e,this.validateAndSubmitInputValue()}componentDidUpdate(e){const{currentPage:t,totalPages:n}=this.props;e.currentPage!==t&&(this.currentInputValue=t,this.validateAndSubmitInputValue()),e.totalPages!==n&&this.validateAndSubmitInputValue()}render(){const{currentInputValue:e}=this,{children:t,loading:n,totalPages:i,currentLimit:r}=this.props;return u.createElement("section",null,t,u.createElement("nav",{className:"pagination--McMnEDbae4"},u.createElement("span",{className:cC},Xs("sulu_admin.per_page"),":"),u.createElement("span",null,u.createElement(zp,{onChange:this.handleLimitChange,skin:"dark",value:r},hC.map((e=>u.createElement(zp.Option,{key:e,value:e},e))))),u.createElement("div",{className:"loader--zhTi3IgoAn"},n&&u.createElement(ao,{size:24})),u.createElement("span",null,Xs("sulu_admin.page"),":"),u.createElement("span",{className:"inputContainer--NgIIEVCBmc"},u.createElement(kl,{alignment:"center",inputMode:"numeric",onBlur:this.handleInputBlur,onChange:this.handleInputChange,onKeyPress:this.handleInputKeyPress,skin:"dark",type:"text",value:e})),u.createElement("span",{className:cC},Xs("sulu_admin.of")," ",i),u.createElement(Gg,null,u.createElement(uo,{disabled:!this.hasPreviousPage(),icon:"su-angle-left",onClick:this.handlePreviousClick}),u.createElement(uo,{disabled:!this.hasNextPage(),icon:"su-angle-right",onClick:this.handleNextClick}))))}},lC.defaultProps={loading:!1},oC=dC((rC=lC).prototype,"currentInputValue",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),dC(rC.prototype,"componentDidMount",[ht],Object.getOwnPropertyDescriptor(rC.prototype,"componentDidMount"),rC.prototype),dC(rC.prototype,"componentDidUpdate",[ht],Object.getOwnPropertyDescriptor(rC.prototype,"componentDidUpdate"),rC.prototype),sC=dC(rC.prototype,"handleInputChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{if(void 0===e)return void(this.currentInputValue=void 0);const t=parseInt(e);isNaN(t)||(this.currentInputValue=t)}}}),aC=dC(rC.prototype,"validateAndSubmitInputValue",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{currentPage:e,onPageChange:t,totalPages:n}=this.props;let i=this.currentInputValue;!i||!n||i<1?i=1:i>n&&(i=n),i!==e&&t(i),this.currentInputValue=e}}}),iC=rC))||iC;var fC,mC,gC=pC;let bC=((mC=class extends Ag{get schema(){const{schema:e}=this.props,t={};for(const n of Object.keys(e))"never"!==e[n].visibility&&"no"!==e[n].visibility&&(t[n]=e[n]);return t}renderCells(e){return Object.keys(this.schema).map(((t,n)=>{const i=Dv.get(this.schema[t].type).transform(e[t],this.schema[t].transformerTypeParameters,e),r=[];if(0===n)if(e.ghostLocale)r.push(u.createElement(mk,{className:"ghost-indicator--wkgYBItxWF",key:"ghost",locale:e.ghostLocale}));else if(void 0!==e.publishedState||void 0!==e.published){const t=!e.publishedState,n=!!e.published;!t&&n||r.push(u.createElement(vk,{className:"publish-indicator--H2GhW6M04Y",draft:t,key:"publish",published:n}))}return u.createElement(Gk.Cell,{key:e.id+t,width:this.schema[t].width},r,i)}))}renderHeaderCells(){const{onSort:e,sortColumn:t,sortOrder:n}=this.props;return Object.keys(this.schema).map((i=>{const r=this.schema[i],o=r.label?r.label:i;return u.createElement(Gk.HeaderCell,{key:i,name:i,onClick:r.sortable?e:void 0,sortOrder:t===i?n:void 0,width:this.schema[i].width},o)}))}}).hasColumnOptions=!0,mC.defaultProps={data:[]},function(e,t,n,i,r){var o={};Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}((fC=mC).prototype,"schema",[ge],Object.getOwnPropertyDescriptor(fC.prototype,"schema"),fC.prototype),fC);var yC,vC,_C,wC,kC;function CC(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function EC(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let xC=Br((kC=class extends bC{constructor(...e){super(...e),CC(this,"handleRowCollapse",_C,this),CC(this,"handleRowExpand",wC,this),this.getButtons=e=>{const{itemActionsProvider:t,onItemClick:n,onItemAdd:i}=this.props,{data:{_permissions:{add:r=!0,edit:o=!0,view:s=!0}={}}={}}=e||{},a=[];return n&&a.push({disabled:!s,icon:o?"su-pen":"su-eye",onClick:n}),i&&a.push({disabled:!r,icon:"su-plus-circle",onClick:i}),t&&a.push(...t(e?.data)),a},this.handlePageChange=e=>{const{onPageChange:t,onItemActivate:n}=this.props;n(void 0),t(e)}}renderRows(e,t=0){const n=[],{disabledIds:i,selections:r}=this.props;for(const o of e){const{data:e,hasChildren:s}=o;n.push(u.createElement(Gk.Row,{buttons:this.getButtons(o),depth:t,disabled:i.includes(e.id),expanded:o.children.length>0,hasChildren:s,id:e.id,isLoading:this.props.active===e.id&&this.props.loading,key:e.id,selected:r.includes(e.id)},this.renderCells(e))),n.push(...this.renderRows(o.children,t+1))}return n}render(){const{active:e,data:t,limit:n,loading:i,onAllSelectionChange:r,onItemSelectionChange:o,onLimitChange:s,adapterOptions:{show_header:a=!0,skin:l="dark"}={},options:{showHeader:c=!0},page:d,pageCount:h,paginated:p}=this.props;if(!e&&i)return u.createElement(ao,null);const f=u.createElement(Gk,{buttons:this.getButtons(),onAllSelectionChange:r,onRowCollapse:this.handleRowCollapse,onRowExpand:this.handleRowExpand,onRowSelectionChange:o,selectInFirstCell:!0,selectMode:"multiple",skin:l},a&&c?u.createElement(Gk.Header,null,this.renderHeaderCells()):null,u.createElement(Gk.Body,null,this.renderRows(t)));return!p||1===d&&0===t.length||void 0===h?f:u.createElement(gC,{currentLimit:n,currentPage:d,loading:i,onLimitChange:s,onPageChange:this.handlePageChange,totalPages:h},f)}},kC.LoadingStrategy=wk,kC.StructureStrategy=nC,kC.icon="su-tree-list",_C=EC((vC=kC).prototype,"handleRowCollapse",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.props.onItemDeactivate(e)}}}),wC=EC(vC.prototype,"handleRowExpand",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.props.onItemActivate(e)}}}),yC=vC))||yC;var SC,OC,TC=xC;function MC(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let PC=(SC=class{get visibleItems(){return this.data}constructor(){!function(e,t,n,i){n&&Object.defineProperty(e,"data",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}(this,0,OC,this),this.data=[]}clear(e){if(void 0!==e)throw new Error("This StructureStrategy does not support nesting, therefore the parentId should not be set");this.data.splice(0,this.data.length)}order(e,t){const n=this.data.findIndex((t=>t.id===e));if(-1===n)throw new Error('The id "'+e+'" was tried to be ordered to a different position, but it does not exist!');this.data=ho(this.data,n,t-1)}remove(e){this.data.splice(this.data.findIndex((t=>t.id===e)),1)}findById(e){return this.data.find((t=>t.id===e))}addItem(e,t){if(void 0!==t)throw new Error("This StructureStrategy does not support nesting, therefore the parentId should not be set");this.data.push(e)}},OC=MC(SC.prototype,"data",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),MC(SC.prototype,"visibleItems",[ge],Object.getOwnPropertyDescriptor(SC.prototype,"visibleItems"),SC.prototype),MC(SC.prototype,"clear",[ht],Object.getOwnPropertyDescriptor(SC.prototype,"clear"),SC.prototype),MC(SC.prototype,"order",[ht],Object.getOwnPropertyDescriptor(SC.prototype,"order"),SC.prototype),SC);var DC,LC;let AC=Br((LC=class extends bC{constructor(...e){super(...e),this.getButtons=e=>{const{itemActionsProvider:t,onItemClick:n}=this.props,{_permissions:{edit:i=!0,view:r=!0}={}}=e||{},o=[];return n&&o.push({disabled:!r,icon:i?"su-pen":"su-eye",onClick:n}),t&&o.push(...t(e)),o}}renderRows(){const{data:e,disabledIds:t,selections:n}=this.props;return e.map((e=>u.createElement(Gk.Row,{buttons:this.getButtons(e),disabled:t.includes(e.id),id:e.id,key:e.id,selected:n.includes(e.id)},this.renderCells(e))))}render(){const{data:e,limit:t,loading:n,onAllSelectionChange:i,onItemSelectionChange:r,onLimitChange:o,onPageChange:s,paginated:a,adapterOptions:{show_header:l=!0,skin:c="dark"}={},page:d,pageCount:h}=this.props,p=u.createElement(Gk,{buttons:this.getButtons(),onAllSelectionChange:i,onRowSelectionChange:r,selectMode:r?"multiple":void 0,skin:c},l?u.createElement(Gk.Header,null,this.renderHeaderCells()):null,u.createElement(Gk.Body,null,this.renderRows()));return!a||1===d&&0===e.length||void 0===h?p:u.createElement(gC,{currentLimit:t,currentPage:d,loading:n,onLimitChange:o,onPageChange:s,totalPages:h},p)}},LC.LoadingStrategy=wk,LC.StructureStrategy=PC,LC.icon="su-align-justify",DC=LC))||DC;var zC=AC;class IC extends u.PureComponent{constructor(...e){super(...e),this.handleClick=()=>{this.props.onClick&&this.props.onClick(this.props.id)},this.handleKeypress=e=>{const{onClick:t,id:n}=this.props;t&&("Enter"!==e.key&&" "!==e.key||(e.stopPropagation(),t(n)))}}render(){const{hasPermissions:e,info:t,title:n}=this.props;return u.createElement("div",{className:"folder--yNsNDl4t_p",onClick:this.handleClick,onKeyPress:this.handleKeypress,role:"button",tabIndex:"0"},u.createElement("div",{className:"icon-container--I2o0IHeNCg"},u.createElement(ro,{name:e?"su-folder-permission":"su-folder"})),u.createElement("div",{className:"description--qLKfxjEMBk"},u.createElement("h5",{className:"title--AcmS4Lqg9m"},n),u.createElement("div",{className:"info--kfuHmCnxXA"},t)))}}class RC extends u.PureComponent{constructor(...e){super(...e),this.handleFolderClick=e=>{this.props.onFolderClick&&this.props.onFolderClick(e)}}cloneFolders(e){return u.Children.map(e,(e=>u.createElement("li",null,u.cloneElement(e,{...e.props,onClick:this.handleFolderClick}))))}render(){const{children:e}=this.props,t=this.cloneFolders(e);return u.createElement("ul",{className:"folder-list--gQ41zsaRSA"},t)}}RC.Folder=IC;var jC,NC,FC=RC;let YC=Br((NC=class e extends Ag{static getInfoText(e){const t=1===e.objectCount?Xs("sulu_admin.object"):Xs("sulu_admin.objects");return`${e.objectCount} ${t}`}render(){const{data:t,limit:n,loading:i,onItemClick:r,onLimitChange:o,onPageChange:s,page:a,paginated:l,pageCount:c}=this.props,d=u.createElement(FC,{onFolderClick:r},t.map((t=>u.createElement(FC.Folder,{hasPermissions:t._hasPermissions,id:t.id,info:e.getInfoText(t),key:t.id,title:t.title}))));return!l||1===a&&0===t.length||void 0===c?d:u.createElement(gC,{currentLimit:n,currentPage:a,loading:i,onLimitChange:o,onPageChange:s,totalPages:c},d)}},NC.LoadingStrategy=wk,NC.StructureStrategy=PC,NC.icon="su-folder",NC.defaultProps={data:[]},jC=NC))||jC;var BC=YC;class HC extends _k{constructor(...e){super(...e),this.lastLoadedPage=0}load(e,t,n){let i=new Un((e=>e(void 0)));return i.setAbortController(new AbortController),t.page&&t.page-1!==this.lastLoadedPage&&(1===t.page?(i=new Un((e=>e([]))),i.setAbortController(new AbortController)):i=La.getList(e,{...t,page:1,limit:50*(t.page-1)}).then((t=>t._embedded[e]))),i.then((n=>La.getList(e,{...t,limit:50}).then((e=>[n,e])))).then(ht((([i,r])=>(i&&(this.structureStrategy.clear(),i.forEach((e=>this.structureStrategy.addItem(e,n)))),r._embedded[e].forEach((e=>this.structureStrategy.addItem(e,n))),t.page&&(this.lastLoadedPage=t.page),r))))}}var VC,WC,UC,$C,qC,KC,GC=Pv,ZC={button:"button--F5JXsYWK0U",left:"left--m5ICHQ8hrA",right:"right--qTT6lVq30k","has-options":"has-options--Alt1Of9dGP",hasOptions:"has-options--Alt1Of9dGP",icon:"icon--SxVVUH8VQ1","has-label":"has-label--GT3CEgIqO2",hasLabel:"has-label--GT3CEgIqO2",label:"label--wcw1G6Li8v"};function JC(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function XC(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var QC=Br(((KC=class extends u.Component{constructor(...e){super(...e),JC(this,"open",UC,this),this.handleOptionClick=e=>{const{onClick:t}=this.props;t(e)},JC(this,"handleClick",$C,this),JC(this,"handleClose",qC,this)}render(){const{disabled:e,icon:t,label:n,location:i,options:r}=this.props,o=eo()(ZC.button,ZC[i],{[ZC.hasLabel]:n,[ZC.hasOptions]:r}),s=u.createElement("button",{className:o,disabled:e,onClick:this.handleClick,type:"button"},t&&u.createElement(ro,{className:ZC.icon,name:t}),n&&u.createElement("span",{className:ZC.label},n),r&&u.createElement(ro,{name:"su-angle-down"}));return r?u.createElement(ih,{anchorElement:s,onClose:this.handleClose,open:this.open},u.createElement(ih.Section,null,r.map((e=>u.createElement(ih.Action,{icon:e.icon,key:e.value,onClick:this.handleOptionClick,value:e.value},e.label))))):s}}).defaultProps={disabled:!1},UC=XC((WC=KC).prototype,"open",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$C=XC(WC.prototype,"handleClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{onClick:e,options:t}=this.props;t?this.open=!0:e()}}}),qC=XC(WC.prototype,"handleClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.open=!1}}}),VC=WC))||VC;function eE(){return eE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},eE.apply(this,arguments)}class tE extends u.PureComponent{render(){const{disabled:e,label:t,loading:n,emptyList:i,leftButton:r,rightButton:o}=this.props,s=eo()("header--gcAz5w34v_",{"disabled--ojwixlEnW9":e,"empty-list--lUQDyyvoJL":i});return u.createElement("div",{className:s},r&&u.createElement(QC,eE({},r,{location:"left"})),u.createElement("div",{className:"label--LXzcMQ4yYK"},n&&u.createElement("div",{className:"loader--IlLlpTcwEw"},u.createElement(ao,{size:24})),!n&&t),o&&u.createElement(QC,eE({},o,{location:"right"})))}}tE.defaultProps={disabled:!1,emptyList:!0};var nE="button--iDLKfITVsz";class iE extends u.PureComponent{constructor(...e){super(...e),this.handleEdit=()=>{const{id:e,onEdit:t}=this.props;t&&t(e)},this.handleRemove=()=>{const{id:e,onRemove:t}=this.props;t&&t(e)},this.handleClick=()=>{const{id:e,onClick:t,value:n}=this.props;t&&t(e,n)}}createDragHandle(){const{sortable:e}=this.props,t=({className:e,children:t})=>u.createElement("span",{className:e},t);return e?Ib(t):t}render(){const{allowRemoveWhileDisabled:e,children:t,disabled:n,index:i,onClick:r,onEdit:o,onRemove:s,sortable:a}=this.props,l=this.createDragHandle(),c=eo()("item--DqBOBF9Z5I",{"disabled--kvtoDLm0Wt":n}),d=eo()("content--P1uML5QoXw",{"clickable--kitmWqA9fS":r}),h=eo()("drag-handle--jGbQuIcI_8",{"sortable--UwMSUPWg9O":a});return u.createElement("div",{className:c},u.createElement(l,{className:h},a&&u.createElement(ro,{name:"su-more"}),u.createElement("span",{className:"index--UL8xyO2fmu"},i)),r?u.createElement("div",{className:d,onClick:this.handleClick,role:"button"},t):u.createElement("div",{className:d},t),u.createElement("div",{className:"buttons--b7Tv8rsNLp"},o&&!n&&u.createElement("button",{className:nE,onClick:this.handleEdit,type:"button"},u.createElement(ro,{name:"su-pen"})),s&&(!n||e)&&u.createElement("button",{className:nE,onClick:this.handleRemove,type:"button"},u.createElement(ro,{name:"su-trash-alt"}))))}}iE.defaultProps={allowRemoveWhileDisabled:!1,disabled:!1,sortable:!0};var rE="disabled--gq69uB_8oM";const oE=({children:e,isDisabled:t})=>{const n=eo()("list-element--E6grF7aKyY",{[rE]:t});return u.createElement("li",{className:n},e)},sE=$b(oE),aE=({children:e})=>u.createElement("ul",{className:"list--vEPntdaxBp"},e),lE=Vb(aE);class cE extends u.PureComponent{constructor(...e){super(...e),this.handleItemEdit=e=>{const{onItemEdit:t}=this.props;t&&t(e)},this.handleItemRemove=e=>{const{onItemRemove:t}=this.props;t&&t(e)},this.handleItemsSorted=({newIndex:e,oldIndex:t})=>{const{onItemsSorted:n}=this.props;n&&n(t,e)}}render(){const{disabled:e,children:t,label:n,leftButton:i,loading:r,rightButton:o,onItemClick:s,onItemEdit:a,onItemRemove:l,sortable:c}=this.props,d=!u.Children.count(t),h=c?sE:oE,p=c?lE:aE,f=eo()("multiItemSelectionClass--GxTIXw10bP",{[rE]:e});return u.createElement("div",{className:f},u.createElement(tE,{disabled:e,emptyList:d,label:n,leftButton:i?{disabled:e,...i}:void 0,loading:r,rightButton:o?{disabled:e,...o}:void 0}),u.createElement(p,{axis:"y",helperClass:"dragging--qXbQNTZdD1",lockAxis:"y",onSortEnd:this.handleItemsSorted,useDragHandle:!0},t&&u.Children.map(t,((t,n)=>u.createElement(h,{index:n,isDisabled:e},u.cloneElement(t,{...t.props,onClick:s||t.props.onClick,onEdit:a?this.handleItemEdit:t.props.onEdit,onRemove:l?this.handleItemRemove:t.props.onRemove,sortable:c}))))))}}cE.defaultProps={disabled:!1,loading:!1,sortable:!0},cE.Item=iE;var uE,dE,hE,pE,fE,mE,gE,bE,yE=cE,vE=Br(((dE=class extends u.Component{constructor(e){super(e),this.page=ue.box(1),this.handleConfirm=()=>{this.props.onConfirm(this.listStore.selections)};const t=ge((()=>this.props.excludedIds.length?this.props.excludedIds:void 0),{equals:V.structural});this.excludedIdsDisposer=t.observe((()=>this.listStore.clear()));const{listKey:n,locale:i,options:r,preloadSelectedItems:o,preSelectedItems:s,resourceKey:a}=this.props,l={};l.page=this.page,l.excludedIds=t,i&&(l.locale=i),this.listStore=new ig(a,n,"multi_list_overlay",l,r,void 0,o?s.map((e=>e.id)):void 0),this.changeOptionsDisposer=bt((()=>this.props.options),(e=>{this.listStore.reset(),this.listStore.initialSelectionIds=this.listStore.selectionIds,this.listStore.options={...this.listStore.options,...e}}),{equals:V.structural})}componentWillUnmount(){this.listStore.destroy(),this.excludedIdsDisposer(),this.changeOptionsDisposer()}render(){const{adapter:e,allowActivateForDisabledItems:t,clearSelectionOnClose:n,confirmLoading:i,disabledIds:r,itemDisabledCondition:o,onClose:s,open:a,overlayType:l,preSelectedItems:c,reloadOnOpen:d,title:h}=this.props;return u.createElement(dg,{adapter:e,allowActivateForDisabledItems:t,clearSelectionOnClose:n,confirmLoading:i,disabledIds:r,itemDisabledCondition:o,listStore:this.listStore,onClose:s,onConfirm:this.handleConfirm,open:a,overlayType:l,preSelectedItems:c,reloadOnOpen:d,title:h})}}).defaultProps={clearSelectionOnClose:!1,disabledIds:[],excludedIds:[],overlayType:"overlay",preloadSelectedItems:!0,preSelectedItems:[]},uE=dE))||uE;function _E(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function wE(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let kE=Br((bE=class extends u.Component{constructor(e){super(e),_E(this,"overlayOpen",fE,this),_E(this,"handleOverlayOpen",mE,this),_E(this,"handleOverlayClose",gE,this),this.handleOverlayConfirm=e=>{this.selectionStore.set(e),this.closeOverlay()},this.handleRemove=e=>{this.selectionStore.removeById(e)},this.handleSorted=(e,t)=>{this.selectionStore.move(e,t)};const{locale:t,options:n,resourceKey:i,value:r}=this.props;this.selectionStore=new uc(i,r,t,"ids",n),this.changeSelectionDisposer=bt((()=>this.selectionStore.items.map((e=>e.id))),(e=>{const{onChange:t,value:n}=this.props;si()(Mt(n),Mt(e))||t(e)})),this.changeOptionsDisposer=bt((()=>this.props.options),(e=>{this.selectionStore.setRequestParameters(e),this.selectionStore.loadItems(this.props.value)}),{equals:V.structural})}componentDidUpdate(){const e=Mt(this.props.value),t=Mt(this.selectionStore.items.map((e=>e.id)));e.sort(),t.sort(),si()(e,t)||this.selectionStore.loadItems(e)}componentWillUnmount(){this.changeSelectionDisposer(),this.changeOptionsDisposer()}closeOverlay(){this.overlayOpen=!1}openOverlay(){this.overlayOpen=!0}render(){const{adapter:e,allowDeselectForDisabledItems:t,listKey:n,disabled:i,disabledIds:r,displayProperties:o,icon:s,itemDisabledCondition:a,label:l,locale:c,onItemClick:d,options:h,overlayTitle:p,resourceKey:f,sortable:m}=this.props,{items:g,loading:b}=this.selectionStore,y=o.length;return u.createElement(u.Fragment,null,u.createElement(yE,{disabled:i,label:l,leftButton:{icon:s,onClick:this.handleOverlayOpen},loading:b,onItemClick:d,onItemRemove:this.handleRemove,onItemsSorted:this.handleSorted,sortable:m},g.map(((e,n)=>{const i=r.includes(e.id)||!!a&&fh().evalSync(a,e),s=eo()("item-column--NcLP3rx70c",{"disabled--sL1oIOfMXQ":i}),{published:l,publishedState:c}=e;return u.createElement(yE.Item,{allowRemoveWhileDisabled:t,disabled:i,id:e.id,index:n+1,key:e.id,value:e},u.createElement("div",{className:"item-container--wELPiPn6bs"},(void 0!==c||void 0!==l)&&!(c&&l)&&u.createElement("div",{className:"publish-indicator--nuBKcwrihm"},u.createElement(vk,{draft:!c,published:!!l})),u.createElement("div",{className:"column-list--eHlLx2b3Zl"},o.map((t=>u.createElement("span",{className:s,key:t,style:{width:100/y+"%"}},u.createElement(sp,null,e[t])))))))}))),u.createElement(vE,{adapter:e,disabledIds:r,itemDisabledCondition:a,listKey:n,locale:c,onClose:this.handleOverlayClose,onConfirm:this.handleOverlayConfirm,open:this.overlayOpen,options:h,preSelectedItems:g,resourceKey:f,title:p}))}},bE.defaultProps={allowDeselectForDisabledItems:!1,disabled:!1,disabledIds:[],displayProperties:[],icon:"su-plus",options:{},sortable:!0,value:[]},fE=wE((pE=bE).prototype,"overlayOpen",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wE(pE.prototype,"closeOverlay",[ht],Object.getOwnPropertyDescriptor(pE.prototype,"closeOverlay"),pE.prototype),wE(pE.prototype,"openOverlay",[ht],Object.getOwnPropertyDescriptor(pE.prototype,"openOverlay"),pE.prototype),mE=wE(pE.prototype,"handleOverlayOpen",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.openOverlay()}}}),gE=wE(pE.prototype,"handleOverlayClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.closeOverlay()}}}),hE=pE))||hE;var CE,EE,xE,SE=kE;function OE(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let TE=Br((EE=class extends u.Component{constructor(e){if(super(e),function(e,t,n,i){n&&Object.defineProperty(e,"requestOptions",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}(this,0,xE,this),this.handleItemClick=(e,t)=>{const{router:n}=this.props,{resultToView:i,viewName:r}=this;n&&n.navigate(r,Object.keys(i).reduce(((e,n)=>(e[i[n]]=Pc().get(t,"/"+n),e)),{}))},this.handleMultiSelectionChange=e=>{const{onChange:t,onFinish:n}=this.props;t(e),n()},this.handleListSelectionChange=e=>{const{onChange:t,onFinish:n}=this.props;if(!this.listStore)throw new Error("The ListStore has not been initialized! This should not happen and is likely a bug.");this.listStore.dataLoading||this.listStore.loading||si()(Mt(this.value),Mt(e))||(t(e),n())},this.handleAutoCompleteSelectionChange=e=>{const{onChange:t,onFinish:n}=this.props;if(!this.autoCompleteSelectionStore)throw new Error("The SelectionStore has not been initialized! This should not happen and is likely a bug.");this.autoCompleteSelectionStore.loading||si()(Mt(this.value)||[],Mt(e))||(t(e),n())},"list_overlay"!==this.type&&"list"!==this.type&&"auto_complete"!==this.type)throw new Error('The Selection field must either be declared as "overlay", "list" or as "auto_complete", received type was "'+this.type+'"!');const{fieldTypeOptions:{resource_key:t},formInspector:n,schemaOptions:{request_parameters:{value:i=[]}={},resource_store_properties_to_request:{value:r=[]}={}}}=this.props;if(!t)throw new Error('The selection field needs a "resource_key" option to work properly');if(!O(i))throw new Error('The "request_parameters" schemaOption must be an array!');const o=i;if(!O(r))throw new Error('The "resource_store_properties_to_request" schemaOption must be an array!');const s=r;if(this.requestOptions=this.buildRequestOptions(o,s,n),n.addFinishFieldHandler((e=>{const t=s.map((e=>"string"==typeof e.value?"/"+e.value:"/"+e.name));if(t.includes(e)){const e=this.buildRequestOptions(o,s,n);si()(this.requestOptions,e)||(this.requestOptions=e)}})),"list"===this.type){const{fieldTypeOptions:{types:{list:{list_key:e}}}}=this.props;this.listStore=new ig(t,e||t,"selection",{locale:this.locale,page:ue.box()},this.requestOptions,void 0,this.value),this.changeListDisposer=bt((()=>this.listStore?this.listStore.selectionIds:[]),this.handleListSelectionChange),this.changeListOptionsDisposer=bt((()=>this.requestOptions),(e=>{const t=this.listStore;if(!t)throw new Error("The ListStore has not been initialized! This is likely a bug.");t.reset(),t.initialSelectionIds=t.selectionIds,t.options={...t.options,...e}})),this.changeLocaleDisposer=kt(this.locale,"",(e=>(this.listStore&&this.listStore.sendRequestDisposer(),e)))}else"auto_complete"===this.type&&(this.autoCompleteSelectionStore=new uc(t,this.value||[],this.locale,this.autoCompleteFilterParameter),this.changeAutoCompleteSelectionDisposer=bt((()=>this.autoCompleteSelectionStore?this.autoCompleteSelectionStore.items.map((e=>e[this.autoCompleteIdProperty])):[]),this.handleAutoCompleteSelectionChange))}componentDidUpdate(){"auto_complete"===this.type&&this.autoCompleteSelectionStore&&!si()(this.autoCompleteSelectionStore.items.map((e=>e[this.autoCompleteIdProperty])),Mt(this.value))&&this.autoCompleteSelectionStore.loadItems(this.value)}componentWillUnmount(){this.changeListDisposer&&this.changeListDisposer(),this.changeAutoCompleteSelectionDisposer&&this.changeAutoCompleteSelectionDisposer(),this.changeListOptionsDisposer&&this.changeListOptionsDisposer(),this.changeLocaleDisposer&&this.changeLocaleDisposer(),this.listStore&&this.listStore.destroy()}get value(){const{value:e,dataPath:t}=this.props;return e&&O(e)&&e.length>0&&"object"==typeof e[0]?(c().warn('The "Selection" field with the path "'+t+'" expects an array of ids as value but received an array of objects instead. Is it possible that your API returns an array serialized objects?\n\nThe Sulu form view expects that your API returns the data in the same format as it is sent to the server when submitting the form. \nSulu will try to extract the ids from the given array of objects heuristically. This decreases performance and might lead to errors or other unexpected behaviour.'),e.map((e=>e&&"object"==typeof e?e.id:e))):e}get locale(){const{formInspector:e}=this.props;return e.locale?e.locale:ue.box(sl.contentLocale)}get type(){const e=this.props.fieldTypeOptions.default_type;if("string"!=typeof e)throw new Error('The "default_type" field-type option must be a string!');const{schemaOptions:t}=this.props,{type:{value:n=e}={}}=t;if("string"!=typeof n)throw new Error('The "type" schema option must be a string!');return n}get autoCompleteIdProperty(){const{fieldTypeOptions:{types:{auto_complete:{id_property:e}}}}=this.props;return e}get autoCompleteFilterParameter(){const{fieldTypeOptions:{types:{auto_complete:{filter_parameter:e}}}}=this.props;return e}buildRequestOptions(e,t,n){const i={};return e.forEach((e=>{i[e.name]=e.value})),t.forEach((e=>{const{name:t,value:r}=e,o="string"==typeof r?r:t;i[t]=Mt(n.getValueByPath("/"+o))})),i}get viewName(){const{fieldTypeOptions:{view:{name:e}={}}}=this.props;return e}get resultToView(){const{fieldTypeOptions:{view:{result_to_view:e}={}}}=this.props;return e}render(){if("list_overlay"===this.type)return this.renderListOverlay();if("auto_complete"===this.type)return this.renderAutoComplete();if("list"===this.type)return this.renderList();throw new Error('The "'+this.type+'" type does not exist in the Selection field type.')}renderListOverlay(){const{disabled:e,formInspector:t,fieldTypeOptions:{resource_key:n,types:{list_overlay:{adapter:i,list_key:r,display_properties:o,icon:s,label:a,overlay_title:l}}},schemaOptions:{types:{value:c}={},item_disabled_condition:{value:d}={},allow_deselect_for_disabled_items:{value:h=!0}={},sortable:{value:p=!0}={}}}=this.props;if(void 0!==c&&"string"!=typeof c)throw new Error('The "types" schema option must be a string if given!');if(void 0!==d&&"string"!=typeof d)throw new Error('The "item_disabled_condition" schema option must be a string if given!');if(void 0!==h&&"boolean"!=typeof h)throw new Error('The "allow_deselect_for_disabled_items" schema option must be a boolean if given!');if(void 0!==p&&"boolean"!=typeof p)throw new Error('The "sortable" schema option must be a boolean if given!');if(!i)throw new Error('The selection field needs a "adapter" option to work properly');const f={...this.requestOptions};return c&&(f.types=c),u.createElement(SE,{adapter:i,allowDeselectForDisabledItems:!!h,disabled:!!e,disabledIds:n===t.resourceKey&&t.id?[t.id]:[],displayProperties:o,icon:s,itemDisabledCondition:d,label:Xs(a,{count:this.value?this.value.length:0}),listKey:r||n,locale:this.locale,onChange:this.handleMultiSelectionChange,onItemClick:this.viewName&&this.resultToView&&this.handleItemClick,options:f,overlayTitle:Xs(l),resourceKey:n,sortable:p,value:this.value||[]})}renderAutoComplete(){if(!this.autoCompleteSelectionStore)throw new Error("The SelectionStore has not been initialized! This should not happen and is likely a bug.");const{dataPath:e,disabled:t,fieldTypeOptions:{types:{auto_complete:{allow_add:n,display_property:i,search_properties:r}}}}=this.props;if(!i)throw new Error('The selection field needs a "display_property" option to work properly!');if(!r)throw new Error('The selection field needs a "search_properties" option to work properly!');return u.createElement(cw,{allowAdd:n,disabled:!!t,displayProperty:i,id:e,idProperty:this.autoCompleteIdProperty,options:this.requestOptions,searchProperties:r,selectionStore:this.autoCompleteSelectionStore})}renderList(){if(!this.listStore)throw new Error("The ListStore has not been initialized! This should not happen and is likely a bug.");const{disabled:e,fieldTypeOptions:{types:{list:{adapter:t}}},schemaOptions:{item_disabled_condition:{value:n}={}}}=this.props;if(!t)throw new Error('The selection field needs a "adapter" option for the list type to work properly');if(void 0!==n&&"string"!=typeof n)throw new Error('The "item_disabled_condition" schema option must be a string if given!');return u.createElement("div",{className:"list--UyEP2Ufqq2"},u.createElement(GC,{adapters:[t],disabled:!!e,itemDisabledCondition:n,paginated:!1,searchable:!1,showColumnOptions:!1,store:this.listStore}))}},xE=OE(EE.prototype,"requestOptions",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),OE(EE.prototype,"value",[ge],Object.getOwnPropertyDescriptor(EE.prototype,"value"),EE.prototype),OE(EE.prototype,"locale",[ge],Object.getOwnPropertyDescriptor(EE.prototype,"locale"),EE.prototype),OE(EE.prototype,"type",[ge],Object.getOwnPropertyDescriptor(EE.prototype,"type"),EE.prototype),OE(EE.prototype,"autoCompleteIdProperty",[ge],Object.getOwnPropertyDescriptor(EE.prototype,"autoCompleteIdProperty"),EE.prototype),OE(EE.prototype,"autoCompleteFilterParameter",[ge],Object.getOwnPropertyDescriptor(EE.prototype,"autoCompleteFilterParameter"),EE.prototype),OE(EE.prototype,"viewName",[ge],Object.getOwnPropertyDescriptor(EE.prototype,"viewName"),EE.prototype),OE(EE.prototype,"resultToView",[ge],Object.getOwnPropertyDescriptor(EE.prototype,"resultToView"),EE.prototype),CE=EE))||CE;var ME=TE;class PE extends u.Component{constructor(...e){super(...e),this.handleChange=e=>{const{id:t,onChange:n}=this.props;n(t,e)},this.handleRemove=()=>{const{id:e,onRemove:t}=this.props;t(e)}}render(){const{inputRef:e,value:t}=this.props;return u.createElement("div",{className:"edit-line--Kwgwp_sgtE"},u.createElement(kl,{inputRef:e,onChange:this.handleChange,value:t}),u.createElement(uo,{className:"icon--wImUF5OaRw",icon:"su-trash-alt",onClick:this.handleRemove,skin:"icon"}))}}var DE,LE,AE,zE,IE,RE,jE,NE;function FE(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function YE(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let BE=Br((LE=class extends u.Component{constructor(e){super(e),FE(this,"data",AE,this),this.setInputRef=e=>{e&&e.focus()},FE(this,"updateData",zE,this),FE(this,"handleEditLineChange",IE,this),FE(this,"handleEditLineRemove",RE,this),FE(this,"handleEditLineAdd",jE,this),FE(this,"handleConfirm",NE,this),this.updateDataDisposer=ft((()=>this.updateData(this.props.resourceListStore.data)))}componentWillUnmount(){this.updateDataDisposer()}render(){const{displayProperty:e,onClose:t,open:n,resourceListStore:i,title:r}=this.props;return u.createElement(fd,{confirmLoading:i.loading,confirmText:Xs("sulu_admin.ok"),onClose:t,onConfirm:this.handleConfirm,open:n,size:"small",title:r||Xs("sulu_admin.edit_entries")},u.createElement("div",{className:"overlay--m5i4nhLfpn"},this.data.map(((t,n)=>u.createElement(PE,{id:n,inputRef:this.setInputRef,key:n,onChange:this.handleEditLineChange,onRemove:this.handleEditLineRemove,value:t[e]}))),u.createElement(uo,{icon:"su-plus",onClick:this.handleEditLineAdd,skin:"secondary"},Xs("sulu_admin.add"))))}},AE=YE(LE.prototype,"data",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zE=YE(LE.prototype,"updateData",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.data=Mt(e)}}}),IE=YE(LE.prototype,"handleEditLineChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{const{displayProperty:n}=this.props;this.data[e][n]=t}}}),RE=YE(LE.prototype,"handleEditLineRemove",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.data.splice(e,1)}}}),jE=YE(LE.prototype,"handleEditLineAdd",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{displayProperty:e}=this.props;this.data.push({[e]:void 0})}}}),NE=YE(LE.prototype,"handleConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{displayProperty:e,idProperty:t,onClose:n,resourceListStore:i}=this.props,{data:r}=this,o=r.filter(((t,n)=>r.findIndex((n=>n[e]==t[e]))===n)).filter((e=>!e[t])),s=i.data.filter((e=>!r.some((n=>n[t]===e[t])))),a=r.filter((n=>{const r=i.data.find((e=>n[t]===e[t]));return r&&r[e]!==n[e]}));if(s.length>0&&i.deleteList(s.map((e=>e[t]))),o.length>0||a.length>0){const t=[...o,...a].filter((t=>t[e]));i.patchList(t)}n()}}}),DE=LE))||DE;var HE,VE,WE,UE,$E,qE,KE=BE;function GE(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function ZE(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let JE=Br((qE=class extends u.Component{get data(){const{displayProperty:e}=this.props;return this.resourceListStore.data.concat().sort(((t,n)=>t[e]<n[e]?-1:1))}constructor(e){super(e),GE(this,"showEditOverlay",WE,this),this.handleReset=()=>{const{onChange:e}=this.props;e(void 0)},GE(this,"handleEdit",UE,this),GE(this,"handleEditOverlayClose",$E,this);const{idProperty:t,resourceKey:n,requestParameters:i}=this.props,r={limit:"",...i};this.resourceListStore=new Tc(n,r,t)}render(){const{disabled:e,displayProperty:t,editable:n,idProperty:i,onChange:r,overlayTitle:o,value:s}=this.props;return this.resourceListStore.loading?u.createElement(ao,{size:30}):u.createElement(u.Fragment,null,u.createElement(zp,{disabled:e,onChange:r,value:s},u.createElement(zp.Action,{onClick:this.handleReset},Xs("sulu_admin.please_choose")),this.data.map(((e,n)=>u.createElement(zp.Option,{key:n,value:e[i]},e[t]))),n&&u.createElement(zp.Divider,null),n&&u.createElement(zp.Action,{onClick:this.handleEdit},Xs("sulu_admin.edit"))),n&&u.createElement(KE,{displayProperty:t,idProperty:i,onClose:this.handleEditOverlayClose,open:this.showEditOverlay,resourceListStore:this.resourceListStore,title:o}))}},qE.defaultProps={disabled:!1,editable:!1,requestParameters:{}},WE=ZE((VE=qE).prototype,"showEditOverlay",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ZE(VE.prototype,"data",[ge],Object.getOwnPropertyDescriptor(VE.prototype,"data"),VE.prototype),UE=ZE(VE.prototype,"handleEdit",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showEditOverlay=!0}}}),$E=ZE(VE.prototype,"handleEditOverlayClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showEditOverlay=!1}}}),HE=VE))||HE;var XE,QE,ex,tx,nx,ix,rx,ox,sx,ax,lx=JE;function cx(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function ux(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var dx,hx,px,fx,mx,gx,bx,yx,vx=Br(((ax=class extends u.Component{constructor(...e){super(...e),cx(this,"inputContainerRef",ex,this),cx(this,"displaySuggestions",tx,this),cx(this,"inputValue",nx,this),this.overrideValue=!1,cx(this,"setInputContainerRef",ix,this),cx(this,"search",rx,this),this.debouncedSearch=ya()(this.search,300),this.handlePopoverSelect=e=>{const{displayProperty:t,onChange:n}=this.props;this.setInputValue(e?e[t]:void 0),n(e)},this.handleInputChange=e=>{e||this.props.onChange(void 0),this.setInputValue(e),this.debouncedSearch(this.inputValue)},cx(this,"handleInputFocus",ox,this),cx(this,"handlePopoverClose",sx,this)}componentDidUpdate(e){const{displayProperty:t,value:n}=this.props;si()(Mt(e.value),Mt(n))||this.setInputValue(n?n[t]:void 0)}componentWillUnmount(){this.debouncedSearch.clear()}setInputValue(e){this.inputValue=e}get popoverMinWidth(){return this.inputContainerRef?this.inputContainerRef.scrollWidth-10:0}render(){const{disabled:e,id:t,loading:n,onFinish:i,placeholder:r,searchProperties:o,suggestions:s}=this.props,{inputValue:a}=this;return u.createElement("div",{className:"single-auto-complete--HuaiYUdwc4"},u.createElement(kl,{autocomplete:"off",disabled:e,icon:"su-search",id:t,inputClass:"mousetrap",inputContainerRef:this.setInputContainerRef,loading:n,onBlur:i,onChange:this.handleInputChange,onFocus:this.handleInputFocus,placeholder:r,value:a}),u.createElement(W_,{anchorElement:this.inputContainerRef,minWidth:this.popoverMinWidth,onClose:this.handlePopoverClose,onSelect:this.handlePopoverSelect,open:!e&&this.displaySuggestions&&s.length>0,query:a,searchProperties:o,suggestions:s}))}}).defaultProps={disabled:!1},ex=ux((QE=ax).prototype,"inputContainerRef",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tx=ux(QE.prototype,"displaySuggestions",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),nx=ux(QE.prototype,"inputValue",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.props.value?this.props.value[this.props.displayProperty]:void 0}}),ux(QE.prototype,"setInputValue",[ht],Object.getOwnPropertyDescriptor(QE.prototype,"setInputValue"),QE.prototype),ix=ux(QE.prototype,"setInputContainerRef",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{e&&(this.inputContainerRef=e)}}}),ux(QE.prototype,"popoverMinWidth",[ge],Object.getOwnPropertyDescriptor(QE.prototype,"popoverMinWidth"),QE.prototype),rx=ux(QE.prototype,"search",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.props.onSearch(e),this.displaySuggestions=!0}}}),ox=ux(QE.prototype,"handleInputFocus",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.search(this.inputValue||"")}}}),sx=ux(QE.prototype,"handlePopoverClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.displaySuggestions=!1}}}),XE=QE))||XE,_x=Br(((hx=class extends u.Component{constructor(e){super(e),this.handleChange=e=>{const{selectionStore:t}=this.props;t.set(e),this.searchStore.clearSearchResults()},this.handleSearch=e=>{this.searchStore.search(e)};const{options:t,selectionStore:n,searchProperties:i}=this.props;this.searchStore=new lw(n.resourceKey,i,t,n.locale)}render(){const{disabled:e,displayProperty:t,id:n,searchProperties:i,selectionStore:r}=this.props;return u.createElement(vx,{disabled:e,displayProperty:t,id:n,loading:this.searchStore.loading||r.loading,onChange:this.handleChange,onSearch:this.handleSearch,searchProperties:i,suggestions:this.searchStore.searchResults,value:r.item})}}).defaultProps={disabled:!1,options:{}},dx=hx))||dx,wx={button:"button--hxbicHzzzm",left:"left--YE_LkNWpVT",right:"right--gVwWt_OTFd","has-options":"has-options--M9x9Bm4HzV",hasOptions:"has-options--M9x9Bm4HzV",icon:"icon--uGFlhoLvs8"};function kx(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Cx(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Ex=Br(((yx=class extends u.Component{constructor(...e){super(...e),kx(this,"open",mx,this),this.handleOptionClick=e=>{const{onClick:t}=this.props;t(e)},kx(this,"handleClick",gx,this),kx(this,"handleClose",bx,this)}render(){const{disabled:e,icon:t,location:n,options:i}=this.props,r=eo()(wx.button,wx[n],{[wx.hasOptions]:i}),o=u.createElement("button",{className:r,disabled:e,onClick:this.handleClick,type:"button"},t&&u.createElement(ro,{className:wx.icon,name:t}),i&&u.createElement(ro,{name:"su-angle-down"}));return i?u.createElement(ih,{anchorElement:o,onClose:this.handleClose,open:this.open},u.createElement(ih.Section,null,i.map((e=>u.createElement(ih.Action,{icon:e.icon,key:e.value,onClick:this.handleOptionClick,value:e.value},e.label))))):o}}).defaultProps={disabled:!1},mx=Cx((fx=yx).prototype,"open",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gx=Cx(fx.prototype,"handleClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{onClick:e,options:t}=this.props;t?this.open=!0:e()}}}),bx=Cx(fx.prototype,"handleClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.open=!1}}}),px=fx))||px;function xx(){return xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xx.apply(this,arguments)}class Sx extends u.Component{constructor(...e){super(...e),this.handleItemClick=()=>{const{id:e,onItemClick:t,value:n}=this.props;t&&e&&t(e,n)}}render(){const{allowRemoveWhileItemDisabled:e,children:t,className:n,disabled:i,itemDisabled:r,emptyText:o,leftButton:s,loading:a,onItemClick:l,onRemove:c,rightButton:d,valid:h}=this.props,p=eo()("single-item-selection--knfVUZYwZc",n,{"error--FotaWbWsMv":!h,"disabled--o_9McmNnBt":i||r}),f=eo()("item--tax8fjSekd",{"clickable--QKrQ9LRE4w":!!l});return u.createElement("div",{className:p},u.createElement(Ex,xx({},s,{disabled:i||r,location:"left"})),u.createElement("div",{className:"item-container--mUwWusTEkY"},u.createElement("div",{className:f,onClick:this.handleItemClick,role:"button"},t||u.createElement("div",{className:"empty--i7alWUhrdv"},a?"":o)),c&&!a&&!i&&(!r||e)&&u.createElement("button",{className:"remove-button--JqqIqN6CIb",onClick:c,type:"button"},u.createElement(ro,{name:"su-trash-alt"})),a&&u.createElement(so,{className:"loader--B0UV1YLgoi",size:14})),d&&u.createElement(Ex,xx({},d,{disabled:i||r,location:"right"})))}}Sx.defaultProps={allowRemoveWhileItemDisabled:!1,disabled:!1,itemDisabled:!1,loading:!1,valid:!0};var Ox,Tx,Mx,Px,Dx,Lx,Ax=Sx;function zx(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Ix(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Rx,jx,Nx,Fx=Br(((Lx=class extends u.Component{constructor(e){super(e),zx(this,"overlayOpen",Mx,this),zx(this,"handleOverlayOpen",Px,this),zx(this,"handleOverlayClose",Dx,this),this.handleOverlayConfirm=e=>{this.singleSelectionStore.loadItem(e.id),this.closeOverlay()},this.handleRemove=()=>{this.singleSelectionStore.clear()};const{detailOptions:t,locale:n,resourceKey:i,value:r}=this.props;this.singleSelectionStore=new Zc(i,r,n,t),this.changeDisposer=bt((()=>void 0===this.singleSelectionStore.item?void 0:null===this.singleSelectionStore.item?null:this.singleSelectionStore.item.id),(e=>{const{onChange:t,value:n}=this.props;n!==e&&t(e,this.singleSelectionStore.item)}))}componentWillUnmount(){this.changeDisposer()}componentDidUpdate(){const e=Mt(this.props.value);(this.singleSelectionStore.item?this.singleSelectionStore.item.id:void 0)!==e&&this.singleSelectionStore.loadItem(e)}openOverlay(){this.overlayOpen=!0}closeOverlay(){this.overlayOpen=!1}render(){const{adapter:e,allowDeselectForDisabledItems:t,listKey:n,disabled:i,disabledIds:r,displayProperties:o,emptyText:s,icon:a,itemDisabledCondition:l,locale:c,listOptions:d,onItemClick:h,overlayTitle:p,resourceKey:f}=this.props,{item:m,loading:g}=this.singleSelectionStore,b=o.length,y=!!m&&r.includes(m.id)||!!m&&!!l&&fh().evalSync(l,m),v=m?m.published:void 0,_=m?m.publishedState:void 0;return u.createElement(u.Fragment,null,u.createElement(Ax,{allowRemoveWhileItemDisabled:t,disabled:i,emptyText:s,id:m&&m.id,itemDisabled:y,leftButton:{icon:a,onClick:this.handleOverlayOpen},loading:g,onItemClick:h,onRemove:m?this.handleRemove:void 0,value:m},m&&u.createElement("div",{className:"item-container--DeWVooiSjc"},(void 0!==_||void 0!==v)&&!(_&&v)&&u.createElement("div",{className:"publish-indicator--pJJ9OXnYBF"},u.createElement(vk,{draft:!_,published:!!v})),u.createElement("div",{className:"column-list--ugC6zr7jo_"},o.map((e=>u.createElement("span",{className:"item-column--m_hbBqQKFH",key:e,style:{width:100/b+"%"}},m[e])))))),!g&&u.createElement(hg,{adapter:e,disabledIds:r,itemDisabledCondition:l,listKey:n,locale:c,onClose:this.handleOverlayClose,onConfirm:this.handleOverlayConfirm,open:this.overlayOpen,options:d,preSelectedItem:m,resourceKey:f,title:p}))}}).defaultProps={allowDeselectForDisabledItems:!1,disabled:!1,disabledIds:[],icon:"su-plus"},Mx=Ix((Tx=Lx).prototype,"overlayOpen",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ix(Tx.prototype,"openOverlay",[ht],Object.getOwnPropertyDescriptor(Tx.prototype,"openOverlay"),Tx.prototype),Ix(Tx.prototype,"closeOverlay",[ht],Object.getOwnPropertyDescriptor(Tx.prototype,"closeOverlay"),Tx.prototype),Px=Ix(Tx.prototype,"handleOverlayOpen",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.openOverlay()}}}),Dx=Ix(Tx.prototype,"handleOverlayClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.closeOverlay()}}}),Ox=Tx))||Ox;function Yx(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let Bx=Br((jx=class extends u.Component{constructor(e){if(super(e),function(e,t,n,i){n&&Object.defineProperty(e,"requestOptions",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}(this,0,Nx,this),this.handleAutoCompleteSelectionChange=e=>{if(!this.autoCompleteSelectionStore)throw new Error("The SelectionStore has not been initialized! This should not happen and is likely a bug.");this.autoCompleteSelectionStore.loading||this.value!==e?.id&&(this.useDeprecatedObjectDataFormat?this.handleChange(e):this.handleChange(e?.id))},this.handleChange=e=>{const{onChange:t,onFinish:n}=this.props;t(e),n()},this.handleItemClick=(e,t)=>{const{router:n}=this.props,{resultToView:i,viewName:r}=this;n&&n.navigate(r,Object.keys(i).reduce(((e,n)=>(e[i[n]]=Pc().get(t,"/"+n),e)),{}))},"list_overlay"!==this.type&&"single_select"!==this.type&&"auto_complete"!==this.type)throw new Error('The Selection field must either be declared as "list_overlay", "single_select" or as "auto_complete", received type was "'+this.type+'"!');const{fieldTypeOptions:{resource_key:t},formInspector:n,schemaOptions:{request_parameters:{value:i=[]}={},resource_store_properties_to_request:{value:r=[]}={}}}=this.props;if(!t)throw new Error('The selection field needs a "resource_key" option to work properly');if(!O(i))throw new Error('The "request_parameters" schemaOption must be an array!');const o=i;if(!O(r))throw new Error('The "resource_store_properties_to_request" schemaOption must be an array!');const s=r;this.requestOptions=this.buildRequestOptions(o,s,n),n.addFinishFieldHandler((e=>{const t=s.map((e=>"string"==typeof e.value?"/"+e.value:"/"+e.name));if(t.includes(e)){const e=this.buildRequestOptions(o,s,n);si()(this.requestOptions,e)||(this.requestOptions=e)}})),"auto_complete"===this.type&&(this.autoCompleteSelectionStore=new Zc(t,this.value,this.locale),this.changeAutoCompleteSelectionDisposer=bt((()=>this.autoCompleteSelectionStore?.item),this.handleAutoCompleteSelectionChange))}componentWillUnmount(){this.changeAutoCompleteSelectionDisposer&&this.changeAutoCompleteSelectionDisposer()}buildRequestOptions(e,t,n){const i={};return e.forEach((e=>{i[e.name]=e.value})),t.forEach((e=>{const{name:t,value:r}=e,o="string"==typeof r?r:t;i[t]=Mt(n.getValueByPath("/"+o))})),i}get value(){const{value:e,dataPath:t}=this.props;return e&&"object"==typeof e?("auto_complete"===this.type&&this.useDeprecatedObjectDataFormat||c().warn('The "SingleSelection" field with the path "'+t+'" expects an id as value but received an object instead. Is it possible that your API returns a serialized object?\n\nThe Sulu form view expects that your API returns the data in the same format as it is sent to the server when submitting the form. \nSulu will try to extract the id from the given object heuristically. This decreases performance and might lead to errors or other unexpected behaviour.'),e.id):e}get type(){const e=this.props.fieldTypeOptions.default_type;if("string"!=typeof e)throw new Error('The "default_type" field-type option must be a string!');const{schemaOptions:t}=this.props,{type:{value:n=e}={}}=t;if("string"!=typeof n)throw new Error('The "type" schema option must be a string!');return n}get locale(){const{formInspector:e}=this.props;return e.locale?e.locale:ue.box(sl.contentLocale)}get viewName(){const{fieldTypeOptions:{view:{name:e}={}}}=this.props;return e}get resultToView(){const{fieldTypeOptions:{view:{result_to_view:e}={}}}=this.props;return e}get useDeprecatedObjectDataFormat(){const{schemaOptions:{use_deprecated_object_data_format:{value:e=!1}={}}={}}=this.props;return e&&c().warn('The "use_deprecated_object_data_format" param is deprecated since version 2.3 and will be removed. You should adjust your API to process an id instead of a serialized object.'),e}render(){if("list_overlay"===this.type)return this.renderListOverlay();if("single_select"===this.type)return this.renderSingleSelect();if("auto_complete"===this.type)return this.renderAutoComplete();throw new Error('The "'+this.type+'" type does not exist in the SingleSelection field type.')}renderListOverlay(){const{disabled:e,formInspector:t,fieldTypeOptions:{resource_key:n,types:{list_overlay:{adapter:i,detail_options:r,list_key:o,display_properties:s,empty_text:a,icon:l,overlay_title:c}}},schemaOptions:{form_options_to_list_options:{value:d=[]}={},item_disabled_condition:{value:h}={},allow_deselect_for_disabled_items:{value:p=!0}={},types:{value:f}={}}={}}=this.props;if(void 0!==f&&"string"!=typeof f)throw new Error('The "types" schema option must be a string if given!');if(void 0!==h&&"string"!=typeof h)throw new Error('The "item_disabled_condition" schema option must be a string if given!');if(void 0!==p&&"boolean"!=typeof p)throw new Error('The "allow_deselect_for_disabled_items" schema option must be a boolean if given!');if(!O(d))throw new Error('The "form_options_to_list_options" option has to be an array if defined!');const m=d;if(r&&"object"!=typeof r)throw new Error('The "detail_options" option has to be an array if defined!');const g=m.reduce(((e,n)=>{if(!n.name)throw new Error('All options set in "form_options_to_list_options" must define name!');return e[n.name]=t.options[n.name],e}),{}),b=f?{types:f}:void 0,y={...this.requestOptions,...g,...b},v={...this.requestOptions,...r};return u.createElement(Fx,{adapter:i,allowDeselectForDisabledItems:!!p,detailOptions:v,disabled:!!e,disabledIds:n===t.resourceKey&&t.id?[t.id]:[],displayProperties:s,emptyText:Xs(a),icon:l,itemDisabledCondition:h,listKey:o||n,listOptions:y,locale:this.locale,onChange:this.handleChange,onItemClick:this.viewName&&this.resultToView&&this.handleItemClick,overlayTitle:Xs(c),resourceKey:n,value:this.value})}renderSingleSelect(){const{disabled:e,fieldTypeOptions:{resource_key:t,types:{single_select:{display_property:n,id_property:i,overlay_title:r}={}}},schemaOptions:{editable:{value:o}={}}={}}=this.props;if("string"!=typeof n)throw new Error('The "display_property" field-type option must be a string!');if("string"!=typeof i)throw new Error('The "id_property" field-type option must be a string!');return u.createElement(lx,{disabled:!!e,displayProperty:n,editable:!!o,idProperty:i,onChange:this.handleChange,overlayTitle:Xs(r),resourceKey:t,value:this.value})}renderAutoComplete(){const{disabled:e,dataPath:t,fieldTypeOptions:n,formInspector:i,schemaOptions:{data_path_to_auto_complete:{value:r=[]}={}}}=this.props;if(!n.types.auto_complete)throw new Error('The single_selection field needs an "auto_complete" type if rendered as SingleAutoComplete');const{types:{auto_complete:{display_property:o,search_properties:s}}}=n;if(!O(r))throw new Error('The "data_path_to_auto_complete" schemaOption must be an array!');const a=r;a.length>0&&c().warn('The "data_path_to_auto_complete" option is deprecated since version 2.2 and will be removed. Use the "resource_store_properties_to_request" option instead.');const l={...a.reduce(((e,t)=>{const{name:n,value:r}=t;if("string"!=typeof n||"string"!=typeof r)throw new Error('An entry of the "data_path_to_auto_complete" schemaOption must provide strings for their name and value');return e[r]=i.getValueByPath("/"+n),e}),{}),...this.requestOptions};if(!this.autoCompleteSelectionStore)throw new Error("The SelectionStore has not been initialized! This should not happen and is likely a bug.");return u.createElement(_x,{disabled:!!e,displayProperty:o,id:t,options:l,searchProperties:s,selectionStore:this.autoCompleteSelectionStore})}},Nx=Yx(jx.prototype,"requestOptions",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yx(jx.prototype,"value",[ge],Object.getOwnPropertyDescriptor(jx.prototype,"value"),jx.prototype),Yx(jx.prototype,"type",[ge],Object.getOwnPropertyDescriptor(jx.prototype,"type"),jx.prototype),Yx(jx.prototype,"locale",[ge],Object.getOwnPropertyDescriptor(jx.prototype,"locale"),jx.prototype),Yx(jx.prototype,"viewName",[ge],Object.getOwnPropertyDescriptor(jx.prototype,"viewName"),jx.prototype),Yx(jx.prototype,"resultToView",[ge],Object.getOwnPropertyDescriptor(jx.prototype,"resultToView"),jx.prototype),Yx(jx.prototype,"useDeprecatedObjectDataFormat",[ge],Object.getOwnPropertyDescriptor(jx.prototype,"useDeprecatedObjectDataFormat"),jx.prototype),Rx=jx))||Rx;var Hx=Bx;class Vx extends u.Component{render(){const{children:e,description:t,icon:n,label:i}=this.props;return u.createElement(u.Fragment,null,u.createElement("div",{className:"line--a_6EopeRdO"},n&&u.createElement(ro,{className:"icon--ox6WQQ1HYH",name:n}),i&&u.createElement("div",{className:"label--nB3Uupk9zi"},i),e),t&&u.createElement("div",{className:"description--YwKJlLKtr2"},t))}}var Wx,Ux,$x=Vx;function qx(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Kx,Gx,Zx=Br((qx((Ux=class extends u.Component{get schemaOptions(){return this.props.schemaOptions}get description(){return this.schemaOptions.description?.title}get icon(){const e=this.schemaOptions.icon?.value;if(void 0!==e&&"string"!=typeof e)throw new Error('The "icon" schemaOption of the Heading must be a string or undefined!');return e}get label(){return this.schemaOptions.label?.title}render(){const{children:e}=this.props;return u.createElement($x,{description:this.description,icon:this.icon,label:this.label},e)}}).prototype,"schemaOptions",[ge],Object.getOwnPropertyDescriptor(Ux.prototype,"schemaOptions"),Ux.prototype),qx(Ux.prototype,"description",[ge],Object.getOwnPropertyDescriptor(Ux.prototype,"description"),Ux.prototype),qx(Ux.prototype,"icon",[ge],Object.getOwnPropertyDescriptor(Ux.prototype,"icon"),Ux.prototype),qx(Ux.prototype,"label",[ge],Object.getOwnPropertyDescriptor(Ux.prototype,"label"),Ux.prototype),Wx=Ux))||Wx;function Jx(){return Jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Jx.apply(this,arguments)}function Xx(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let Qx=Br((Gx=class extends u.Component{get schemaOptions(){return this.props.schemaOptions}get label(){return this.schemaOptions.label?.title}get skin(){return this.schemaOptions.skin?.value}get type(){return this.schemaOptions.type?.value}constructor(e){super(e),this.handleChange=e=>{const{onChange:t,onFinish:n}=this.props;t(e),n()},this.handleHeadingChange=()=>{};const{onChange:t,schemaOptions:n,value:i}=this.props,{default_value:{value:r}={}}=n;if(null!=r){if("boolean"!=typeof r)throw new Error('The "default_value" schema option must be a boolean if given!');void 0===i&&t(r,{isDefaultValue:!0})}}render(){const{disabled:e,value:t}=this.props,n="toggler"===this.type?u.createElement(Nv,{checked:!!t,disabled:!!e,onChange:this.handleChange},"heading"!==this.skin&&this.label):u.createElement(mu,{checked:!!t,disabled:!!e,onChange:this.handleChange},"heading"!==this.skin&&this.label);return"heading"===this.skin?u.createElement(Zx,Jx({},this.props,{onChange:this.handleHeadingChange,value:void 0}),n):n}},Xx(Gx.prototype,"schemaOptions",[ge],Object.getOwnPropertyDescriptor(Gx.prototype,"schemaOptions"),Gx.prototype),Xx(Gx.prototype,"label",[ge],Object.getOwnPropertyDescriptor(Gx.prototype,"label"),Gx.prototype),Xx(Gx.prototype,"skin",[ge],Object.getOwnPropertyDescriptor(Gx.prototype,"skin"),Gx.prototype),Xx(Gx.prototype,"type",[ge],Object.getOwnPropertyDescriptor(Gx.prototype,"type"),Gx.prototype),Kx=Gx))||Kx;var eS=Qx,tS=r(58527),nS={},iS=function(e,t,n,i){var r=e+"-"+t+"-"+n+(i?"-server":"");if(nS[r])return nS[r];var o=function(e,t,n,i){if("undefined"==typeof document&&!i)return null;var r=i?new i:document.createElement("canvas");r.width=2*n,r.height=2*n;var o=r.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,r.width,r.height),o.fillStyle=t,o.fillRect(0,0,n,n),o.translate(n,n),o.fillRect(0,0,n,n),r.toDataURL()):null}(e,t,n,i);return nS[r]=o,o},rS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},oS=function(e){var t=e.white,n=e.grey,i=e.size,r=e.renderers,o=e.borderRadius,s=e.boxShadow,a=e.children,l=(0,tS.Ay)({default:{grid:{borderRadius:o,boxShadow:s,absolute:"0px 0px 0px 0px",background:"url("+iS(t,n,i,r.canvas)+") center left"}}});return(0,u.isValidElement)(a)?u.cloneElement(a,rS({},a.props,{style:rS({},a.props.style,l.grid)})):u.createElement("div",{style:l.grid})};oS.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var sS=oS,aS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},lS=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function cS(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var uS=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return n=i=cS(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),i.handleChange=function(e){var t=function(e,t,n,i,r){var o=r.clientWidth,s=r.clientHeight,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,c=a-(r.getBoundingClientRect().left+window.pageXOffset),u=l-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n){var d;if(d=u<0?0:u>s?1:Math.round(100*u/s)/100,t.a!==d)return{h:t.h,s:t.s,l:t.l,a:d,source:"rgb"}}else{var h;if(i!==(h=c<0?0:c>o?1:Math.round(100*c/o)/100))return{h:t.h,s:t.s,l:t.l,a:h,source:"rgb"}}return null}(e,i.props.hsl,i.props.direction,i.props.a,i.container);t&&"function"==typeof i.props.onChange&&i.props.onChange(t,e)},i.handleMouseDown=function(e){i.handleChange(e),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},cS(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),lS(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=(0,tS.Ay)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:aS({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return u.createElement("div",{style:n.alpha},u.createElement("div",{style:n.checkboard},u.createElement(sS,{renderers:this.props.renderers})),u.createElement("div",{style:n.gradient}),u.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},u.createElement("div",{style:n.pointer},this.props.pointer?u.createElement(this.props.pointer,this.props):u.createElement("div",{style:n.slider}))))}}]),t}(u.PureComponent||u.Component),dS=uS,hS=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),pS=[38,40],fS=1,mS=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.setUpdatedValue(e.target.value,e)},n.handleKeyDown=function(e){var t,i=function(e){return Number(String(e).replace(/%/g,""))}(e.target.value);if(!isNaN(i)&&(t=e.keyCode,pS.indexOf(t)>-1)){var r=n.getArrowOffset(),o=38===e.keyCode?i+r:i-r;n.setUpdatedValue(o,e)}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n.inputId="rc-editable-input-"+fS++,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),hS(t,[{key:"componentDidUpdate",value:function(e,t){this.props.value===this.state.value||e.value===this.props.value&&t.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.props.label,e)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||1}},{key:"setUpdatedValue",value:function(e,t){var n=this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(n,t),this.setState({value:e})}},{key:"render",value:function(){var e=this,t=(0,tS.Ay)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return u.createElement("div",{style:t.wrap},u.createElement("input",{id:this.inputId,style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?u.createElement("label",{htmlFor:this.inputId,style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(u.PureComponent||u.Component),gS=mS,bS=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function yS(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var vS=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return n=i=yS(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),i.handleChange=function(e){var t=function(e,t,n,i){var r=i.clientWidth,o=i.clientHeight,s="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,a="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=s-(i.getBoundingClientRect().left+window.pageXOffset),c=a-(i.getBoundingClientRect().top+window.pageYOffset);if("vertical"===t){var u;if(u=c<0?359:c>o?0:360*(-100*c/o+100)/100,n.h!==u)return{h:u,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var d;if(d=l<0?0:l>r?359:100*l/r*360/100,n.h!==d)return{h:d,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null}(e,i.props.direction,i.props.hsl,i.container);t&&"function"==typeof i.props.onChange&&i.props.onChange(t,e)},i.handleMouseDown=function(e){i.handleChange(e),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},yS(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),bS(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,i=(0,tS.Ay)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return u.createElement("div",{style:i.hue},u.createElement("div",{className:"hue-"+n,style:i.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},u.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),u.createElement("div",{style:i.pointer},this.props.pointer?u.createElement(this.props.pointer,this.props):u.createElement("div",{style:i.slider}))))}}]),t}(u.PureComponent||u.Component),_S=vS,wS=function(e,t){return e===t||e!=e&&t!=t},kS=function(e,t){for(var n=e.length;n--;)if(wS(e[n][0],t))return n;return-1},CS=Array.prototype.splice;function ES(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}ES.prototype.clear=function(){this.__data__=[],this.size=0},ES.prototype.delete=function(e){var t=this.__data__,n=kS(t,e);return!(n<0||(n==t.length-1?t.pop():CS.call(t,n,1),--this.size,0))},ES.prototype.get=function(e){var t=this.__data__,n=kS(t,e);return n<0?void 0:t[n][1]},ES.prototype.has=function(e){return kS(this.__data__,e)>-1},ES.prototype.set=function(e,t){var n=this.__data__,i=kS(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};var xS=ES,SS="object"==typeof global&&global&&global.Object===Object&&global,OS="object"==typeof self&&self&&self.Object===Object&&self,TS=SS||OS||Function("return this")(),MS=TS.Symbol,PS=Object.prototype,DS=PS.hasOwnProperty,LS=PS.toString,AS=MS?MS.toStringTag:void 0,zS=Object.prototype.toString,IS=MS?MS.toStringTag:void 0,RS=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":IS&&IS in Object(e)?function(e){var t=DS.call(e,AS),n=e[AS];try{e[AS]=void 0;var i=!0}catch(e){}var r=LS.call(e);return i&&(t?e[AS]=n:delete e[AS]),r}(e):function(e){return zS.call(e)}(e)},jS=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},NS=function(e){if(!jS(e))return!1;var t=RS(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},FS=TS["__core-js_shared__"],YS=function(){var e=/[^.]+$/.exec(FS&&FS.keys&&FS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),BS=Function.prototype.toString,HS=function(e){if(null!=e){try{return BS.call(e)}catch(e){}try{return e+""}catch(e){}}return""},VS=/^\[object .+?Constructor\]$/,WS=Function.prototype,US=Object.prototype,$S=WS.toString,qS=US.hasOwnProperty,KS=RegExp("^"+$S.call(qS).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),GS=function(e){return!(!jS(e)||(t=e,YS&&YS in t))&&(NS(e)?KS:VS).test(HS(e));var t},ZS=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return GS(n)?n:void 0},JS=ZS(TS,"Map"),XS=ZS(Object,"create"),QS=Object.prototype.hasOwnProperty,eO=Object.prototype.hasOwnProperty;function tO(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}tO.prototype.clear=function(){this.__data__=XS?XS(null):{},this.size=0},tO.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},tO.prototype.get=function(e){var t=this.__data__;if(XS){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return QS.call(t,e)?t[e]:void 0},tO.prototype.has=function(e){var t=this.__data__;return XS?void 0!==t[e]:eO.call(t,e)},tO.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=XS&&void 0===t?"__lodash_hash_undefined__":t,this};var nO=tO,iO=function(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map};function rO(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}rO.prototype.clear=function(){this.size=0,this.__data__={hash:new nO,map:new(JS||xS),string:new nO}},rO.prototype.delete=function(e){var t=iO(this,e).delete(e);return this.size-=t?1:0,t},rO.prototype.get=function(e){return iO(this,e).get(e)},rO.prototype.has=function(e){return iO(this,e).has(e)},rO.prototype.set=function(e,t){var n=iO(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};var oO=rO;function sO(e){var t=this.__data__=new xS(e);this.size=t.size}sO.prototype.clear=function(){this.__data__=new xS,this.size=0},sO.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},sO.prototype.get=function(e){return this.__data__.get(e)},sO.prototype.has=function(e){return this.__data__.has(e)},sO.prototype.set=function(e,t){var n=this.__data__;if(n instanceof xS){var i=n.__data__;if(!JS||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new oO(i)}return n.set(e,t),this.size=n.size,this};var aO,lO=sO,cO=function(){try{var e=ZS(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),uO=function(e,t,n){"__proto__"==t&&cO?cO(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},dO=function(e,t,n){(void 0!==n&&!wS(e[t],n)||void 0===n&&!(t in e))&&uO(e,t,n)},hO=function(e,t,n){for(var i=-1,r=Object(e),o=n(e),s=o.length;s--;){var a=o[aO?s:++i];if(!1===t(r[a],a,r))break}return e},pO="object"==typeof exports&&exports&&!exports.nodeType&&exports,fO=pO&&"object"==typeof module&&module&&!module.nodeType&&module,mO=fO&&fO.exports===pO?TS.Buffer:void 0,gO=mO?mO.allocUnsafe:void 0,bO=function(e,t){if(t)return e.slice();var n=e.length,i=gO?gO(n):new e.constructor(n);return e.copy(i),i},yO=TS.Uint8Array,vO=function(e){var t=new e.constructor(e.byteLength);return new yO(t).set(new yO(e)),t},_O=function(e,t){var n=t?vO(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},wO=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t},kO=Object.create,CO=function(){function e(){}return function(t){if(!jS(t))return{};if(kO)return kO(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),EO=CO,xO=function(e,t){return function(n){return e(t(n))}},SO=xO(Object.getPrototypeOf,Object),OO=Object.prototype,TO=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||OO)},MO=function(e){return"function"!=typeof e.constructor||TO(e)?{}:EO(SO(e))},PO=function(e){return null!=e&&"object"==typeof e},DO=function(e){return PO(e)&&"[object Arguments]"==RS(e)},LO=Object.prototype,AO=LO.hasOwnProperty,zO=LO.propertyIsEnumerable,IO=DO(function(){return arguments}())?DO:function(e){return PO(e)&&AO.call(e,"callee")&&!zO.call(e,"callee")},RO=IO,jO=Array.isArray,NO=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},FO=function(e){return null!=e&&NO(e.length)&&!NS(e)},YO="object"==typeof exports&&exports&&!exports.nodeType&&exports,BO=YO&&"object"==typeof module&&module&&!module.nodeType&&module,HO=BO&&BO.exports===YO?TS.Buffer:void 0,VO=(HO?HO.isBuffer:void 0)||function(){return!1},WO=Function.prototype,UO=Object.prototype,$O=WO.toString,qO=UO.hasOwnProperty,KO=$O.call(Object),GO=function(e){if(!PO(e)||"[object Object]"!=RS(e))return!1;var t=SO(e);if(null===t)return!0;var n=qO.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&$O.call(n)==KO},ZO={};ZO["[object Float32Array]"]=ZO["[object Float64Array]"]=ZO["[object Int8Array]"]=ZO["[object Int16Array]"]=ZO["[object Int32Array]"]=ZO["[object Uint8Array]"]=ZO["[object Uint8ClampedArray]"]=ZO["[object Uint16Array]"]=ZO["[object Uint32Array]"]=!0,ZO["[object Arguments]"]=ZO["[object Array]"]=ZO["[object ArrayBuffer]"]=ZO["[object Boolean]"]=ZO["[object DataView]"]=ZO["[object Date]"]=ZO["[object Error]"]=ZO["[object Function]"]=ZO["[object Map]"]=ZO["[object Number]"]=ZO["[object Object]"]=ZO["[object RegExp]"]=ZO["[object Set]"]=ZO["[object String]"]=ZO["[object WeakMap]"]=!1;var JO=function(e){return function(t){return e(t)}},XO="object"==typeof exports&&exports&&!exports.nodeType&&exports,QO=XO&&"object"==typeof module&&module&&!module.nodeType&&module,eT=QO&&QO.exports===XO&&SS.process,tT=function(){try{return QO&&QO.require&&QO.require("util").types||eT&&eT.binding&&eT.binding("util")}catch(e){}}(),nT=tT&&tT.isTypedArray,iT=nT?JO(nT):function(e){return PO(e)&&NO(e.length)&&!!ZO[RS(e)]},rT=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},oT=Object.prototype.hasOwnProperty,sT=function(e,t,n){var i=e[t];oT.call(e,t)&&wS(i,n)&&(void 0!==n||t in e)||uO(e,t,n)},aT=function(e,t,n,i){var r=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=i?i(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),r?uO(n,a,l):sT(n,a,l)}return n},lT=/^(?:0|[1-9]\d*)$/,cT=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&lT.test(e))&&e>-1&&e%1==0&&e<t},uT=Object.prototype.hasOwnProperty,dT=function(e,t){var n=jO(e),i=!n&&RO(e),r=!n&&!i&&VO(e),o=!n&&!i&&!r&&iT(e),s=n||i||r||o,a=s?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=a.length;for(var c in e)!t&&!uT.call(e,c)||s&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||cT(c,l))||a.push(c);return a},hT=Object.prototype.hasOwnProperty,pT=function(e){if(!jS(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=TO(e),n=[];for(var i in e)("constructor"!=i||!t&&hT.call(e,i))&&n.push(i);return n},fT=function(e){return FO(e)?dT(e,!0):pT(e)},mT=function(e,t,n,i,r,o,s){var a=rT(e,n),l=rT(t,n),c=s.get(l);if(c)dO(e,n,c);else{var u=o?o(a,l,n+"",e,t,s):void 0,d=void 0===u;if(d){var h=jO(l),p=!h&&VO(l),f=!h&&!p&&iT(l);u=l,h||p||f?jO(a)?u=a:function(e){return PO(e)&&FO(e)}(a)?u=wO(a):p?(d=!1,u=bO(l,!0)):f?(d=!1,u=_O(l,!0)):u=[]:GO(l)||RO(l)?(u=a,RO(a)?u=function(e){return aT(e,fT(e))}(a):jS(a)&&!NS(a)||(u=MO(l))):d=!1}d&&(s.set(l,u),r(u,l,i,o,s),s.delete(l)),dO(e,n,u)}},gT=function e(t,n,i,r,o){t!==n&&hO(n,(function(s,a){if(o||(o=new lO),jS(s))mT(t,n,a,i,e,r,o);else{var l=r?r(rT(t,a),s,a+"",t,n,o):void 0;void 0===l&&(l=s),dO(t,a,l)}}),fT)},bT=function(e){return e},yT=Math.max,vT=function(e){return function(){return e}},_T=cO?function(e,t){return cO(e,"toString",{configurable:!0,enumerable:!1,value:vT(t),writable:!0})}:bT,wT=Date.now,kT=function(e){var t=0,n=0;return function(){var i=wT(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(_T),CT=function(e,t){return kT(function(e,t,n){return t=yT(void 0===t?e.length-1:t,0),function(){for(var i=arguments,r=-1,o=yT(i.length-t,0),s=Array(o);++r<o;)s[r]=i[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=i[r];return a[t]=n(s),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,a)}}(e,t,bT),e+"")},ET=function(e){return CT((function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(r--,o):void 0,s&&function(e,t,n){if(!jS(n))return!1;var i=typeof t;return!!("number"==i?FO(n)&&cT(t,n.length):"string"==i&&t in n)&&wS(n[t],e)}(n[0],n[1],s)&&(o=r<3?void 0:o,r=1),t=Object(t);++i<r;){var a=n[i];a&&e(t,a,i,o)}return t}))},xT=ET((function(e,t,n){gT(e,t,n)})),ST=function(e){var t=e.zDepth,n=e.radius,i=e.background,r=e.children,o=e.styles,s=void 0===o?{}:o,a=(0,tS.Ay)(xT({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},s),{"zDepth-1":1===t});return u.createElement("div",{style:a.wrap},u.createElement("div",{style:a.bg}),u.createElement("div",{style:a.content},r))};ST.propTypes={background:Au().string,zDepth:Au().oneOf([0,1,2,3,4,5]),radius:Au().number,styles:Au().object},ST.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var OT=ST,TT=function(){return TS.Date.now()},MT=/\s/,PT=/^\s+/,DT=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&MT.test(e.charAt(t)););return t}(e)+1).replace(PT,""):e},LT=function(e){return"symbol"==typeof e||PO(e)&&"[object Symbol]"==RS(e)},AT=/^[-+]0x[0-9a-f]+$/i,zT=/^0b[01]+$/i,IT=/^0o[0-7]+$/i,RT=parseInt,jT=function(e){if("number"==typeof e)return e;if(LT(e))return NaN;if(jS(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=jS(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=DT(e);var n=zT.test(e);return n||IT.test(e)?RT(e.slice(2),n?2:8):AT.test(e)?NaN:+e},NT=Math.max,FT=Math.min,YT=function(e,t,n){var i,r,o,s,a,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=i,o=r;return i=r=void 0,c=t,s=e.apply(o,n)}function f(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=o}function m(){var e=TT();if(f(e))return g(e);a=setTimeout(m,function(e){var n=t-(e-l);return d?FT(n,o-(e-c)):n}(e))}function g(e){return a=void 0,h&&i?p(e):(i=r=void 0,s)}function b(){var e=TT(),n=f(e);if(i=arguments,r=this,l=e,n){if(void 0===a)return function(e){return c=e,a=setTimeout(m,t),u?p(e):s}(l);if(d)return clearTimeout(a),a=setTimeout(m,t),p(l)}return void 0===a&&(a=setTimeout(m,t)),s}return t=jT(t)||0,jS(n)&&(u=!!n.leading,o=(d="maxWait"in n)?NT(jT(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),b.cancel=function(){void 0!==a&&clearTimeout(a),c=0,i=l=r=a=void 0},b.flush=function(){return void 0===a?s:g(TT())},b},BT=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return jS(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),YT(e,t,{leading:i,maxWait:t,trailing:r})},HT=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),VT=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){"function"==typeof n.props.onChange&&n.throttle(n.props.onChange,function(e,t,n){var i=n.getBoundingClientRect(),r=i.width,o=i.height,s="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,a="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=s-(n.getBoundingClientRect().left+window.pageXOffset),c=a-(n.getBoundingClientRect().top+window.pageYOffset);l<0?l=0:l>r&&(l=r),c<0?c=0:c>o&&(c=o);var u=l/r,d=1-c/o;return{h:t.h,s:u,v:d,a:t.a,source:"hsv"}}(e,n.props.hsl,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e);var t=n.getContainerRenderWindow();t.addEventListener("mousemove",n.handleChange),t.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=BT((function(e,t,n){e(t,n)}),50),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),HT(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var e=this.container,t=window;!t.document.contains(e)&&t.parent!==t;)t=t.parent;return t}},{key:"unbindEventListeners",value:function(){var e=this.getContainerRenderWindow();e.removeEventListener("mousemove",this.handleChange),e.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,i=t.white,r=t.black,o=t.pointer,s=t.circle,a=(0,tS.Ay)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:i,black:r,pointer:o,circle:s}},{custom:!!this.props.style});return u.createElement("div",{style:a.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},u.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),u.createElement("div",{style:a.white,className:"saturation-white"},u.createElement("div",{style:a.black,className:"saturation-black"}),u.createElement("div",{style:a.pointer},this.props.pointer?u.createElement(this.props.pointer,this.props):u.createElement("div",{style:a.circle}))))}}]),t}(u.PureComponent||u.Component),WT=VT,UT=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e},$T=xO(Object.keys,Object),qT=Object.prototype.hasOwnProperty,KT=function(e){return FO(e)?dT(e):function(e){if(!TO(e))return $T(e);var t=[];for(var n in Object(e))qT.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)},GT=function(e,t){return e&&hO(e,t,KT)},ZT=function(e,t){return function(n,i){if(null==n)return n;if(!FO(n))return e(n,i);for(var r=n.length,o=t?r:-1,s=Object(n);(t?o--:++o<r)&&!1!==i(s[o],o,s););return n}}(GT),JT=function(e,t){return(jO(e)?UT:ZT)(e,function(e){return"function"==typeof e?e:bT}(t))};function XT(e){return XT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XT(e)}var QT=/^\s+/,eM=/\s+$/;function tM(e,t){if(t=t||{},(e=e||"")instanceof tM)return e;if(!(this instanceof tM))return new tM(e,t);var n=function(e){var t,n,i,r={r:0,g:0,b:0},o=1,s=null,a=null,l=null,c=!1,u=!1;return"string"==typeof e&&(e=function(e){e=e.replace(QT,"").replace(eM,"").toLowerCase();var t,n=!1;if(yM[e])e=yM[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=DM.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=DM.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=DM.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=DM.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=DM.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=DM.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=DM.hex8.exec(e))?{r:CM(t[1]),g:CM(t[2]),b:CM(t[3]),a:OM(t[4]),format:n?"name":"hex8"}:(t=DM.hex6.exec(e))?{r:CM(t[1]),g:CM(t[2]),b:CM(t[3]),format:n?"name":"hex"}:(t=DM.hex4.exec(e))?{r:CM(t[1]+""+t[1]),g:CM(t[2]+""+t[2]),b:CM(t[3]+""+t[3]),a:OM(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=DM.hex3.exec(e))&&{r:CM(t[1]+""+t[1]),g:CM(t[2]+""+t[2]),b:CM(t[3]+""+t[3]),format:n?"name":"hex"}}(e)),"object"==XT(e)&&(LM(e.r)&&LM(e.g)&&LM(e.b)?(t=e.r,n=e.g,i=e.b,r={r:255*wM(t,255),g:255*wM(n,255),b:255*wM(i,255)},c=!0,u="%"===String(e.r).substr(-1)?"prgb":"rgb"):LM(e.h)&&LM(e.s)&&LM(e.v)?(s=xM(e.s),a=xM(e.v),r=function(e,t,n){e=6*wM(e,360),t=wM(t,100),n=wM(n,100);var i=Math.floor(e),r=e-i,o=n*(1-t),s=n*(1-r*t),a=n*(1-(1-r)*t),l=i%6;return{r:255*[n,s,o,o,a,n][l],g:255*[a,n,n,s,o,o][l],b:255*[o,o,a,n,n,s][l]}}(e.h,s,a),c=!0,u="hsv"):LM(e.h)&&LM(e.s)&&LM(e.l)&&(s=xM(e.s),l=xM(e.l),r=function(e,t,n){var i,r,o;function s(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=wM(e,360),t=wM(t,100),n=wM(n,100),0===t)i=r=o=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=s(l,a,e+1/3),r=s(l,a,e),o=s(l,a,e-1/3)}return{r:255*i,g:255*r,b:255*o}}(e.h,s,l),c=!0,u="hsl"),e.hasOwnProperty("a")&&(o=e.a)),o=_M(o),{ok:c,format:e.format||u,r:Math.min(255,Math.max(r.r,0)),g:Math.min(255,Math.max(r.g,0)),b:Math.min(255,Math.max(r.b,0)),a:o}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function nM(e,t,n){e=wM(e,255),t=wM(t,255),n=wM(n,255);var i,r,o=Math.max(e,t,n),s=Math.min(e,t,n),a=(o+s)/2;if(o==s)i=r=0;else{var l=o-s;switch(r=a>.5?l/(2-o-s):l/(o+s),o){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4}i/=6}return{h:i,s:r,l:a}}function iM(e,t,n){e=wM(e,255),t=wM(t,255),n=wM(n,255);var i,r,o=Math.max(e,t,n),s=Math.min(e,t,n),a=o,l=o-s;if(r=0===o?0:l/o,o==s)i=0;else{switch(o){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4}i/=6}return{h:i,s:r,v:a}}function rM(e,t,n,i){var r=[EM(Math.round(e).toString(16)),EM(Math.round(t).toString(16)),EM(Math.round(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function oM(e,t,n,i){return[EM(SM(i)),EM(Math.round(e).toString(16)),EM(Math.round(t).toString(16)),EM(Math.round(n).toString(16))].join("")}function sM(e,t){t=0===t?0:t||10;var n=tM(e).toHsl();return n.s-=t/100,n.s=kM(n.s),tM(n)}function aM(e,t){t=0===t?0:t||10;var n=tM(e).toHsl();return n.s+=t/100,n.s=kM(n.s),tM(n)}function lM(e){return tM(e).desaturate(100)}function cM(e,t){t=0===t?0:t||10;var n=tM(e).toHsl();return n.l+=t/100,n.l=kM(n.l),tM(n)}function uM(e,t){t=0===t?0:t||10;var n=tM(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),tM(n)}function dM(e,t){t=0===t?0:t||10;var n=tM(e).toHsl();return n.l-=t/100,n.l=kM(n.l),tM(n)}function hM(e,t){var n=tM(e).toHsl(),i=(n.h+t)%360;return n.h=i<0?360+i:i,tM(n)}function pM(e){var t=tM(e).toHsl();return t.h=(t.h+180)%360,tM(t)}function fM(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=tM(e).toHsl(),i=[tM(e)],r=360/t,o=1;o<t;o++)i.push(tM({h:(n.h+o*r)%360,s:n.s,l:n.l}));return i}function mM(e){var t=tM(e).toHsl(),n=t.h;return[tM(e),tM({h:(n+72)%360,s:t.s,l:t.l}),tM({h:(n+216)%360,s:t.s,l:t.l})]}function gM(e,t,n){t=t||6,n=n||30;var i=tM(e).toHsl(),r=360/n,o=[tM(e)];for(i.h=(i.h-(r*t>>1)+720)%360;--t;)i.h=(i.h+r)%360,o.push(tM(i));return o}function bM(e,t){t=t||6;for(var n=tM(e).toHsv(),i=n.h,r=n.s,o=n.v,s=[],a=1/t;t--;)s.push(tM({h:i,s:r,v:o})),o=(o+a)%1;return s}tM.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,i=this.toRgb();return e=i.r/255,t=i.g/255,n=i.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=_M(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=iM(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=iM(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),i=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+i+"%)":"hsva("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=nM(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=nM(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),i=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+i+"%)":"hsla("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return rM(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,i,r){var o=[EM(Math.round(e).toString(16)),EM(Math.round(t).toString(16)),EM(Math.round(n).toString(16)),EM(SM(i))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*wM(this._r,255))+"%",g:Math.round(100*wM(this._g,255))+"%",b:Math.round(100*wM(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*wM(this._r,255))+"%, "+Math.round(100*wM(this._g,255))+"%, "+Math.round(100*wM(this._b,255))+"%)":"rgba("+Math.round(100*wM(this._r,255))+"%, "+Math.round(100*wM(this._g,255))+"%, "+Math.round(100*wM(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(vM[rM(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+oM(this._r,this._g,this._b,this._a),n=t,i=this._gradientType?"GradientType = 1, ":"";if(e){var r=tM(e);n="#"+oM(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,i=this._a<1&&this._a>=0;return t||!i||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return tM(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(cM,arguments)},brighten:function(){return this._applyModification(uM,arguments)},darken:function(){return this._applyModification(dM,arguments)},desaturate:function(){return this._applyModification(sM,arguments)},saturate:function(){return this._applyModification(aM,arguments)},greyscale:function(){return this._applyModification(lM,arguments)},spin:function(){return this._applyModification(hM,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(gM,arguments)},complement:function(){return this._applyCombination(pM,arguments)},monochromatic:function(){return this._applyCombination(bM,arguments)},splitcomplement:function(){return this._applyCombination(mM,arguments)},triad:function(){return this._applyCombination(fM,[3])},tetrad:function(){return this._applyCombination(fM,[4])}},tM.fromRatio=function(e,t){if("object"==XT(e)){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]="a"===i?e[i]:xM(e[i]));e=n}return tM(e,t)},tM.equals=function(e,t){return!(!e||!t)&&tM(e).toRgbString()==tM(t).toRgbString()},tM.random=function(){return tM.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},tM.mix=function(e,t,n){n=0===n?0:n||50;var i=tM(e).toRgb(),r=tM(t).toRgb(),o=n/100;return tM({r:(r.r-i.r)*o+i.r,g:(r.g-i.g)*o+i.g,b:(r.b-i.b)*o+i.b,a:(r.a-i.a)*o+i.a})},tM.readability=function(e,t){var n=tM(e),i=tM(t);return(Math.max(n.getLuminance(),i.getLuminance())+.05)/(Math.min(n.getLuminance(),i.getLuminance())+.05)},tM.isReadable=function(e,t,n){var i,r,o,s,a,l=tM.readability(e,t);switch(r=!1,(o=n,"AA"!==(s=((o=o||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==s&&(s="AA"),"small"!==(a=(o.size||"small").toLowerCase())&&"large"!==a&&(a="small"),i={level:s,size:a}).level+i.size){case"AAsmall":case"AAAlarge":r=l>=4.5;break;case"AAlarge":r=l>=3;break;case"AAAsmall":r=l>=7}return r},tM.mostReadable=function(e,t,n){var i,r,o,s,a=null,l=0;r=(n=n||{}).includeFallbackColors,o=n.level,s=n.size;for(var c=0;c<t.length;c++)(i=tM.readability(e,t[c]))>l&&(l=i,a=tM(t[c]));return tM.isReadable(e,a,{level:o,size:s})||!r?a:(n.includeFallbackColors=!1,tM.mostReadable(e,["#fff","#000"],n))};var yM=tM.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},vM=tM.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(yM);function _M(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function wM(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function kM(e){return Math.min(1,Math.max(0,e))}function CM(e){return parseInt(e,16)}function EM(e){return 1==e.length?"0"+e:""+e}function xM(e){return e<=1&&(e=100*e+"%"),e}function SM(e){return Math.round(255*parseFloat(e)).toString(16)}function OM(e){return CM(e)/255}var TM,MM,PM,DM=(MM="[\\s|\\(]+("+(TM="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+TM+")[,|\\s]+("+TM+")\\s*\\)?",PM="[\\s|\\(]+("+TM+")[,|\\s]+("+TM+")[,|\\s]+("+TM+")[,|\\s]+("+TM+")\\s*\\)?",{CSS_UNIT:new RegExp(TM),rgb:new RegExp("rgb"+MM),rgba:new RegExp("rgba"+PM),hsl:new RegExp("hsl"+MM),hsla:new RegExp("hsla"+PM),hsv:new RegExp("hsv"+MM),hsva:new RegExp("hsva"+PM),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function LM(e){return!!DM.CSS_UNIT.exec(e)}var AM=function(e){var t=0,n=0;return JT(["r","g","b","a","h","s","l","v"],(function(i){e[i]&&(t+=1,isNaN(e[i])||(n+=1),"s"===i||"l"===i)&&/^\d+%$/.test(e[i])&&(n+=1)})),t===n&&e},zM=function(e,t){var n=e.hex?tM(e.hex):tM(e),i=n.toHsl(),r=n.toHsv(),o=n.toRgb(),s=n.toHex();return 0===i.s&&(i.h=t||0,r.h=t||0),{hsl:i,hex:"000000"===s&&0===o.a?"transparent":"#"+s,rgb:o,hsv:r,oldHue:e.h||t||i.h,source:e.source}},IM=function(e){if("transparent"===e)return!0;var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&tM(e).isValid()},RM=function(e){if(!e)return"#fff";var t=zM(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"},jM=function(e,t){return tM(t+" ("+e.replace("","")+")")._ok},NM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},FM=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),YM=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(AM(e)){var i=zM(e,e.h||t.state.oldHue);t.setState(i),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,i,n),t.props.onChange&&t.props.onChange(i,n)}},t.handleSwatchHover=function(e,n){if(AM(e)){var i=zM(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(i,n)}},t.state=NM({},zM(e.color,0)),t.debounce=YT((function(e,t,n){e(t,n)}),100),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),FM(n,[{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),u.createElement(e,NM({},this.props,this.state,{onChange:this.handleChange},t))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return NM({},zM(e.color,t.oldHue))}}]),n}(u.PureComponent||u.Component);return t.propTypes=NM({},e.propTypes),t.defaultProps=NM({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t},BM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},HM=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function VM(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var WM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},UM=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function i(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return t=n=VM(this,(e=i.__proto__||Object.getPrototypeOf(i)).call.apply(e,[this].concat(o))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},VM(n,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,n),HM(i,[{key:"render",value:function(){return u.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},u.createElement(e,BM({},this.props,this.state)))}}]),i}(u.Component)}((function(e){var t=e.color,n=e.style,i=e.onClick,r=void 0===i?function(){}:i,o=e.onHover,s=e.title,a=void 0===s?t:s,l=e.children,c=e.focus,d=e.focusStyle,h=void 0===d?{}:d,p="transparent"===t,f=(0,tS.Ay)({default:{swatch:WM({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,c?h:{})}}),m={};return o&&(m.onMouseOver=function(e){return o(t,e)}),u.createElement("div",WM({style:f.swatch,onClick:function(e){return r(t,e)},title:a,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&r(t,e)}},m),l,p&&u.createElement(sS,{borderRadius:f.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))})),$M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qM=function(e){var t=e.rgb,n=e.hsl,i=e.width,r=e.height,o=e.onChange,s=e.direction,a=e.style,l=e.renderers,c=e.pointer,d=e.className,h=void 0===d?"":d,p=(0,tS.Ay)({default:{picker:{position:"relative",width:i,height:r},alpha:{radius:"2px",style:a}}});return u.createElement("div",{style:p.picker,className:"alpha-picker "+h},u.createElement(dS,$M({},p.alpha,{rgb:t,hsl:n,pointer:c,renderers:l,onChange:o,direction:s})))};qM.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:function(e){var t=e.direction,n=(0,tS.Ay)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return u.createElement("div",{style:n.picker})}},YM(qM);var KM=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r};function GM(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new oO;++t<n;)this.add(e[t])}GM.prototype.add=GM.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},GM.prototype.has=function(e){return this.__data__.has(e)};var ZM=GM,JM=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1},XM=function(e,t){return e.has(t)},QM=function(e,t,n,i,r,o){var s=1&n,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,p=2&n?new ZM:void 0;for(o.set(e,t),o.set(t,e);++d<a;){var f=e[d],m=t[d];if(i)var g=s?i(m,f,d,t,e,o):i(f,m,d,e,t,o);if(void 0!==g){if(g)continue;h=!1;break}if(p){if(!JM(t,(function(e,t){if(!XM(p,t)&&(f===e||r(f,e,n,i,o)))return p.push(t)}))){h=!1;break}}else if(f!==m&&!r(f,m,n,i,o)){h=!1;break}}return o.delete(e),o.delete(t),h},eP=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n},tP=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},nP=MS?MS.prototype:void 0,iP=nP?nP.valueOf:void 0,rP=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e},oP=function(e,t,n){var i=t(e);return jO(e)?i:rP(i,n(e))},sP=function(){return[]},aP=Object.prototype.propertyIsEnumerable,lP=Object.getOwnPropertySymbols,cP=lP?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var s=e[n];t(s,n,e)&&(o[r++]=s)}return o}(lP(e),(function(t){return aP.call(e,t)})))}:sP,uP=function(e){return oP(e,KT,cP)},dP=Object.prototype.hasOwnProperty,hP=ZS(TS,"DataView"),pP=ZS(TS,"Promise"),fP=ZS(TS,"Set"),mP=ZS(TS,"WeakMap"),gP="[object Map]",bP="[object Promise]",yP="[object Set]",vP="[object WeakMap]",_P="[object DataView]",wP=HS(hP),kP=HS(JS),CP=HS(pP),EP=HS(fP),xP=HS(mP),SP=RS;(hP&&SP(new hP(new ArrayBuffer(1)))!=_P||JS&&SP(new JS)!=gP||pP&&SP(pP.resolve())!=bP||fP&&SP(new fP)!=yP||mP&&SP(new mP)!=vP)&&(SP=function(e){var t=RS(e),n="[object Object]"==t?e.constructor:void 0,i=n?HS(n):"";if(i)switch(i){case wP:return _P;case kP:return gP;case CP:return bP;case EP:return yP;case xP:return vP}return t});var OP=SP,TP="[object Arguments]",MP="[object Array]",PP="[object Object]",DP=Object.prototype.hasOwnProperty,LP=function(e,t,n,i,r,o){var s=jO(e),a=jO(t),l=s?MP:OP(e),c=a?MP:OP(t),u=(l=l==TP?PP:l)==PP,d=(c=c==TP?PP:c)==PP,h=l==c;if(h&&VO(e)){if(!VO(t))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new lO),s||iT(e)?QM(e,t,n,i,r,o):function(e,t,n,i,r,o,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new yO(e),new yO(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return wS(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=eP;case"[object Set]":var l=1&i;if(a||(a=tP),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;i|=2,s.set(e,t);var u=QM(a(e),a(t),i,r,o,s);return s.delete(e),u;case"[object Symbol]":if(iP)return iP.call(e)==iP.call(t)}return!1}(e,t,l,n,i,r,o);if(!(1&n)){var p=u&&DP.call(e,"__wrapped__"),f=d&&DP.call(t,"__wrapped__");if(p||f){var m=p?e.value():e,g=f?t.value():t;return o||(o=new lO),r(m,g,n,i,o)}}return!!h&&(o||(o=new lO),function(e,t,n,i,r,o){var s=1&n,a=uP(e),l=a.length;if(l!=uP(t).length&&!s)return!1;for(var c=l;c--;){var u=a[c];if(!(s?u in t:dP.call(t,u)))return!1}var d=o.get(e),h=o.get(t);if(d&&h)return d==t&&h==e;var p=!0;o.set(e,t),o.set(t,e);for(var f=s;++c<l;){var m=e[u=a[c]],g=t[u];if(i)var b=s?i(g,m,u,t,e,o):i(m,g,u,e,t,o);if(!(void 0===b?m===g||r(m,g,n,i,o):b)){p=!1;break}f||(f="constructor"==u)}if(p&&!f){var y=e.constructor,v=t.constructor;y==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,i,r,o))},AP=function e(t,n,i,r,o){return t===n||(null==t||null==n||!PO(t)&&!PO(n)?t!=t&&n!=n:LP(t,n,i,r,e,o))},zP=function(e){return e==e&&!jS(e)},IP=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},RP=function(e){var t=function(e){for(var t=KT(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,zP(r)]}return t}(e);return 1==t.length&&t[0][2]?IP(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,i){var r=n.length,o=r,s=!i;if(null==e)return!o;for(e=Object(e);r--;){var a=n[r];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<o;){var l=(a=n[r])[0],c=e[l],u=a[1];if(s&&a[2]){if(void 0===c&&!(l in e))return!1}else{var d=new lO;if(i)var h=i(c,u,l,e,t,d);if(!(void 0===h?AP(u,c,3,i,d):h))return!1}}return!0}(n,e,t)}},jP=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,NP=/^\w*$/,FP=function(e,t){if(jO(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!LT(e))||NP.test(e)||!jP.test(e)||null!=t&&e in Object(t)};function YP(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(YP.Cache||oO),n}YP.Cache=oO;var BP=YP,HP=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,VP=/\\(\\)?/g,WP=function(e){var t=BP(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(HP,(function(e,n,i,r){t.push(i?r.replace(VP,"$1"):n||e)})),t})),UP=WP,$P=MS?MS.prototype:void 0,qP=$P?$P.toString:void 0,KP=function e(t){if("string"==typeof t)return t;if(jO(t))return KM(t,e)+"";if(LT(t))return qP?qP.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},GP=function(e){return null==e?"":KP(e)},ZP=function(e,t){return jO(e)?e:FP(e,t)?[e]:UP(GP(e))},JP=function(e){if("string"==typeof e||LT(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},XP=function(e,t){for(var n=0,i=(t=ZP(t,e)).length;null!=e&&n<i;)e=e[JP(t[n++])];return n&&n==i?e:void 0},QP=function(e,t,n){var i=null==e?void 0:XP(e,t);return void 0===i?n:i},eD=function(e,t){return null!=e&&t in Object(e)},tD=function(e,t){return null!=e&&function(e,t,n){for(var i=-1,r=(t=ZP(t,e)).length,o=!1;++i<r;){var s=JP(t[i]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++i!=r?o:!!(r=null==e?0:e.length)&&NO(r)&&cT(s,r)&&(jO(e)||RO(e))}(e,t,eD)},nD=function(e){return FP(e)?(t=JP(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return XP(t,e)}}(e);var t},iD=function(e){return"function"==typeof e?e:null==e?bT:"object"==typeof e?jO(e)?(t=e[0],n=e[1],FP(t)&&zP(n)?IP(JP(t),n):function(e){var i=QP(e,t);return void 0===i&&i===n?tD(e,t):AP(n,i,3)}):RP(e):nD(e);var t,n},rD=function(e,t){var n=-1,i=FO(e)?Array(e.length):[];return ZT(e,(function(e,r,o){i[++n]=t(e,r,o)})),i},oD=function(e,t){return(jO(e)?KM:rD)(e,iD(t))},sD=function(e){var t=e.colors,n=e.onClick,i=e.onSwatchHover,r=(0,tS.Ay)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return u.createElement("div",{style:r.swatches},oD(t,(function(e){return u.createElement(UM,{key:e,color:e,style:r.swatch,onClick:n,onHover:i,focusStyle:{boxShadow:"0 0 4px "+e}})})),u.createElement("div",{style:r.clear}))},aD=function(e){var t=e.onChange,n=e.onSwatchHover,i=e.hex,r=e.colors,o=e.width,s=e.triangle,a=e.styles,l=void 0===a?{}:a,c=e.className,d=void 0===c?"":c,h="transparent"===i,p=function(e,n){IM(e)&&t({hex:e,source:"hex"},n)},f=(0,tS.Ay)(xT({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:RM(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},l),{"hide-triangle":"hide"===s});return u.createElement("div",{style:f.card,className:"block-picker "+d},u.createElement("div",{style:f.triangle}),u.createElement("div",{style:f.head},h&&u.createElement(sS,{borderRadius:"6px 6px 0 0"}),u.createElement("div",{style:f.label},i)),u.createElement("div",{style:f.body},u.createElement(sD,{colors:r,onClick:p,onSwatchHover:n}),u.createElement(gS,{style:{input:f.input},value:i,onChange:p})))};aD.propTypes={width:Au().oneOfType([Au().string,Au().number]),colors:Au().arrayOf(Au().string),triangle:Au().oneOf(["top","hide"]),styles:Au().object},aD.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}},YM(aD);var lD="#ffcdd2",cD="#e57373",uD="#f44336",dD="#d32f2f",hD="#b71c1c",pD="#f8bbd0",fD="#f06292",mD="#e91e63",gD="#c2185b",bD="#880e4f",yD="#e1bee7",vD="#ba68c8",_D="#9c27b0",wD="#7b1fa2",kD="#4a148c",CD="#d1c4e9",ED="#9575cd",xD="#673ab7",SD="#512da8",OD="#311b92",TD="#c5cae9",MD="#7986cb",PD="#3f51b5",DD="#303f9f",LD="#1a237e",AD="#bbdefb",zD="#64b5f6",ID="#2196f3",RD="#1976d2",jD="#0d47a1",ND="#b3e5fc",FD="#4fc3f7",YD="#03a9f4",BD="#0288d1",HD="#01579b",VD="#b2ebf2",WD="#4dd0e1",UD="#00bcd4",$D="#0097a7",qD="#006064",KD="#b2dfdb",GD="#4db6ac",ZD="#009688",JD="#00796b",XD="#004d40",QD="#c8e6c9",eL="#81c784",tL="#4caf50",nL="#388e3c",iL="#dcedc8",rL="#aed581",oL="#8bc34a",sL="#689f38",aL="#33691e",lL="#f0f4c3",cL="#dce775",uL="#cddc39",dL="#afb42b",hL="#827717",pL="#fff9c4",fL="#fff176",mL="#ffeb3b",gL="#fbc02d",bL="#f57f17",yL="#ffecb3",vL="#ffd54f",_L="#ffc107",wL="#ffa000",kL="#ff6f00",CL="#ffe0b2",EL="#ffb74d",xL="#ff9800",SL="#f57c00",OL="#e65100",TL="#ffccbc",ML="#ff8a65",PL="#ff5722",DL="#e64a19",LL="#bf360c",AL="#d7ccc8",zL="#a1887f",IL="#795548",RL="#5d4037",jL="#3e2723",NL="#cfd8dc",FL="#90a4ae",YL="#607d8b",BL="#455a64",HL="#263238",VL=function(e){var t=e.color,n=e.onClick,i=e.onSwatchHover,r=e.hover,o=e.active,s=e.circleSize,a=e.circleSpacing,l=(0,tS.Ay)({default:{swatch:{width:s,height:s,marginRight:a,marginBottom:a,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(s/2+1)+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:r,active:o});return u.createElement("div",{style:l.swatch},u.createElement(UM,{style:l.Swatch,color:t,onClick:n,onHover:i,focusStyle:{boxShadow:l.Swatch.boxShadow+", 0 0 5px "+t}}))};VL.defaultProps={circleSize:28,circleSpacing:14};var WL=(0,tS.H8)(VL),UL=function(e){var t=e.width,n=e.onChange,i=e.onSwatchHover,r=e.colors,o=e.hex,s=e.circleSize,a=e.styles,l=void 0===a?{}:a,c=e.circleSpacing,d=e.className,h=void 0===d?"":d,p=(0,tS.Ay)(xT({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-c,marginBottom:-c}}},l)),f=function(e,t){return n({hex:e,source:"hex"},t)};return u.createElement("div",{style:p.card,className:"circle-picker "+h},oD(r,(function(e){return u.createElement(WL,{key:e,color:e,onClick:f,onSwatchHover:i,active:o===e.toLowerCase(),circleSize:s,circleSpacing:c})})))};UL.propTypes={width:Au().oneOfType([Au().string,Au().number]),circleSize:Au().number,circleSpacing:Au().number,styles:Au().object},UL.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[uD,mD,_D,xD,PD,ID,YD,UD,ZD,tL,oL,uL,mL,_L,xL,PL,IL,YL],styles:{}},YM(UL);var $L=function(e){return void 0===e},qL=r(54657),KL=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),GL=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.toggleViews=function(){"hex"===n.state.view?n.setState({view:"rgb"}):"rgb"===n.state.view?n.setState({view:"hsl"}):"hsl"===n.state.view&&(1===n.props.hsl.a?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(e,t){e.hex?IM(e.hex)&&n.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?n.props.onChange({r:e.r||n.props.rgb.r,g:e.g||n.props.rgb.g,b:e.b||n.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&("string"==typeof e.s&&e.s.includes("%")&&(e.s=e.s.replace("%","")),"string"==typeof e.l&&e.l.includes("%")&&(e.l=e.l.replace("%","")),1==e.s?e.s=.01:1==e.l&&(e.l=.01),n.props.onChange({h:e.h||n.props.hsl.h,s:Number($L(e.s)?n.props.hsl.s:e.s),l:Number($L(e.l)?n.props.hsl.l:e.l),source:"hsl"},t))},n.showHighlight=function(e){e.currentTarget.style.background="#eee"},n.hideHighlight=function(e){e.currentTarget.style.background="transparent"},1!==e.hsl.a&&"hex"===e.view?n.state={view:"rgb"}:n.state={view:e.view},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),KL(t,[{key:"render",value:function(){var e=this,t=(0,tS.Ay)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=u.createElement("div",{style:t.fields,className:"flexbox-fix"},u.createElement("div",{style:t.field},u.createElement(gS,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=u.createElement("div",{style:t.fields,className:"flexbox-fix"},u.createElement("div",{style:t.field},u.createElement(gS,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),u.createElement("div",{style:t.field},u.createElement(gS,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),u.createElement("div",{style:t.field},u.createElement(gS,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),u.createElement("div",{style:t.alpha},u.createElement(gS,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=u.createElement("div",{style:t.fields,className:"flexbox-fix"},u.createElement("div",{style:t.field},u.createElement(gS,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),u.createElement("div",{style:t.field},u.createElement(gS,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),u.createElement("div",{style:t.field},u.createElement(gS,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),u.createElement("div",{style:t.alpha},u.createElement(gS,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),u.createElement("div",{style:t.wrap,className:"flexbox-fix"},n,u.createElement("div",{style:t.toggle},u.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},u.createElement(qL.A,{style:t.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 1!==e.hsl.a&&"hex"===t.view?{view:"rgb"}:null}}]),t}(u.Component);GL.defaultProps={view:"hex"};var ZL=GL,JL=function(){var e=(0,tS.Ay)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return u.createElement("div",{style:e.picker})},XL=function(){var e=(0,tS.Ay)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return u.createElement("div",{style:e.picker})},QL=function(e){var t=e.width,n=e.onChange,i=e.disableAlpha,r=e.rgb,o=e.hsl,s=e.hsv,a=e.hex,l=e.renderers,c=e.styles,d=void 0===c?{}:c,h=e.className,p=void 0===h?"":h,f=e.defaultView,m=(0,tS.Ay)(xT({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+r.r+", "+r.g+", "+r.b+", "+r.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},d),{disableAlpha:i});return u.createElement("div",{style:m.picker,className:"chrome-picker "+p},u.createElement("div",{style:m.saturation},u.createElement(WT,{style:m.Saturation,hsl:o,hsv:s,pointer:XL,onChange:n})),u.createElement("div",{style:m.body},u.createElement("div",{style:m.controls,className:"flexbox-fix"},u.createElement("div",{style:m.color},u.createElement("div",{style:m.swatch},u.createElement("div",{style:m.active}),u.createElement(sS,{renderers:l}))),u.createElement("div",{style:m.toggles},u.createElement("div",{style:m.hue},u.createElement(_S,{style:m.Hue,hsl:o,pointer:JL,onChange:n})),u.createElement("div",{style:m.alpha},u.createElement(dS,{style:m.Alpha,rgb:r,hsl:o,pointer:JL,renderers:l,onChange:n})))),u.createElement(ZL,{rgb:r,hsl:o,hex:a,view:f,onChange:n,disableAlpha:i})))};QL.propTypes={width:Au().oneOfType([Au().string,Au().number]),disableAlpha:Au().bool,styles:Au().object,defaultView:Au().oneOf(["hex","rgb","hsl"])},QL.defaultProps={width:225,disableAlpha:!1,styles:{}},YM(QL);var eA=function(e){var t=e.color,n=e.onClick,i=void 0===n?function(){}:n,r=e.onSwatchHover,o=e.active,s=(0,tS.Ay)({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:RM(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return u.createElement(UM,{style:s.color,color:t,onClick:i,onHover:r,focusStyle:{boxShadow:"0 0 4px "+t}},u.createElement("div",{style:s.dot}))},tA=function(e){var t=e.hex,n=e.rgb,i=e.onChange,r=(0,tS.Ay)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(e,t){e.r||e.g||e.b?i({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},t):i({hex:e.hex,source:"hex"},t)};return u.createElement("div",{style:r.fields,className:"flexbox-fix"},u.createElement("div",{style:r.active}),u.createElement(gS,{style:{wrap:r.HEXwrap,input:r.HEXinput,label:r.HEXlabel},label:"hex",value:t,onChange:o}),u.createElement(gS,{style:{wrap:r.RGBwrap,input:r.RGBinput,label:r.RGBlabel},label:"r",value:n.r,onChange:o}),u.createElement(gS,{style:{wrap:r.RGBwrap,input:r.RGBinput,label:r.RGBlabel},label:"g",value:n.g,onChange:o}),u.createElement(gS,{style:{wrap:r.RGBwrap,input:r.RGBinput,label:r.RGBlabel},label:"b",value:n.b,onChange:o}))},nA=function(e){var t=e.onChange,n=e.onSwatchHover,i=e.colors,r=e.hex,o=e.rgb,s=e.styles,a=void 0===s?{}:s,l=e.className,c=void 0===l?"":l,d=(0,tS.Ay)(xT({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},a)),h=function(e,n){e.hex?IM(e.hex)&&t({hex:e.hex,source:"hex"},n):t(e,n)};return u.createElement(OT,{style:d.Compact,styles:a},u.createElement("div",{style:d.compact,className:"compact-picker "+c},u.createElement("div",null,oD(i,(function(e){return u.createElement(eA,{key:e,color:e,active:e.toLowerCase()===r,onClick:h,onSwatchHover:n})})),u.createElement("div",{style:d.clear})),u.createElement(tA,{hex:r,rgb:o,onChange:h})))};nA.propTypes={colors:Au().arrayOf(Au().string),styles:Au().object},nA.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}},YM(nA);var iA=(0,tS.H8)((function(e){var t=e.hover,n=e.color,i=e.onClick,r=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},s=(0,tS.Ay)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:t});return u.createElement("div",{style:s.swatch},u.createElement(UM,{color:n,onClick:i,onHover:r,focusStyle:o}))})),rA=function(e){var t=e.width,n=e.colors,i=e.onChange,r=e.onSwatchHover,o=e.triangle,s=e.styles,a=void 0===s?{}:s,l=e.className,c=void 0===l?"":l,d=(0,tS.Ay)(xT({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},a),{"hide-triangle":"hide"===o,"top-left-triangle":"top-left"===o,"top-right-triangle":"top-right"===o,"bottom-left-triangle":"bottom-left"===o,"bottom-right-triangle":"bottom-right"===o}),h=function(e,t){return i({hex:e,source:"hex"},t)};return u.createElement("div",{style:d.card,className:"github-picker "+c},u.createElement("div",{style:d.triangleShadow}),u.createElement("div",{style:d.triangle}),oD(n,(function(e){return u.createElement(iA,{color:e,key:e,onClick:h,onSwatchHover:r})})))};rA.propTypes={width:Au().oneOfType([Au().string,Au().number]),colors:Au().arrayOf(Au().string),triangle:Au().oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:Au().object},rA.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}},YM(rA);var oA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},sA=function(e){var t=e.width,n=e.height,i=e.onChange,r=e.hsl,o=e.direction,s=e.pointer,a=e.styles,l=void 0===a?{}:a,c=e.className,d=void 0===c?"":c,h=(0,tS.Ay)(xT({default:{picker:{position:"relative",width:t,height:n},hue:{radius:"2px"}}},l));return u.createElement("div",{style:h.picker,className:"hue-picker "+d},u.createElement(_S,oA({},h.hue,{hsl:r,pointer:s,onChange:function(e){return i({a:1,h:e.h,l:.5,s:1})},direction:o})))};sA.propTypes={styles:Au().object},sA.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:function(e){var t=e.direction,n=(0,tS.Ay)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return u.createElement("div",{style:n.picker})},styles:{}},YM(sA),YM((function(e){var t=e.onChange,n=e.hex,i=e.rgb,r=e.styles,o=void 0===r?{}:r,s=e.className,a=void 0===s?"":s,l=(0,tS.Ay)(xT({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),c=function(e,n){e.hex?IM(e.hex)&&t({hex:e.hex,source:"hex"},n):(e.r||e.g||e.b)&&t({r:e.r||i.r,g:e.g||i.g,b:e.b||i.b,source:"rgb"},n)};return u.createElement(OT,{styles:o},u.createElement("div",{style:l.material,className:"material-picker "+a},u.createElement(gS,{style:{wrap:l.HEXwrap,input:l.HEXinput,label:l.HEXlabel},label:"hex",value:n,onChange:c}),u.createElement("div",{style:l.split,className:"flexbox-fix"},u.createElement("div",{style:l.third},u.createElement(gS,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"r",value:i.r,onChange:c})),u.createElement("div",{style:l.third},u.createElement(gS,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"g",value:i.g,onChange:c})),u.createElement("div",{style:l.third},u.createElement(gS,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"b",value:i.b,onChange:c})))))}));var aA=function(e){var t=e.onChange,n=e.rgb,i=e.hsv,r=e.hex,o=(0,tS.Ay)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),s=function(e,r){e["#"]?IM(e["#"])&&t({hex:e["#"],source:"hex"},r):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},r):(e.h||e.s||e.v)&&t({h:e.h||i.h,s:e.s||i.s,v:e.v||i.v,source:"hsv"},r)};return u.createElement("div",{style:o.fields},u.createElement(gS,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(i.h),onChange:s}),u.createElement(gS,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(100*i.s),onChange:s}),u.createElement(gS,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(100*i.v),onChange:s}),u.createElement("div",{style:o.divider}),u.createElement(gS,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:n.r,onChange:s}),u.createElement(gS,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:n.g,onChange:s}),u.createElement(gS,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:n.b,onChange:s}),u.createElement("div",{style:o.divider}),u.createElement(gS,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:r.replace("#",""),onChange:s}),u.createElement("div",{style:o.fieldSymbols},u.createElement("div",{style:o.symbol},""),u.createElement("div",{style:o.symbol},"%"),u.createElement("div",{style:o.symbol},"%")))},lA=function(e){var t=e.hsl,n=(0,tS.Ay)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return u.createElement("div",{style:n.picker})},cA=function(){var e=(0,tS.Ay)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return u.createElement("div",{style:e.pointer},u.createElement("div",{style:e.left},u.createElement("div",{style:e.leftInside})),u.createElement("div",{style:e.right},u.createElement("div",{style:e.rightInside})))},uA=function(e){var t=e.onClick,n=e.label,i=e.children,r=e.active,o=(0,tS.Ay)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:r});return u.createElement("div",{style:o.button,onClick:t},n||i)},dA=function(e){var t=e.rgb,n=e.currentColor,i=(0,tS.Ay)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return u.createElement("div",null,u.createElement("div",{style:i.label},"new"),u.createElement("div",{style:i.swatches},u.createElement("div",{style:i.new}),u.createElement("div",{style:i.current})),u.createElement("div",{style:i.label},"current"))},hA=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),pA=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),hA(t,[{key:"render",value:function(){var e=this.props,t=e.styles,n=void 0===t?{}:t,i=e.className,r=void 0===i?"":i,o=(0,tS.Ay)(xT({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},n));return u.createElement("div",{style:o.picker,className:"photoshop-picker "+r},u.createElement("div",{style:o.head},this.props.header),u.createElement("div",{style:o.body,className:"flexbox-fix"},u.createElement("div",{style:o.saturation},u.createElement(WT,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:lA,onChange:this.props.onChange})),u.createElement("div",{style:o.hue},u.createElement(_S,{direction:"vertical",hsl:this.props.hsl,pointer:cA,onChange:this.props.onChange})),u.createElement("div",{style:o.controls},u.createElement("div",{style:o.top,className:"flexbox-fix"},u.createElement("div",{style:o.previews},u.createElement(dA,{rgb:this.props.rgb,currentColor:this.state.currentColor})),u.createElement("div",{style:o.actions},u.createElement(uA,{label:"OK",onClick:this.props.onAccept,active:!0}),u.createElement(uA,{label:"Cancel",onClick:this.props.onCancel}),u.createElement(aA,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(u.Component);pA.propTypes={header:Au().string,styles:Au().object},pA.defaultProps={header:"Color Picker",styles:{}},YM(pA);var fA=function(e){var t=e.onChange,n=e.rgb,i=e.hsl,r=e.hex,o=e.disableAlpha,s=(0,tS.Ay)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),a=function(e,r){e.hex?IM(e.hex)&&t({hex:e.hex,source:"hex"},r):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},r):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:i.h,s:i.s,l:i.l,a:e.a,source:"rgb"},r))};return u.createElement("div",{style:s.fields,className:"flexbox-fix"},u.createElement("div",{style:s.double},u.createElement(gS,{style:{input:s.input,label:s.label},label:"hex",value:r.replace("#",""),onChange:a})),u.createElement("div",{style:s.single},u.createElement(gS,{style:{input:s.input,label:s.label},label:"r",value:n.r,onChange:a,dragLabel:"true",dragMax:"255"})),u.createElement("div",{style:s.single},u.createElement(gS,{style:{input:s.input,label:s.label},label:"g",value:n.g,onChange:a,dragLabel:"true",dragMax:"255"})),u.createElement("div",{style:s.single},u.createElement(gS,{style:{input:s.input,label:s.label},label:"b",value:n.b,onChange:a,dragLabel:"true",dragMax:"255"})),u.createElement("div",{style:s.alpha},u.createElement(gS,{style:{input:s.input,label:s.label},label:"a",value:Math.round(100*n.a),onChange:a,dragLabel:"true",dragMax:"100"})))},mA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},gA=function(e){var t=e.colors,n=e.onClick,i=void 0===n?function(){}:n,r=e.onSwatchHover,o=(0,tS.Ay)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),s=function(e,t){i({hex:e,source:"hex"},t)};return u.createElement("div",{style:o.colors,className:"flexbox-fix"},t.map((function(e){var t="string"==typeof e?{color:e}:e,n=""+t.color+(t.title||"");return u.createElement("div",{key:n,style:o.swatchWrap},u.createElement(UM,mA({},t,{style:o.swatch,onClick:s,onHover:r,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))})))};gA.propTypes={colors:Au().arrayOf(Au().oneOfType([Au().string,Au().shape({color:Au().string,title:Au().string})])).isRequired};var bA=gA,yA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},vA=function(e){var t=e.width,n=e.rgb,i=e.hex,r=e.hsv,o=e.hsl,s=e.onChange,a=e.onSwatchHover,l=e.disableAlpha,c=e.presetColors,d=e.renderers,h=e.styles,p=void 0===h?{}:h,f=e.className,m=void 0===f?"":f,g=(0,tS.Ay)(xT({default:yA({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},p),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},p),{disableAlpha:l});return u.createElement("div",{style:g.picker,className:"sketch-picker "+m},u.createElement("div",{style:g.saturation},u.createElement(WT,{style:g.Saturation,hsl:o,hsv:r,onChange:s})),u.createElement("div",{style:g.controls,className:"flexbox-fix"},u.createElement("div",{style:g.sliders},u.createElement("div",{style:g.hue},u.createElement(_S,{style:g.Hue,hsl:o,onChange:s})),u.createElement("div",{style:g.alpha},u.createElement(dS,{style:g.Alpha,rgb:n,hsl:o,renderers:d,onChange:s}))),u.createElement("div",{style:g.color},u.createElement(sS,null),u.createElement("div",{style:g.activeColor}))),u.createElement(fA,{rgb:n,hsl:o,hex:i,onChange:s,disableAlpha:l}),u.createElement(bA,{colors:c,onClick:s,onSwatchHover:a}))};vA.propTypes={disableAlpha:Au().bool,width:Au().oneOfType([Au().string,Au().number]),styles:Au().object},vA.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};var _A=YM(vA),wA=function(e){var t=e.hsl,n=e.offset,i=e.onClick,r=void 0===i?function(){}:i,o=e.active,s=e.first,a=e.last,l=(0,tS.Ay)({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:s,last:a});return u.createElement("div",{style:l.swatch,onClick:function(e){return r({h:t.h,s:.5,l:n,source:"hsl"},e)}})},kA=function(e){var t=e.onClick,n=e.hsl,i=(0,tS.Ay)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),r=.1;return u.createElement("div",{style:i.swatches},u.createElement("div",{style:i.swatch},u.createElement(wA,{hsl:n,offset:".80",active:Math.abs(n.l-.8)<r&&Math.abs(n.s-.5)<r,onClick:t,first:!0})),u.createElement("div",{style:i.swatch},u.createElement(wA,{hsl:n,offset:".65",active:Math.abs(n.l-.65)<r&&Math.abs(n.s-.5)<r,onClick:t})),u.createElement("div",{style:i.swatch},u.createElement(wA,{hsl:n,offset:".50",active:Math.abs(n.l-.5)<r&&Math.abs(n.s-.5)<r,onClick:t})),u.createElement("div",{style:i.swatch},u.createElement(wA,{hsl:n,offset:".35",active:Math.abs(n.l-.35)<r&&Math.abs(n.s-.5)<r,onClick:t})),u.createElement("div",{style:i.swatch},u.createElement(wA,{hsl:n,offset:".20",active:Math.abs(n.l-.2)<r&&Math.abs(n.s-.5)<r,onClick:t,last:!0})),u.createElement("div",{style:i.clear}))},CA=function(e){var t=e.hsl,n=e.onChange,i=e.pointer,r=e.styles,o=void 0===r?{}:r,s=e.className,a=void 0===s?"":s,l=(0,tS.Ay)(xT({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return u.createElement("div",{style:l.wrap||{},className:"slider-picker "+a},u.createElement("div",{style:l.hue},u.createElement(_S,{style:l.Hue,hsl:t,pointer:i,onChange:n})),u.createElement("div",{style:l.swatches},u.createElement(kA,{hsl:t,onClick:n})))};CA.propTypes={styles:Au().object},CA.defaultProps={pointer:function(){var e=(0,tS.Ay)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return u.createElement("div",{style:e.picker})},styles:{}},YM(CA);var EA=r(20748),xA=function(e){var t=e.color,n=e.onClick,i=void 0===n?function(){}:n,r=e.onSwatchHover,o=e.first,s=e.last,a=e.active,l=(0,tS.Ay)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{color:RM(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:s,active:a,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return u.createElement(UM,{color:t,style:l.color,onClick:i,onHover:r,focusStyle:{boxShadow:"0 0 4px "+t}},u.createElement("div",{style:l.check},u.createElement(EA.A,null)))},SA=function(e){var t=e.onClick,n=e.onSwatchHover,i=e.group,r=e.active,o=(0,tS.Ay)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return u.createElement("div",{style:o.group},oD(i,(function(e,o){return u.createElement(xA,{key:e,color:e,active:e.toLowerCase()===r,first:0===o,last:o===i.length-1,onClick:t,onSwatchHover:n})})))},OA=function(e){var t=e.width,n=e.height,i=e.onChange,r=e.onSwatchHover,o=e.colors,s=e.hex,a=e.styles,l=void 0===a?{}:a,c=e.className,d=void 0===c?"":c,h=(0,tS.Ay)(xT({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},l)),p=function(e,t){return i({hex:e,source:"hex"},t)};return u.createElement("div",{style:h.picker,className:"swatches-picker "+d},u.createElement(OT,null,u.createElement("div",{style:h.overflow},u.createElement("div",{style:h.body},oD(o,(function(e){return u.createElement(SA,{key:e.toString(),group:e,active:s,onClick:p,onSwatchHover:r})})),u.createElement("div",{style:h.clear})))))};OA.propTypes={width:Au().oneOfType([Au().string,Au().number]),height:Au().oneOfType([Au().string,Au().number]),colors:Au().arrayOf(Au().arrayOf(Au().string)),styles:Au().object},OA.defaultProps={width:320,height:240,colors:[[hD,dD,uD,cD,lD],[bD,gD,mD,fD,pD],[kD,wD,_D,vD,yD],[OD,SD,xD,ED,CD],[LD,DD,PD,MD,TD],[jD,RD,ID,zD,AD],[HD,BD,YD,FD,ND],[qD,$D,UD,WD,VD],[XD,JD,ZD,GD,KD],["#194D33",nL,tL,eL,QD],[aL,sL,oL,rL,iL],[hL,dL,uL,cL,lL],[bL,gL,mL,fL,pL],[kL,wL,_L,vL,yL],[OL,SL,xL,EL,CL],[LL,DL,PL,ML,TL],[jL,RL,IL,zL,AL],[HL,BL,YL,FL,NL],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}},YM(OA);var TA=function(e){var t=e.onChange,n=e.onSwatchHover,i=e.hex,r=e.colors,o=e.width,s=e.triangle,a=e.styles,l=void 0===a?{}:a,c=e.className,d=void 0===c?"":c,h=(0,tS.Ay)(xT({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},l),{"hide-triangle":"hide"===s,"top-left-triangle":"top-left"===s,"top-right-triangle":"top-right"===s}),p=function(e,n){IM(e)&&t({hex:e,source:"hex"},n)};return u.createElement("div",{style:h.card,className:"twitter-picker "+d},u.createElement("div",{style:h.triangleShadow}),u.createElement("div",{style:h.triangle}),u.createElement("div",{style:h.body},oD(r,(function(e,t){return u.createElement(UM,{key:t,color:e,hex:e,style:h.swatch,onClick:p,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})})),u.createElement("div",{style:h.hash},"#"),u.createElement(gS,{label:null,style:{input:h.input},value:i.replace("#",""),onChange:p}),u.createElement("div",{style:h.clear})))};TA.propTypes={width:Au().oneOfType([Au().string,Au().number]),triangle:Au().oneOf(["hide","top-left","top-right"]),colors:Au().arrayOf(Au().string),styles:Au().object},TA.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}},YM(TA);var MA=function(e){var t=(0,tS.Ay)({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(100*e.hsl.s)+"%, "+Math.round(100*e.hsl.l)+"%)"}}});return u.createElement("div",{style:t.picker})};MA.propTypes={hsl:Au().shape({h:Au().number,s:Au().number,l:Au().number,a:Au().number})},MA.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var PA=MA,DA=function(e){var t=(0,tS.Ay)({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return u.createElement("div",{style:t.picker})};DA.propTypes={hsl:Au().shape({h:Au().number,s:Au().number,l:Au().number,a:Au().number})},DA.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var LA=DA,AA=function(e){var t=e.onChange,n=e.rgb,i=e.hsl,r=e.hex,o=e.hsv,s=function(e,n){if(e.hex)IM(e.hex)&&t({hex:e.hex,source:"hex"},n);else if(e.rgb){var i=e.rgb.split(",");jM(e.rgb,"rgb")&&t({r:i[0],g:i[1],b:i[2],a:1,source:"rgb"},n)}else if(e.hsv){var r=e.hsv.split(",");jM(e.hsv,"hsv")&&(r[2]=r[2].replace("%",""),r[1]=r[1].replace("%",""),r[0]=r[0].replace("",""),1==r[1]?r[1]=.01:1==r[2]&&(r[2]=.01),t({h:Number(r[0]),s:Number(r[1]),v:Number(r[2]),source:"hsv"},n))}else if(e.hsl){var o=e.hsl.split(",");jM(e.hsl,"hsl")&&(o[2]=o[2].replace("%",""),o[1]=o[1].replace("%",""),o[0]=o[0].replace("",""),1==d[1]?d[1]=.01:1==d[2]&&(d[2]=.01),t({h:Number(o[0]),s:Number(o[1]),v:Number(o[2]),source:"hsl"},n))}},a=(0,tS.Ay)({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),l=n.r+", "+n.g+", "+n.b,c=Math.round(i.h)+", "+Math.round(100*i.s)+"%, "+Math.round(100*i.l)+"%",d=Math.round(o.h)+", "+Math.round(100*o.s)+"%, "+Math.round(100*o.v)+"%";return u.createElement("div",{style:a.wrap,className:"flexbox-fix"},u.createElement("div",{style:a.fields},u.createElement("div",{style:a.double},u.createElement(gS,{style:{input:a.input,label:a.label},label:"hex",value:r,onChange:s})),u.createElement("div",{style:a.column},u.createElement("div",{style:a.single},u.createElement(gS,{style:{input:a.input2,label:a.label2},label:"rgb",value:l,onChange:s})),u.createElement("div",{style:a.single},u.createElement(gS,{style:{input:a.input2,label:a.label2},label:"hsv",value:d,onChange:s})),u.createElement("div",{style:a.single},u.createElement(gS,{style:{input:a.input2,label:a.label2},label:"hsl",value:c,onChange:s})))))},zA=function(e){var t=e.width,n=e.onChange,i=e.rgb,r=e.hsl,o=e.hsv,s=e.hex,a=e.header,l=e.styles,c=void 0===l?{}:l,d=e.className,h=void 0===d?"":d,p=(0,tS.Ay)(xT({default:{picker:{width:t,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},c));return u.createElement("div",{style:p.picker,className:"google-picker "+h},u.createElement("div",{style:p.head},a),u.createElement("div",{style:p.swatch}),u.createElement("div",{style:p.saturation},u.createElement(WT,{hsl:r,hsv:o,pointer:PA,onChange:n})),u.createElement("div",{style:p.body},u.createElement("div",{style:p.controls,className:"flexbox-fix"},u.createElement("div",{style:p.hue},u.createElement(_S,{style:p.Hue,hsl:r,radius:"4px",pointer:LA,onChange:n}))),u.createElement(AA,{rgb:i,hsl:r,hex:s,hsv:o,onChange:n})))};zA.propTypes={width:Au().oneOfType([Au().string,Au().number]),styles:Au().object,header:Au().string},zA.defaultProps={width:652,styles:{},header:"Color picker"},YM(zA);var IA,RA,jA,NA,FA,YA,BA,HA,VA,WA;function UA(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function $A(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var qA,KA,GA=Br(((WA=class extends u.Component{constructor(...e){super(...e),UA(this,"value",jA,this),UA(this,"showError",NA,this),UA(this,"popoverOpen",FA,this),UA(this,"popoverAnchorElement",YA,this),UA(this,"handlePopoverOpen",BA,this),UA(this,"handlePopoverClose",HA,this),UA(this,"setRef",VA,this),this.handleBlur=()=>{this.isValidValue?this.setShowError(!1):(this.props.onChange(void 0),this.setShowError(!0));const{onBlur:e}=this.props;e&&e()},this.handleChange=e=>{const{onBlur:t,onChange:n}=this.props;this.setShowError(!1),n(e&&e instanceof Object&&e.hasOwnProperty("hex")?e.hex:void 0),t&&t()},this.handleInputChange=e=>{this.setValue(e),this.isValidValue?(this.setShowError(!1),this.props.onChange(this.value)):this.props.onChange(void 0)}}setValue(e){this.value=e}setShowError(e){this.showError=e}get isValidValue(){return!this.value||/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(this.value)}componentDidMount(){this.setValue(this.props.value)}componentDidUpdate(){this.value&&!this.props.value||this.setValue(this.props.value)}render(){const{disabled:e,id:t,name:n,placeholder:i,valid:r}=this.props,o={color:this.isValidValue?this.value:"transparent"};return u.createElement(u.Fragment,null,u.createElement(kl,{disabled:e,icon:"su-square",iconClassName:"icon--iZ7cGecngV",iconStyle:o,id:t,inputContainerRef:this.setRef,name:n,onBlur:this.handleBlur,onChange:this.handleInputChange,onIconClick:e?void 0:this.handlePopoverOpen,placeholder:i,valid:r&&!this.showError,value:this.value}),u.createElement(jd,{anchorElement:this.popoverAnchorElement,horizontalOffset:35,onClose:this.handlePopoverClose,open:this.popoverOpen,verticalOffset:-30},((e,t)=>u.createElement("div",{ref:e,style:t},u.createElement(_A,{color:this.value?this.value:void 0,disableAlpha:!0,onChangeComplete:this.handleChange,presetColors:[]})))))}}).defaultProps={disabled:!1,valid:!0},jA=$A((RA=WA).prototype,"value",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),NA=$A(RA.prototype,"showError",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),FA=$A(RA.prototype,"popoverOpen",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),YA=$A(RA.prototype,"popoverAnchorElement",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),BA=$A(RA.prototype,"handlePopoverOpen",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.popoverOpen=!0}}}),HA=$A(RA.prototype,"handlePopoverClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.popoverOpen=!1}}}),VA=$A(RA.prototype,"setRef",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.popoverAnchorElement=e}}}),$A(RA.prototype,"setValue",[ht],Object.getOwnPropertyDescriptor(RA.prototype,"setValue"),RA.prototype),$A(RA.prototype,"setShowError",[ht],Object.getOwnPropertyDescriptor(RA.prototype,"setShowError"),RA.prototype),$A(RA.prototype,"isValidValue",[ge],Object.getOwnPropertyDescriptor(RA.prototype,"isValidValue"),RA.prototype),IA=RA))||IA;class ZA extends u.Component{render(){const{dataPath:e,disabled:t,error:n,onChange:i,onFinish:r,value:o}=this.props;return u.createElement(GA,{disabled:!!t,id:e,onBlur:r,onChange:i,valid:!n,value:o})}}function JA(e,t){if(!e)return;const n=wa()(e,t);return n.isValid()?n.toDate():void 0}let XA=Br((KA=class extends u.Component{constructor(...e){super(...e),this.handleChange=e=>{const{onChange:t,onFinish:n}=this.props,i=function(e,t){if(e)return wa()(e).format(t)}(e,this.format);t(i),n()}}get format(){const{fieldTypeOptions:e}=this.props,{dateFormat:t,timeFormat:n}=e;return t&&n?"YYYY-MM-DDTHH:mm:ss":t?"YYYY-MM-DD":"HH:mm:ss"}render(){const{dataPath:e,disabled:t,error:n,fieldTypeOptions:i,value:r}=this.props,{dateFormat:o,timeFormat:s}=i;if(void 0===o||void 0===s)throw new Error('The "dateFormat" and "timeFormat" fieldTypeOption have to be set!');const a={};return s&&(a.timeFormat=s),o||(a.dateFormat=!1),u.createElement(a_,{disabled:!!t,id:e,onChange:this.handleChange,options:a,valid:!n,value:JA(r,this.format)})}},function(e,t,n,i,r){var o={};Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}(KA.prototype,"format",[ge],Object.getOwnPropertyDescriptor(KA.prototype,"format"),KA.prototype),qA=KA))||qA;var QA=XA;class ez extends u.PureComponent{constructor(...e){super(...e),this.handleIconClick=()=>{const{value:e}=this.props;e&&window.location.assign("mailto:"+e)},this.handleBlur=()=>{const{onBlur:e}=this.props;e&&e()},this.handleChange=e=>{const{onChange:t}=this.props;t(e)}}render(){const{id:e,valid:t,disabled:n,name:i,placeholder:r,value:o}=this.props;return u.createElement(kl,{disabled:n,icon:"su-envelope",id:e,name:i,onBlur:this.handleBlur,onChange:this.handleChange,onIconClick:o&&o.length>1&&t?this.handleIconClick:void 0,placeholder:r,type:"email",valid:t,value:o})}}ez.defaultProps={disabled:!1,valid:!0};var tz=ez;class nz extends u.Component{render(){const{dataPath:e,disabled:t,error:n,onChange:i,onFinish:r,value:o}=this.props;return u.createElement(tz,{disabled:!!t,id:e,onBlur:r,onChange:i,valid:!n,value:o})}}class iz extends u.Component{constructor(...e){super(...e),this.handleBlur=()=>{this.props.onFinish()}}render(){const{dataPath:e,error:t,disabled:n,onChange:i,schemaOptions:{headline:{value:r}={},max_characters:{value:o}={},soft_max_length:{value:s}={},max_segments:{value:a}={},segment_delimiter:{value:l}={}}={},value:d}=this.props;if(void 0!==r&&"boolean"!=typeof r)throw new Error('The "headline" schema option must be a boolean!');if(void 0!==o&&c().warn('The "max_characters" schema option is deprecated since version 2.3 and will be removed. Use the "soft_max_length" option instead.'),void 0!==o&&isNaN(o))throw new Error('The "max_characters" schema option must be a number!');if(void 0!==s&&isNaN(s))throw new Error('The "soft_max_length" schema option must be a number!');const h=s||o;if(void 0!==a&&isNaN(a))throw new Error('The "max_segments" schema option must be a number!');if(void 0!==l&&"string"!=typeof l)throw new Error('The "segment_delimiter" schema option must be a string!');return u.createElement(kl,{disabled:!!n,headline:r,id:e,maxCharacters:h?parseInt(h):void 0,maxSegments:a?parseInt(a):void 0,onBlur:this.handleBlur,onChange:i,segmentDelimiter:l,valid:!t,value:d})}}class rz extends u.PureComponent{constructor(...e){super(...e),this.handleChange=(e,t)=>{let n;e&&(n=parseFloat(e),isNaN(n)&&(n=void 0)),this.props.onChange(n,t)}}render(){const e={alignment:this.props.alignment,collapsed:this.props.collapsed,name:this.props.name,icon:this.props.icon,id:this.props.id,loading:this.props.loading,placeholder:this.props.placeholder,inputContainerRef:this.props.inputContainerRef,inputRef:this.props.inputRef,valid:this.props.valid,disabled:this.props.disabled,value:this.props.value,onBlur:this.props.onBlur,onIconClick:this.props.onIconClick,iconStyle:this.props.iconStyle,iconClassName:this.props.iconClassName,onChange:this.handleChange,min:this.props.min,max:this.props.max,step:this.props.step,skin:this.props.skin,type:"number"};return u.createElement(kl,e)}}rz.defaultProps={alignment:"left",disabled:!1,valid:!0};var oz,sz,az=rz;function lz(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var cz,uz,dz,hz,pz,fz,mz,gz,bz,yz=Br((lz((sz=class extends u.Component{constructor(...e){super(...e),this.handleBlur=()=>{this.props.onFinish()}}get min(){const{schemaOptions:e}=this.props;return e.min?parseFloat(e.min.value):void 0}get max(){const{schemaOptions:e}=this.props;return e.max?parseFloat(e.max.value):void 0}get step(){const{schemaOptions:e}=this.props;return e.step?parseFloat(e.step.value):void 0}render(){const{dataPath:e,disabled:t,error:n,onChange:i,value:r}=this.props;return u.createElement(az,{disabled:!!t,id:e,max:this.max,min:this.min,onBlur:this.handleBlur,onChange:i,step:this.step,valid:!n,value:r})}}).prototype,"min",[ge],Object.getOwnPropertyDescriptor(sz.prototype,"min"),sz.prototype),lz(sz.prototype,"max",[ge],Object.getOwnPropertyDescriptor(sz.prototype,"max"),sz.prototype),lz(sz.prototype,"step",[ge],Object.getOwnPropertyDescriptor(sz.prototype,"step"),sz.prototype),oz=sz))||oz;function vz(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function _z(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const wz="su-lock",kz="password";var Cz=Br(((bz=class extends u.Component{constructor(...e){super(...e),vz(this,"firstValue",dz,this),vz(this,"secondValue",hz,this),vz(this,"valid",pz,this),vz(this,"setValidFlag",fz,this),vz(this,"handleFirstChange",mz,this),vz(this,"handleSecondChange",gz,this),this.handleChange=()=>{const{firstValue:e,secondValue:t,passwordsMatch:n,props:{valid:i}}=this;this.handleChangeDebounced(i&&(!e||!t||n))},this.handleChangeDebounced=ya()((e=>{this.setValidFlag(e),this.firstValue&&this.passwordsMatch&&this.props.onChange(this.firstValue)}),500)}componentDidMount(){this.disposer=ft(this.handleChange)}componentWillUnmount(){this.disposer()}get passwordsMatch(){return this.firstValue===this.secondValue}render(){const{disabled:e}=this.props;return u.createElement(Ed,{className:"grid--wN29DTzghr"},u.createElement(Ed.Item,{colSpan:6},u.createElement(kl,{autocomplete:"new-password",disabled:e,icon:wz,onChange:this.handleFirstChange,type:kz,valid:this.valid,value:this.firstValue})),u.createElement(Ed.Item,{className:"item--UVpeknlN3a",colSpan:6},u.createElement(kl,{autocomplete:"new-password",disabled:e,icon:wz,onChange:this.handleSecondChange,type:kz,valid:this.valid,value:this.secondValue})))}}).defaultProps={disabled:!1,valid:!0},dz=_z((uz=bz).prototype,"firstValue",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),hz=_z(uz.prototype,"secondValue",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),pz=_z(uz.prototype,"valid",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),fz=_z(uz.prototype,"setValidFlag",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.valid=e}}}),_z(uz.prototype,"passwordsMatch",[ge],Object.getOwnPropertyDescriptor(uz.prototype,"passwordsMatch"),uz.prototype),mz=_z(uz.prototype,"handleFirstChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.firstValue=e}}}),gz=_z(uz.prototype,"handleSecondChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.secondValue=e}}}),cz=uz))||cz;class Ez extends u.Component{constructor(...e){super(...e),this.handleChange=e=>{const{onFinish:t,onChange:n}=this.props;n(e),t()}}render(){const{disabled:e,error:t}=this.props;return u.createElement(Cz,{disabled:!!e,onChange:this.handleChange,valid:!t})}}class xz extends u.PureComponent{constructor(...e){super(...e),this.handleIconClick=()=>{const{value:e}=this.props;e&&window.location.assign("tel:"+e)}}render(){const{id:e,valid:t,disabled:n,name:i,placeholder:r,onBlur:o,onChange:s,value:a}=this.props;return u.createElement(kl,{disabled:n,icon:"su-phone",id:e,name:i,onBlur:o,onChange:s,onIconClick:a&&a.length>1?this.handleIconClick:void 0,placeholder:r,type:"tel",valid:t,value:a})}}xz.defaultProps={disabled:!1,valid:!0};var Sz=xz;class Oz extends u.Component{render(){const{dataPath:e,disabled:t,error:n,onChange:i,onFinish:r,value:o}=this.props;return u.createElement(Sz,{disabled:!!t,id:e,onBlur:r,onChange:i,valid:!n,value:o})}}var Tz=r(194);class Mz extends u.PureComponent{render(){return u.createElement(u.Fragment,null,u.createElement(kl,this.props),u.createElement(Tz.Ay,{className:"qrcode--Z8etmEiJ6q",value:this.props.value||"",viewBox:"0 0 256 256"}))}}var Pz=Mz;class Dz extends u.Component{constructor(...e){super(...e),this.handleBlur=()=>{this.props.onFinish()}}render(){const{dataPath:e,error:t,disabled:n,onChange:i,value:r}=this.props;return u.createElement(Pz,{disabled:!!n,id:e,onBlur:this.handleBlur,onChange:i,valid:!t,value:r})}}class Lz extends u.Component{constructor(e){super(e),this.handleChange=e=>{const{onChange:t,onFinish:n}=this.props;t(e),n()};const{onChange:t,schemaOptions:n,value:i}=this.props,{default_value:{value:r}={}}=n;if(null!=r&&""!==r){if("number"!=typeof r&&"string"!=typeof r)throw new Error('The "default_value" schema option must be a string or a number!');void 0===i&&t(r,{isDefaultValue:!0})}}render(){const{schemaOptions:e,disabled:t,value:n}=this.props,i=Mt(e.values);if(!i||!O(i.value))throw new Error('The "values" schema option of the SingleSelect field-type must be an array!');return u.createElement(zp,{disabled:!!t,onChange:this.handleChange,value:n},i.value.map((({name:e,title:t},n)=>{if("string"!=typeof e&&"number"!=typeof e&&void 0!==e)throw new Error('The children of "values" must only contain values of type string, number or undefined!');const i=""===e?void 0:e;return u.createElement(zp.Option,{key:n,value:i},t||e)})))}}class Az extends u.PureComponent{constructor(...e){super(...e),this.isOptionSelected=e=>this.props.values.includes(e.props.value),this.handleSelect=e=>{const t=[...this.props.values],n=t.indexOf(e);-1===n?t.push(e):t.splice(n,1),this.props.onChange(t)}}get displayValue(){const e=[];let t=0;if(u.Children.forEach(this.props.children,(n=>{if(n.type===Az.Option&&(t+=1,this.isOptionSelected(n))){let t=n.props.children;"string"!=typeof t&&(t=t.toString()),e.push(t)}})),0===e.length){const{noneSelectedText:e}=this.props;return e||Xs("sulu_admin.none_selected")}if(e.length===t){const{allSelectedText:e}=this.props;return e||Xs("sulu_admin.all_selected")}return e.join(", ")}render(){const{children:e,disabled:t,icon:n,onClose:i,skin:r}=this.props;return u.createElement(Tp,{closeOnSelect:!1,disabled:t,displayValue:this.displayValue,icon:n,isOptionSelected:this.isOptionSelected,onClose:i,onSelect:this.handleSelect,selectedVisualization:"checkbox",skin:r},e)}}Az.defaultProps={disabled:!1,skin:"default",values:[]},Az.Action=Tp.Action,Az.Option=Tp.Option,Az.Divider=Tp.Divider;var zz,Iz=Az;let Rz=(zz=class extends u.Component{constructor(e){super(e),this.handleChange=e=>{const{onChange:t,onFinish:n}=this.props,i=this.values.map((e=>e.name)),r=e.filter((e=>i.includes(e)));t(r.length>0?r:void 0),n()};const{onChange:t,schemaOptions:n,value:i}=this.props,{default_values:{value:r}={}}=n;if(null==r)return;if(!O(r))throw new Error('The "default_values" schema option must be an array!');const o=r.map((({name:e})=>{if("number"!=typeof e&&"string"!=typeof e)throw new Error('A single schema option of "default_values" must be a string or number');return e}));void 0===i&&t(o,{isDefaultValue:!0})}get values(){const{values:e}=this.props.schemaOptions;if(!e||!O(e.value))throw new Error('The "values" option has to be set for the Select FieldType');return e.value}render(){const{disabled:e,value:t}=this.props;return u.createElement(Iz,{disabled:!!e,onChange:this.handleChange,values:t||[]},this.values.map((({name:e,title:t})=>{if("string"!=typeof e&&"number"!=typeof e)throw new Error('The children of "values" must only contain values of type string or number!');return u.createElement(Iz.Option,{key:e,value:e},t)})))}},function(e,t,n,i,r){var o={};Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}(zz.prototype,"values",[ge],Object.getOwnPropertyDescriptor(zz.prototype,"values"),zz.prototype),zz);var jz,Nz,Fz,Yz;function Bz(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const Hz=new Map([[/[-]+\//g,"/"],[/\/[-]+/g,"/"],[/^([-])/g,""],[/([/]+)/g,"/"],[/ /g,"-"],[/([-]+)/g,"-"],[/[^a-z0-9-_/]/g,""]]);let Vz=Br((Yz=class extends u.Component{constructor(e){super(e),function(e,t,n,i){n&&Object.defineProperty(e,"fixed",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}(this,0,Fz,this),this.handleChange=e=>{const{mode:t,onChange:n,locale:i}=this.props;if(e){try{e=e.toLocaleLowerCase(i.get())}catch(t){e=e.toLowerCase()}"leaf"===t&&(e=e.replace(/\//g,"-")),Hz.forEach(((t,n)=>{e&&(e=e.replace(n,t))}))}n(e?this.fixed+e:void 0)},this.handleBlur=()=>{const{onBlur:e,onChange:t,value:n}=this.props;n&&t(n.replace(/([-])$/g,"")),e&&e()},this.splitLeafValue()}componentDidUpdate(e){this.props.value!==e.value&&this.splitLeafValue()}splitLeafValue(){const{value:e,mode:t}=this.props;if("leaf"===t&&e){const t=e.split("/");t.pop(),this.fixed=t.join("/")+"/"}}get changeableValue(){const{value:e}=this.props;if(e)return e.substring(this.fixed.length)}render(){const{disabled:e,id:t}=this.props;return u.createElement("div",{className:"resource-locator--b7Q6TqHCDp"},u.createElement("span",{className:"fixed--Y4rV7EThJ2"},this.fixed),u.createElement(kl,{disabled:e,id:t,onBlur:this.handleBlur,onChange:this.handleChange,value:this.changeableValue}))}},Yz.defaultProps={disabled:!1},Fz=Bz((Nz=Yz).prototype,"fixed",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"/"}}),Bz(Nz.prototype,"componentDidUpdate",[ht],Object.getOwnPropertyDescriptor(Nz.prototype,"componentDidUpdate"),Nz.prototype),Bz(Nz.prototype,"changeableValue",[ge],Object.getOwnPropertyDescriptor(Nz.prototype,"changeableValue"),Nz.prototype),jz=Nz))||jz;var Wz,Uz,$z,qz,Kz,Gz,Zz,Jz,Xz,Qz,eI=Vz;function tI(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function nI(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var iI,rI,oI,sI,aI,lI,cI,uI,dI=Br((Uz=class extends u.Component{constructor(...e){super(...e),tI(this,"open",$z,this),tI(this,"showDeleteWarning",qz,this),tI(this,"handleButtonClick",Kz,this),tI(this,"handleOverlayConfirm",Gz,this),tI(this,"handleOverlayClose",Zz,this),tI(this,"handleDeleteClick",Jz,this),tI(this,"handleDeleteCancel",Xz,this),tI(this,"handleDeleteConfirm",Qz,this)}render(){const{resourceListStore:e,props:t}=this,{id:n}=t,i=e?e.data:[];return u.createElement(u.Fragment,null,u.createElement(uo,{disabled:!n,icon:"su-process",onClick:this.handleButtonClick,skin:"link"},Xs("sulu_admin.show_history")),u.createElement(fd,{confirmText:Xs("sulu_admin.ok"),onClose:this.handleOverlayClose,onConfirm:this.handleOverlayConfirm,open:this.open,size:"small",title:Xs("sulu_admin.history")},!this.resourceListStore||this.resourceListStore.loading?u.createElement("div",{className:"loader--ZVXfvuE18x"},u.createElement(ao,null)):u.createElement("div",{className:"resource-locator-history-overlay--VnRNwIl7bb"},u.createElement(Gk,{buttons:[{icon:"su-trash-alt",onClick:this.handleDeleteClick}]},u.createElement(Gk.Header,null,u.createElement(Gk.HeaderCell,null,Xs("sulu_admin.url")),u.createElement(Gk.HeaderCell,null,Xs("sulu_admin.created"))),u.createElement(Gk.Body,null,i.map((e=>u.createElement(Gk.Row,{id:e.id,key:e.id},u.createElement(Gk.Cell,null,e.resourcelocator),u.createElement(Gk.Cell,null,new Date(e.created).toLocaleString())))))))),u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmLoading:!!e&&e.deleting,confirmText:Xs("sulu_admin.ok"),onCancel:this.handleDeleteCancel,onConfirm:this.handleDeleteConfirm,open:this.showDeleteWarning,title:Xs("sulu_admin.delete")},Xs("sulu_admin.resource_locator_history_delete_warning")))}},$z=nI(Uz.prototype,"open",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qz=nI(Uz.prototype,"showDeleteWarning",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kz=nI(Uz.prototype,"handleButtonClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{id:e,options:t,resourceKey:n}=this.props;this.resourceListStore=new Tc(n,{...t,id:e}),this.open=!0}}}),Gz=nI(Uz.prototype,"handleOverlayConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.open=!1}}}),Zz=nI(Uz.prototype,"handleOverlayClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.open=!1}}}),Jz=nI(Uz.prototype,"handleDeleteClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.showDeleteWarning=!0,this.deleteId=e}}}),Xz=nI(Uz.prototype,"handleDeleteCancel",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showDeleteWarning=!1,this.deleteId=void 0}}}),Qz=nI(Uz.prototype,"handleDeleteConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{if(!this.deleteId)throw new Error('The "deleteId" has not been set! This should not happen and is likely a bug!');if(!this.resourceListStore)throw new Error("The ResourceListStore has not been initialized yet! This should not happen and is likely a bug.");this.resourceListStore.deleteList([this.deleteId]).then(ht((()=>{this.showDeleteWarning=!1,this.deleteId=void 0})))}}}),Wz=Uz))||Wz;function hI(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function pI(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const fI="sulu.rlp.part";var mI,gI,bI,yI,vI,_I,wI,kI,CI,EI,xI,SI,OI,TI,MI,PI,DI,LI,AI=Br((rI=class extends u.Component{get parts(){const{formInspector:e}=this.props,t=e.getPathsByTag(fI).map((t=>[t,e.getValueByPath(t)])).filter((([,e])=>!!e)).map((([e,t])=>e.startsWith("/")?[e.substr(1),t]:[e,t]));return Object.fromEntries(t)}get enableAutoGeneration(){const{formInspector:{id:e}}=this.props;return!e&&!this.inputChanged&&Object.keys(this.parts).length>0}get enableRefreshButton(){return!this.enableAutoGeneration&&(this.inputChangedSinceRefresh||this.partsChangedSinceRefresh)&&Object.keys(this.parts).length>0}constructor(e){super(e),hI(this,"mode",oI,this),hI(this,"inputChanged",sI,this),hI(this,"inputChangedSinceRefresh",aI,this),hI(this,"partsChangedSinceRefresh",lI,this),hI(this,"refreshResourceLocator",cI,this),this.handleInputBlur=()=>{const{onFinish:e}=this.props;e()},hI(this,"handleInputChange",uI,this),this.handleRefreshButtonClick=()=>{this.refreshResourceLocator()};const{fieldTypeOptions:{generationUrl:t,modeResolver:n},formInspector:i,value:r}=this.props;if(!n)throw new Error('The "modeResolver" must be a function returning a promise with the desired mode');if(n(this.props).then(ht((e=>this.mode=e))),"/"!==r&&t){if("string"!=typeof t)throw new Error('The "generationUrl" fieldTypeOption must be a string!');this.partsChangeDisposer=bt((()=>this.parts),ht((()=>{this.partsChangedSinceRefresh=!0})),{equals:V.structural}),i.addFinishFieldHandler(ht(((e,t)=>{const{tags:n}=i.getSchemaEntryByPath(t)||{};n&&n.some((e=>e.name===fI))&&this.enableAutoGeneration&&this.refreshResourceLocator()})))}}componentWillUnmount(){this.partsChangeDisposer&&this.partsChangeDisposer()}render(){if(!this.mode)return null;const{fieldTypeOptions:{historyResourceKey:e,options:t={}}}=this.props;if(!e||"string"!=typeof e)throw new Error('The "historyResourceKey" field type option must be set to a string!');if("object"!=typeof t)throw new Error('The "options" field type must be an object if given!');const{dataPath:n,disabled:i,formInspector:r,schemaOptions:{entity_class:{value:o}={}}={},value:s}=this.props;return"/"===s?"/":u.createElement(u.Fragment,null,u.createElement(eI,{disabled:!!i,id:n,locale:r.locale?r.locale:ue.box(sl.contentLocale),mode:this.mode,onBlur:this.handleInputBlur,onChange:this.handleInputChange,value:s}),u.createElement("div",{className:"buttons-container--nsArV3ky38"},u.createElement(uo,{className:"refresh-button--vr41Q_KMZX",disabled:!this.enableRefreshButton,icon:"su-sync",onClick:this.handleRefreshButtonClick,skin:"link"},Xs("sulu_admin.refresh_url")),u.createElement(dI,{id:r.id,options:{locale:r.locale?r.locale.get():sl.contentLocale,resourceKey:r.resourceKey,webspace:r.options.webspace,entityClass:o,...t},resourceKey:e})))}},oI=pI(rI.prototype,"mode",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sI=pI(rI.prototype,"inputChanged",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),aI=pI(rI.prototype,"inputChangedSinceRefresh",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),lI=pI(rI.prototype,"partsChangedSinceRefresh",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pI(rI.prototype,"parts",[ge],Object.getOwnPropertyDescriptor(rI.prototype,"parts"),rI.prototype),pI(rI.prototype,"enableAutoGeneration",[ge],Object.getOwnPropertyDescriptor(rI.prototype,"enableAutoGeneration"),rI.prototype),pI(rI.prototype,"enableRefreshButton",[ge],Object.getOwnPropertyDescriptor(rI.prototype,"enableRefreshButton"),rI.prototype),cI=pI(rI.prototype,"refreshResourceLocator",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{fieldTypeOptions:{generationUrl:e,resourceStorePropertiesToRequest:t={}},formInspector:n,onChange:i,schemaOptions:{entity_class:{value:r}={},route_schema:{value:o}={}}={}}=this.props,s={...n.options};Object.entries(t).forEach((([e,t])=>{const i=Mt(n.getValueByPath("/"+e));void 0!==i&&(s[t]=i)})),this.inputChangedSinceRefresh=!1,this.partsChangedSinceRefresh=!1,ri.post(e,{parts:this.parts,resourceKey:n.resourceKey,locale:n.locale?n.locale.get():sl.contentLocale,id:n.id,entityClass:r,routeSchema:o,...s}).then(ht((e=>{i(e.resourcelocator)})))}}}),uI=pI(rI.prototype,"handleInputChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{onChange:t}=this.props;this.inputChanged=!0,this.inputChangedSinceRefresh=!0,t(e)}}}),iI=rI))||iI,zI=new class{clear(){this.config={}}setConfig(e){this.config=e}getConfig(e){return this.config[e]}getDefaultValue(e,t){const n=this.getConfig(e);return{audienceTargeting:!n.audienceTargeting&&void 0,categories:void 0,categoryOperator:n.categories?"or":void 0,dataSource:void 0,includeSubFolders:!n.datasourceResourceKey&&void 0,limitResult:void 0,presentAs:t.length>0?t[0].name:void 0,sortBy:n.sorting.length>0?n.sorting[0].name:void 0,sortMethod:n.sorting.length>0?"asc":void 0,tagOperator:n.tags?"or":void 0,types:n.types.length>0?n.types.map((e=>e.value)):void 0,tags:void 0}}};function II(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function RI(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let jI=(mI=class{constructor(e,t,n,i,r,o,s){II(this,"items",gI,this),II(this,"itemsLoading",bI,this),II(this,"categoriesLoading",yI,this),II(this,"dataSourceLoading",vI,this),II(this,"dataSource",_I,this),II(this,"includeSubElements",wI,this),II(this,"categories",kI,this),II(this,"categoryOperator",CI,this),II(this,"tags",EI,this),II(this,"tagOperator",xI,this),II(this,"types",SI,this),II(this,"audienceTargeting",OI,this),II(this,"sortBy",TI,this),II(this,"sortOrder",MI,this),II(this,"presentation",PI,this),II(this,"limit",DI,this),II(this,"excludedIds",LI,this),this.loadItems=()=>{if(!this.loading)return this.setItemsLoading(!0),ri.get(va.endpoints.items+po({provider:this.provider,excluded:[this.id,...this.excludedIds],locale:this.locale,params:JSON.stringify(this.params),webspace:this.webspaceKey,...this.filterCriteria})).then(ht((e=>{this.setItems(e._embedded.items),this.setItemsLoading(!1)})));this.setItems([])},this.provider=e,this.locale=n,this.dataSourceResourceKey=i,this.id=r,this.params=o,this.webspaceKey=s,t&&(this.audienceTargeting=t.audienceTargeting,this.categoryOperator=t.categoryOperator,this.includeSubElements=t.includeSubFolders,this.limit=t.limitResult,this.sortBy=t.sortBy,this.sortOrder=t.sortMethod,this.tagOperator=t.tagOperator,this.tags=t.tags,this.types=t.types,this.presentation=t.presentAs,t.categories&&(this.categoriesLoading=!0,La.get("categories",{ids:t.categories,locale:this.locale?this.locale.get():void 0}).then(ht((e=>{this.categoriesLoading=!1,this.categories=e._embedded.categories})))),t.dataSource&&this.dataSourceResourceKey&&(this.dataSourceLoading=!0,La.get(this.dataSourceResourceKey,{id:t.dataSource,locale:this.locale?this.locale.get():void 0}).then(ht((e=>{this.dataSource=e,this.dataSourceLoading=!1}))).catch(ht((()=>{this.dataSourceLoading=!1})))))}start(){this.itemDisposer=ft(this.loadItems)}destroy(){this.itemDisposer&&this.itemDisposer()}setItems(e){this.items=e}setItemsLoading(e){this.itemsLoading=e}setExcludedIds(e){si()(Mt(this.excludedIds),e)||(this.excludedIds=e)}get loading(){return!!this.dataSourceLoading||!!this.categoriesLoading}get filterCriteria(){return{audienceTargeting:this.audienceTargeting,categories:this.categories&&this.categories.length>0?this.categories.map((e=>e.id)):void 0,categoryOperator:this.categoryOperator,dataSource:this.dataSource?this.dataSource.id:void 0,includeSubFolders:this.includeSubElements,limitResult:this.limit,sortBy:this.sortBy,sortMethod:this.sortOrder,tagOperator:this.tagOperator,tags:this.tags&&this.tags.length>0?Mt(this.tags):void 0,types:this.types&&this.types.length>0?Mt(this.types):void 0,presentAs:this.presentation}}},gI=RI(mI.prototype,"items",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bI=RI(mI.prototype,"itemsLoading",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),yI=RI(mI.prototype,"categoriesLoading",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vI=RI(mI.prototype,"dataSourceLoading",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_I=RI(mI.prototype,"dataSource",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wI=RI(mI.prototype,"includeSubElements",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kI=RI(mI.prototype,"categories",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),CI=RI(mI.prototype,"categoryOperator",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),EI=RI(mI.prototype,"tags",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xI=RI(mI.prototype,"tagOperator",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),SI=RI(mI.prototype,"types",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),OI=RI(mI.prototype,"audienceTargeting",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),TI=RI(mI.prototype,"sortBy",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),MI=RI(mI.prototype,"sortOrder",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),PI=RI(mI.prototype,"presentation",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),DI=RI(mI.prototype,"limit",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),LI=RI(mI.prototype,"excludedIds",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),RI(mI.prototype,"setItems",[ht],Object.getOwnPropertyDescriptor(mI.prototype,"setItems"),mI.prototype),RI(mI.prototype,"setItemsLoading",[ht],Object.getOwnPropertyDescriptor(mI.prototype,"setItemsLoading"),mI.prototype),RI(mI.prototype,"setExcludedIds",[ht],Object.getOwnPropertyDescriptor(mI.prototype,"setExcludedIds"),mI.prototype),RI(mI.prototype,"loading",[ge],Object.getOwnPropertyDescriptor(mI.prototype,"loading"),mI.prototype),RI(mI.prototype,"filterCriteria",[ge],Object.getOwnPropertyDescriptor(mI.prototype,"filterCriteria"),mI.prototype),mI);var NI,FI,YI,BI,HI,VI,WI,UI,$I,qI,KI,GI,ZI,JI,XI,QI,eR,tR,nR,iR,rR,oR,sR,aR,lR,cR,uR,dR,hR,pR,fR,mR,gR,bR,yR="section--Vy2AJIdm93",vR="description--vHN9EfS5rQ";function _R(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function wR(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let kR=Br((FI=class extends u.Component{constructor(e){super(e),_R(this,"dataSource",YI,this),_R(this,"includeSubElements",BI,this),_R(this,"categories",HI,this),_R(this,"categoryOperator",VI,this),_R(this,"tags",WI,this),_R(this,"tagOperator",UI,this),_R(this,"types",$I,this),_R(this,"audienceTargeting",qI,this),_R(this,"sortBy",KI,this),_R(this,"sortOrder",GI,this),_R(this,"limit",ZI,this),_R(this,"presentation",JI,this),_R(this,"showDataSourceDialog",XI,this),_R(this,"showCategoryDialog",QI,this),_R(this,"updateFilterCriteria",eR,this),_R(this,"handleConfirm",tR,this),_R(this,"resetFilterCriteria",nR,this),_R(this,"handleConfirmDataSourceDialog",iR,this),_R(this,"handleDataSourceButtonClick",rR,this),_R(this,"handleCloseDataSourceDialog",oR,this),_R(this,"handleCategoryButtonClick",sR,this),_R(this,"handleCloseCategoryDialog",aR,this),_R(this,"handleIncludeSubElementsChange",lR,this),_R(this,"handleConfirmCategoryDialog",cR,this),_R(this,"handleCategoryOperatorChange",uR,this),_R(this,"handleTagOperatorChange",dR,this),_R(this,"handleTypesChange",hR,this),_R(this,"handleAudienceTargetingChange",pR,this),_R(this,"handleSortByChange",fR,this),_R(this,"handleSortOrderChange",mR,this),_R(this,"handlePresentationChange",gR,this),_R(this,"handleLimitChange",bR,this),this.updateFilterCriteriaDisposer=ft((()=>this.updateFilterCriteria(this.props.smartContentStore))),this.tagSelectionStore=new uc("tags",this.tags||[],void 0,"names"),this.tagSelectionStoreDisposer=ft((()=>{this.tags=this.tagSelectionStore.items.map((e=>e.name))}))}componentWillUnmount(){this.updateFilterCriteriaDisposer(),this.tagSelectionStoreDisposer()}render(){const{categoryRootKey:e,dataSourceAdapter:t,dataSourceListKey:n,dataSourceResourceKey:i,onClose:r,open:o,presentations:s,sections:a,smartContentStore:l,sortings:c,title:d,types:h}=this.props;return u.createElement(u.Fragment,null,u.createElement(fd,{actions:[{title:Xs("sulu_admin.reset"),onClick:this.resetFilterCriteria}],confirmText:Xs("sulu_admin.confirm"),onClose:r,onConfirm:this.handleConfirm,open:o,size:"small",title:d},u.createElement("div",{className:"content--ZWW5CPqgrL"},a.includes("datasource")&&u.createElement("section",{className:yR},u.createElement("h3",null,Xs("sulu_admin.data_source")),u.createElement("div",{className:"source--wuY9XbPSb5"},u.createElement(uo,{className:"source-button--mtfu4F65Tz",onClick:this.handleDataSourceButtonClick},Xs("sulu_admin.choose_data_source")),u.createElement(Nv,{checked:this.includeSubElements||!1,onChange:this.handleIncludeSubElementsChange},Xs("sulu_admin.include_sub_elements"))),u.createElement("label",{className:vR},Xs("sulu_admin.data_source"),": ",this.dataSource&&this.dataSource.title)),a.includes("categories")&&u.createElement("section",{className:yR},u.createElement("h3",null,Xs("sulu_admin.filter_by_categories")),u.createElement("div",{className:"categories--h6MU3SBGeX"},u.createElement(uo,{onClick:this.handleCategoryButtonClick},Xs("sulu_admin.choose_categories")),u.createElement("div",{className:"categories-select--uj73AbZKy4"},u.createElement(zp,{onChange:this.handleCategoryOperatorChange,value:this.categoryOperator},u.createElement(zp.Option,{value:"or"},Xs("sulu_admin.any_category_description")),u.createElement(zp.Option,{value:"and"},Xs("sulu_admin.all_categories_description"))))),u.createElement("label",{className:vR},Xs("sulu_category.categories"),": ",this.categories&&this.categories.map((e=>e.name)).join(", "))),a.includes("tags")&&u.createElement("section",{className:yR},u.createElement("h3",null,Xs("sulu_admin.filter_by_tags")),u.createElement("div",{className:"tags--YuIcU8kZ2E"},u.createElement("div",{className:"tags-auto-complete--Fl6Le2Y9_N"},u.createElement(cw,{displayProperty:"name",idProperty:"name",searchProperties:["name"],selectionStore:this.tagSelectionStore})),u.createElement("div",{className:"tags-select--gU3q9xkM0_"},u.createElement(zp,{onChange:this.handleTagOperatorChange,value:this.tagOperator},u.createElement(zp.Option,{value:"or"},Xs("sulu_admin.any_tag_description")),u.createElement(zp.Option,{value:"and"},Xs("sulu_admin.all_tags_description")))))),a.includes("types")&&u.createElement("section",{className:yR},u.createElement("h3",null,Xs("sulu_admin.filter_by_types")),u.createElement("div",{className:"types--DirZ126Tc3"},u.createElement(Iz,{allSelectedText:Xs("sulu_admin.all_types"),noneSelectedText:Xs("sulu_admin.no_types"),onChange:this.handleTypesChange,values:this.types||[]},h.map((e=>u.createElement(Iz.Option,{key:e.value,value:e.value},e.name)))))),a.includes("audienceTargeting")&&u.createElement("section",{className:yR},u.createElement("h3",null,Xs("sulu_admin.target_groups")),u.createElement(Nv,{checked:this.audienceTargeting||!1,onChange:this.handleAudienceTargetingChange},Xs("sulu_admin.use_target_groups"))),a.includes("sorting")&&u.createElement("section",{className:yR},u.createElement("h3",null,Xs("sulu_admin.sort_by")),u.createElement("div",{className:"sorting--a1DvRc8wuP"},u.createElement("div",{className:"sort-column--vBp4RNzP1z"},u.createElement(zp,{onChange:this.handleSortByChange,value:this.sortBy},c.map(((e,t)=>u.createElement(zp.Option,{key:t,value:e.name},Xs(e.value)))))),u.createElement("div",{className:"sort-order--AqMEN0Cpmf"},u.createElement(zp,{onChange:this.handleSortOrderChange,value:this.sortOrder},u.createElement(zp.Option,{value:"asc"},Xs("sulu_admin.ascending")),u.createElement(zp.Option,{value:"desc"},Xs("sulu_admin.descending")))))),a.includes("presentation")&&u.createElement("section",{className:yR},u.createElement("h3",null,Xs("sulu_admin.present_as")),u.createElement("div",{className:"presentation--uJ09_urLYc"},u.createElement(zp,{onChange:this.handlePresentationChange,value:this.presentation},Object.keys(s).map((e=>u.createElement(zp.Option,{key:e,value:e},s[e])))))),a.includes("limit")&&u.createElement("section",{className:yR},u.createElement("h3",null,Xs("sulu_admin.limit_result_to")),u.createElement("div",{className:"limit--gh4qy0CdWY"},u.createElement(az,{onChange:this.handleLimitChange,value:this.limit}))))),!l.loading&&t&&i&&n&&u.createElement(hg,{adapter:t,clearSelectionOnClose:!1,listKey:n,locale:l.locale,onClose:this.handleCloseDataSourceDialog,onConfirm:this.handleConfirmDataSourceDialog,open:this.showDataSourceDialog,overlayType:"dialog",preSelectedItem:this.dataSource,resourceKey:i,title:Xs("sulu_admin.choose_data_source")}),!l.loading&&u.createElement(vE,{adapter:"tree_table",clearSelectionOnClose:!1,listKey:"categories",locale:l.locale,onClose:this.handleCloseCategoryDialog,onConfirm:this.handleConfirmCategoryDialog,open:this.showCategoryDialog,options:{rootKey:e},overlayType:"dialog",preSelectedItems:this.categories||[],resourceKey:"categories",title:Xs("sulu_admin.choose_categories")}))}},YI=wR(FI.prototype,"dataSource",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),BI=wR(FI.prototype,"includeSubElements",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),HI=wR(FI.prototype,"categories",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),VI=wR(FI.prototype,"categoryOperator",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),WI=wR(FI.prototype,"tags",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),UI=wR(FI.prototype,"tagOperator",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$I=wR(FI.prototype,"types",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qI=wR(FI.prototype,"audienceTargeting",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),KI=wR(FI.prototype,"sortBy",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),GI=wR(FI.prototype,"sortOrder",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ZI=wR(FI.prototype,"limit",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),JI=wR(FI.prototype,"presentation",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),XI=wR(FI.prototype,"showDataSourceDialog",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),QI=wR(FI.prototype,"showCategoryDialog",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),eR=wR(FI.prototype,"updateFilterCriteria",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.dataSource=e.dataSource,this.includeSubElements=e.includeSubElements,this.categories=e.categories,this.categoryOperator=e.categoryOperator,this.tags=e.tags,this.types=e.types,this.tagOperator=e.tagOperator,this.audienceTargeting=e.audienceTargeting,this.sortBy=e.sortBy,this.sortOrder=e.sortOrder,this.presentation=e.presentation,this.limit=e.limit}}}),tR=wR(FI.prototype,"handleConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{onClose:e,smartContentStore:t}=this.props;t.audienceTargeting=this.audienceTargeting,t.categories=this.categories,t.categoryOperator=this.categoryOperator,t.dataSource=this.dataSource,t.includeSubElements=this.includeSubElements,t.limit=this.limit,t.sortBy=this.sortBy,t.sortOrder=this.sortOrder,t.tagOperator=this.tagOperator,t.tags=this.tags,t.types=this.types,t.presentation=this.presentation,e()}}}),nR=wR(FI.prototype,"resetFilterCriteria",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{defaultValue:e}=this.props;this.dataSource=e.dataSource,this.includeSubElements=e.includeSubFolders,this.categories=e.categories,this.categoryOperator=e.categoryOperator,this.tags=e.tags,this.types=e.types,this.tagOperator=e.tagOperator,this.audienceTargeting=e.audienceTargeting,this.sortBy=e.sortBy,this.sortOrder=e.sortMethod,this.presentation=e.presentAs,this.limit=e.limitResult}}}),iR=wR(FI.prototype,"handleConfirmDataSourceDialog",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.dataSource=e,this.showDataSourceDialog=!1}}}),rR=wR(FI.prototype,"handleDataSourceButtonClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showDataSourceDialog=!0}}}),oR=wR(FI.prototype,"handleCloseDataSourceDialog",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showDataSourceDialog=!1}}}),sR=wR(FI.prototype,"handleCategoryButtonClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showCategoryDialog=!0}}}),aR=wR(FI.prototype,"handleCloseCategoryDialog",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showCategoryDialog=!1}}}),lR=wR(FI.prototype,"handleIncludeSubElementsChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.includeSubElements=e}}}),cR=wR(FI.prototype,"handleConfirmCategoryDialog",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.categories=e,this.showCategoryDialog=!1}}}),uR=wR(FI.prototype,"handleCategoryOperatorChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{if("or"!==e&&"and"!==e)throw new Error('The tag operator must either be "or" or "and", but "'+e+'" was given. This should not happen and is likely a bug.');this.categoryOperator=e}}}),dR=wR(FI.prototype,"handleTagOperatorChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{if("or"!==e&&"and"!==e)throw new Error('The tag operator must either be "or" or "and", but "'+e+'" was given. This should not happen and is likely a bug.');this.tagOperator=e}}}),hR=wR(FI.prototype,"handleTypesChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.types=e}}}),pR=wR(FI.prototype,"handleAudienceTargetingChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.audienceTargeting=e}}}),fR=wR(FI.prototype,"handleSortByChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{if(void 0!==e&&"string"!=typeof e)throw new Error('The field for sorting must be a string or undefined, but "'+e+'" was given. This should not happen and is likely a bug.');this.sortBy=e}}}),mR=wR(FI.prototype,"handleSortOrderChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{if("asc"!==e&&"desc"!==e)throw new Error('The sort order is only allowed to be "asc" or "desc", but "'+e+'" was given. This should not happen and is likely a bug.');this.sortOrder=e}}}),gR=wR(FI.prototype,"handlePresentationChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{if("string"!=typeof e)throw new Error('The presentation must be represented as a string, but "'+e+'" was given. This should not happen and is likely a bug.');this.presentation=e}}}),bR=wR(FI.prototype,"handleLimitChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.limit=e}}}),NI=FI))||NI;var CR,ER,xR,SR,OR,TR,MR=kR;class PR extends u.Component{render(){const{id:e,image:t,title:n,publishedState:i,published:r,...o}=this.props.item;return u.createElement("div",{className:"smart-content-item--NA_l6Ceo1B"},t&&u.createElement("div",{className:"image--vSkyu46i6h"},u.createElement("img",{src:t})),u.createElement("div",{className:"title--EKQMnE85eP"},(void 0!==i||void 0!==r)&&!(i&&r)&&u.createElement("div",{className:"publish-indicator--DLjFHr0Maj"},u.createElement(vk,{draft:!i,published:!!r})),u.createElement(sp,null,n)),Object.keys(o).map((e=>u.createElement("div",{className:"column--eZeEEGr0iL",key:e},u.createElement(sp,null,o[e])))))}}function DR(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function LR(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var AR,zR,IR=Br(((TR=class extends u.Component{constructor(e){super(e),this.sections=[],DR(this,"showFilterOverlay",xR,this),DR(this,"handleFilterClick",SR,this),DR(this,"handleFilterOverlayClose",OR,this),this.initialize()}initialize(){const{store:e}=this.props;this.config=zI.getConfig(e.provider),this.config.datasourceResourceKey&&this.config.datasourceAdapter&&this.sections.push("datasource"),this.config.categories&&this.sections.push("categories"),this.config.tags&&this.sections.push("tags"),this.config.audienceTargeting&&this.sections.push("audienceTargeting"),this.config.sorting.length>0&&this.sections.push("sorting"),this.config.types&&this.config.types.length>0&&this.sections.push("types"),this.config.presentAs&&this.props.presentations.length>0&&this.sections.push("presentation"),this.config.limit&&this.sections.push("limit")}render(){const{categoryRootKey:e,defaultValue:t,disabled:n,fieldLabel:i,onItemClick:r,store:o}=this.props,s=this.props.presentations.reduce(((e,t)=>(e[t.name]=t.value,e)),{});return u.createElement(u.Fragment,null,u.createElement(yE,{disabled:n,label:Xs("sulu_admin.smart_content_label",{count:o.items.length}),leftButton:{icon:"su-filter",onClick:this.handleFilterClick},loading:o.itemsLoading||o.loading,onItemClick:r,sortable:!1},o.items.map(((e,t)=>u.createElement(yE.Item,{id:e.id,index:t+1,key:t,value:e},u.createElement(PR,{item:e}))))),u.createElement(MR,{categoryRootKey:e,dataSourceAdapter:this.config.datasourceAdapter,dataSourceListKey:this.config.datasourceListKey,dataSourceResourceKey:this.config.datasourceResourceKey,defaultValue:t,onClose:this.handleFilterOverlayClose,open:this.showFilterOverlay,presentations:s,sections:this.sections,smartContentStore:o,sortings:this.config.sorting,title:Xs("sulu_admin.filter_overlay_title",{fieldLabel:i||""}),types:this.config.types}))}}).defaultProps={disabled:!1,presentations:[]},xR=LR((ER=TR).prototype,"showFilterOverlay",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),LR(ER.prototype,"initialize",[ht],Object.getOwnPropertyDescriptor(ER.prototype,"initialize"),ER.prototype),SR=LR(ER.prototype,"handleFilterClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showFilterOverlay=!0}}}),OR=LR(ER.prototype,"handleFilterOverlayClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showFilterOverlay=!1}}}),CR=ER))||CR;function RR(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let jR=(AR=class{get stores(){return this.entries.map((e=>e.store))}constructor(){!function(e,t,n,i){n&&Object.defineProperty(e,"entries",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}(this,0,zR,this),this.updateExcludedIds=()=>{this.updateRecursiveExcludedIds(this.stores)},this.updateRecursiveExcludedIds=e=>{if(0===e.length)return;const t=e[0],n=this.findEntryByStore(t);if(!n)throw new Error("There was no entry found for the store! This should not happen and is likely a bug.");if(!n.excludeDuplicates)return void this.updateRecursiveExcludedIds(e.slice(1));const i=this.findPreviousStores(t);0!==i.length?Dt((()=>i.every((e=>!e.itemsLoading))),(()=>{const n=i.reduce(((e,t)=>(e.push(...t.items.map((e=>e.id))),e)),[]);t.setExcludedIds(n),this.updateRecursiveExcludedIds(e.slice(1))})):this.updateRecursiveExcludedIds(e.slice(1))},this.clear()}clear(){this.entries=[]}add(e,t){if(this.stores.includes(e))throw new Error("Cannot add a SmartContentStore twice!");this.entries.push({store:e,excludeDuplicates:t})}remove(e){this.entries.splice(this.stores.indexOf(e),1)}findEntryByStore(e){return this.entries.find((t=>t.store===e))}findPreviousStores(e){const t=[];for(const n of this.stores){if(n===e)break;n.provider===e.provider&&t.push(n)}return t}},zR=RR(AR.prototype,"entries",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),RR(AR.prototype,"stores",[ge],Object.getOwnPropertyDescriptor(AR.prototype,"stores"),AR.prototype),RR(AR.prototype,"add",[ht],Object.getOwnPropertyDescriptor(AR.prototype,"add"),AR.prototype),RR(AR.prototype,"remove",[ht],Object.getOwnPropertyDescriptor(AR.prototype,"remove"),AR.prototype),AR);var NR,FR=new jR;function YR(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let BR=(NR=class extends u.Component{get previousSmartContentStores(){return FR.findPreviousStores(this.smartContentStore)}get presentations(){const{schemaOptions:{present_as:{value:e=[]}={}}={}}=this.props;if(!O(e))throw new Error('The "present_as" schemaOption must be an array, but received '+typeof e+"!");return e.map((e=>{const{name:t,title:n}=e;if(!t)throw new Error('Every presentation in the "present_as" schema Option must contain a name');if(!n)throw new Error('Every presentation in the "present_as" schema Option must contain a title');return{name:t.toString(),value:n.toString()}}))}get provider(){const{schemaOptions:{provider:{value:e}={value:"pages"}}={}}=this.props;if("string"!=typeof e)throw new Error('The "provider" schemaOption must be a string, but received '+typeof e+"!");return e}get value(){const{value:e}=this.props;return void 0!==e?e:this.defaultValue}get defaultValue(){return zI.getDefaultValue(this.provider,this.presentations)}get viewName(){return zI.getConfig(this.provider).view}get resultToView(){return zI.getConfig(this.provider).resultToView}constructor(e){super(e),this.handleFilterCriteriaChange=e=>{const{onChange:t,onFinish:n,value:i}=this.props,r=Mt(i),o=Mt(e);r&&(r.categories&&r.categories.sort(),r.tags&&r.tags.sort()),o&&(o.categories&&o.categories.sort(),o.tags&&o.tags.sort()),this.smartContentStore.loading||si()(r,o)||(t(e),n(),FR.updateExcludedIds())},this.handleItemClick=(e,t)=>{const{router:n}=this.props,{resultToView:i,viewName:r}=this;n&&r&&i&&n.navigate(r,Object.keys(i).reduce(((e,n)=>(e[i[n]]=Pc().get(t,"/"+n),e)),{}))};const{formInspector:t,onChange:n,schemaOptions:i={},value:r}=this.props,{exclude_duplicates:{value:o=!1}={}}=i;if("boolean"!=typeof o)throw new Error('The "exclude_duplicates" schemaOption must be a boolean if set!');const{datasourceResourceKey:s}=zI.getConfig(this.provider);void 0===r&&n(this.value,{isDefaultValue:!0}),this.smartContentStore=new jI(this.provider,this.value,t.locale,s,t.resourceKey===this.provider?t.id:void 0,i,t.metadataOptions?.webspace),FR.add(this.smartContentStore,o),this.filterCriteriaChangeDisposer=bt((()=>Mt(this.smartContentStore.filterCriteria)),(e=>this.handleFilterCriteriaChange(e))),o&&0!==this.previousSmartContentStores.length?Dt((()=>this.previousSmartContentStores.every((e=>!e.itemsLoading))),(()=>{FR.updateExcludedIds(),this.smartContentStore.start()})):this.smartContentStore.start()}componentWillUnmount(){FR.remove(this.smartContentStore),this.smartContentStore.destroy(),this.filterCriteriaChangeDisposer()}render(){const{disabled:e,label:t,schemaOptions:{category_root:{value:n}={}}={}}=this.props;if(void 0!==n&&"string"!=typeof n)throw new Error('The "category_root" schemaOption must a string if set!');return u.createElement(IR,{categoryRootKey:n,defaultValue:this.defaultValue,disabled:!!e,fieldLabel:t,onItemClick:this.viewName&&this.resultToView?this.handleItemClick:void 0,presentations:this.presentations,store:this.smartContentStore})}},YR(NR.prototype,"previousSmartContentStores",[ge],Object.getOwnPropertyDescriptor(NR.prototype,"previousSmartContentStores"),NR.prototype),YR(NR.prototype,"presentations",[ge],Object.getOwnPropertyDescriptor(NR.prototype,"presentations"),NR.prototype),YR(NR.prototype,"provider",[ge],Object.getOwnPropertyDescriptor(NR.prototype,"provider"),NR.prototype),YR(NR.prototype,"value",[ge],Object.getOwnPropertyDescriptor(NR.prototype,"value"),NR.prototype),YR(NR.prototype,"defaultValue",[ge],Object.getOwnPropertyDescriptor(NR.prototype,"defaultValue"),NR.prototype),YR(NR.prototype,"viewName",[ge],Object.getOwnPropertyDescriptor(NR.prototype,"viewName"),NR.prototype),YR(NR.prototype,"resultToView",[ge],Object.getOwnPropertyDescriptor(NR.prototype,"resultToView"),NR.prototype),NR);var HR=BR;class VR extends u.PureComponent{constructor(...e){super(...e),this.handleChange=e=>{this.props.onChange(e.currentTarget.value||void 0)},this.handleBlur=()=>{const{onBlur:e}=this.props;e&&e()}}render(){const{id:e,disabled:t,maxCharacters:n,name:i,placeholder:r,value:o,valid:s}=this.props,a=eo()("text-area--MM4oCU_Yv5",{"error--YUi9fvggrA":!s,"disabled--jE5HFg_29M":t});return u.createElement(u.Fragment,null,u.createElement("textarea",{className:a,disabled:t,id:e,name:i,onBlur:this.handleBlur,onChange:this.handleChange,placeholder:r,value:o||""}),n&&u.createElement(bl,{max:n,value:o}))}}VR.defaultProps={disabled:!1,valid:!0};var WR=VR;class UR extends u.Component{render(){const{dataPath:e,error:t,onChange:n,onFinish:i,disabled:r,schemaOptions:{max_characters:{value:o}={},soft_max_length:{value:s}={}}={},value:a}=this.props;if(void 0!==o&&c().warn('The "max_characters" schema option is deprecated since version 2.3 and will be removed. Use the "soft_max_length" option instead.'),void 0!==o&&isNaN(o))throw new Error('The "max_characters" schema option must be a number!');if(void 0!==s&&isNaN(s))throw new Error('The "soft_max_length" schema option must be a number!');const l=s||o;return u.createElement(WR,{disabled:!!r,id:e,maxCharacters:l?parseInt(l):void 0,onBlur:i,onChange:n,valid:!t,value:a})}}var $R=new class{constructor(){this.clear()}clear(){this.textEditors={}}has(e){return e in this.textEditors}add(e,t){if(this.has(e))throw new Error('The key "'+e+'" has already been used for another TextEditor');this.textEditors[e]=t}get(e){if(!this.has(e))throw new Error('There is no TextEditor with key "'+e+'" registered');return this.textEditors[e]}};class qR extends u.Component{render(){const{adapter:e,...t}=this.props,n=$R.get(e);return u.createElement(n,t)}}qR.defaultProps={disabled:!1};var KR=qR;class GR extends u.Component{render(){const{disabled:e,formInspector:t,onChange:n,onFinish:i,schemaOptions:r,value:o}=this.props,s=t.locale?t.locale:ue.box(sl.contentLocale);return u.createElement(KR,{adapter:"ckeditor5",disabled:!!e,locale:s,onBlur:i,onChange:n,options:r,value:o})}}var ZR,JR,XR,QR,ej,tj,nj,ij,rj;function oj(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function sj(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var aj=Br(((rj=class extends u.Component{constructor(e){super(e),oj(this,"selectedProtocol",XR,this),oj(this,"path",QR,this),oj(this,"validUrl",ej,this),this.callChangeCallback=()=>{const{onChange:e,value:t}=this.props;this.url!==t&&e(this.isValidUrl(this.url)?this.url:void 0)},oj(this,"handleProtocolChange",tj,this),oj(this,"handlePathChange",nj,this),oj(this,"handlePathBlur",ij,this),this.selectedProtocol=e.defaultProtocol||e.protocols[0]}componentDidMount(){const{value:e}=this.props;this.setUrl(e)}componentDidUpdate(e){const{value:t}=this.props;e.value===t||(this.selectedProtocol||this.path)&&!t||this.setUrl(t)}isValidUrl(e){return!e||"mailto:"!==this.selectedProtocol||yo(e.substring(7))}setUrl(e){if(!e){this.path=void 0;const{defaultProtocol:e,onProtocolChange:t,protocols:n}=this.props;return this.selectedProtocol=e||n[0],void(t&&t(this.selectedProtocol))}const{onProtocolChange:t,protocols:n,value:i}=this.props;if(i===this.url)return;const r=n.find((t=>e&&e.startsWith(t)));r||c().warn('The URL "'+e+'" has a protocol type not supported by this instance.'),this.selectedProtocol=r||this.selectedProtocol,this.path=e.substring(r?r.length:0),this.validUrl=this.isValidUrl(this.url),t&&t(r)}get url(){if(this.path)return this.selectedProtocol+this.path}render(){const{disabled:e,id:t,protocols:n,valid:i}=this.props,r=eo()("url--LXtxJDSgDR",{"error--K1rKqpxz_2":!i||!this.validUrl});return u.createElement("div",{className:r},u.createElement("div",{className:"protocols--yqsMRNfJQH"},u.createElement(zp,{disabled:e,onChange:this.handleProtocolChange,skin:"flat",value:this.selectedProtocol},n.map((e=>u.createElement(zp.Option,{key:e,value:e},e))))),u.createElement("input",{disabled:e,id:t,onBlur:this.handlePathBlur,onChange:this.handlePathChange,type:"text",value:this.path||""}))}}).defaultProps={disabled:!1,protocols:["http://","https://","ftp://","ftps://","mailto:","tel:"],valid:!0},XR=sj((JR=rj).prototype,"selectedProtocol",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),QR=sj(JR.prototype,"path",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),ej=sj(JR.prototype,"validUrl",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sj(JR.prototype,"setUrl",[ht],Object.getOwnPropertyDescriptor(JR.prototype,"setUrl"),JR.prototype),sj(JR.prototype,"url",[ge],Object.getOwnPropertyDescriptor(JR.prototype,"url"),JR.prototype),tj=sj(JR.prototype,"handleProtocolChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{onBlur:t,onProtocolChange:n,protocols:i}=this.props;if("string"!=typeof e||!i.includes(e))throw new Error('The protocol "'+e+'" is not in listed as available protocol ('+i.join(",")+"). This should not happen and is likely a bug.");this.selectedProtocol=e,this.callChangeCallback(),n&&n(e),t&&t()}}}),nj=sj(JR.prototype,"handlePathChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{protocols:t}=this.props;this.path=e.currentTarget.value;const n=this.path,i=t.find((e=>n.startsWith(e)));i&&(this.selectedProtocol=i,this.path=n.substring(this.selectedProtocol.length)),this.callChangeCallback()}}}),ij=sj(JR.prototype,"handlePathBlur",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{onBlur:e,value:t}=this.props;this.validUrl=this.isValidUrl(this.url),this.url!==t&&this.callChangeCallback(),e&&e()}}}),ZR=JR))||ZR;class lj extends u.Component{constructor(e){super(e),this.handleBlur=()=>{this.props.onFinish()};const{onChange:t,schemaOptions:{defaults:{value:n}={}}={},value:i}=this.props;if(void 0!==n&&!O(n))throw new Error('The "defaults" schema option must be an array!');const r=n,o=r&&r.find((e=>"scheme"===e.name)),s=r&&r.find((e=>"specific_part"===e.name));if(!i&&s){if(!o)throw new Error("It is not allowed to set a default URL without a scheme!");if("string"!=typeof o.value)throw new Error('The "scheme" default must be a string if set!');if("string"!=typeof s.value)throw new Error('The "specific_part" default must be a string if set!');t(o.value+s.value,{isDefaultValue:!0})}}render(){const{dataPath:e,disabled:t,error:n,onChange:i,schemaOptions:{defaults:{value:r=[]}={},schemes:{value:o}={}}={},value:s}=this.props;let a;if(o){if(!O(o))throw new Error('The "schemes" schema option must be an array!');const e=o;if(0===e.length)throw new Error('The "schemes" schema option must contain some values!');a=e.map((e=>{if("string"!=typeof e.name)throw new Error('Every schema in the "schemes" schemaOption must contain a string string name');return e.name}))}if(!O(r))throw new Error('The "defaults" schema option must be an array!');let l=a?a[0]:void 0;const c=r.find((e=>"scheme"===e.name));if(c&&c.value){if("string"!=typeof c.value)throw new Error('The "scheme" value of the "defaults" schema option must be a string!');l=c.value}return u.createElement(aj,{defaultProtocol:l,disabled:!!t,id:e,onBlur:this.handleBlur,onChange:i,protocols:a,valid:!n,value:s})}}var cj,uj,dj,hj,pj,fj,mj,gj,bj,yj,vj,_j,wj,kj,Cj,Ej,xj,Sj,Oj,Tj,Mj,Pj,Dj,Lj,Aj=new class{constructor(){this.clear()}clear(){this.overlays={},this.titles={},this.options={}}add(e,t,n,i){if(e in this.titles)throw new Error('The key "'+e+'" has already been used for another link type');this.overlays[e]=t,this.titles[e]=n,this.options[e]=i}getKeys(){return Object.keys(this.titles)}getOverlay(e){if(!(e in this.overlays))throw new Error('There is no overlay for an link type with the key "'+e+'" registered.\n\nRegistered keys: '+Object.keys(this.overlays).sort().join(", "));return this.overlays[e]}getTitle(e){if(!(e in this.titles))throw new Error('There is no title for an link type with the key "'+e+'" registered.\n\nRegistered keys: '+Object.keys(this.titles).sort().join(", "));return this.titles[e]}getOptions(e){if(!(e in this.options))throw new Error('There are no options for an link type with the key "'+e+'" registered.\n\nRegistered keys: '+Object.keys(this.options).sort().join(", "));return this.options[e]}};function zj(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Ij(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const Rj="_self";let jj=Br((Lj=class extends u.Component{constructor(e){super(e),zj(this,"openedOverlayProvider",dj,this),zj(this,"overlayHref",hj,this),zj(this,"overlayTitle",pj,this),zj(this,"overlayRel",fj,this),zj(this,"overlayTarget",mj,this),zj(this,"overlayAnchor",gj,this),zj(this,"overlayQuery",bj,this),zj(this,"titleParts",yj,this),zj(this,"titleLoading",vj,this),zj(this,"load",_j,this),zj(this,"handleRemoveClick",wj,this),zj(this,"handleTitleClick",kj,this),zj(this,"handleOverlayConfirm",Cj,this),zj(this,"handleOverlayClose",Ej,this),zj(this,"handleProviderChange",xj,this),zj(this,"handleOverlayAnchorChange",Sj,this),zj(this,"handleOverlayQueryChange",Oj,this),zj(this,"handleOverlayTargetChange",Tj,this),zj(this,"handleOverlayTitleChange",Mj,this),zj(this,"handleOverlayRelChange",Pj,this),zj(this,"handleOverlayHrefChange",Dj,this),this.closeOverlay=()=>{this.openedOverlayProvider=void 0},this.openOverlay=e=>{const{value:t}=this.props,{provider:n,title:i,href:r,target:o=Rj,anchor:s,query:a,rel:l}=t||{};this.overlayHref=n===e?r:void 0,this.overlayTarget=o,this.overlayTitle=i,this.overlayAnchor=s,this.overlayQuery=a,this.overlayRel=l,this.openedOverlayProvider=e},this.changeValue=(e,t,n,i,r,o,s)=>{const{onChange:a,onFinish:l,enableTarget:c,enableTitle:u,enableAnchor:d,enableQuery:h,enableRel:p,locale:f}=this.props;a({provider:e,target:c?i:void 0,anchor:d?r:void 0,query:h?o:void 0,href:t,title:u?n:void 0,rel:p?s:void 0,locale:Mt(f)}),l()},this.load(this.props.value)}componentDidUpdate(e){const t=Mt(e.value),n=Mt(this.props.value);si()(t,n)||this.load(this.props.value)}render(){const{disabled:e,locale:t,enableAnchor:n,enableQuery:i,enableTarget:r,enableTitle:o,enableRel:s,types:a,excludedTypes:l,value:c}=this.props,{href:d,provider:h}=c||{},p=eo()("item--XlNQfeD1aC",{"clickable--XgscpYZgcX":!e||!d,"disabled--vLI4iI4QEK":e});let f=Aj.getKeys().filter((e=>!l.includes(e)));return void 0!==a&&a.length>0&&(f=f.filter((e=>a.length>0&&a.includes(e)))),u.createElement(u.Fragment,null,u.createElement("div",{className:"link--KXW92h8fK6"},u.createElement("div",{className:"provider--Clx3qZPXCS"},u.createElement(Mp,{disabled:!!e,onChange:this.handleProviderChange,skin:"flat",value:h},f.map((e=>u.createElement(Mp.Option,{key:e,value:e},Aj.getTitle(e)))))),u.createElement("div",{className:"item-container--AFhHKcR1Fj"},u.createElement("div",{className:p,onClick:e||this.handleTitleClick,role:"button"},this.titleLoading&&"",!this.titleLoading&&c&&this.titleParts.length>0&&u.createElement("div",{className:"column-list--bJmd6YycvK"},this.titleParts.map(((e,t)=>u.createElement("span",{className:"item-column--p73KthPgPc",key:t,style:{width:100/this.titleParts.length+"%"}},e))))),!this.titleLoading&&!e&&u.createElement("button",{className:"remove-button--FzUXd4JniR",onClick:this.handleRemoveClick,type:"button"},u.createElement(ro,{name:"su-trash-alt"})),this.titleLoading&&u.createElement(ao,{className:"loader--rWU3TM2g7T",size:14}))),Aj.getKeys().map((e=>{const a=Aj.getOverlay(e);return u.createElement(a,{anchor:this.overlayAnchor,href:this.openedOverlayProvider===e?this.overlayHref:void 0,key:e,locale:t,onAnchorChange:n?this.handleOverlayAnchorChange:void 0,onCancel:this.handleOverlayClose,onConfirm:this.handleOverlayConfirm,onHrefChange:this.handleOverlayHrefChange,onQueryChange:i?this.handleOverlayQueryChange:void 0,onRelChange:s?this.handleOverlayRelChange:void 0,onTargetChange:r?this.handleOverlayTargetChange:void 0,onTitleChange:o?this.handleOverlayTitleChange:void 0,open:this.openedOverlayProvider===e,options:Aj.getOptions(e),query:this.overlayQuery,rel:this.overlayRel,target:this.overlayTarget,title:this.overlayTitle})})))}},Lj.defaultProps={disabled:!1,enableAnchor:!1,enableQuery:!1,enableRel:!1,enableTarget:!1,enableTitle:!1,excludedTypes:[],types:[]},dj=Ij((uj=Lj).prototype,"openedOverlayProvider",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hj=Ij(uj.prototype,"overlayHref",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pj=Ij(uj.prototype,"overlayTitle",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fj=Ij(uj.prototype,"overlayRel",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mj=Ij(uj.prototype,"overlayTarget",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Rj}}),gj=Ij(uj.prototype,"overlayAnchor",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bj=Ij(uj.prototype,"overlayQuery",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yj=Ij(uj.prototype,"titleParts",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),vj=Ij(uj.prototype,"titleLoading",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_j=Ij(uj.prototype,"load",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{if(!e)return void(this.titleParts=[]);const{href:t,provider:n}=e;if(!n)return void(this.titleParts=t?[t]:[]);const i=Aj.getOptions(n);i?.displayProperties?.length?(this.titleParts=[],this.titleLoading=!0,La.get(i.resourceKey,{id:e.href,locale:this.props.locale}).then(ht((e=>{this.titleParts=Object.keys(e).filter((e=>(i.displayProperties||[]).includes(e))).reduce(((t,n)=>(t.unshift(e[n]),t)),[]),this.titleLoading=!1}))).catch(ht((e=>{if(404!==e.status)return Promise.reject(e);this.titleParts=[],this.titleLoading=!1})))):this.titleParts=t?[t]:[]}}}),wj=Ij(uj.prototype,"handleRemoveClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.changeValue(void 0,void 0,void 0,void 0,void 0,void 0,void 0)}}}),kj=Ij(uj.prototype,"handleTitleClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{value:e}=this.props,{provider:t}=e||{};this.openOverlay(t)}}}),Cj=Ij(uj.prototype,"handleOverlayConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.overlayHref&&(this.changeValue(this.openedOverlayProvider,this.overlayHref,this.overlayTitle,this.overlayTarget,this.overlayAnchor,this.overlayQuery,this.overlayRel),this.closeOverlay())}}}),Ej=Ij(uj.prototype,"handleOverlayClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.closeOverlay()}}}),xj=Ij(uj.prototype,"handleProviderChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.openOverlay(e)}}}),Sj=Ij(uj.prototype,"handleOverlayAnchorChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.overlayAnchor=e}}}),Oj=Ij(uj.prototype,"handleOverlayQueryChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.overlayQuery=e}}}),Tj=Ij(uj.prototype,"handleOverlayTargetChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.overlayTarget=e}}}),Mj=Ij(uj.prototype,"handleOverlayTitleChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.overlayTitle=e}}}),Pj=Ij(uj.prototype,"handleOverlayRelChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.overlayRel=e}}}),Dj=Ij(uj.prototype,"handleOverlayHrefChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.overlayHref=e}}}),cj=uj))||cj;var Nj=jj;class Fj extends u.Component{render(){const{disabled:e,formInspector:t,onChange:n,onFinish:i,value:r,schemaOptions:{enable_anchor:{value:o}={},enable_query:{value:s}={},enable_target:{value:a}={},enable_title:{value:l}={},enable_attributes:{value:d}={},types:{value:h}={},excluded_types:{value:p}={}}}=this.props;if(null!=o&&"boolean"!=typeof o)throw new Error('The "enable_anchor" schema option must be a boolean if given!');if(null!=s&&"boolean"!=typeof s)throw new Error('The "enable_query" schema option must be a boolean if given!');let f=!1,m=!1,g=!1;if(null!=d){if("boolean"!=typeof d)throw new Error('The "enable_attributes" schema option must be a boolean!');f=d,m=d,g=d}else{if(null!=a){if(c().warn('The "enable_target" schema option is deprecated since version 2.5 and will be removed. Use the "enable_attributes" option instead.'),"boolean"!=typeof a)throw new Error('The "enable_target" schema option must be a boolean!');f=a}if(null!=l){if(c().warn('The "enable_title" schema option is deprecated since version 2.5 and will be removed. Use the "enable_attributes" option instead.'),"boolean"!=typeof l)throw new Error('The "enable_title" schema option must be a boolean!');m=l}}const b=t.locale?t.locale:ue.box(sl.contentLocale);let y;if(h){if(!O(h))throw new Error('The "types" schema option must be an array!');const e=h;if(0===e.length)throw new Error('The "types" schema option must contain some values!');y=e.map((e=>{if("string"!=typeof e.name)throw new Error('Every type in the "types" schemaOption must contain a string as name');return e.name}))}let v=[];if(p){if(!O(p))throw new Error('The "excluded_types" schema option must be an array!');const e=p;if(0===e.length)throw new Error('The "excluded_types" schema option must contain some values!');v=e.map((e=>{if("string"!=typeof e.name)throw new Error('Every type in the "excluded_types" schemaOption must contain a string as name');return e.name}))}return u.createElement(Nj,{disabled:!!e,enableAnchor:o,enableQuery:s,enableRel:g,enableTarget:f,enableTitle:m,excludedTypes:v,locale:b,onChange:n,onFinish:i,types:y,value:r})}}var Yj,Bj,Hj,Vj,Wj,Uj=af;function $j(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function qj(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Kj,Gj,Zj,Jj=Br(((Wj=class extends u.Component{constructor(...e){super(...e),$j(this,"formErrors",Hj,this),this.handleOverlayConfirm=()=>{if(!this.formRef)throw new Error("The Form ref has not been set! This should not happen and is likely a bug.");this.formRef.submit()},this.handleFormSubmit=()=>{const{formStore:e,onConfirm:t}=this.props;"function"==typeof e.save?e.save().then((()=>{t()})).catch(ht((e=>{this.formErrors.push(e.detail||e.title||Xs("sulu_admin.form_save_server_error"))}))):t()},this.handleFormError=()=>{this.formErrors.push(Xs("sulu_admin.form_contains_invalid_values"))},$j(this,"handleErrorSnackbarClose",Vj,this),this.setFormRef=e=>{this.formRef=e}}get confirmLoading(){const{confirmLoading:e,formStore:t}=this.props,n="boolean"==typeof t.saving&&t.saving;return e||n}componentDidUpdate(e){const{open:t}=this.props;!1===e.open&&!0===t&&(this.formErrors=[])}render(){const{confirmDisabled:e,confirmText:t,formStore:n,onClose:i,open:r,size:o,title:s}=this.props;return u.createElement(fd,{confirmDisabled:e,confirmLoading:this.confirmLoading,confirmText:t,onClose:i,onConfirm:this.handleOverlayConfirm,onSnackbarCloseClick:this.handleErrorSnackbarClose,open:r,size:o,snackbarMessage:this.formErrors[this.formErrors.length-1],snackbarType:"error",title:s},u.createElement("div",{className:"form--YFN6Y_6fDN"},u.createElement(Uj,{onError:this.handleFormError,onSubmit:this.handleFormSubmit,ref:this.setFormRef,store:n})))}}).defaultProps={confirmDisabled:!1,confirmLoading:!1},Hj=qj((Bj=Wj).prototype,"formErrors",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qj(Bj.prototype,"confirmLoading",[ge],Object.getOwnPropertyDescriptor(Bj.prototype,"confirmLoading"),Bj.prototype),qj(Bj.prototype,"componentDidUpdate",[ht],Object.getOwnPropertyDescriptor(Bj.prototype,"componentDidUpdate"),Bj.prototype),Vj=qj(Bj.prototype,"handleErrorSnackbarClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.formErrors.pop()}}}),Yj=Bj))||Yj;function Xj(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let Qj=Br((Gj=class extends u.Component{constructor(...e){super(...e),function(e,t,n,i){n&&Object.defineProperty(e,"formStore",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}(this,0,Zj,this),this.handleConfirm=()=>{sl.setFullName(this.formStore.data.firstName+" "+this.formStore.data.lastName),this.props.onClose()}}componentDidMount(){this.updateFormStoreInstance()}componentDidUpdate(e){const{open:t}=this.props;!1===e.open&&!0===t&&this.updateFormStoreInstance()}componentWillUnmount(){this.formStore&&this.formStore.destroy()}updateFormStoreInstance(){this.formStore&&this.formStore.destroy(),this.formStore=new Gf(new Rc("profile","-"),"profile_details")}render(){const{onClose:e,open:t}=this.props;return this.formStore?u.createElement(Jj,{confirmDisabled:!this.formStore.dirty,confirmText:Xs("sulu_admin.save"),formStore:this.formStore,onClose:e,onConfirm:this.handleConfirm,open:t,size:"large",title:Xs("sulu_admin.edit_profile")}):null}},Zj=Xj(Gj.prototype,"formStore",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xj(Gj.prototype,"updateFormStoreInstance",[ht],Object.getOwnPropertyDescriptor(Gj.prototype,"updateFormStoreInstance"),Gj.prototype),Kj=Gj))||Kj;var eN,tN,nN,iN,rN=Qj;function oN(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function sN(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const aN=["small","medium","large"];var lN,cN=new(tN=sN((eN=class{constructor(){oN(this,"view",tN,this),oN(this,"props",nN,this),oN(this,"size",iN,this),this.clearConfig()}setConfig(e){this.view=e.view,this.props=e.props||{},this.sizes=e.sizes||aN,this.size&&this.sizes.includes(this.size)||this.setSize(e.defaultSize||"medium")}clearConfig(){this.view=void 0,this.props={},this.sizes=aN,this.size=null}get enabled(){return!!this.view}setSize(e){if(!this.sizes.includes(e))throw new Error('Size "'+e+'" is not supported by view. Supported: ["'+this.sizes.join('", "')+'"]');this.size=e}}).prototype,"view",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nN=sN(eN.prototype,"props",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),iN=sN(eN.prototype,"size",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sN(eN.prototype,"setConfig",[ht],Object.getOwnPropertyDescriptor(eN.prototype,"setConfig"),eN.prototype),sN(eN.prototype,"clearConfig",[ht],Object.getOwnPropertyDescriptor(eN.prototype,"clearConfig"),eN.prototype),sN(eN.prototype,"enabled",[ge],Object.getOwnPropertyDescriptor(eN.prototype,"enabled"),eN.prototype),sN(eN.prototype,"setSize",[ht],Object.getOwnPropertyDescriptor(eN.prototype,"setSize"),eN.prototype),eN),uN=new class{constructor(){this.disabledSidebars=[],this.clear()}clear(){this.sidebars={}}has(e){return!!this.sidebars[e]}add(e,t){if(e in this.sidebars)throw new Error('The key "'+e+'" has already been used for another sidebar component');this.sidebars[e]=t}get(e){if(!(e in this.sidebars))throw new Error('The sidebar component with the key "'+e+'" is not defined. You probably forgot to add it to the store using the "add" method.');return this.sidebars[e]}disable(e){this.disabledSidebars.push(e)}isDisabled(e){return this.disabledSidebars.indexOf(e)>-1}};function dN(e,t){return`${e}(${function(e){return"string"==typeof e.displayName?e.displayName:"string"==typeof e.name?e.name:""}(t)})`}var hN=Br(lN=class extends u.Component{render(){if(!cN.view||uN.isDisabled(cN.view))return null;const e=uN.get(cN.view),{className:t}=this.props,n=eo()("sidebar--xaqt6HgtiH",t);return u.createElement("aside",{className:n},u.createElement(e,cN.props))}})||lN,pN={light:"light--XOmuRH5LfG",active:"active--ur2F_qVmiK",dark:"dark--EMuGT7Vmcr",button:"button--E58sdRblQx",small:"small--reLFw0vic7","dropdown-icon":"dropdown-icon--NTNpHsvHub",dropdownIcon:"dropdown-icon--NTNpHsvHub",primary:"primary--zzyRXbU2vr",success:"success--ZN_bRIW_8B",icon:"icon--QdAVb4AZIt",label:"label--OwICMDKFn7",loader:"loader--yCw55hqhsn"};class fN extends u.PureComponent{constructor(...e){super(...e),this.handleOnClick=()=>{this.props.onClick()},this.setButtonRef=e=>{const{buttonRef:t}=this.props;t&&e&&t(e)}}render(){const{active:e,disabled:t,label:n,loading:i,hasOptions:r,icon:o,primary:s,size:a,showText:l,skin:c,success:d}=this.props,h=eo()(pN.button,{[pN.active]:e,[pN[a]]:a,[pN[c]]:c,[pN.primary]:s,[pN.success]:d}),p=this.props.children||n;return u.createElement("button",{className:h,disabled:t,onClick:this.handleOnClick,ref:this.setButtonRef,type:"button"},i&&u.createElement(ao,{className:pN.loader,size:20}),o&&u.createElement(ro,{className:pN.icon,name:o}),p&&l&&u.createElement("span",{className:pN.label},p),r&&u.createElement(ro,{className:pN.dropdownIcon,name:"su-angle-down"}))}}fN.defaultProps={active:!1,disabled:!1,hasOptions:!1,primary:!1,showText:!0,success:!1};var mN={controls:"controls--CGY56mZx_8",grow:"grow--x9fUXaV2xn"};class gN extends u.PureComponent{static createChildren(e,t){return u.Children.map(e,(e=>{if(e)return u.cloneElement(e,{...e.props,skin:t})}))}render(){const{children:e,grow:t,skin:n}=this.props,i=eo()(mN.controls,mN[n],{[mN.grow]:t});return u.createElement("div",{className:i},gN.createChildren(e,n))}}gN.defaultProps={grow:!1,skin:"light"};var bN,yN,vN,_N,wN,kN,CN,EN,xN={popover:"popover--g7SlMBC_2a","content-container":"content-container--eff8UQplWi",contentContainer:"content-container--eff8UQplWi",light:"light--j1nf1HMrtz",dark:"dark--bTEXFSOI_6"};function SN(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function ON(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var TN=Br(((EN=class extends u.Component{constructor(...e){super(...e),SN(this,"open",vN,this),SN(this,"buttonRef",_N,this),SN(this,"setButtonRef",wN,this),SN(this,"close",kN,this),SN(this,"toggle",CN,this),this.handleButtonClick=()=>{this.toggle()},this.handlePopoverClose=()=>{this.close()}}componentDidUpdate(){const{disabled:e}=this.props;e&&this.close()}render(){const{children:e,className:t,icon:n,size:i,skin:r,label:o,disabled:s,loading:a,showText:l}=this.props,c=eo()(t,xN.popover,{[xN[i]]:i});return u.createElement("div",{className:c},u.createElement(fN,{active:this.open,buttonRef:this.setButtonRef,disabled:s,hasOptions:!0,icon:n,label:l?o:void 0,loading:a,onClick:this.handleButtonClick,size:i,skin:r}),u.createElement(jd,{anchorElement:this.buttonRef,onClose:this.handlePopoverClose,open:this.open},((t,n)=>u.createElement("div",{className:xN[r],ref:t,style:n},u.createElement("div",{className:xN.contentContainer},e(this.close))))))}}).defaultProps={showText:!0},vN=ON((yN=EN).prototype,"open",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_N=ON(yN.prototype,"buttonRef",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wN=ON(yN.prototype,"setButtonRef",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{e&&(this.buttonRef=e)}}}),kN=ON(yN.prototype,"close",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.open=!1}}}),CN=ON(yN.prototype,"toggle",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.open=!this.open}}}),bN=yN))||bN,MN={light:"light--zgBxx3Lc56",dark:"dark--sTXE7tOEmt",option:"option--ZlpMfpporU","is-selected":"is-selected--jyDVbhc15t",isSelected:"is-selected--jyDVbhc15t",small:"small--tI0ZOvfPZd","selected-icon":"selected-icon--mCuJvzECIB",selectedIcon:"selected-icon--mCuJvzECIB"};class PN extends u.PureComponent{constructor(...e){super(...e),this.handleOnClick=()=>{const{onClick:e}=this.props;e(this.props.value)}}render(){const{skin:e,size:t,label:n,selected:i,disabled:r}=this.props,o=eo()(MN.option,MN[e],{[MN[t]]:t,[MN.isSelected]:i});return u.createElement("li",{className:o},u.createElement("button",{disabled:r,onClick:this.handleOnClick,type:"button"},i&&u.createElement(ro,{className:MN.selectedIcon,name:"su-check"}),n))}}var DN,LN,AN={light:"light--FiXaBcn4WO",dark:"dark--fpRR9JShIs","option-list":"option-list--eaQ9tv5egz",optionList:"option-list--eaQ9tv5egz","is-open":"is-open--Fze8zkB6bs",isOpen:"is-open--Fze8zkB6bs",small:"small--lcR3U4jYbP"};class zN extends u.PureComponent{constructor(...e){super(...e),this.handleOptionClick=e=>{const{onClose:t,onOptionClick:n}=this.props;n&&n(e),t&&t()}}render(){const{size:e,value:t,options:n,skin:i}=this.props,r=eo()(AN.optionList,AN[i],{[AN[e]]:e});return u.createElement("ul",{className:r},n.map(((n,r)=>{const o=!!n.value&&n.value===t;return u.createElement(PN,{disabled:n.disabled,key:r,label:n.label,onClick:this.handleOptionClick,selected:o,size:e,skin:i,value:n})})))}}var IN,RN,jN,NN,FN,YN,BN=Br(((LN=class extends u.Component{constructor(...e){super(...e),this.handleOptionListClick=e=>{e.onClick&&e.onClick()}}render(){const{icon:e,size:t,skin:n,label:i,options:r,disabled:o,loading:s,showText:a}=this.props,l=r.every((e=>e.disabled));return u.createElement(TN,{disabled:o||l,icon:e,label:a?i:void 0,loading:s,size:t,skin:n},(e=>u.createElement(zN,{onClose:e,onOptionClick:this.handleOptionListClick,options:r,skin:n})))}}).defaultProps={showText:!0},DN=LN))||DN,HN={light:"light--GScQUBkJgt",dark:"dark--HnQ_G7Kmod","items-container":"items-container--l3hLn8sP7q",itemsContainer:"items-container--l3hLn8sP7q",items:"items--U2ZvgingHG"};function VN(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function WN(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var UN,$N,qN,KN=Br(((YN=class extends u.Component{constructor(...e){super(...e),VN(this,"expandedWidth",jN,this),VN(this,"parentWidth",NN,this),this.setParentRef=e=>{this.parentRef=e},this.setChildRef=e=>{this.childRef=e},VN(this,"setDimensions",FN,this)}componentDidMount(){this.setDimensions(),this.resizeObserver=new ResizeObserver(ya()(this.setDimensions,200)),this.parentRef&&this.resizeObserver.observe(this.parentRef)}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}componentDidUpdate(){this.parentRef&&this.parentWidth!==this.parentRef.offsetWidth&&(this.parentWidth=this.parentRef.offsetWidth),this.childRef&&this.showText&&this.expandedWidth!==this.childRef.offsetWidth&&(this.expandedWidth=this.childRef.offsetWidth)}get showText(){return this.parentWidth>=this.expandedWidth}render(){const{skin:e,children:t}=this.props,n=eo()(HN.items,HN[e]);return u.createElement("div",{className:HN.itemsContainer,ref:this.setParentRef},u.createElement("ul",{className:n,ref:this.setChildRef},t&&u.Children.map(t,((t,n)=>t&&u.createElement("li",{key:n},u.cloneElement(t,{...t.props,showText:this.showText,skin:e}))))))}}).defaultProps={skin:"light"},jN=WN((RN=YN).prototype,"expandedWidth",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),NN=WN(RN.prototype,"parentWidth",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),WN(RN.prototype,"componentDidUpdate",[ht],Object.getOwnPropertyDescriptor(RN.prototype,"componentDidUpdate"),RN.prototype),FN=WN(RN.prototype,"setDimensions",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{parentRef:e,childRef:t}=this;t&&(this.showText||t.offsetWidth>this.expandedWidth)&&(this.expandedWidth=t.offsetWidth),e&&(this.parentWidth=e.offsetWidth)}}}),WN(RN.prototype,"showText",[ge],Object.getOwnPropertyDescriptor(RN.prototype,"showText"),RN.prototype),IN=RN))||IN,GN={toolbar:"toolbar--U1FTxtltnw",light:"light--dqBmT619CL",dark:"dark--b9vQrbwL4v",controls:"controls--_JMAxOHBuw",icons:"icons--zkEOtgv3vW",icon:"icon--bD44ENXn1G"};class ZN extends u.PureComponent{render(){const{skin:e,children:t}=this.props,n=eo()(GN.icons,GN[e]);return u.createElement("div",{className:n},u.Children.map(t,(e=>u.createElement("div",{className:GN.icon},e))))}}ZN.defaultProps={skin:"light"};class JN extends u.Component{render(){const{disabled:e,label:t,loading:n,onClick:i,skin:r,value:o}=this.props;return u.createElement(fN,{disabled:e,loading:n,onClick:i,skin:r},u.createElement(Nv,{checked:o,onChange:i},t))}}let XN=Br(((qN=class extends u.Component{constructor(...e){super(...e),this.handleOptionClick=e=>{this.props.onChange(e.value)}}get selectedOption(){return this.props.options.find((e=>e.value===this.props.value))}render(){const{className:e,disabled:t,icon:n,label:i,loading:r,options:o,showText:s,size:a,skin:l,value:c}=this.props,d=this.selectedOption?this.selectedOption.label:i;return u.createElement(TN,{className:e,disabled:t,icon:n,label:s?d:void 0,loading:r,size:a,skin:l},(e=>u.createElement(zN,{onClose:e,onOptionClick:this.handleOptionClick,options:o,size:a,skin:l,value:c})))}}).defaultProps={showText:!0},function(e,t,n,i,r){var o={};Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}(($N=qN).prototype,"selectedOption",[ge],Object.getOwnPropertyDescriptor($N.prototype,"selectedOption"),$N.prototype),UN=$N))||UN;var QN=XN,eF={toolbar:"toolbar--Fys3CDqffy",light:"light--VHYg0BN6FH",dark:"dark--guTltoIrGG",controls:"controls--R3BzidIAOU"};class tF extends u.PureComponent{static createChildren(e,t){return u.Children.map(e,(e=>e?u.cloneElement(e,{...e.props,skin:t}):null))}render(){const{children:e,skin:t}=this.props,n=eo()(eF.toolbar,eF[t]);return u.createElement("nav",{className:n},tF.createChildren(e,t))}}tF.defaultProps={skin:"light"},tF.Button=fN,tF.Controls=gN,tF.Dropdown=BN,tF.Icons=ZN,tF.Items=KN,tF.Popover=TN,tF.Select=QN,tF.Toggler=JN;var nF,iF,rF=tF;function oF(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let sF=(nF=class{constructor(){!function(e,t,n,i){n&&Object.defineProperty(e,"config",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}(this,0,iF,this),this.showSuccessDisposer=ft((()=>{const{showSuccess:e}=this.config;e&&e.get()&&setTimeout(ht((()=>{e.set(!1)})),1500)}))}destroy(){this.clearConfig(),this.showSuccessDisposer()}setConfig(e){this.config=e}clearConfig(){this.config={}}get disableAll(){return!!this.config.disableAll}get errors(){return this.config.errors?this.config.errors:[]}get warnings(){return this.config.warnings?this.config.warnings:[]}get showSuccess(){return!!this.config.showSuccess&&this.config.showSuccess.get()}hasBackButtonConfig(){return c().warn('The "hasBackButtonConfig" method is deprecated since 2.1 and will be removed. Use the "getBackButtonConfig" method instead.'),!!this.config.backButton}getBackButtonConfig(){return this.config.backButton||null}hasItemsConfig(){return c().warn('The "hasItemsConfig" method is deprecated since 2.1 and will be removed. Use the "getItemsConfig" method instead.'),!!this.config.items&&!!this.config.items.length}getItemsConfig(){return this.config.items||[]}hasIconsConfig(){return c().warn('The "hasIconsConfig" method is deprecated since 2.1 and will be removed. Use the "getIconsConfig" method instead.'),!!this.config.icons&&!!this.config.icons.length}getIconsConfig(){return this.config.icons||[]}hasLocaleConfig(){return c().warn('The "hasLocaleConfig" method is deprecated since 2.1 and will be removed. Use the "getLocaleConfig" method instead.'),!!this.config.locale}getLocaleConfig(){return this.config.locale}},iF=oF(nF.prototype,"config",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),oF(nF.prototype,"setConfig",[ht],Object.getOwnPropertyDescriptor(nF.prototype,"setConfig"),nF.prototype),oF(nF.prototype,"clearConfig",[ht],Object.getOwnPropertyDescriptor(nF.prototype,"clearConfig"),nF.prototype),oF(nF.prototype,"disableAll",[ge],Object.getOwnPropertyDescriptor(nF.prototype,"disableAll"),nF.prototype),oF(nF.prototype,"errors",[ge],Object.getOwnPropertyDescriptor(nF.prototype,"errors"),nF.prototype),oF(nF.prototype,"warnings",[ge],Object.getOwnPropertyDescriptor(nF.prototype,"warnings"),nF.prototype),oF(nF.prototype,"showSuccess",[ge],Object.getOwnPropertyDescriptor(nF.prototype,"showSuccess"),nF.prototype),nF);const aF="default";var lF,cF,uF,dF,hF=new class{constructor(){this.stores={},this.createStore=e=>{if(this.hasStore(e))throw new Error('The store with the key "'+e+'" already exists.');const t=new sF;return this.stores[e]=t,t},this.destroyStore=e=>{if(!this.hasStore(e))throw new Error('The store you want to destroy with the key "'+e+'" does not exist!');this.stores[e].destroy(),this.stores[e]=null},this.hasStore=e=>!!this.stores[e],this.getStore=e=>{if(!this.hasStore(e))throw new Error('Store with the key "'+e+'" not found! Calling "withToolbar" before initializing the "Toolbar" component can be a cause for this error.');return this.stores[e]},this.setToolbarConfig=(e,t)=>{this.getStore(e).setConfig(t)}}};function pF(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function fF(){return fF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},fF.apply(this,arguments)}const mF="su-check";let gF=Br((dF=class extends u.Component{constructor(e){super(e),this.setStore=(e=aF)=>{hF.hasStore(e)?this.toolbarStore=hF.getStore(e):this.toolbarStore=hF.createStore(e)},function(e,t,n,i){n&&Object.defineProperty(e,"handleErrorSnackbarCloseClick",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}(this,0,uF,this),this.setStore(this.props.storeKey)}componentDidUpdate(e){e.storeKey&&this.setStore(e.storeKey)}get disableAllButtons(){const e=this.toolbarStore.getItemsConfig().filter((e=>e.loading));return this.toolbarStore.disableAll||e.length>0}get backButtonConfig(){const e=this.toolbarStore.getBackButtonConfig();if(e)return this.disableAllButtons&&(e.disabled=!0),e}get itemsConfig(){const e=this.toolbarStore.getItemsConfig();return this.disableAllButtons&&e.forEach((e=>{e.disabled=!0})),e}render(){const{onNavigationButtonClick:e,navigationOpen:t}=this.props,{errors:n,showSuccess:i,warnings:r}=this.toolbarStore,o=this.toolbarStore.getIconsConfig(),s=this.toolbarStore.getItemsConfig(),a=this.toolbarStore.getLocaleConfig();return u.createElement(u.Fragment,null,u.createElement(nd,{message:n[n.length-1],onCloseClick:this.handleErrorSnackbarCloseClick,type:"error",visible:n.length>0}),u.createElement(nd,{message:r[r.length-1],type:"warning",visible:r.length>0}),u.createElement(rF,null,u.createElement(rF.Controls,{grow:!0},!!e&&u.createElement(rF.Button,{disabled:!e,icon:i?mF:t?"su-times":"su-bars",onClick:e,primary:!0,success:i}),!!this.backButtonConfig&&u.createElement(rF.Button,fF({},this.backButtonConfig,{icon:!e&&i?mF:"su-angle-left",success:!e&&i})),s.length>0&&u.createElement(rF.Items,null,this.itemsConfig.map(((e,t)=>function(e,t){switch(e.type){case"select":const{type:n,...i}=e;return u.createElement(rF.Select,fF({},i,{key:t}));case"dropdown":const{type:r,...o}=e;return u.createElement(rF.Dropdown,fF({},o,{key:t}));case"toggler":const{type:s,...a}=e;return u.createElement(rF.Toggler,fF({},a,{key:t}));default:const{type:l,...c}=e;return u.createElement(rF.Button,fF({},c,{key:t}))}}(e,t))))),u.createElement(rF.Controls,null,o.length>0&&u.createElement(rF.Icons,null,o.map((e=>Mt(e)))),!!a&&u.createElement(rF.Select,fF({className:"locale--gTPwwbWg0O",size:"small"},a)))))}},dF.defaultProps={navigationOpen:!1},uF=pF((cF=dF).prototype,"handleErrorSnackbarCloseClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.toolbarStore.errors.pop()}}}),pF(cF.prototype,"disableAllButtons",[ge],Object.getOwnPropertyDescriptor(cF.prototype,"disableAllButtons"),cF.prototype),pF(cF.prototype,"backButtonConfig",[ge],Object.getOwnPropertyDescriptor(cF.prototype,"backButtonConfig"),cF.prototype),pF(cF.prototype,"itemsConfig",[ge],Object.getOwnPropertyDescriptor(cF.prototype,"itemsConfig"),cF.prototype),lF=cF))||lF;function bF(e,t,n=aF){const i=class extends e{componentDidMount(){super.componentDidMount&&super.componentDidMount();const{router:e}=this.props,r=ft((()=>{const e=t.call(this);hF.setToolbarConfig(n,e),c().info((i.displayName||"")+' configured toolbar "'+n+'"',e)}));this.updateRouteHookDisposer=e.addUpdateRouteHook(((t,n)=>{const{attributes:i,route:o}=e;return Li(t,n)!==Li(o,i)&&r(),!0}),1024)}componentWillUnmount(){super.componentWillUnmount&&super.componentWillUnmount(),this.updateRouteHookDisposer(),hF.setToolbarConfig(n,{})}};return i.displayName=dN("withToolbar",e),i}var yF=gF,vF=new class{constructor(){this.clear()}clear(){this.views={},this.viewConfigs={}}add(e,t,n){if(e in this.views)throw new Error('The key "'+e+'" has already been used for another view');this.views[e]=t,this.viewConfigs[e]=n||{}}get(e){if(e in this.views)return this.views[e];throw new Error('There is not view for the key "'+e+'" registered')}getConfig(e){if(e in this.viewConfigs)return this.viewConfigs[e];throw new Error('There is not view config for the key "'+e+'" registered')}};const _F=function(e,t){const n=e.parent?_F(e.parent,t):{},i=vF.get(e.type);if("function"==typeof i.getDerivedRouteAttributes){const r=i.getDerivedRouteAttributes(e,{...n,...t});return{...n,...r}}return n};var wF=_F;class kF extends u.Component{render(){const{children:e}=this.props;return u.createElement("div",{className:"view--avRl_fjefr"},e)}}var CF,EF,xF,SF=kF;let OF=Br((EF=class extends u.Component{constructor(...e){super(...e),function(e,t,n,i){n&&Object.defineProperty(e,"loginCount",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}(this,0,xF,this)}componentDidMount(){const{router:e}=this.props;e.addUpdateRouteHook(((t,n)=>{const{attributes:i,route:r}=e;return Li(t,n)!==Li(r,i)&&e.clearBindings(),!0}),1024),this.updateLoginCountDisposer=bt((()=>sl.loggedIn),(e=>{e&&(this.loginCount=this.loginCount+1)}))}componentWillUnmount(){this.updateLoginCountDisposer&&this.updateLoginCountDisposer()}renderView(e,t=null){const{router:n}=this.props,i=vF.get(e.type),r=vF.getConfig(e.type);let o=Li(e,n.attributes)||"";i.remountViewOnLogin&&(o=o+"__"+this.loginCount);const s=u.createElement(i,{isRootView:!e.parent,key:o,route:e,router:n},(e=>t?u.cloneElement(t,e):null));return e.parent?this.renderView(e.parent,s):r.disableDefaultSpacing?s:u.createElement(SF,null,s)}render(){return this.renderView(this.props.router.route)}},xF=function(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),void 0===(o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o)).initializer&&(Object.defineProperty(e,t,o),o=null),o}(EF.prototype,"loginCount",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),CF=EF))||CF;var TF,MF,PF,DF,LF=OF,AF=Br(TF=class extends u.Component{render(){const{children:e,className:t}=this.props;return u.createElement(Bu,null,u.createElement("div",{className:eo()("container--llFhQ57toZ",t)},e))}})||TF;function zF(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let IF=(MF=ue.shallow,PF=class{constructor(){!function(e,t,n,i){n&&Object.defineProperty(e,"messages",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}(this,0,DF,this),this.timeouts=[]}add(e,t=null){this.messages.push(e),this.timeouts.push(null),t&&(this.timeouts[this.messages.length-1]=setTimeout((()=>{this.remove(e)}),t))}remove(e){const t=this.messages.indexOf(e);-1!==t&&(this.timeouts[t]&&clearTimeout(this.timeouts[t]),this.timeouts.splice(t,1),this.messages.splice(t,1))}clear(){this.messages=[],this.timeouts.forEach((e=>{clearTimeout(e)})),this.timeouts=[]}},DF=zF(PF.prototype,"messages",[MF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),zF(PF.prototype,"add",[ht],Object.getOwnPropertyDescriptor(PF.prototype,"add"),PF.prototype),zF(PF.prototype,"remove",[ht],Object.getOwnPropertyDescriptor(PF.prototype,"remove"),PF.prototype),zF(PF.prototype,"clear",[ht],Object.getOwnPropertyDescriptor(PF.prototype,"clear"),PF.prototype),PF);var RF,jF,NF,FF,YF=new IF,BF={loader:"loader--WVNUxKiMVk",root:"root--yprcVJMy76",visible:"visible--c63Qy6AX9w","navigation-visible":"navigation-visible--KEjKTK8W2e",navigationVisible:"navigation-visible--KEjKTK8W2e",content:"content--w2WPubCvf6","with-pinned-navigation":"with-pinned-navigation--Mo_nFbTzY3",withPinnedNavigation:"with-pinned-navigation--Mo_nFbTzY3","with-sidebar":"with-sidebar--Gdc54K2Bh6",withSidebar:"with-sidebar--Gdc54K2Bh6","view-container":"view-container--DhFoKH_e5W",viewContainer:"view-container--DhFoKH_e5W",main:"main--cZFPoutDs7",sidebar:"sidebar--HGegWXNSNw",small:"small--ogNUZneGKG",medium:"medium--OMn0f9vqfL",large:"large--wrAH9nIxnA",snackbar:"snackbar--eNKdJzgVgD",isNavigationVisible:"isNavigationVisible--lpvwD29KBj",isNavigationPinned:"isNavigationPinned--qR2DmaLmi_",navigation:"navigation--iAmfbvPdGK"};function HF(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function VF(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const WF="sulu_admin.application.navigation_pinned";let UF=Br((jF=class extends u.Component{openProfileFormOverlay(){this.openedProfileFormOverlay=!0}closeProfileFormOverlay(){this.openedProfileFormOverlay=!1}get navigationPinned(){return"pinned"===this.navigationState}get navigationVisible(){return this.navigationPinned||"visible"===this.navigationState}setNavigationState(e){this.navigationState=e}set navigationPinned(e){this.setNavigationState(e?"pinned":"hidden")}set navigationVisible(e){this.navigationPinned?c().warn("Changing the visibility of the navigation is not allowed while navigation is pinned!"):this.setNavigationState(e?"visible":"hidden")}constructor(e){super(e),HF(this,"openedProfileFormOverlay",NF,this),HF(this,"navigationState",FF,this),this.handleNavigationButtonClick=()=>{this.toggleNavigation()},this.handlePinToggle=()=>{this.toggleNavigationPinned()},this.handleNavigate=()=>{this.navigationPinned||this.toggleNavigation()},this.handleLoginSuccess=()=>{this.props.router.reload()},this.handleLogout=()=>{sl.logout().then((()=>{this.navigationVisible&&!this.navigationPinned&&this.toggleNavigation()}))},this.handleProfileOverlayClose=()=>{this.closeProfileFormOverlay()},this.handleProfileEditClick=()=>{this.openProfileFormOverlay()},this.navigationPinnedDisposer=ft((()=>this.navigationPinned=sl.getPersistentSetting(WF)))}componentWillUnmount(){this.navigationPinnedDisposer()}toggleNavigation(){this.navigationVisible=!this.navigationVisible}toggleNavigationPinned(){this.navigationPinned=!this.navigationPinned,sl.setPersistentSetting(WF,this.navigationPinned)}render(){const{appVersion:e,router:t,suluVersion:n}=this.props,{loggedIn:i}=sl,r=eo()(BF.root,{[BF.visible]:i,[BF.navigationVisible]:this.navigationVisible,[BF.navigationPinned]:this.navigationPinned}),o=eo()(BF.sidebar,{[BF[cN.size]]:cN.size}),s=eo()(BF.snackbar,{[BF.isNavigationVisible]:this.navigationVisible,[BF.isNavigationPinned]:this.navigationPinned,[BF[cN.size]]:cN.size}),a=eo()(BF.content,{[BF.withSidebar]:cN.view,[BF.withPinnedNavigation]:this.navigationPinned});return u.createElement(u.Fragment,null,!i&&u.createElement(Mu,{backLink:"/",initialized:!Na.loading&&!!Na.initializedTranslationsLocale,onLoginSuccess:this.handleLoginSuccess,router:t}),Na.initialized&&Na.initializedTranslationsLocale?u.createElement(u.Fragment,null,u.createElement("div",{className:r},u.createElement("nav",{className:BF.navigation},u.createElement(pl,{appVersion:e,onLogout:this.handleLogout,onNavigate:this.handleNavigate,onPinToggle:this.handlePinToggle,onProfileClick:this.handleProfileEditClick,pinned:this.navigationPinned,router:t,suluVersion:n})),u.createElement("div",{className:a},u.createElement("main",{className:BF.main},u.createElement("div",{className:BF.viewContainer},t.route&&u.createElement(LF,{router:t})),u.createElement("header",null,u.createElement(yF,{navigationOpen:this.navigationVisible,onNavigationButtonClick:this.navigationPinned?void 0:this.handleNavigationButtonClick}))),u.createElement(hN,{className:o}),this.navigationVisible&&!this.navigationPinned&&u.createElement(ml,{fixed:!1,onClick:this.handleNavigationButtonClick,visible:!1}))),u.createElement(rN,{onClose:this.handleProfileOverlayClose,open:this.openedProfileFormOverlay}),YF.messages.length?u.createElement(AF,{className:s},YF.messages.map(((e,t)=>u.createElement(nd,{icon:e.icon,key:t,message:e.text,skin:"floating",type:e.type})))):null):u.createElement("div",{className:BF.loader},u.createElement(ao,null)))}},NF=VF(jF.prototype,"openedProfileFormOverlay",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),VF(jF.prototype,"openProfileFormOverlay",[ht],Object.getOwnPropertyDescriptor(jF.prototype,"openProfileFormOverlay"),jF.prototype),VF(jF.prototype,"closeProfileFormOverlay",[ht],Object.getOwnPropertyDescriptor(jF.prototype,"closeProfileFormOverlay"),jF.prototype),FF=VF(jF.prototype,"navigationState",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),VF(jF.prototype,"navigationPinned",[ge],Object.getOwnPropertyDescriptor(jF.prototype,"navigationPinned"),jF.prototype),VF(jF.prototype,"navigationVisible",[ge],Object.getOwnPropertyDescriptor(jF.prototype,"navigationVisible"),jF.prototype),VF(jF.prototype,"setNavigationState",[ht],Object.getOwnPropertyDescriptor(jF.prototype,"setNavigationState"),jF.prototype),RF=jF))||RF;var $F,qF,KF,GF=UF;let ZF=(KF=class e{constructor(e,t){this.destroyed=!1,function(e,t,n,i){n&&Object.defineProperty(e,"collaborations",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}(this,0,qF,this),this.resourceKey=e,this.id=t,this.sendRequest()}sendRequest(){e.enabled&&!this.destroyed&&La.put("collaborations",null,{id:this.id,resourceKey:this.resourceKey}).then(ht((t=>{this.collaborations.splice(0,this.collaborations.length),this.collaborations.push(...t._embedded.collaborations),setTimeout((()=>this.sendRequest()),e.interval)})))}destroy(){e.enabled&&!this.destroyed&&(this.destroyed=!0,La.delete("collaborations",{id:this.id,resourceKey:this.resourceKey}))}},KF.enabled=!0,qF=function(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),void 0===(o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o)).initializer&&(Object.defineProperty(e,t,o),o=null),o}(($F=KF).prototype,"collaborations",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$F);var JF=ZF,XF={tab:"tab--Fe_pOYFsqM",selected:"selected--QWIBPkKIJd",hidden:"hidden--en6dIJ6sVb",inline:"inline--fvHpoATCXC",badges:"badges--CAnPwg0Tt_"};class QF extends u.PureComponent{constructor(...e){super(...e),this.setTabRef=e=>{const{index:t,tabRef:n}=this.props;n&&n(t,e)},this.handleClick=()=>{const{index:e,onClick:t}=this.props;t&&t(e)}}render(){const{badges:e,children:t,hidden:n,type:i,selected:r}=this.props,o=eo()(XF.tab,XF[i],{[XF.hidden]:n,[XF.selected]:r});return u.createElement("li",{className:o,ref:this.setTabRef},u.createElement("button",{disabled:r,onClick:this.handleClick,title:t,type:"button"},t,!!e&&!!e.length&&u.createElement("div",{className:XF.badges},e)))}}QF.defaultProps={badges:[],hidden:!1,selected:!1};var eY=QF;class tY extends u.PureComponent{constructor(...e){super(...e),this.handleClick=()=>{const{index:e,onClick:t}=this.props;t(e)}}render(){const{children:e}=this.props;return u.createElement("li",{className:"collapsed-tab--QUhaUTUnyb"},u.createElement("button",{onClick:this.handleClick,title:e,type:"button"},e))}}var nY={"collapsed-tab-list":"collapsed-tab-list--f9AyU0R4IJ",collapsedTabList:"collapsed-tab-list--f9AyU0R4IJ",root:"root--JtK3A7v_cK",inline:"inline--pFVNvjtkd5"};class iY extends u.PureComponent{render(){const{children:e,type:t}=this.props,n=eo()(nY.collapsedTabList,nY[t]);return u.createElement("ul",{className:n},e)}}var rY,oY,sY,aY,lY,cY,uY,dY,hY,pY,fY,mY,gY,bY,yY,vY,_Y,wY,kY={tabs:"tabs--f0vpsGxpHs",inline:"inline--ctZyLdmWY1",nested:"nested--jaxbZfjhXH","tabs-container-wrapper":"tabs-container-wrapper--XTdMfxA1jg",tabsContainerWrapper:"tabs-container-wrapper--XTdMfxA1jg",button:"button--gNxTJCFoHA","tabs-container":"tabs-container--KQ9Kp6jpny",tabsContainer:"tabs-container--KQ9Kp6jpny"};function CY(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function EY(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let xY=Br((wY=class extends u.Component{constructor(...e){super(...e),CY(this,"tabsWidth",sY,this),CY(this,"tabsContainerWrapperWidth",aY,this),CY(this,"tabsContainerWidth",lY,this),CY(this,"tabWidths",cY,this),CY(this,"tabRefs",uY,this),CY(this,"dropdownOpen",dY,this),CY(this,"lastSelectedIndex",hY,this),this.setTabsRef=e=>{this.tabsRef=e},this.setTabsContainerWrapperRef=e=>{this.tabsContainerWrapperRef=e},this.setTabsContainerRef=e=>{this.tabsContainerRef=e},this.setDropdownButtonRef=e=>{this.dropdownButtonRef=e},CY(this,"setTabsWidth",pY,this),CY(this,"setTabsContainerWrapperWidth",fY,this),CY(this,"setTabsContainerWidth",mY,this),CY(this,"updateTabWidths",gY,this),this.setDimensions=()=>{this.setTabsWidth(),this.setTabsContainerWrapperWidth(),this.setTabsContainerWidth(),this.updateTabWidths()},CY(this,"setTabRef",bY,this),CY(this,"handleDropdownToggle",yY,this),CY(this,"handleDropdownClose",vY,this),this.changeTab=e=>{null!=e&&this.props.onSelect(e)},this.handleTabClick=e=>{this.changeTab(e)},CY(this,"handleCollapsedTabClick",_Y,this),this.createTabs=()=>{const{children:e}=this.props,{visibleTabIndices:t,collapsedTabIndices:n}=this;return[...this.createTabItems(u.Children.toArray(e).filter(((e,n)=>t.includes(n))),t,!1),...this.createTabItems(u.Children.toArray(e).filter(((e,t)=>n.includes(t))),n,!0)]},this.createCollapsedTabs=()=>{const{children:e}=this.props,{collapsedTabIndices:t}=this;return this.createCollapsedTabItems(u.Children.toArray(e).filter(((e,n)=>t.includes(n))),t)}}componentDidMount(){this.setDimensions(),this.resizeObserver=new ResizeObserver(ya()(this.setDimensions,200)),this.tabsContainerWrapperRef&&this.resizeObserver.observe(this.tabsContainerWrapperRef),this.tabsContainerRef&&this.resizeObserver.observe(this.tabsContainerRef)}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}isSelected(e){return e===this.props.selectedIndex}get childIndices(){const{children:e}=this.props;return u.Children.map(e,((e,t)=>t))}get visibleTabIndices(){if(this.tabsContainerWidth<=this.tabsWidth)return this.childIndices;const{selectedIndex:e}=this.props;let t=0,n=[];const i=this.childIndices;i.sort(((t,n)=>t===e?-1:n===e?1:t===this.lastSelectedIndex?-1:n===this.lastSelectedIndex?1:t-n));for(const e of i){const i=this.tabWidths.get(e);if(void 0===i){if(n.length>0)break;return this.childIndices}if(t+i>this.tabsContainerWrapperWidth)break;t+=i,n=[...n,e]}return n.sort(((e,t)=>e-t)),n}get collapsedTabIndices(){const e=this.visibleTabIndices;return this.childIndices.filter((t=>!e.includes(t)))}get hasCollapsedTabs(){return this.collapsedTabIndices.length>0}createTabItems(e,t,n){const{type:i}=this.props;return u.Children.map(e,((e,r)=>{const o=t[r];if(!e)return null;const s=this.isSelected(o);return u.cloneElement(e,{...e.props,hidden:n,index:o,selected:s,type:i,onClick:this.handleTabClick,tabRef:this.setTabRef})}))}createCollapsedTabItems(e,t){return u.Children.map(e,((e,n)=>{const i=t[n];return e?u.createElement(tY,{index:i,key:i,onClick:this.handleCollapsedTabClick},e.props.children):null}))}render(){const{type:e,className:t}=this.props,n=eo()(kY.tabs,kY[e],t);return u.createElement("div",{className:n,ref:this.setTabsRef},u.createElement("div",{className:kY.tabsContainerWrapper,ref:this.setTabsContainerWrapperRef},u.createElement("ul",{className:kY.tabsContainer,ref:this.setTabsContainerRef},this.createTabs())),this.hasCollapsedTabs&&u.createElement(u.Fragment,null,u.createElement("button",{className:kY.button,onClick:this.handleDropdownToggle,ref:this.setDropdownButtonRef,type:"button"},u.createElement(ro,{name:"su-more-horizontal"})),u.createElement(jd,{anchorElement:this.dropdownButtonRef||void 0,onClose:this.handleDropdownClose,open:this.dropdownOpen},((t,n)=>u.createElement("div",{ref:t,style:n},u.createElement(iY,{type:e},this.createCollapsedTabs()))))))}},wY.Tab=eY,sY=EY((oY=wY).prototype,"tabsWidth",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),aY=EY(oY.prototype,"tabsContainerWrapperWidth",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),lY=EY(oY.prototype,"tabsContainerWidth",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),cY=EY(oY.prototype,"tabWidths",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),uY=EY(oY.prototype,"tabRefs",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),dY=EY(oY.prototype,"dropdownOpen",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),hY=EY(oY.prototype,"lastSelectedIndex",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pY=EY(oY.prototype,"setTabsWidth",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{if(!this.tabsRef)return;const e=this.tabsRef.offsetWidth,t=window.getComputedStyle(this.tabsRef);this.tabsWidth!==e&&(this.tabsWidth=e-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight))}}}),fY=EY(oY.prototype,"setTabsContainerWrapperWidth",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{if(!this.tabsContainerWrapperRef)return;const e=this.tabsContainerWrapperRef.offsetWidth;this.tabsContainerWrapperWidth!==e&&(this.tabsContainerWrapperWidth=e)}}}),mY=EY(oY.prototype,"setTabsContainerWidth",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{if(!this.tabsContainerRef)return;const e=this.tabsContainerRef.offsetWidth;this.tabsContainerWidth!==e&&(this.tabsContainerWidth=e)}}}),gY=EY(oY.prototype,"updateTabWidths",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.tabRefs.forEach(((e,t)=>{if(!e)return;const n=e.offsetWidth;this.tabWidths.get(t)!==n&&this.tabWidths.set(t,n)}))}}}),bY=EY(oY.prototype,"setTabRef",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{this.tabRefs.get(e)!==t&&this.tabRefs.set(e,t)}}}),yY=EY(oY.prototype,"handleDropdownToggle",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.dropdownOpen=!this.dropdownOpen}}}),vY=EY(oY.prototype,"handleDropdownClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.dropdownOpen=!1}}}),_Y=EY(oY.prototype,"handleCollapsedTabClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.dropdownOpen=!1,this.lastSelectedIndex=e,this.changeTab(e)}}}),EY(oY.prototype,"visibleTabIndices",[ge],Object.getOwnPropertyDescriptor(oY.prototype,"visibleTabIndices"),oY.prototype),EY(oY.prototype,"collapsedTabIndices",[ge],Object.getOwnPropertyDescriptor(oY.prototype,"collapsedTabIndices"),oY.prototype),EY(oY.prototype,"hasCollapsedTabs",[ge],Object.getOwnPropertyDescriptor(oY.prototype,"hasCollapsedTabs"),oY.prototype),rY=oY))||rY;var SY=xY;class OY extends u.PureComponent{render(){const{children:e}=this.props;return u.createElement("div",{className:"badge--zQULBsVAaC"},e)}}var TY,MY,PY=OY;function DY(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let LY=(TY=class{constructor(e,t,n,i,r,o){!function(e,t,n,i){n&&Object.defineProperty(e,"value",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}(this,0,MY,this),this.load=ya()((()=>{this.isChildOrSameRoute&&ri.get(this.url).then((e=>{this.setData(e)}))}),3e3,!0),this.responseHook=(e,t)=>{t&&void 0!==t.method&&(e.url.includes(this.url)||e.url.includes("/admin/api/collaborations")||e.url.includes("/admin/preview/")||["POST","PUT","PATCH","DELETE"].includes(t.method.toUpperCase())&&this.load())},this.destroy=()=>{this.routeChangeDisposer(),ri.handleResponseHooks.includes(this.responseHook)&&ri.handleResponseHooks.splice(ri.handleResponseHooks.indexOf(this.responseHook),1)},this.router=e,this.routeName=t,this.dataPath=n,this.requestParameters=i,this.routerAttributesToRequest=r,this.tabViewRoute=o,this.load(),this.routeChangeDisposer=bt((()=>this.router.route),(()=>{this.load()})),ri.handleResponseHooks.includes(this.responseHook)||ri.handleResponseHooks.push(this.responseHook)}get evaluatedRequestParameters(){const{router:{attributes:e},requestParameters:t,routerAttributesToRequest:n}=this,i={};return Object.keys(n).forEach((t=>{const r=n[t],o=isNaN(t)?t:r;i[r]=e[o]})),{...i,...t}}get url(){const{routeName:e}=this;return Ca().generate(e,this.evaluatedRequestParameters)}setData(e){const{dataPath:t}=this;let n=e;t&&(n=Pc().get(e,t)),this.value=String(n)}get isChildOrSameRoute(){let e=this.router.route;for(;e!==this.tabViewRoute;){if(!e)return!1;e=e.parent}return!0}},MY=DY(TY.prototype,"value",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),DY(TY.prototype,"evaluatedRequestParameters",[ge],Object.getOwnPropertyDescriptor(TY.prototype,"evaluatedRequestParameters"),TY.prototype),DY(TY.prototype,"url",[ge],Object.getOwnPropertyDescriptor(TY.prototype,"url"),TY.prototype),DY(TY.prototype,"setData",[ht],Object.getOwnPropertyDescriptor(TY.prototype,"setData"),TY.prototype),DY(TY.prototype,"isChildOrSameRoute",[ge],Object.getOwnPropertyDescriptor(TY.prototype,"isChildOrSameRoute"),TY.prototype),TY);var AY,zY,IY;let RY=Br((IY=class extends u.Component{constructor(e){super(e);const{router:t,routeName:n,dataPath:i,requestParameters:r,routerAttributesToRequest:o,tabViewRoute:s}=this.props;this.store=new LY(t,n,i,r,o,s)}get badgeVisible(){const{props:{visibleCondition:e},store:{value:t}}=this;return!e||!!fh().evalSync(e,{value:t})}componentWillUnmount(){this.store.destroy()}render(){const{value:e}=this.store;return null!=e&&this.badgeVisible?u.createElement(PY,null,e):null}},IY.defaultProps={dataPath:null,requestParameters:{},routerAttributesToRequest:{},visibleCondition:null},function(e,t,n,i,r){var o={};Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}((zY=IY).prototype,"badgeVisible",[ge],Object.getOwnPropertyDescriptor(zY.prototype,"badgeVisible"),zY.prototype),AY=zY))||AY;var jY,NY,FY,YY=RY,BY={"tabs-container":"tabs-container--OT61XytA36",tabsContainer:"tabs-container--OT61XytA36",nested:"nested--r87I8kPb8O","disable-gap":"disable-gap--jc8dQwKlq0",disableGap:"disable-gap--jc8dQwKlq0"};function HY(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let VY=Br((FY=class extends u.Component{constructor(e){super(e),this.redirectToRouteWithHighestPriority=()=>{const{route:e,router:t}=this.props;(e.children.includes(t.route)||t.route===e)&&(this.sortedTabRoutes.includes(t.route)||this.tabRouteWithHighestPriority&&t.redirect(this.tabRouteWithHighestPriority.name,t.attributes))},this.handleSelect=e=>{const{route:t,router:n}=this.props,{options:{routerAttributesToBlacklist:i}}=t,r=i?Object.keys(n.attributes).filter((e=>!i.includes(e))).reduce(((e,t)=>(e[t]=n.attributes[t],e)),{}):n.attributes;n.navigate(this.sortedTabRoutes[e].name,r)},this.redirectToRouteWithHighestPriorityDisposer=ft(this.redirectToRouteWithHighestPriority)}componentWillUnmount(){this.redirectToRouteWithHighestPriorityDisposer()}get tabRouteWithHighestPriority(){return this.routeChildren.reduce(((e,t)=>{if(!e)return t;const{options:{tabPriority:n=0}}=e,{options:{tabPriority:i=0}}=t;return n>=i?e:t}),void 0)}get routeChildren(){const{route:e,routeChildren:t}=this.props;return t||e.children}get sortedTabRoutes(){return this.routeChildren.concat().sort(((e,t)=>{const{tabOrder:n=0}=e.options,{tabOrder:i=0}=t.options;return n-i}))}render(){const{children:e,childrenProps:t,header:n,router:i,route:r,selectedIndex:o,title:s,isRootView:a}=this.props,l=e?e(t):null,c=void 0!==o?o:l?this.sortedTabRoutes.findIndex((e=>e===l.props.route)):void 0,d=void 0!==c&&this.sortedTabRoutes[c]?.options?.disableTabGap,h=a||this.sortedTabRoutes.length>1,p=a?"root":"nested",f=eo()(BY.tabsContainer,BY[p],{[BY.disableGap]:d&&!a});return u.createElement(u.Fragment,null,s&&u.createElement("h1",null,s),u.createElement("div",{className:f},h&&u.createElement(SY,{onSelect:this.handleSelect,selectedIndex:c,type:p},this.sortedTabRoutes.map((e=>{const t=e.options.tabTitle,n=e.options.tabBadges||[],o=Object.values(n).map(((e,t)=>{if("object"!=typeof e)throw new Error(`The value of a badge entry must be an object,\n                                            but ${typeof e} was given!`);return u.createElement(YY,{dataPath:e.dataPath,key:t,requestParameters:e.requestParameters,routeName:e.routeName,router:i,routerAttributesToRequest:e.routerAttributesToRequest,tabViewRoute:r,visibleCondition:e.visibleCondition})}));return u.createElement(SY.Tab,{badges:o,key:e.name,type:p},t?Xs(t):e.name)})))),a?u.createElement(SF,null,n,l):u.createElement(u.Fragment,null,n,l))}},FY.defaultProps={childrenProps:{}},HY((NY=FY).prototype,"tabRouteWithHighestPriority",[ge],Object.getOwnPropertyDescriptor(NY.prototype,"tabRouteWithHighestPriority"),NY.prototype),HY(NY.prototype,"routeChildren",[ge],Object.getOwnPropertyDescriptor(NY.prototype,"routeChildren"),NY.prototype),HY(NY.prototype,"sortedTabRoutes",[ge],Object.getOwnPropertyDescriptor(NY.prototype,"sortedTabRoutes"),NY.prototype),jY=NY))||jY;var WY,UY,$Y,qY=VY;function KY(){return KY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},KY.apply(this,arguments)}function GY(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var ZY=(WY=ge.struct,Br((GY(($Y=class extends u.Component{get router(){return this.props.router}get route(){return this.props.route}get id(){const{router:{attributes:{id:e}}}=this.props;if(void 0!==e&&"string"!=typeof e&&"number"!=typeof e)throw new Error('The "id" router attribute must be a string or a number if given!');return e}get resourceKey(){const{route:{options:{resourceKey:e}}}=this.props;if(!e)throw new Error('The route does not define the mandatory "resourceKey" option');return e}constructor(e){super(e),this.createResourceStore=()=>{const e={};this.locales&&(e.locale=ue.box(),this.router.bind("locale",e.locale)),this.resourceStore&&this.resourceStore.destroy(),this.resourceStore=new Rc(this.resourceKey,this.id,e)},this.disposeCreateResourceStoreOnRouteChange=e=>(this.route.children.includes(e)||this.route===e||this.createResourceStoreDisposer(),!0),this.reloadResourceStoreOnRouteChange=(e,t)=>(t&&this.id!==t.id||this.router.route===this.route||this.router.route===e||(this.route.children.includes(e)||this.route===e)&&this.resourceStore.reload(),!0),this.createResourceStoreDisposer=ft(this.createResourceStore),this.disposeCreateResourceStoreOnRouteChangeDisposer=this.router.addUpdateRouteHook(this.disposeCreateResourceStoreOnRouteChange),this.reloadResourceStoreOnRouteChangeDisposer=this.router.addUpdateRouteHook(this.reloadResourceStoreOnRouteChange)}componentWillUnmount(){this.resourceStore.destroy(),this.reloadResourceStoreOnRouteChangeDisposer(),this.createResourceStoreDisposer(),this.disposeCreateResourceStoreOnRouteChangeDisposer()}get locales(){const{locales:e,route:{options:{locales:t}}}=this.props;return t||e}get title(){const{route:{options:{titleProperty:e}},titleProperty:t}=this.props;if(this.resourceStore.initialized||!this.resourceStore.loading)return this.resourceStore.data[t||e]}get sortedTabRoutes(){const{route:e}=this.props;return e.children.concat().sort(((e,t)=>{const{tabOrder:n=0}=e.options,{tabOrder:i=0}=t.options;return n-i}))}get visibleTabRoutes(){const e=Mt(this.resourceStore.data);return this.sortedTabRoutes.filter((t=>{const{options:{tabCondition:n}}=t;return!n||fh().evalSync(n,e)}))}render(){const{children:e}=this.props,t=e?e({locales:this.locales,resourceStore:this.resourceStore,title:this.title}):null,n=t?this.visibleTabRoutes.findIndex((e=>e===t.props.route)):void 0;return this.resourceStore.initialized?u.createElement(qY,KY({},this.props,{routeChildren:this.visibleTabRoutes,selectedIndex:n}),(()=>t)):u.createElement("div",{className:"loader--GyXoem6eiF"},u.createElement(ao,null))}}).prototype,"router",[ge],Object.getOwnPropertyDescriptor($Y.prototype,"router"),$Y.prototype),GY($Y.prototype,"route",[ge],Object.getOwnPropertyDescriptor($Y.prototype,"route"),$Y.prototype),GY($Y.prototype,"id",[ge],Object.getOwnPropertyDescriptor($Y.prototype,"id"),$Y.prototype),GY($Y.prototype,"resourceKey",[ge],Object.getOwnPropertyDescriptor($Y.prototype,"resourceKey"),$Y.prototype),GY($Y.prototype,"locales",[WY],Object.getOwnPropertyDescriptor($Y.prototype,"locales"),$Y.prototype),GY($Y.prototype,"title",[ge],Object.getOwnPropertyDescriptor($Y.prototype,"title"),$Y.prototype),GY($Y.prototype,"sortedTabRoutes",[ge],Object.getOwnPropertyDescriptor($Y.prototype,"sortedTabRoutes"),$Y.prototype),GY($Y.prototype,"visibleTabRoutes",[ge],Object.getOwnPropertyDescriptor($Y.prototype,"visibleTabRoutes"),$Y.prototype),UY=$Y))||UY);class JY{constructor(e,t,n,i,r,o){this.listStore=e,this.list=t,this.router=n,this.locales=i,this.resourceStore=r,this.options=o}setLocales(e){this.locales=e}getNode(){return null}getToolbarItemConfig(){throw new Error("The getToolbarItemConfig method must be implemented by the sub class!")}destroy(){}}var XY=new class{constructor(){this.toolbarActions={},this.clear()}clear(){this.toolbarActions={}}add(e,t){if(e in this.toolbarActions)throw new Error('The key "'+e+'" has already been used for another ToolbarAction!');this.toolbarActions[e]=t}get(e){if(!(e in this.toolbarActions))throw new Error('There is no toolbar item with key "'+e+'" registered!\n\nRegistered keys: '+Object.keys(this.toolbarActions).sort().join(", "));return this.toolbarActions[e]}};class QY{constructor(e,t,n,i,r,o){this.listStore=e,this.list=t,this.router=n,this.locales=i,this.resourceStore=r,this.options=o}setLocales(e){this.locales=e}getNode(){return null}getItemActionConfig(e){throw new Error("The getItemActionConfig method must be implemented by the sub class!")}}var eB,tB,nB,iB,rB,oB,sB,aB=new class{constructor(){this.listItemActions={},this.clear()}clear(){this.listItemActions={}}add(e,t){if(e in this.listItemActions)throw new Error('The key "'+e+'" has already been used for another ItemAction!');this.listItemActions[e]=t}get(e){if(!(e in this.listItemActions))throw new Error('There is no ItemAction with key "'+e+'" registered!\n\nRegistered keys: '+Object.keys(this.listItemActions).sort().join(", "));return this.listItemActions[e]}};function lB(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function cB(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const uB="list";let dB=Br((sB=class extends u.Component{static getDerivedRouteAttributes(e){const{options:{listKey:t,userSettingsKey:n=uB}}=e,i=ig.getLimitSetting(t,n);return{active:ig.getActiveSetting(t,n),filter:ig.getFilterSetting(t,n),sortColumn:ig.getSortColumnSetting(t,n),sortOrder:ig.getSortOrderSetting(t,n),limit:10===i?void 0:i}}get locales(){const{locales:e,router:{route:{options:{locales:t}}}}=this.props;return t||e}constructor(e){super(e),this.page=ue.box(),lB(this,"toolbarActions",nB,this),lB(this,"itemActions",iB,this),lB(this,"errors",rB,this),this.addItem=e=>{const{onItemAdd:t,router:n}=this.props,{route:{options:{addView:i}}}=n;t?t(e):n.navigate(i,{locale:this.locale.get(),parentId:e})},this.handleItemClick=e=>{const{onItemClick:t,router:n}=this.props,{route:{options:{editView:i}}}=n;t?t(e):n.navigate(i,{id:e,locale:this.locale.get()})},this.getItemActionConfigs=e=>this.itemActions.map((t=>t.getItemActionConfig(e))),this.requestSelectionDelete=(e=!0)=>{if(!this.list)throw new Error("List not created yet.");this.list.requestSelectionDelete(e)},this.reload=()=>{this.listStore.reload()},this.setListRef=e=>{this.list=e},lB(this,"handleDeleteError",oB,this);const{locale:t,router:n}=this.props,{attributes:i,route:{options:{adapters:r,requestParameters:o={},listKey:s,resourceKey:a,routerAttributesToListRequest:l={},resourceStorePropertiesToListRequest:c={},userSettingsKey:u=uB,routerAttributesToListMetadata:d={},resourceStorePropertiesToListMetadata:h={},metadataRequestParameters:p={}}}}=n;if(!a)throw new Error('The route does not define the mandatory "resourceKey" option');if(!s)throw new Error('The route does not define the mandatory "listKey" option');if(!r)throw new Error('The route does not define the mandatory "adapters" option');this.locale=t||ue.box();const f={};n.bind("page",this.page,1),f.page=this.page,this.locales&&(n.bind("locale",this.locale),f.locale=this.locale);const m=this.buildListStoreOptions(o,i,l,c,e.resourceStore),g=this.buildMetadataOptions(i,d,h,e.resourceStore,p);this.listStore=new ig(a,s,u,f,m,g),n.bind("active",this.listStore.active),n.bind("sortColumn",this.listStore.sortColumn),n.bind("sortOrder",this.listStore.sortOrder),n.bind("search",this.listStore.searchTerm),n.bind("limit",this.listStore.limit,10),n.bind("filter",this.listStore.filterOptions,{})}buildMetadataOptions(e,t,n,i,r){const o={...r};return t=Mt(t),Object.keys(t).forEach((n=>{const i=t[n],r=isNaN(n)?n:t[n];o[i]=e[r]})),n=Mt(n),Object.keys(n).forEach((e=>{const t=n[e],r=isNaN(e)?e:n[e];i&&i.data&&(o[t]=i.data[r])})),o}buildListStoreOptions(e,t,n,i,r){const o=e||{};return n=Mt(n),Object.keys(n).forEach((e=>{const i=n[e],r=isNaN(e)?e:n[e];o[i]=t[r]})),i=Mt(i),Object.keys(i).forEach((e=>{const t=i[e],n=isNaN(e)?e:i[e];r&&r.data&&(o[t]=r.data[n])})),o}componentDidMount(){const{resourceStore:e,router:t}=this.props,{route:{options:{locales:n,toolbarActions:i=[],itemActions:r=[]}}}=t;i.forEach((i=>{if("object"!=typeof i)throw new Error("The value of a toolbarAction entry must be an object, but "+typeof i+" was given!");this.toolbarActions.push(new(XY.get(i.type))(this.listStore,this,t,n,e,i.options))})),r.forEach((i=>{if("object"!=typeof i)throw new Error("The value of a itemAction entry must be an object, but "+typeof i+" was given!");this.itemActions.push(new(aB.get(i.type))(this.listStore,this,t,n,e,i.options))}))}componentDidUpdate(e){const{route:{options:{locales:t}}}=this.props.router,{route:{options:{prevLocales:n}}}=e.router;si()(t,n)||(this.toolbarActions.forEach((e=>{e.setLocales(t)})),this.itemActions.forEach((e=>{e.setLocales(t)})))}componentWillUnmount(){this.listStore.destroy(),this.toolbarActions.forEach((e=>e.destroy()))}render(){const{onItemAdd:e,onItemClick:t,router:{route:{options:{adapters:n,addView:i,editView:r,filterable:o,itemDisabledCondition:s,searchable:a,selectable:l,paginated:c,adapterOptions:d,hideColumnOptions:h,title:p}}},title:f}=this.props,m=p?Xs(p):f;return u.createElement(u.Fragment,null,u.createElement("div",{className:"list-container--vlDPR2mrK9"},u.createElement(GC,{adapterOptions:d,adapters:n,filterable:o,header:m&&u.createElement("h1",null,m),itemActionsProvider:this.getItemActionConfigs,itemDisabledCondition:s,onDeleteError:this.handleDeleteError,onItemAdd:e||i?this.addItem:void 0,onItemClick:t||r?this.handleItemClick:void 0,paginated:c,ref:this.setListRef,searchable:a,selectable:l,showColumnOptions:!h,store:this.listStore}),this.toolbarActions.map((e=>e.getNode())),this.itemActions.map((e=>e.getNode()))))}},sB.remountViewOnLogin=!0,nB=cB((tB=sB).prototype,"toolbarActions",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),iB=cB(tB.prototype,"itemActions",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rB=cB(tB.prototype,"errors",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),cB(tB.prototype,"locales",[ge],Object.getOwnPropertyDescriptor(tB.prototype,"locales"),tB.prototype),cB(tB.prototype,"componentDidMount",[ht],Object.getOwnPropertyDescriptor(tB.prototype,"componentDidMount"),tB.prototype),oB=cB(tB.prototype,"handleDeleteError",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const t=e?.detail||e?.title||Xs("sulu_admin.unexpected_delete_server_error");this.errors.push(t)}}}),eB=tB))||eB;var hB,pB,fB,mB,gB=bF(dB,(function(){const{errors:e}=this,{router:t}=this.props,{route:{options:{backView:n}}}=t;return{backButton:n?{onClick:()=>{const e={};this.locale&&(e.locale=this.locale.get()),t.restore(n,e)}}:void 0,errors:e,locale:this.locales?{value:this.locale.get(),onChange:ht((e=>{this.locale.set(e)})),options:this.locales.map((e=>({value:e,label:e})))}:void 0,items:this.toolbarActions.map((e=>e.getToolbarItemConfig())).filter((e=>null!=e))}}));class bB extends QY{constructor(...e){super(...e),this.handleDownloadClick=e=>{window.location.href=e}}getItemActionConfig(e){const{icon:t="su-link",link_property:n}=this.options;if("string"!=typeof t)throw new Error('The "icon" option cannot be null and must contain a string value!');if("string"!=typeof n)throw new Error('The "link_property" option cannot be null and must contain a string value!');const i=e?e[n]:null;if(i&&"string"!=typeof i)throw new Error('The value of the property given via "link_property" must have a string value!');return{icon:t,onClick:i?()=>this.handleDownloadClick(i):null,disabled:!i}}}class yB extends QY{constructor(...e){super(...e),this.handleClick=(e,t,n={})=>{const i=Object.assign({id:t,...n},n);this.router.navigateToResourceView("detail",e,i)}}getItemActionConfig(e){const{icon:t="su-eye",resource_key_property:n="resourceKey",resource_id_property:i="resourceId",resource_view_attributes_property:r="resourceViewAttributes"}=this.options;if("string"!=typeof t)throw new Error('The "icon" option cannot be null and must contain a string value!');if("string"!=typeof n)throw new Error('The "resource_key_property" option cannot be null and must contain a string value!');if("string"!=typeof i)throw new Error('The "resource_id_property" option cannot be null and must contain a string value!');if("string"!=typeof r)throw new Error('The "resource_view_attributes_property" option cannot be null and must contain a string value!');const o=e?e[n]:null,s=e?e[i]:null,a=e&&e[r]?e[r]:{};if(o&&"string"!=typeof o)throw new Error('The value of the property given via "resource_key_property" must have a string value!');if(s&&"string"!=typeof s&&"number"!=typeof s)throw new Error('The value of the property given via "resource_id_property" must have a string or number value!');if("object"!=typeof a)throw new Error('The value of the property given via "resource_view_attributes_property" must have a object value!');return{icon:t,onClick:o&&s?()=>this.handleClick(o,s.toString(),a):null,disabled:!(o&&s&&this.router.hasResourceView("detail",o))}}}class vB extends JY{getToolbarItemConfig(){return{icon:"su-plus-circle",label:Xs("sulu_admin.add"),onClick:ht(this.list.addItem),type:"button"}}}class _B extends JY{constructor(...e){super(...e),this.handleClick=()=>{const{allow_conflict_deletion:e=!0}=this.options;if(void 0!==e&&"boolean"!=typeof e)throw new Error('The "allow_conflict_deletion" option must have a boolean value!');this.list.requestSelectionDelete(e)}}getToolbarItemConfig(){const{disabled_condition:e}=this.options;return{disabled:!!e&&this.listStore.selections.some((t=>fh().evalSync(e,t)))||0===this.listStore.selectionIds.length,icon:"su-trash-alt",label:Xs("sulu_admin.delete"),loading:this.listStore.deletingSelection,onClick:this.handleClick,type:"button"}}}function wB(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function kB(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let CB=(pB=kB((hB=class extends JY{constructor(...e){super(...e),wB(this,"showOverlay",pB,this),wB(this,"handleClose",fB,this),wB(this,"handleConfirm",mB,this)}getNode(){return u.createElement(hg,{adapter:"column_list",allowActivateForDisabledItems:!1,clearSelectionOnClose:!0,confirmLoading:this.listStore.movingSelection,disabledIds:this.listStore.selectionIds,key:"sulu_admin.move",listKey:this.listStore.listKey,locale:this.list.locale,onClose:this.handleClose,onConfirm:this.handleConfirm,open:this.showOverlay,options:{includeRoot:!0},reloadOnOpen:!0,resourceKey:this.listStore.resourceKey,title:Xs("sulu_admin.move_items")})}getToolbarItemConfig(){return{disabled:0===this.listStore.selectionIds.length,icon:"su-arrows-alt",label:Xs("sulu_admin.move_selected"),onClick:ht((()=>{this.showOverlay=!0})),type:"button"}}}).prototype,"showOverlay",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fB=kB(hB.prototype,"handleClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showOverlay=!1}}}),mB=kB(hB.prototype,"handleConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.listStore.moveSelection(e.id).then(ht((()=>{this.showOverlay=!1})))}}}),hB);var EB,xB,SB,OB,TB,MB,PB,DB,LB,AB,zB,IB;function RB(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function jB(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let NB=(xB=jB((EB=class extends JY{constructor(...e){super(...e),RB(this,"showOverlay",xB,this),RB(this,"delimiter",SB,this),RB(this,"enclosure",OB,this),RB(this,"escape",TB,this),RB(this,"newLine",MB,this),RB(this,"handleClose",PB,this),RB(this,"handleDelimiterChanged",DB,this),RB(this,"handleEnclosureChanged",LB,this),RB(this,"handleEscapeChanged",AB,this),RB(this,"handleNewLineChanged",zB,this),RB(this,"handleConfirm",IB,this)}getNode(){return u.createElement(fd,{confirmDisabled:!1,confirmLoading:!1,confirmText:Xs("sulu_admin.export"),key:"sulu_admin.export",onClose:this.handleClose,onConfirm:this.handleConfirm,open:this.showOverlay,size:"small",title:Xs("sulu_admin.export_overlay_title")},u.createElement("div",{className:"overlay--PxFbcZr85J"},u.createElement(hh,null,u.createElement(hh.Section,{colSpan:6},u.createElement(hh.Field,{description:Xs("sulu_admin.delimiter_description"),label:Xs("sulu_admin.delimiter")},u.createElement(zp,{onChange:this.handleDelimiterChanged,value:this.delimiter},u.createElement(zp.Option,{value:";"},";"),u.createElement(zp.Option,{value:","},","),u.createElement(zp.Option,{value:"\\t"},Xs("sulu_admin.delimiter_tab")))),u.createElement(hh.Field,{description:Xs("sulu_admin.enclosure_description"),label:Xs("sulu_admin.enclosure")},u.createElement(zp,{onChange:this.handleEnclosureChanged,value:this.enclosure},u.createElement(zp.Option,{value:'"'},'"'),u.createElement(zp.Option,{value:""},Xs("sulu_admin.enclosure_nothing"))))),u.createElement(hh.Section,{colSpan:6},u.createElement(hh.Field,{description:Xs("sulu_admin.escape_description"),label:Xs("sulu_admin.escape")},u.createElement(zp,{onChange:this.handleEscapeChanged,value:this.escape},u.createElement(zp.Option,{value:"\\"},"\\"),u.createElement(zp.Option,{value:'"'},'"'))),u.createElement(hh.Field,{description:Xs("sulu_admin.new_line_description"),label:Xs("sulu_admin.new_line")},u.createElement(zp,{onChange:this.handleNewLineChanged,value:this.newLine},u.createElement(zp.Option,{value:"\\n"},"\\n"),u.createElement(zp.Option,{value:"\\r\\n"},"\\r\\n"),u.createElement(zp.Option,{value:"\\r"},"\\r")))))))}getToolbarItemConfig(){return{disabled:0===this.listStore.data.length,icon:"su-download",label:Xs("sulu_admin.export"),onClick:ht((()=>{this.showOverlay=!0})),type:"button"}}}).prototype,"showOverlay",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),SB=jB(EB.prototype,"delimiter",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return";"}}),OB=jB(EB.prototype,"enclosure",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return'"'}}),TB=jB(EB.prototype,"escape",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"\\"}}),MB=jB(EB.prototype,"newLine",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"\\n"}}),PB=jB(EB.prototype,"handleClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showOverlay=!1}}}),DB=jB(EB.prototype,"handleDelimiterChanged",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.delimiter=e}}}),LB=jB(EB.prototype,"handleEnclosureChanged",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.enclosure=e}}}),AB=jB(EB.prototype,"handleEscapeChanged",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.escape=e}}}),zB=jB(EB.prototype,"handleNewLineChanged",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.newLine=e}}}),IB=jB(EB.prototype,"handleConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{filterQueryOption:e}=this.listStore,t=Object.keys(e).length>0?e:void 0,n=this.listStore.searchTerm.get();window.location.assign(Da.getUrl("list",this.listStore.resourceKey,{_format:"csv",locale:this.list.locale.get(),flat:!0,delimiter:this.delimiter,escape:this.escape,enclosure:this.enclosure,newLine:this.newLine,...this.listStore.options,filter:t,search:n})),this.showOverlay=!1}}}),EB);var FB=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function YB(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),i=FB.get(n);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!=typeof n.path){var i=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"==typeof t?t:"string"==typeof i&&i.length>0?i:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var BB=[".DS_Store","Thumbs.db"];function HB(e){return"object"==typeof e&&null!==e}function VB(e){return qB(e.target.files).map((function(e){return YB(e)}))}function WB(e){return To(this,void 0,void 0,(function(){return Mo(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return e.getFile()})))];case 1:return[2,t.sent().map((function(e){return YB(e)}))]}}))}))}function UB(e,t){return To(this,void 0,void 0,(function(){var n;return Mo(this,(function(i){switch(i.label){case 0:return e.items?(n=qB(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(KB))]):[3,2];case 1:return[2,$B(GB(i.sent()))];case 2:return[2,$B(qB(e.files).map((function(e){return YB(e)})))]}}))}))}function $B(e){return e.filter((function(e){return-1===BB.indexOf(e.name)}))}function qB(e){if(null===e)return[];for(var t=[],n=0;n<e.length;n++){var i=e[n];t.push(i)}return t}function KB(e){if("function"!=typeof e.webkitGetAsEntry)return ZB(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?XB(t):ZB(e)}function GB(e){return e.reduce((function(e,t){return Do(Do([],Po(e),!1),Po(Array.isArray(t)?GB(t):[t]),!1)}),[])}function ZB(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=YB(t);return Promise.resolve(n)}function JB(e){return To(this,void 0,void 0,(function(){return Mo(this,(function(t){return[2,e.isDirectory?XB(e):QB(e)]}))}))}function XB(e){var t=e.createReader();return new Promise((function(e,n){var i=[];!function r(){var o=this;t.readEntries((function(t){return To(o,void 0,void 0,(function(){var o,s,a;return Mo(this,(function(l){switch(l.label){case 0:if(t.length)return[3,5];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return o=l.sent(),e(o),[3,4];case 3:return s=l.sent(),n(s),[3,4];case 4:return[3,6];case 5:a=Promise.all(t.map(JB)),i.push(a),r(),l.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function QB(e){return To(this,void 0,void 0,(function(){return Mo(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var i=YB(n,e.fullPath);t(i)}),(function(e){n(e)}))}))]}))}))}var eH=r(9455);function tH(e){return function(e){if(Array.isArray(e))return aH(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||sH(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function iH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nH(Object(n),!0).forEach((function(t){rH(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rH(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(e,t)||sH(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sH(e,t){if(e){if("string"==typeof e)return aH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aH(e,t):void 0}}function aH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var lH=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:"file-invalid-type",message:"File type must be ".concat(t)}},cH=function(e){return{code:"file-too-large",message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},uH=function(e){return{code:"file-too-small",message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},dH={code:"too-many-files",message:"Too many files"};function hH(e,t){var n="application/x-moz-file"===e.type||(0,eH.A)(e,t);return[n,n?null:lH(t)]}function pH(e,t,n){if(fH(e.size))if(fH(t)&&fH(n)){if(e.size>n)return[!1,cH(n)];if(e.size<t)return[!1,uH(t)]}else{if(fH(t)&&e.size<t)return[!1,uH(t)];if(fH(n)&&e.size>n)return[!1,cH(n)]}return[!0,null]}function fH(e){return null!=e}function mH(e){return"function"==typeof e.isPropagationStopped?e.isPropagationStopped():void 0!==e.cancelBubble&&e.cancelBubble}function gH(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function bH(e){e.preventDefault()}function yH(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return t.some((function(t){return!mH(e)&&t&&t.apply(void 0,[e].concat(i)),mH(e)}))}}function vH(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||/\w+\/[-+.\w]+/g.test(e)}function _H(e){return/^.*\.[\w]+$/.test(e)}var wH=["children"],kH=["open"],CH=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],EH=["refKey","onChange","onClick"];function xH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(e,t)||SH(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SH(e,t){if(e){if("string"==typeof e)return OH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OH(e,t):void 0}}function OH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function TH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function MH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TH(Object(n),!0).forEach((function(t){PH(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function PH(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DH(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var LH=(0,u.forwardRef)((function(e,t){var n=e.children,i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=MH(MH({},AH),e),n=t.accept,i=t.disabled,r=t.getFilesFromEvent,o=t.maxSize,s=t.minSize,a=t.multiple,l=t.maxFiles,c=t.onDragEnter,d=t.onDragLeave,h=t.onDragOver,p=t.onDrop,f=t.onDropAccepted,m=t.onDropRejected,g=t.onFileDialogCancel,b=t.onFileDialogOpen,y=t.useFsAccessApi,v=t.autoFocus,_=t.preventDropOnDocument,w=t.noClick,k=t.noKeyboard,C=t.noDrag,E=t.noDragEventsBubbling,x=t.onError,S=t.validator,O=(0,u.useMemo)((function(){return function(e){if(fH(e))return Object.entries(e).reduce((function(e,t){var n=oH(t,2),i=n[0],r=n[1];return[].concat(tH(e),[i],tH(r))}),[]).filter((function(e){return vH(e)||_H(e)})).join(",")}(n)}),[n]),T=(0,u.useMemo)((function(){return function(e){return fH(e)?[{description:"Files",accept:Object.entries(e).filter((function(e){var t=oH(e,2),n=t[0],i=t[1],r=!0;return vH(n)||(console.warn('Skipped "'.concat(n,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),r=!1),Array.isArray(i)&&i.every(_H)||(console.warn('Skipped "'.concat(n,'" because an invalid file extension was provided.')),r=!1),r})).reduce((function(e,t){var n=oH(t,2),i=n[0],r=n[1];return iH(iH({},e),{},rH({},i,r))}),{})}]:e}(n)}),[n]),M=(0,u.useMemo)((function(){return"function"==typeof b?b:UH}),[b]),P=(0,u.useMemo)((function(){return"function"==typeof g?g:UH}),[g]),D=(0,u.useRef)(null),L=(0,u.useRef)(null),A=xH((0,u.useReducer)(WH,VH),2),z=A[0],I=A[1],R=z.isFocused,j=z.isFileDialogActive,N=(0,u.useRef)("undefined"!=typeof window&&window.isSecureContext&&y&&"showOpenFilePicker"in window),F=function(){!N.current&&j&&setTimeout((function(){L.current&&(L.current.files.length||(I({type:"closeDialog"}),P()))}),300)};(0,u.useEffect)((function(){return window.addEventListener("focus",F,!1),function(){window.removeEventListener("focus",F,!1)}}),[L,j,P,N]);var Y=(0,u.useRef)([]),B=function(e){D.current&&D.current.contains(e.target)||(e.preventDefault(),Y.current=[])};(0,u.useEffect)((function(){return _&&(document.addEventListener("dragover",bH,!1),document.addEventListener("drop",B,!1)),function(){_&&(document.removeEventListener("dragover",bH),document.removeEventListener("drop",B))}}),[D,_]),(0,u.useEffect)((function(){return!i&&v&&D.current&&D.current.focus(),function(){}}),[D,v,i]);var H=(0,u.useCallback)((function(e){x?x(e):console.error(e)}),[x]),V=(0,u.useCallback)((function(e){var t;e.preventDefault(),e.persist(),ne(e),Y.current=[].concat(function(e){if(Array.isArray(e))return OH(e)}(t=Y.current)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||SH(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e.target]),gH(e)&&Promise.resolve(r(e)).then((function(t){if(!mH(e)||E){var n=t.length,i=n>0&&function(e){var t=e.files,n=e.accept,i=e.minSize,r=e.maxSize,o=e.multiple,s=e.maxFiles,a=e.validator;return!(!o&&t.length>1||o&&s>=1&&t.length>s)&&t.every((function(e){var t=oH(hH(e,n),1)[0],o=oH(pH(e,i,r),1)[0],s=a?a(e):null;return t&&o&&!s}))}({files:t,accept:O,minSize:s,maxSize:o,multiple:a,maxFiles:l,validator:S});I({isDragAccept:i,isDragReject:n>0&&!i,isDragActive:!0,type:"setDraggedFiles"}),c&&c(e)}})).catch((function(e){return H(e)}))}),[r,c,H,E,O,s,o,a,l,S]),W=(0,u.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e);var t=gH(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(e){}return t&&h&&h(e),!1}),[h,E]),U=(0,u.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e);var t=Y.current.filter((function(e){return D.current&&D.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),Y.current=t,t.length>0||(I({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),gH(e)&&d&&d(e))}),[D,d,E]),$=(0,u.useCallback)((function(e,t){var n=[],i=[];e.forEach((function(e){var t=xH(hH(e,O),2),r=t[0],a=t[1],l=xH(pH(e,s,o),2),c=l[0],u=l[1],d=S?S(e):null;if(r&&c&&!d)n.push(e);else{var h=[a,u];d&&(h=h.concat(d)),i.push({file:e,errors:h.filter((function(e){return e}))})}})),(!a&&n.length>1||a&&l>=1&&n.length>l)&&(n.forEach((function(e){i.push({file:e,errors:[dH]})})),n.splice(0)),I({acceptedFiles:n,fileRejections:i,type:"setFiles"}),p&&p(n,i,t),i.length>0&&m&&m(i,t),n.length>0&&f&&f(n,t)}),[I,a,O,s,o,l,p,f,m,S]),q=(0,u.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e),Y.current=[],gH(e)&&Promise.resolve(r(e)).then((function(t){mH(e)&&!E||$(t,e)})).catch((function(e){return H(e)})),I({type:"reset"})}),[r,$,H,E]),K=(0,u.useCallback)((function(){if(N.current){I({type:"openDialog"}),M();var e={multiple:a,types:T};window.showOpenFilePicker(e).then((function(e){return r(e)})).then((function(e){$(e,null),I({type:"closeDialog"})})).catch((function(e){!function(e){return e instanceof DOMException&&("AbortError"===e.name||e.code===e.ABORT_ERR)}(e)?function(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}(e)?(N.current=!1,L.current?(L.current.value=null,L.current.click()):H(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):H(e):(P(e),I({type:"closeDialog"}))}))}else L.current&&(I({type:"openDialog"}),M(),L.current.value=null,L.current.click())}),[I,M,P,y,$,H,T,a]),G=(0,u.useCallback)((function(e){D.current&&D.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),K()))}),[D,K]),Z=(0,u.useCallback)((function(){I({type:"focus"})}),[]),J=(0,u.useCallback)((function(){I({type:"blur"})}),[]),X=(0,u.useCallback)((function(){w||(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}(e)||function(e){return-1!==e.indexOf("Edge/")}(e)}()?setTimeout(K,0):K())}),[w,K]),Q=function(e){return i?null:e},ee=function(e){return k?null:Q(e)},te=function(e){return C?null:Q(e)},ne=function(e){E&&e.stopPropagation()},ie=(0,u.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.role,o=e.onKeyDown,s=e.onFocus,a=e.onBlur,l=e.onClick,c=e.onDragEnter,u=e.onDragOver,d=e.onDragLeave,h=e.onDrop,p=DH(e,CH);return MH(MH(PH({onKeyDown:ee(yH(o,G)),onFocus:ee(yH(s,Z)),onBlur:ee(yH(a,J)),onClick:Q(yH(l,X)),onDragEnter:te(yH(c,V)),onDragOver:te(yH(u,W)),onDragLeave:te(yH(d,U)),onDrop:te(yH(h,q)),role:"string"==typeof r&&""!==r?r:"presentation"},n,D),i||k?{}:{tabIndex:0}),p)}}),[D,G,Z,J,X,V,W,U,q,k,C,i]),re=(0,u.useCallback)((function(e){e.stopPropagation()}),[]),oe=(0,u.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,i=e.onChange,r=e.onClick,o=DH(e,EH);return MH(MH({},PH({accept:O,multiple:a,type:"file",style:{display:"none"},onChange:Q(yH(i,q)),onClick:Q(yH(r,re)),tabIndex:-1},n,L)),o)}}),[L,n,a,q,i]);return MH(MH({},z),{},{isFocused:R&&!i,getRootProps:ie,getInputProps:oe,rootRef:D,inputRef:L,open:Q(K)})}(DH(e,wH)),r=i.open,o=DH(i,kH);return(0,u.useImperativeHandle)(t,(function(){return{open:r}}),[r]),u.createElement(u.Fragment,null,n(MH(MH({},o),{},{open:r})))}));LH.displayName="Dropzone";var AH={disabled:!1,getFilesFromEvent:function(e){return To(this,void 0,void 0,(function(){return Mo(this,(function(t){return HB(e)&&function(e){return HB(e)}(e.dataTransfer)?[2,UB(e.dataTransfer,e.type)]:function(e){return HB(e)&&HB(e.target)}(e)?[2,VB(e)]:Array.isArray(e)&&e.every((function(e){return"getFile"in e&&"function"==typeof e.getFile}))?[2,WB(e)]:[2,[]]}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};LH.defaultProps=AH,LH.propTypes={children:Au().func,accept:Au().objectOf(Au().arrayOf(Au().string)),multiple:Au().bool,preventDropOnDocument:Au().bool,noClick:Au().bool,noKeyboard:Au().bool,noDrag:Au().bool,noDragEventsBubbling:Au().bool,minSize:Au().number,maxSize:Au().number,maxFiles:Au().number,disabled:Au().bool,getFilesFromEvent:Au().func,onFileDialogCancel:Au().func,onFileDialogOpen:Au().func,useFsAccessApi:Au().bool,autoFocus:Au().bool,onDragEnter:Au().func,onDragLeave:Au().func,onDragOver:Au().func,onDrop:Au().func,onDropAccepted:Au().func,onDropRejected:Au().func,onError:Au().func,validator:Au().func};var zH,IH,RH,jH,NH,FH,YH,BH,HH=LH,VH={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function WH(e,t){switch(t.type){case"focus":return MH(MH({},e),{},{isFocused:!0});case"blur":return MH(MH({},e),{},{isFocused:!1});case"openDialog":return MH(MH({},VH),{},{isFileDialogActive:!0});case"closeDialog":return MH(MH({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return MH(MH({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return MH(MH({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return MH({},VH);default:return e}}function UH(){}function $H(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function qH(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const KH={credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}};let GH=(zH=class extends JY{constructor(e,t,n,i,r,o){o.routeName&&(c().warn('The "routeName" option is deprecated and will be removed. Use the "route_name" option instead.'),o.route_name||(o.route_name=o.routeName)),o.minSize&&(c().warn('The "minSize" option is deprecated and will be removed. Use the "min_size" option instead.'),o.min_size||(o.min_size=o.minSize)),o.maxSize&&(c().warn('The "maxSize" option is deprecated and will be removed. Use the "max_size" option instead.'),o.max_size||(o.max_size=o.maxSize)),o.requestPropertyName&&(c().warn('The "requestPropertyName" option is deprecated and will be removed. Use the "request_property_name" option instead.'),o.request_property_name||(o.request_property_name=o.requestPropertyName)),o.requestParameters&&(c().warn('The "requestParameters" option is deprecated and will be removed. Use the "request_parameters" option instead.'),o.request_parameters||(o.request_parameters=o.requestParameters)),o.routerAttributesToRequest&&(c().warn('The "routerAttributesToRequest" option is deprecated and will be removed. Use the "router_attributes_to_request" option instead.'),o.router_attributes_to_request||(o.router_attributes_to_request=o.routerAttributesToRequest)),o.errorCodeMapping&&c().warn('The "errorCodeMapping" option is deprecated and will be removed. The API should return a specific error message in the "detail" property of the response instead.'),super(e,t,n,i,r,o),$H(this,"dropzoneRef",IH,this),$H(this,"errors",RH,this),$H(this,"setDropzoneRef",jH,this),$H(this,"handleClick",NH,this),this.removeErrors=()=>{for(const e of this.errors)this.removeError(e)},$H(this,"removeError",FH,this),$H(this,"addError",YH,this),this.handleError=e=>{for(const t of e)for(const{code:e}of t.errors){let n;switch(e){case"file-invalid-type":n=Xs("sulu_admin.dropzone_error_file-invalid-type",{fileName:t.file.name,allowedTypes:this.accept?Object.keys(this.accept).join(", "):void 0});break;case"file-too-large":n=Xs("sulu_admin.dropzone_error_file-too-large",{fileName:t.file.name,maxSize:this.maxSize?wo(this.maxSize):void 0});break;case"file-too-small":n=Xs("sulu_admin.dropzone_error_file-too-small",{fileName:t.file.name,minSize:this.minSize?wo(this.minSize):void 0});break;case"too-many-files":n=Xs("sulu_admin.dropzone_error_too-many-files",{fileName:t.file.name,maxFiles:this.maxFiles});break;default:n=Xs("sulu_admin.unexpected_upload_error",{fileName:t.file.name})}this.addError(n)}},$H(this,"handleConfirm",BH,this)}get label(){const{label:e="sulu_admin.upload"}=this.options;if("string"!=typeof e)throw new Error('The "label" option must be a string!');return Xs(e)}get icon(){const{icon:e="su-upload"}=this.options;if("string"!=typeof e)throw new Error('The "icon" option must be a string!');return e}get url(){const{route_name:e}=this.options;if("string"!=typeof e)throw new Error('The "route_name" option must be a string!');return Ca().generate(e,this.requestParameters)}get errorCodeMapping(){const{errorCodeMapping:e={}}=this.options;if("object"!=typeof e)throw new Error('The "errorCodeMapping" option must be an object!');return e}get requestParameters(){const{options:{request_parameters:e={},router_attributes_to_request:t={}},router:{attributes:n}}=this;if(!e||"object"!=typeof e)throw new Error('The "request_parameters" option must be an object!');if(!t||"object"!=typeof t)throw new Error('The "router_attributes_to_request" option must be an object!');const i={};return Object.keys(t).forEach((e=>{const r=t[e];if("string"!=typeof r)throw new Error('The "routerAttributesToRequest" option must contain strings!');const o=isNaN(e)?e:r;i[r]=n[o]})),{...i,...e}}get accept(){const{accept:e}=this.options;if(null==e)return;if(!O(e))throw new Error('The "accept" option must be an array!');if(0===e.length)return;const t={};return e.forEach((e=>{t[e]=[]})),t}get minSize(){const{min_size:e}=this.options;if(null!=e){if("number"!=typeof e)throw new Error('The "min_size" option must be a number!');return e}}get maxSize(){const{max_size:e}=this.options;if(null!=e){if("number"!=typeof e)throw new Error('The "max_size" option must be a number!');return e}}get multiple(){const{multiple:e=!1}=this.options;if("boolean"!=typeof e)throw new Error('The "multiple" option must be a boolean!');return e}get maxFiles(){return this.multiple?void 0:1}get requestPropertyName(){const{request_property_name:e}=this.options;if(!e)return this.multiple?"files":"file";if("string"!=typeof e)throw new Error('The "request_property_name" option must be a string!');return e}getToolbarItemConfig(){return{type:"button",label:this.label,icon:this.icon,onClick:this.handleClick}}getNode(){return u.createElement(HH,{accept:this.accept,key:"sulu_admin.upload",maxFiles:this.maxFiles,maxSize:this.maxSize,minSize:this.minSize,multiple:this.multiple,noClick:!0,noDrag:!0,noKeyboard:!0,onDropAccepted:this.handleConfirm,onDropRejected:this.handleError,ref:this.setDropzoneRef},(({getRootProps:e,getInputProps:t})=>u.createElement("div",e(),u.createElement("input",t()))))}},IH=qH(zH.prototype,"dropzoneRef",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),RH=qH(zH.prototype,"errors",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),jH=qH(zH.prototype,"setDropzoneRef",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.dropzoneRef=e}}}),NH=qH(zH.prototype,"handleClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{dropzoneRef:e}=this;e&&(e.open(),this.removeErrors())}}}),FH=qH(zH.prototype,"removeError",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.errors=this.errors.filter((t=>e!==t)),this.list.errors=this.list.errors.filter((t=>e!==t))}}}),YH=qH(zH.prototype,"addError",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.removeError(e),this.errors=[...this.errors,e],this.list.errors=[...this.list.errors,e]}}}),BH=qH(zH.prototype,"handleConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{multiple:t,requestPropertyName:n}=this,i=new FormData;for(const r of e){if(!t){i.append(n,r);break}i.append(n+"[]",r)}ri.fetch(this.url,{...KH,method:"POST",body:i}).then((e=>{if(e.ok)this.listStore.reload();else{const t=Xs(this.errorCodeMapping[e.status]||"sulu_admin.unexpected_upload_error",{statusText:e.statusText});e.json().then((e=>{this.addError(e.detail||e.title||t)})).catch((()=>{this.addError(t)}))}}))}}}),qH(zH.prototype,"label",[ge],Object.getOwnPropertyDescriptor(zH.prototype,"label"),zH.prototype),qH(zH.prototype,"icon",[ge],Object.getOwnPropertyDescriptor(zH.prototype,"icon"),zH.prototype),qH(zH.prototype,"url",[ge],Object.getOwnPropertyDescriptor(zH.prototype,"url"),zH.prototype),qH(zH.prototype,"errorCodeMapping",[ge],Object.getOwnPropertyDescriptor(zH.prototype,"errorCodeMapping"),zH.prototype),qH(zH.prototype,"requestParameters",[ge],Object.getOwnPropertyDescriptor(zH.prototype,"requestParameters"),zH.prototype),qH(zH.prototype,"accept",[ge],Object.getOwnPropertyDescriptor(zH.prototype,"accept"),zH.prototype),qH(zH.prototype,"minSize",[ge],Object.getOwnPropertyDescriptor(zH.prototype,"minSize"),zH.prototype),qH(zH.prototype,"maxSize",[ge],Object.getOwnPropertyDescriptor(zH.prototype,"maxSize"),zH.prototype),qH(zH.prototype,"multiple",[ge],Object.getOwnPropertyDescriptor(zH.prototype,"multiple"),zH.prototype),qH(zH.prototype,"maxFiles",[ge],Object.getOwnPropertyDescriptor(zH.prototype,"maxFiles"),zH.prototype),qH(zH.prototype,"requestPropertyName",[ge],Object.getOwnPropertyDescriptor(zH.prototype,"requestPropertyName"),zH.prototype),zH);var ZH=gB;const JH=function(){try{return navigator.userAgent.toLowerCase()}catch(e){return""}}(),XH={isMac:eV(JH),isWindows:function(e){return e.indexOf("windows")>-1}(JH),isGecko:function(e){return!!e.match(/gecko\/\d+/)}(JH),isSafari:function(e){return e.indexOf(" applewebkit/")>-1&&-1===e.indexOf("chrome")}(JH),isiOS:function(e){return!!e.match(/iphone|ipad/i)||eV(e)&&navigator.maxTouchPoints>0}(JH),isAndroid:function(e){return e.indexOf("android")>-1}(JH),isBlink:function(e){return e.indexOf("chrome/")>-1&&e.indexOf("edge/")<0}(JH),features:{isRegExpUnicodePropertySupported:function(){let e=!1;try{e=0==="".search(new RegExp("[\\p{L}]","u"))}catch(e){}return e}()}};var QH=XH;function eV(e){return e.indexOf("macintosh")>-1}function tV(e,t,n,i){n=n||function(e,t){return e===t};const r=Array.isArray(e)?e:Array.prototype.slice.call(e),o=Array.isArray(t)?t:Array.prototype.slice.call(t),s=function(e,t,n){const i=nV(e,t,n);if(-1===i)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const r=nV(iV(e,i),iV(t,i),n);return{firstIndex:i,lastIndexOld:e.length-r,lastIndexNew:t.length-r}}(r,o,n),a=i?function(e,t){const{firstIndex:n,lastIndexOld:i,lastIndexNew:r}=e;if(-1===n)return Array(t).fill("equal");let o=[];return n>0&&(o=o.concat(Array(n).fill("equal"))),r-n>0&&(o=o.concat(Array(r-n).fill("insert"))),i-n>0&&(o=o.concat(Array(i-n).fill("delete"))),r<t&&(o=o.concat(Array(t-r).fill("equal"))),o}(s,o.length):function(e,t){const n=[],{firstIndex:i,lastIndexOld:r,lastIndexNew:o}=t;return o-i>0&&n.push({index:i,type:"insert",values:e.slice(i,o)}),r-i>0&&n.push({index:i+(o-i),type:"delete",howMany:r-i}),n}(o,s);return a}function nV(e,t,n){for(let i=0;i<Math.max(e.length,t.length);i++)if(void 0===e[i]||void 0===t[i]||!n(e[i],t[i]))return i;return-1}function iV(e,t){return e.slice(t).reverse()}function rV(e,t,n){n=n||function(e,t){return e===t};const i=e.length,r=t.length;if(i>200||r>200||i+r>300)return rV.fastDiff(e,t,n,!0);let o,s;if(r<i){const n=e;e=t,t=n,o="delete",s="insert"}else o="insert",s="delete";const a=e.length,l=t.length,c=l-a,u={},d={};function h(i){const r=(void 0!==d[i-1]?d[i-1]:-1)+1,c=void 0!==d[i+1]?d[i+1]:-1,h=r>c?-1:1;u[i+h]&&(u[i]=u[i+h].slice(0)),u[i]||(u[i]=[]),u[i].push(r>c?o:s);let p=Math.max(r,c),f=p-i;for(;f<a&&p<l&&n(e[f],t[p]);)f++,p++,u[i].push("equal");return p}let p,f=0;do{for(p=-f;p<c;p++)d[p]=h(p);for(p=c+f;p>c;p--)d[p]=h(p);d[c]=h(c),f++}while(d[c]!==l);return u[c].slice(1)}rV.fastDiff=tV;class oV{constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=function e(){e.called=!0},this.off=function e(){e.called=!0}}}const sV=new Array(256).fill("").map(((e,t)=>("0"+t.toString(16)).slice(-2)));function aV(){const e=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0;return"e"+sV[255&e]+sV[e>>8&255]+sV[e>>16&255]+sV[e>>24&255]+sV[255&t]+sV[t>>8&255]+sV[t>>16&255]+sV[t>>24&255]+sV[255&n]+sV[n>>8&255]+sV[n>>16&255]+sV[n>>24&255]+sV[255&i]+sV[i>>8&255]+sV[i>>16&255]+sV[i>>24&255]}var lV={get(e="normal"){return"number"!=typeof e?this[e]||this.normal:e},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function cV(e,t){const n=lV.get(t.priority);for(let i=0;i<e.length;i++)if(lV.get(e[i].priority)<n)return void e.splice(i,0,t);e.push(t)}const uV="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class dV extends Error{constructor(e,t,n){super(function(e,t){const n=new WeakSet;return e+(t?` ${JSON.stringify(t,((e,t)=>{if("object"==typeof t&&null!==t){if(n.has(t))return`[object ${t.constructor.name}]`;n.add(t)}return t}))}`:"")+pV(e)}(e,n)),this.name="CKEditorError",this.context=t,this.data=n}is(e){return"CKEditorError"===e}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const n=new dV(e.message,t);throw n.stack=e.stack,n}}function hV(e,t){console.warn(...function(e,t){const n=pV(e);return t?[e,t,n]:[e,n]}(e,t))}function pV(e){return`\nRead more: ${uV}#error-${e}`}const fV=new Date(2024,2,18);if(globalThis.CKEDITOR_VERSION)throw new dV("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION="41.2.1";const mV=Symbol("listeningTo"),gV=Symbol("emitterId"),bV=Symbol("delegations"),yV=vV(Object);function vV(e){return e?class extends e{on(e,t,n){this.listenTo(this,e,t,n)}once(e,t,n){let i=!1;this.listenTo(this,e,((e,...n)=>{i||(i=!0,e.off(),t.call(this,e,...n))}),n)}off(e,t){this.stopListening(this,e,t)}listenTo(e,t,n,i={}){let r,o;this[mV]||(this[mV]={});const s=this[mV];wV(e)||_V(e);const a=wV(e);(r=s[a])||(r=s[a]={emitter:e,callbacks:{}}),(o=r.callbacks[t])||(o=r.callbacks[t]=[]),o.push(n),function(e,t,n,i,r){t._addEventListener?t._addEventListener(n,i,r):e._addEventListener.call(t,n,i,r)}(this,e,t,n,i)}stopListening(e,t,n){const i=this[mV];let r=e&&wV(e);const o=i&&r?i[r]:void 0,s=o&&t?o.callbacks[t]:void 0;if(!(!i||e&&!o||t&&!s))if(n)SV(this,e,t,n),-1!==s.indexOf(n)&&(1===s.length?delete o.callbacks[t]:SV(this,e,t,n));else if(s){for(;n=s.pop();)SV(this,e,t,n);delete o.callbacks[t]}else if(o){for(t in o.callbacks)this.stopListening(e,t);delete i[r]}else{for(r in i)this.stopListening(i[r].emitter);delete this[mV]}}fire(e,...t){try{const n=e instanceof oV?e:new oV(this,e),i=n.name;let r=EV(this,i);if(n.path.push(this),r){const e=[n,...t];r=Array.from(r);for(let t=0;t<r.length&&(r[t].callback.apply(this,e),n.off.called&&(delete n.off.called,this._removeEventListener(i,r[t].callback)),!n.stop.called);t++);}const o=this[bV];if(o){const e=o.get(i),r=o.get("*");e&&xV(e,n,t),r&&xV(r,n,t)}return n.return}catch(e){dV.rethrowUnexpectedError(e,this)}}delegate(...e){return{to:(t,n)=>{this[bV]||(this[bV]=new Map),e.forEach((e=>{const i=this[bV].get(e);i?i.set(t,n):this[bV].set(e,new Map([[t,n]]))}))}}}stopDelegating(e,t){if(this[bV])if(e)if(t){const n=this[bV].get(e);n&&n.delete(t)}else this[bV].delete(e);else this[bV].clear()}_addEventListener(e,t,n){!function(e,t){const n=kV(e);if(n[t])return;let i=t,r=null;const o=[];for(;""!==i&&!n[i];)n[i]={callbacks:[],childEvents:[]},o.push(n[i]),r&&n[i].childEvents.push(r),r=i,i=i.substr(0,i.lastIndexOf(":"));if(""!==i){for(const e of o)e.callbacks=n[i].callbacks.slice();n[i].childEvents.push(r)}}(this,e);const i=CV(this,e),r={callback:t,priority:lV.get(n.priority)};for(const e of i)cV(e,r)}_removeEventListener(e,t){const n=CV(this,e);for(const e of n)for(let n=0;n<e.length;n++)e[n].callback==t&&(e.splice(n,1),n--)}}:yV}function _V(e,t){e[gV]||(e[gV]=t||aV())}function wV(e){return e[gV]}function kV(e){return e._events||Object.defineProperty(e,"_events",{value:{}}),e._events}function CV(e,t){const n=kV(e)[t];if(!n)return[];let i=[n.callbacks];for(let t=0;t<n.childEvents.length;t++){const r=CV(e,n.childEvents[t]);i=i.concat(r)}return i}function EV(e,t){let n;return e._events&&(n=e._events[t])&&n.callbacks.length?n.callbacks:t.indexOf(":")>-1?EV(e,t.substr(0,t.lastIndexOf(":"))):null}function xV(e,t,n){for(let[i,r]of e){r?"function"==typeof r&&(r=r(t.name)):r=t.name;const e=new oV(t.source,r);e.path=[...t.path],i.fire(e,...n)}}function SV(e,t,n,i){t._removeEventListener?t._removeEventListener(n,i):e._removeEventListener.call(t,n,i)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((e=>{vV[e]=yV.prototype[e]}));const OV=Symbol("observableProperties"),TV=Symbol("boundObservables"),MV=Symbol("boundProperties"),PV=Symbol("decoratedMethods"),DV=Symbol("decoratedOriginal"),LV=AV(vV());function AV(e){return e?class extends e{set(e,t){if(jS(e))return void Object.keys(e).forEach((t=>{this.set(t,e[t])}),this);zV(this);const n=this[OV];if(e in this&&!n.has(e))throw new dV("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get(){return n.get(e)},set(t){const i=n.get(e);let r=this.fire(`set:${e}`,e,t,i);void 0===r&&(r=t),i===r&&n.has(e)||(n.set(e,r),this.fire(`change:${e}`,e,r,i))}}),this[e]=t}bind(...e){if(!e.length||!jV(e))throw new dV("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new dV("observable-bind-duplicate-properties",this);zV(this);const t=this[MV];e.forEach((e=>{if(t.has(e))throw new dV("observable-bind-rebind",this)}));const n=new Map;return e.forEach((e=>{const i={property:e,to:[]};t.set(e,i),n.set(e,i)})),{to:IV,toMany:RV,_observable:this,_bindProperties:e,_to:[],_bindings:n}}unbind(...e){if(!this[OV])return;const t=this[MV],n=this[TV];if(e.length){if(!jV(e))throw new dV("observable-unbind-wrong-properties",this);e.forEach((e=>{const i=t.get(e);i&&(i.to.forEach((([e,t])=>{const r=n.get(e),o=r[t];o.delete(i),o.size||delete r[t],Object.keys(r).length||(n.delete(e),this.stopListening(e,"change"))})),t.delete(e))}))}else n.forEach(((e,t)=>{this.stopListening(t,"change")})),n.clear(),t.clear()}decorate(e){zV(this);const t=this[e];if(!t)throw new dV("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,((e,n)=>{e.return=t.apply(this,n)})),this[e]=function(...t){return this.fire(e,t)},this[e][DV]=t,this[PV]||(this[PV]=[]),this[PV].push(e)}stopListening(e,t,n){if(!e&&this[PV]){for(const e of this[PV])this[e]=this[e][DV];delete this[PV]}super.stopListening(e,t,n)}}:LV}function zV(e){e[OV]||(Object.defineProperty(e,OV,{value:new Map}),Object.defineProperty(e,TV,{value:new Map}),Object.defineProperty(e,MV,{value:new Map}))}function IV(...e){const t=function(...e){if(!e.length)throw new dV("observable-bind-to-parse-error",null);const t={to:[]};let n;return"function"==typeof e[e.length-1]&&(t.callback=e.pop()),e.forEach((e=>{if("string"==typeof e)n.properties.push(e);else{if("object"!=typeof e)throw new dV("observable-bind-to-parse-error",null);n={observable:e,properties:[]},t.to.push(n)}})),t}(...e),n=Array.from(this._bindings.keys()),i=n.length;if(!t.callback&&t.to.length>1)throw new dV("observable-bind-to-no-callback",this);if(i>1&&t.callback)throw new dV("observable-bind-to-extra-callback",this);t.to.forEach((e=>{if(e.properties.length&&e.properties.length!==i)throw new dV("observable-bind-to-properties-length",this);e.properties.length||(e.properties=this._bindProperties)})),this._to=t.to,t.callback&&(this._bindings.get(n[0]).callback=t.callback),function(e,t){t.forEach((t=>{const n=e[TV];let i;n.get(t.observable)||e.listenTo(t.observable,"change",((r,o)=>{i=n.get(t.observable)[o],i&&i.forEach((t=>{NV(e,t.property)}))}))}))}(this._observable,this._to),function(e){let t;e._bindings.forEach(((n,i)=>{e._to.forEach((r=>{t=r.properties[n.callback?0:e._bindProperties.indexOf(i)],n.to.push([r.observable,t]),function(e,t,n,i){const r=e[TV],o=r.get(n),s=o||{};s[i]||(s[i]=new Set),s[i].add(t),o||r.set(n,s)}(e._observable,n,r.observable,t)}))}))}(this),this._bindProperties.forEach((e=>{NV(this._observable,e)}))}function RV(e,t,n){if(this._bindings.size>1)throw new dV("observable-bind-to-many-not-one-binding",this);this.to(...function(e,t){const n=e.map((e=>[e,t]));return Array.prototype.concat.apply([],n)}(e,t),n)}function jV(e){return e.every((e=>"string"==typeof e))}function NV(e,t){const n=e[MV].get(t);let i;n.callback?i=n.callback.apply(e,n.to.map((e=>e[0][e[1]]))):(i=n.to[0],i=i[0][i[1]]),Object.prototype.hasOwnProperty.call(e,t)?e[t]=i:e.set(t,i)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((e=>{AV[e]=LV.prototype[e]}));class FV{constructor(){this._replacedElements=[]}replace(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}restore(){this._replacedElements.forEach((({element:e,newElement:t})=>{e.style.display="",t&&t.remove()})),this._replacedElements=[]}}function YV(e){let t=0;for(const n of e)t++;return t}function BV(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++)if(e[i]!=t[i])return i;return e.length==t.length?"same":e.length<t.length?"prefix":"extension"}function HV(e){return!(!e||!e[Symbol.iterator])}var VV=function(e){return"string"==typeof e||!jO(e)&&PO(e)&&"[object String]"==RS(e)};function WV(e,t,n={},i=[]){const r=n&&n.xmlns,o=r?e.createElementNS(r,t):e.createElement(t);for(const e in n)o.setAttribute(e,n[e]);!VV(i)&&HV(i)||(i=[i]);for(let t of i)VV(t)&&(t=e.createTextNode(t)),o.appendChild(t);return o}var UV=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)rP(t,cP(e)),e=SO(e);return t}:sP,$V=function(e){return oP(e,fT,UV)},qV=Object.prototype.hasOwnProperty,KV=/\w*$/,GV=MS?MS.prototype:void 0,ZV=GV?GV.valueOf:void 0,JV=function(e,t,n){var i,r,o,s=e.constructor;switch(t){case"[object ArrayBuffer]":return vO(e);case"[object Boolean]":case"[object Date]":return new s(+e);case"[object DataView]":return function(e,t){var n=t?vO(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return _O(e,n);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(e);case"[object RegExp]":return(o=new(r=e).constructor(r.source,KV.exec(r))).lastIndex=r.lastIndex,o;case"[object Symbol]":return i=e,ZV?Object(ZV.call(i)):{}}},XV=tT&&tT.isMap,QV=XV?JO(XV):function(e){return PO(e)&&"[object Map]"==OP(e)},eW=tT&&tT.isSet,tW=eW?JO(eW):function(e){return PO(e)&&"[object Set]"==OP(e)},nW="[object Arguments]",iW="[object Function]",rW="[object Object]",oW={};oW[nW]=oW["[object Array]"]=oW["[object ArrayBuffer]"]=oW["[object DataView]"]=oW["[object Boolean]"]=oW["[object Date]"]=oW["[object Float32Array]"]=oW["[object Float64Array]"]=oW["[object Int8Array]"]=oW["[object Int16Array]"]=oW["[object Int32Array]"]=oW["[object Map]"]=oW["[object Number]"]=oW[rW]=oW["[object RegExp]"]=oW["[object Set]"]=oW["[object String]"]=oW["[object Symbol]"]=oW["[object Uint8Array]"]=oW["[object Uint8ClampedArray]"]=oW["[object Uint16Array]"]=oW["[object Uint32Array]"]=!0,oW["[object Error]"]=oW[iW]=oW["[object WeakMap]"]=!1;var sW=function e(t,n,i,r,o,s){var a,l=1&n,c=2&n,u=4&n;if(i&&(a=o?i(t,r,o,s):i(t)),void 0!==a)return a;if(!jS(t))return t;var d=jO(t);if(d){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&qV.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!l)return wO(t,a)}else{var h=OP(t),p=h==iW||"[object GeneratorFunction]"==h;if(VO(t))return bO(t,l);if(h==rW||h==nW||p&&!o){if(a=c||p?{}:MO(t),!l)return c?function(e,t){return aT(e,UV(e),t)}(t,function(e,t){return e&&aT(t,fT(t),e)}(a,t)):function(e,t){return aT(e,cP(e),t)}(t,function(e,t){return e&&aT(t,KT(t),e)}(a,t))}else{if(!oW[h])return o?t:{};a=JV(t,h,l)}}s||(s=new lO);var f=s.get(t);if(f)return f;s.set(t,a),tW(t)?t.forEach((function(r){a.add(e(r,n,i,r,t,s))})):QV(t)&&t.forEach((function(r,o){a.set(o,e(r,n,i,o,t,s))}));var m=d?void 0:(u?c?$V:uP:c?fT:KT)(t);return UT(m||t,(function(r,o){m&&(r=t[o=r]),sT(a,o,e(r,n,i,o,t,s))})),a},aW=function(e,t){return sW(e,5,t="function"==typeof t?t:void 0)},lW=function(e){return PO(e)&&1===e.nodeType&&!GO(e)};class cW{constructor(e,t){this._config={},t&&this.define(uW(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,n,i=!1){if(GO(t))return void this._setObjectToTarget(e,t,i);const r=t.split(".");t=r.pop();for(const t of r)GO(e[t])||(e[t]={}),e=e[t];if(GO(n))return GO(e[t])||(e[t]={}),e=e[t],void this._setObjectToTarget(e,n,i);i&&void 0!==e[t]||(e[t]=n)}_getFromSource(e,t){const n=t.split(".");t=n.pop();for(const t of n){if(!GO(e[t])){e=null;break}e=e[t]}return e?uW(e[t]):void 0}_setObjectToTarget(e,t,n){Object.keys(t).forEach((i=>{this._setToTarget(e,i,t[i],n)}))}}function uW(e){return aW(e,dW)}function dW(e){return lW(e)||"function"==typeof e?e:void 0}function hW(e){if(e){if(e.defaultView)return e instanceof e.defaultView.Document;if(e.ownerDocument&&e.ownerDocument.defaultView)return e instanceof e.ownerDocument.defaultView.Node}return!1}function pW(e){const t=Object.prototype.toString.apply(e);return"[object Window]"==t||"[object global]"==t}const fW=mW(vV());function mW(e){return e?class extends e{listenTo(e,t,n,i={}){if(hW(e)||pW(e)){const r={capture:!!i.useCapture,passive:!!i.usePassive},o=this._getProxyEmitter(e,r)||new gW(e,r);this.listenTo(o,t,n,i)}else super.listenTo(e,t,n,i)}stopListening(e,t,n){if(hW(e)||pW(e)){const i=this._getAllProxyEmitters(e);for(const e of i)this.stopListening(e,t,n)}else super.stopListening(e,t,n)}_getProxyEmitter(e,t){return function(e,t){const n=e[mV];return n&&n[t]?n[t].emitter:null}(this,bW(e,t))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map((t=>this._getProxyEmitter(e,t))).filter((e=>!!e))}}:fW}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((e=>{mW[e]=fW.prototype[e]}));class gW extends(vV()){constructor(e,t){super(),_V(this,bW(e,t)),this._domNode=e,this._options=t}attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,t,n){this.attach(e),vV().prototype._addEventListener.call(this,e,t,n)}_removeEventListener(e,t){vV().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=t=>{this.fire(e,t)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function bW(e,t){let n=function(e){return e["data-ck-expando"]||(e["data-ck-expando"]=aV())}(e);for(const e of Object.keys(t).sort())t[e]&&(n+="-"+e);return n}let yW;try{yW={window:window,document:document}}catch(e){yW={window:{},document:{}}}var vW=yW;function _W(e){const t=e.ownerDocument.defaultView.getComputedStyle(e);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}function wW(e){return"[object Text]"==Object.prototype.toString.call(e)}function kW(e){return"[object Range]"==Object.prototype.toString.apply(e)}function CW(e){return e&&e.parentNode?e.offsetParent===vW.document.body?null:e.offsetParent:null}const EW=["top","right","bottom","left","width","height"];class xW{constructor(e){const t=kW(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),TW(e)||t)if(t){const t=xW.getDomRangeRects(e);SW(this,xW.getBoundingRect(t))}else SW(this,e.getBoundingClientRect());else if(pW(e)){const{innerWidth:t,innerHeight:n}=e;SW(this,{top:0,right:t,bottom:n,left:0,width:t,height:n})}else SW(this,e)}clone(){return new xW(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0)return null;{const e=new xW(t);return e._source=this._source,e}}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(OW(e))return t;let n,i=e,r=e.parentNode||e.commonAncestorContainer;for(;r&&!OW(r);){const e="visible"===((o=r)instanceof HTMLElement?o.ownerDocument.defaultView.getComputedStyle(o).overflow:"visible");i instanceof HTMLElement&&"absolute"===MW(i)&&(n=i);const s=MW(r);if(e||n&&("relative"===s&&e||"relative"!==s)){i=r,r=r.parentNode;continue}const a=new xW(r),l=t.getIntersection(a);if(!l)return null;l.getArea()<t.getArea()&&(t=l),i=r,r=r.parentNode}var o;return t}isEqual(e){for(const t of EW)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!(!t||!t.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:t}=vW.window,n=this.clone().moveBy(e,t);if(TW(n._source)){const e=CW(n._source);e&&function(e,t){const n=new xW(t),i=_W(t);let r=0,o=0;r-=n.left,o-=n.top,r+=t.scrollLeft,o+=t.scrollTop,r-=i.left,o-=i.top,e.moveBy(r,o)}(n,e)}return n}excludeScrollbarsAndBorders(){const e=this._source;let t,n,i;if(pW(e))t=e.innerWidth-e.document.documentElement.clientWidth,n=e.innerHeight-e.document.documentElement.clientHeight,i=e.getComputedStyle(e.document.documentElement).direction;else{const r=_W(e);t=e.offsetWidth-e.clientWidth-r.left-r.right,n=e.offsetHeight-e.clientHeight-r.top-r.bottom,i=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=r.left,this.top+=r.top,this.right-=r.right,this.bottom-=r.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,"ltr"===i?this.right-=t:this.left+=t,this.height-=n,this.bottom-=n,this}static getDomRangeRects(e){const t=[],n=Array.from(e.getClientRects());if(n.length)for(const e of n)t.push(new xW(e));else{let n=e.startContainer;wW(n)&&(n=n.parentNode);const i=new xW(n.getBoundingClientRect());i.right=i.left,i.width=0,t.push(i)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let n=0;for(const i of e)n++,t.left=Math.min(t.left,i.left),t.top=Math.min(t.top,i.top),t.right=Math.max(t.right,i.right),t.bottom=Math.max(t.bottom,i.bottom);return 0==n?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new xW(t))}}function SW(e,t){for(const n of EW)e[n]=t[n]}function OW(e){return!!TW(e)&&e===e.ownerDocument.body}function TW(e){return null!==e&&"object"==typeof e&&1===e.nodeType&&"function"==typeof e.getBoundingClientRect}function MW(e){return e instanceof HTMLElement?e.ownerDocument.defaultView.getComputedStyle(e).position:"static"}class PW{constructor(e,t){PW._observerInstance||PW._createObserver(),this._element=e,this._callback=t,PW._addElementCallback(e,t),PW._observerInstance.observe(e)}get element(){return this._element}destroy(){PW._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,t){PW._elementCallbacks||(PW._elementCallbacks=new Map);let n=PW._elementCallbacks.get(e);n||(n=new Set,PW._elementCallbacks.set(e,n)),n.add(t)}static _deleteElementCallback(e,t){const n=PW._getElementCallbacks(e);n&&(n.delete(t),n.size||(PW._elementCallbacks.delete(e),PW._observerInstance.unobserve(e))),PW._elementCallbacks&&!PW._elementCallbacks.size&&(PW._observerInstance=null,PW._elementCallbacks=null)}static _getElementCallbacks(e){return PW._elementCallbacks?PW._elementCallbacks.get(e):null}static _createObserver(){PW._observerInstance=new vW.window.ResizeObserver((e=>{for(const t of e){const e=PW._getElementCallbacks(t.target);if(e)for(const n of e)n(t)}}))}}PW._observerInstance=null,PW._elementCallbacks=null;var DW=PW;function LW(e,t){e instanceof HTMLTextAreaElement&&(e.value=t),e.innerHTML=t}function AW(e){return t=>t+e}function zW(e){let t=0;for(;e.previousSibling;)e=e.previousSibling,t++;return t}function IW(e,t,n){e.insertBefore(n,e.childNodes[t]||null)}function RW(e){return e&&e.nodeType===Node.COMMENT_NODE}function jW(e){return!!(e&&e.getClientRects&&e.getClientRects().length)}function NW({element:e,target:t,positions:n,limiter:i,fitInViewport:r,viewportOffsetConfig:o}){NS(t)&&(t=t()),NS(i)&&(i=i());const s=CW(e),a=function(e){e=Object.assign({top:0,bottom:0,left:0,right:0},e);const t=new xW(vW.window);return t.top+=e.top,t.height-=e.top,t.bottom-=e.bottom,t.height-=e.bottom,t}(o),l=new xW(e),c=FW(t,a);let u;if(!c||!a.getIntersection(c))return null;const d={targetRect:c,elementRect:l,positionedElementAncestor:s,viewportRect:a};if(i||r){if(i){const e=FW(i,a);e&&(d.limiterRect=e)}u=function(e,t){const{elementRect:n}=t,i=n.getArea(),r=e.map((e=>new YW(e,t))).filter((e=>!!e.name));let o=0,s=null;for(const e of r){const{limiterIntersectionArea:t,viewportIntersectionArea:n}=e;if(t===i)return e;const r=n**2+t**2;r>o&&(o=r,s=e)}return s}(n,d)}else u=new YW(n[0],d);return u}function FW(e,t){const n=new xW(e).getVisible();return n?n.getIntersection(t):null}class YW{constructor(e,t){const n=e(t.targetRect,t.elementRect,t.viewportRect,t.limiterRect);if(!n)return;const{left:i,top:r,name:o,config:s}=n;this.name=o,this.config=s,this._positioningFunctionCoordinates={left:i,top:r},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function BW(e){const t=e.parentNode;t&&t.removeChild(e)}function HW({window:e,rect:t,alignToTop:n,forceScroll:i,viewportOffset:r}){const o=t.clone().moveBy(0,r.bottom),s=t.clone().moveBy(0,-r.top),a=new xW(e).excludeScrollbarsAndBorders(),l=n&&i,c=[s,o].every((e=>a.contains(e)));let{scrollX:u,scrollY:d}=e;const h=u,p=d;l?d-=a.top-t.top+r.top:c||(UW(s,a)?d-=a.top-t.top+r.top:WW(o,a)&&(d+=n?t.top-a.top-r.top:t.bottom-a.bottom+r.bottom)),c||($W(t,a)?u-=a.left-t.left+r.left:qW(t,a)&&(u+=t.right-a.right+r.right)),u==h&&d===p||e.scrollTo(u,d)}function VW({parent:e,getRect:t,alignToTop:n,forceScroll:i,ancestorOffset:r=0,limiterElement:o}){const s=KW(e),a=n&&i;let l,c,u;const d=o||s.document.body;for(;e!=d;)c=t(),l=new xW(e).excludeScrollbarsAndBorders(),u=l.contains(c),a?e.scrollTop-=l.top-c.top+r:u||(UW(c,l)?e.scrollTop-=l.top-c.top+r:WW(c,l)&&(e.scrollTop+=n?c.top-l.top-r:c.bottom-l.bottom+r)),u||($W(c,l)?e.scrollLeft-=l.left-c.left+r:qW(c,l)&&(e.scrollLeft+=c.right-l.right+r)),e=e.parentNode}function WW(e,t){return e.bottom>t.bottom}function UW(e,t){return e.top<t.top}function $W(e,t){return e.left<t.left}function qW(e,t){return e.right>t.right}function KW(e){return kW(e)?e.startContainer.ownerDocument.defaultView:e.ownerDocument.defaultView}function GW(e){if(kW(e)){let t=e.commonAncestorContainer;return wW(t)&&(t=t.parentNode),t}return e.parentNode}function ZW(e,t){const n=KW(e),i=new xW(e);if(n===t)return i;{let e=n;for(;e!=t;){const t=e.frameElement,n=new xW(t).excludeScrollbarsAndBorders();i.moveBy(n.left,n.top),e=e.parent}}return i}const JW={ctrl:"",cmd:"",alt:"",shift:""},XW={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},QW={37:"",38:"",39:"",40:"",9:""},eU=function(){const e={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let t=65;t<=90;t++)e[String.fromCharCode(t).toLowerCase()]=t;for(let t=48;t<=57;t++)e[t-48]=t;for(let t=112;t<=123;t++)e["f"+(t-111)]=t;return Object.assign(e,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),e}(),tU=Object.fromEntries(Object.entries(eU).map((([e,t])=>{let n;return n=t in QW?QW[t]:e.charAt(0).toUpperCase()+e.slice(1),[t,n]})));function nU(e){let t;if("string"==typeof e){if(t=eU[e.toLowerCase()],!t)throw new dV("keyboard-unknown-key",null,{key:e})}else t=e.keyCode+(e.altKey?eU.alt:0)+(e.ctrlKey?eU.ctrl:0)+(e.shiftKey?eU.shift:0)+(e.metaKey?eU.cmd:0);return t}function iU(e){return"string"==typeof e&&(e=function(e){return e.split("+").map((e=>e.trim()))}(e)),e.map((e=>"string"==typeof e?function(e){if(e.endsWith("!"))return nU(e.slice(0,-1));const t=nU(e);return(QH.isMac||QH.isiOS)&&t==eU.ctrl?eU.cmd:t}(e):e)).reduce(((e,t)=>t+e),0)}function rU(e){let t=iU(e);return Object.entries(QH.isMac||QH.isiOS?JW:XW).reduce(((e,[n,i])=>(t&eU[n]&&(t&=~eU[n],e+=i),e)),"")+(t?tU[t]:"")}function oU(e,t){const n="ltr"===t;switch(e){case eU.arrowleft:return n?"left":"right";case eU.arrowright:return n?"right":"left";case eU.arrowup:return"up";case eU.arrowdown:return"down"}}function sU(e){return Array.isArray(e)?e:[e]}vW.window.CKEDITOR_TRANSLATIONS||(vW.window.CKEDITOR_TRANSLATIONS={});const aU=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function lU(e){return aU.includes(e)?"rtl":"ltr"}class cU{constructor({uiLanguage:e="en",contentLanguage:t,translations:n}={}){this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=lU(this.uiLanguage),this.contentLanguageDirection=lU(this.contentLanguage),this.translations=function(e){return Array.isArray(e)?e.reduce(((e,t)=>xT(e,t))):e}(n),this.t=(e,t)=>this._t(e,t)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,t=[]){t=sU(t),"string"==typeof e&&(e={string:e});const n=e.plural?t[0]:1;return function(e,t){return e.replace(/%(\d+)/g,((e,n)=>n<t.length?t[n]:e))}(function(e,t,n=1,i){if("number"!=typeof n)throw new dV("translation-service-quantity-not-a-number",null,{quantity:n});const r=i||vW.window.CKEDITOR_TRANSLATIONS,o=function(e){return Object.keys(e).length}(r);1===o&&(e=Object.keys(r)[0]);const s=t.id||t.string;if(0===o||!function(e,t,n){return!!n[e]&&!!n[e].dictionary[t]}(e,s,r))return 1!==n?t.plural:t.string;const a=r[e].dictionary,l=r[e].getPluralForm||(e=>1===e?0:1),c=a[s];return"string"==typeof c?c:c[Number(l(n))]}(this.uiLanguage,e,n,this.translations),t)}}class uU extends(vV()){constructor(e={},t={}){super();const n=HV(e);if(n||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n)for(const t of e)this._items.push(t),this._itemMap.set(this._getItemIdBeforeAdding(t),t)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(void 0===t)t=this._items.length;else if(t>this._items.length||t<0)throw new dV("collection-add-item-invalid-index",this);let n=0;for(const i of e){const e=this._getItemIdBeforeAdding(i),r=t+n;this._items.splice(r,0,i),this._itemMap.set(e,i),this.fire("add",i,r),n++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if("string"==typeof e)t=this._itemMap.get(e);else{if("number"!=typeof e)throw new dV("collection-get-invalid-arg",this);t=this._items[e]}return t||null}has(e){if("string"==typeof e)return this._itemMap.has(e);{const t=e[this._idProperty];return t&&this._itemMap.has(t)}}getIndex(e){let t;return t="string"==typeof e?this._itemMap.get(e):e,t?this._items.indexOf(t):-1}remove(e){const[t,n]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:n}),t}map(e,t){return this._items.map(e,t)}forEach(e,t){this._items.forEach(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new dV("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:e=>{this._setUpBindToBinding((t=>new e(t)))},using:e=>{"function"==typeof e?this._setUpBindToBinding(e):this._setUpBindToBinding((t=>t[e]))}}}_setUpBindToBinding(e){const t=this._bindToCollection,n=(n,i,r)=>{const o=t._bindToCollection==this,s=t._bindToInternalToExternalMap.get(i);if(o&&s)this._bindToExternalToInternalMap.set(i,s),this._bindToInternalToExternalMap.set(s,i);else{const n=e(i);if(!n)return void this._skippedIndexesFromExternal.push(r);let o=r;for(const e of this._skippedIndexesFromExternal)r>e&&o--;for(const e of t._skippedIndexesFromExternal)o>=e&&o++;this._bindToExternalToInternalMap.set(i,n),this._bindToInternalToExternalMap.set(n,i),this.add(n,o);for(let e=0;e<t._skippedIndexesFromExternal.length;e++)o<=t._skippedIndexesFromExternal[e]&&t._skippedIndexesFromExternal[e]++}};for(const e of t)n(0,e,t.getIndex(e));this.listenTo(t,"add",n),this.listenTo(t,"remove",((e,t,n)=>{const i=this._bindToExternalToInternalMap.get(t);i&&this.remove(i),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce(((e,t)=>(n<t&&e.push(t-1),n>t&&e.push(t),e)),[])}))}_getItemIdBeforeAdding(e){const t=this._idProperty;let n;if(t in e){if(n=e[t],"string"!=typeof n)throw new dV("collection-add-invalid-id",this);if(this.get(n))throw new dV("collection-add-item-already-exists",this)}else e[t]=n=aV();return n}_remove(e){let t,n,i,r=!1;const o=this._idProperty;if("string"==typeof e?(n=e,i=this._itemMap.get(n),r=!i,i&&(t=this._items.indexOf(i))):"number"==typeof e?(t=e,i=this._items[t],r=!i,i&&(n=i[o])):(i=e,n=i[o],t=this._items.indexOf(i),r=-1==t||!this._itemMap.get(n)),r)throw new dV("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(n);const s=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(s),this.fire("remove",i,t),[i,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function dU(e){const t=e.next();return t.done?null:t.value}class hU extends(mW(AV())){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new dV("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",(()=>this._focus(e)),{useCapture:!0}),this.listenTo(e,"blur",(()=>this._blur()),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout((()=>{this.focusedElement=null,this.isFocused=!1}),0)}}class pU{constructor(){this._listener=new(mW())}listenTo(e){this._listener.listenTo(e,"keydown",((e,t)=>{this._listener.fire("_keydown:"+nU(t),t)}))}set(e,t,n={}){const i=iU(e),r=n.priority;this._listener.listenTo(this._listener,"_keydown:"+i,((e,n)=>{t(n,(()=>{n.preventDefault(),n.stopPropagation(),e.stop()})),e.return=!0}),{priority:r})}press(e){return!!this._listener.fire("_keydown:"+nU(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function fU(e){return HV(e)?new Map(e):function(e){const t=new Map;for(const n in e)t.set(n,e[n]);return t}(e)}function mU(e,t){let n;function i(...r){i.cancel(),n=setTimeout((()=>e(...r)),t)}return i.cancel=()=>{clearTimeout(n)},i}function gU(e,t){return!!(n=e.charAt(t-1))&&1==n.length&&/[\ud800-\udbff]/.test(n)&&function(e){return!!e&&1==e.length&&/[\udc00-\udfff]/.test(e)}(e.charAt(t));var n}function bU(e,t){return!!(n=e.charAt(t))&&1==n.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n);var n}const yU=function(){const e=/\p{Regional_Indicator}{2}/u.source,t="(?:"+[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u].map((e=>e.source)).join("|")+")";return new RegExp(`${e}|${t}(?:${t})*`,"ug")}();function vU(e,t){const n=String(e).matchAll(yU);return Array.from(n).some((e=>e.index<t&&t<e.index+e[0].length))}class _U extends(AV()){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",wU,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",wU),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function wU(e){e.return=!1,e.stop()}class kU extends(AV()){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",(()=>{this.refresh()})),this.listenTo(e,"change:isReadOnly",(()=>{this.refresh()})),this.on("set:isEnabled",(t=>{if(!this.affectsData)return;const n=e.model.document.selection,i=!("$graveyard"==n.getFirstPosition().root.rootName)&&e.model.canEditAt(n);(e.isReadOnly||this._isEnabledBasedOnSelection&&!i)&&(t.return=!1,t.stop())}),{priority:"highest"}),this.on("execute",(e=>{this.isEnabled||e.stop()}),{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",CU,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",CU),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function CU(e){e.return=!1,e.stop()}class EU extends(vV()){constructor(e,t=[],n=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const e of t)e.pluginName&&this._availablePlugins.set(e.pluginName,e);this._contextPlugins=new Map;for(const[e,t]of n)this._contextPlugins.set(e,t),this._contextPlugins.set(t,e),e.pluginName&&this._availablePlugins.set(e.pluginName,e)}*[Symbol.iterator](){for(const e of this._plugins)"function"==typeof e[0]&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let t=e;throw"function"==typeof e&&(t=e.pluginName||e.name),new dV("plugincollection-plugin-not-loaded",this._context,{plugin:t})}return t}has(e){return this._plugins.has(e)}init(e,t=[],n=[]){const i=this,r=this._context;!function e(t,n=new Set){t.forEach((t=>{a(t)&&(n.has(t)||(n.add(t),t.pluginName&&!i._availablePlugins.has(t.pluginName)&&i._availablePlugins.set(t.pluginName,t),t.requires&&e(t.requires,n)))}))}(e),d(e);const o=[...function e(t,n=new Set){return t.map((e=>a(e)?e:i._availablePlugins.get(e))).reduce(((t,i)=>n.has(i)?t:(n.add(i),i.requires&&(d(i.requires,i),e(i.requires,n).forEach((e=>t.add(e)))),t.add(i))),new Set)}(e.filter((e=>!c(e,t))))];!function(e,t){for(const n of t){if("function"!=typeof n)throw new dV("plugincollection-replace-plugin-invalid-type",null,{pluginItem:n});const t=n.pluginName;if(!t)throw new dV("plugincollection-replace-plugin-missing-name",null,{pluginItem:n});if(n.requires&&n.requires.length)throw new dV("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:t});const r=i._availablePlugins.get(t);if(!r)throw new dV("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:t});const o=e.indexOf(r);if(-1===o){if(i._contextPlugins.has(r))return;throw new dV("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:t})}if(r.requires&&r.requires.length)throw new dV("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:t});e.splice(o,1,n),i._availablePlugins.set(t,n)}}(o,n);const s=function(e){return e.map((e=>{let t=i._contextPlugins.get(e);return t=t||new e(r),i._add(e,t),t}))}(o);return h(s,"init").then((()=>h(s,"afterInit"))).then((()=>s));function a(e){return"function"==typeof e}function l(e){return a(e)&&!!e.isContextPlugin}function c(e,t){return t.some((t=>t===e||u(e)===t||u(t)===e))}function u(e){return a(e)?e.pluginName||e.name:e}function d(e,n=null){e.map((e=>a(e)?e:i._availablePlugins.get(e)||e)).forEach((e=>{!function(e,t){if(!a(e)){if(t)throw new dV("plugincollection-soft-required",r,{missingPlugin:e,requiredBy:u(t)});throw new dV("plugincollection-plugin-not-found",r,{plugin:e})}}(e,n),function(e,t){if(l(t)&&!l(e))throw new dV("plugincollection-context-required",r,{plugin:u(e),requiredBy:u(t)})}(e,n),function(e,n){if(n&&c(e,t))throw new dV("plugincollection-required",r,{plugin:u(e),requiredBy:u(n)})}(e,n)}))}function h(e,t){return e.reduce(((e,n)=>n[t]?i._contextPlugins.has(n)?e:e.then(n[t].bind(n)):e),Promise.resolve())}}destroy(){const e=[];for(const[,t]of this)"function"!=typeof t.destroy||this._contextPlugins.has(t)||e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const n=e.pluginName;if(n){if(this._plugins.has(n))throw new dV("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:e});this._plugins.set(n,t)}}}class xU{constructor(e){this._contextOwner=null;const{translations:t,...n}=e||{};this.config=new cW(n,this.constructor.defaultConfig);const i=this.constructor.builtinPlugins;this.config.define("plugins",i),this.plugins=new EU(this,i);const r=this.config.get("language")||{};this.locale=new cU({uiLanguage:"string"==typeof r?r:r.ui,contentLanguage:this.config.get("language.content"),translations:t}),this.t=this.locale.t,this.editors=new uU}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const n of e.concat(t)){if("function"!=typeof n)throw new dV("context-initplugins-constructor-only",null,{Plugin:n});if(!0!==n.isContextPlugin)throw new dV("context-initplugins-invalid-plugin",null,{Plugin:n})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,(e=>e.destroy()))).then((()=>this.plugins.destroy()))}_addEditor(e,t){if(this._contextOwner)throw new dV("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise((t=>{const n=new this(e);t(n.initPlugins().then((()=>n)))}))}}AV();const SU=new WeakMap;let OU=!1;function TU(e,t){const n=SU.get(e),i=[];let r=!1;for(const[e,o]of n)o.isDirectHost&&(i.push(e),MU(t,e,o)&&(r=!0));for(const[e,o]of n){if(o.isDirectHost)continue;const n=PU(e);n&&(i.includes(n)||(o.hostElement=n,MU(t,e,o)&&(r=!0)))}return r}function MU(e,t,n){const{text:i,isDirectHost:r,hostElement:o}=n;let s=!1;return o.getAttribute("data-placeholder")!==i&&(e.setAttribute("data-placeholder",i,o),s=!0),(r||1==t.childCount)&&function(e,t){if(!e.isAttached())return!1;const n=Array.from(e.getChildren()).some((e=>!e.is("uiElement")));if(n)return!1;const i=e.document,r=i.selection.anchor;return!(i.isComposing&&r&&r.parent===e||!t&&i.isFocused&&(!r||r.parent===e))}(o,n.keepOnFocus)?function(e,t){return!t.hasClass("ck-placeholder")&&(e.addClass("ck-placeholder",t),!0)}(e,o)&&(s=!0):function(e,t){return!!t.hasClass("ck-placeholder")&&(e.removeClass("ck-placeholder",t),!0)}(e,o)&&(s=!0),s}function PU(e){if(e.childCount){const t=e.getChild(0);if(t.is("element")&&!t.is("uiElement")&&!t.is("attributeElement"))return t}return null}class DU{is(){throw new Error("is() method is abstract")}}var LU=function(e){return sW(e,4)};class AU extends(vV(DU)){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if(-1==(e=this.parent.getChildIndex(this)))throw new dV("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return null!==e&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return null!==e&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),i=e.getAncestors(t);let r=0;for(;n[r]==i[r]&&n[r];)r++;return 0===r?null:n[r-1]}isBefore(e){if(this==e)return!1;if(this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),i=BV(t,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return t[i]<n[i]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=LU(this);return delete e.parent,e}}AU.prototype.is=function(e){return"node"===e||"view:node"===e};class zU extends AU{constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof zU&&(this===e||this.data===e.data)}_clone(){return new zU(this.document,this.data)}}zU.prototype.is=function(e){return"$text"===e||"view:$text"===e||"text"===e||"view:text"===e||"node"===e||"view:node"===e};class IU extends DU{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.data.length)throw new dV("view-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.data.length)throw new dV("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let n=e.includeSelf?this.textNode:this.parent;for(;null!==n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}}IU.prototype.is=function(e){return"$textProxy"===e||"view:$textProxy"===e||"textProxy"===e||"view:textProxy"===e};class RU{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)("string"==typeof t||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const e of this._patterns){const n=jU(t,e);if(n)return{element:t,pattern:e,match:n}}return null}matchAll(...e){const t=[];for(const n of e)for(const e of this._patterns){const i=jU(n,e);i&&t.push({element:n,pattern:e,match:i})}return t.length>0?t:null}getElementName(){if(1!==this._patterns.length)return null;const e=this._patterns[0],t=e.name;return"function"==typeof e||!t||t instanceof RegExp?null:t}}function jU(e,t){if("function"==typeof t)return t(e);const n={};return t.name&&(n.name=function(e,t){return e instanceof RegExp?!!t.match(e):e===t}(t.name,e.name),!n.name)||t.attributes&&(n.attributes=function(e,t){const n=new Set(t.getAttributeKeys());return GO(e)?(void 0!==e.style&&hV("matcher-pattern-deprecated-attributes-style-key",e),void 0!==e.class&&hV("matcher-pattern-deprecated-attributes-class-key",e)):(n.delete("style"),n.delete("class")),NU(e,n,(e=>t.getAttribute(e)))}(t.attributes,e),!n.attributes)||t.classes&&(n.classes=function(e,t){return NU(e,t.getClassNames(),(()=>{}))}(t.classes,e),!n.classes)||t.styles&&(n.styles=function(e,t){return NU(e,t.getStyleNames(!0),(e=>t.getStyle(e)))}(t.styles,e),!n.styles)?null:n}function NU(e,t,n){const i=function(e){return Array.isArray(e)?e.map((e=>GO(e)?(void 0!==e.key&&void 0!==e.value||hV("matcher-pattern-missing-key-or-value",e),[e.key,e.value]):[e,!0])):GO(e)?Object.entries(e):[[e,!0]]}(e),r=Array.from(t),o=[];if(i.forEach((([e,t])=>{r.forEach((i=>{(function(e,t){return!0===e||e===t||e instanceof RegExp&&t.match(e)})(e,i)&&function(e,t,n){if(!0===e)return!0;const i=n(t);return e===i||e instanceof RegExp&&!!String(i).match(e)}(t,i,n)&&o.push(i)}))})),i.length&&!(o.length<i.length))return o}var FU=function(e,t){return t.length<2?e:XP(e,function(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++i<r;)o[i]=e[i+t];return o}(t,0,-1))},YU=function(e,t){return null==e||function(e,t){return t=ZP(t,e),null==(e=FU(e,t))||delete e[JP((n=t,i=null==n?0:n.length,i?n[i-1]:void 0))];var n,i}(e,t)},BU=function(e,t,n){return null==e?e:function(e,t,n,i){if(!jS(e))return e;for(var r=-1,o=(t=ZP(t,e)).length,s=o-1,a=e;null!=a&&++r<o;){var l=JP(t[r]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(r!=s){var u=a[l];void 0===(c=i?i(u,l,a):void 0)&&(c=jS(u)?u:cT(t[r+1])?[]:{})}sT(a,l,c),a=a[l]}return e}(e,t,n)};class HU{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=function(e){let t=null,n=0,i=0,r=null;const o=new Map;if(""===e)return o;";"!=e.charAt(e.length-1)&&(e+=";");for(let s=0;s<e.length;s++){const a=e.charAt(s);if(null===t)switch(a){case":":r||(r=e.substr(n,s-n),i=s+1);break;case'"':case"'":t=a;break;case";":{const t=e.substr(i,s-i);r&&o.set(r.trim(),t.trim()),r=null,n=s+1;break}}else a===t&&(t=null)}return o}(e);for(const[e,n]of t)this._styleProcessor.toNormalizedForm(e,n,this._styles)}has(e){if(this.isEmpty)return!1;const t=this._styleProcessor.getReducedForm(e,this._styles).find((([t])=>t===e));return Array.isArray(t)}set(e,t){if(jS(e))for(const[t,n]of Object.entries(e))this._styleProcessor.toNormalizedForm(t,n,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=WU(e);YU(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map((e=>e.join(":"))).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!jS(this._styles[e]))return this._styles[e];const t=this._styleProcessor.getReducedForm(e,this._styles).find((([t])=>t===e));return Array.isArray(t)?t[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map((([e])=>e))}clear(){this._styles={}}getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const n of t)e.push(...this._styleProcessor.getReducedForm(n,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const n=t.splice(0,t.length-1).join("."),i=QP(this._styles,n);i&&!Object.keys(i).length&&this.remove(n)}}class VU{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,n){if(jS(t))UU(n,WU(e),t);else if(this._normalizers.has(e)){const i=this._normalizers.get(e),{path:r,value:o}=i(t);UU(n,r,o)}else UU(n,e,t)}getNormalized(e,t){if(!e)return xT({},t);if(void 0!==t[e])return t[e];if(this._extractors.has(e)){const n=this._extractors.get(e);if("string"==typeof n)return QP(t,n);const i=n(e,t);if(i)return i}return QP(t,WU(e))}getReducedForm(e,t){const n=this.getNormalized(e,t);return void 0===n?[]:this._reducers.has(e)?this._reducers.get(e)(n):[[e,n]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter((t=>{const n=this.getNormalized(t,e);return n&&"object"==typeof n?Object.keys(n).length:n})),n=new Set([...t,...Object.keys(e)]);return Array.from(n)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const n of t)this._mapStyleNames(n,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function WU(e){return e.replace("-",".")}function UU(e,t,n){let i=n;jS(n)&&(i=xT({},QP(e,t),n)),BU(e,t,i)}class $U extends AU{constructor(e,t,n,i){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=t,this._attrs=function(e){const t=fU(e);for(const[e,n]of t)null===n?t.delete(e):"string"!=typeof n&&t.set(e,String(n));return t}(n),this._children=[],i&&this._insertChild(0,i),this._classes=new Set,this._attrs.has("class")){const e=this._attrs.get("class");qU(this._classes,e),this._attrs.delete("class")}this._styles=new HU(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if("class"==e)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"==e){const e=this._styles.toString();return""==e?void 0:e}return this._attrs.get(e)}hasAttribute(e){return"class"==e?this._classes.size>0:"style"==e?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof $U))return!1;if(this===e)return!0;if(this.name!=e.name)return!1;if(this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,n]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==n)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new RU(...e);let n=this.parent;for(;n&&!n.is("documentFragment");){if(t.match(n))return n;n=n.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),n=Array.from(this._attrs).map((e=>`${e[0]}="${e[1]}"`)).sort().join(" ");return this.name+(""==e?"":` class="${e}"`)+(t?` style="${t}"`:"")+(""==n?"":` ${n}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const n of this.getChildren())t.push(n._clone(e));const n=new this.constructor(this.document,this.name,this._attrs,t);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n._unsafeAttributesToRender=this._unsafeAttributesToRender,n}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let n=0;const i=function(e,t){return"string"==typeof t?[new zU(e,t)]:(HV(t)||(t=[t]),Array.from(t).map((t=>"string"==typeof t?new zU(e,t):t instanceof IU?new zU(e,t.data):t)))}(this.document,t);for(const t of i)null!==t.parent&&t._remove(),t.parent=this,t.document=this.document,this._children.splice(e,0,t),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const n=String(t);this._fireChange("attributes",this),"class"==e?qU(this._classes,n):"style"==e?this._styles.setTo(n):this._attrs.set(e,n)}_removeAttribute(e){return this._fireChange("attributes",this),"class"==e?this._classes.size>0&&(this._classes.clear(),!0):"style"==e?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of sU(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of sU(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),"string"!=typeof e?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of sU(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function qU(e,t){const n=t.split(/\s+/);e.clear(),n.forEach((t=>e.add(t)))}$U.prototype.is=function(e,t){return t?t===this.name&&("element"===e||"view:element"===e):"element"===e||"view:element"===e||"node"===e||"view:node"===e};class KU extends $U{constructor(e,t,n,i){super(e,t,n,i),this.getFillerOffset=GU}}function GU(){const e=[...this.getChildren()],t=e[this.childCount-1];if(t&&t.is("element","br"))return this.childCount;for(const t of e)if(!t.is("uiElement"))return null;return this.childCount}KU.prototype.is=function(e,t){return t?t===this.name&&("containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};class ZU extends(AV(KU)){constructor(e,t,n,i){super(e,t,n,i),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",(t=>t&&e.selection.editableElement==this)),this.listenTo(e.selection,"change",(()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this}))}destroy(){this.stopListening()}}ZU.prototype.is=function(e,t){return t?t===this.name&&("editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};const JU=Symbol("rootName");class XU extends ZU{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(JU)}set rootName(e){this._setCustomProperty(JU,e)}set _name(e){this.name=e}}XU.prototype.is=function(e,t){return t?t===this.name&&("rootElement"===e||"view:rootElement"===e||"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"rootElement"===e||"view:rootElement"===e||"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};class QU{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new dV("view-tree-walker-no-start-position",null);if(e.direction&&"forward"!=e.direction&&"backward"!=e.direction)throw new dV("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=e$._createAt(e.startPosition):this._position=e$._createAt(e.boundaries["backward"==e.direction?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n;do{n=this.position,t=this.next()}while(!t.done&&e(t.value));t.done||(this._position=n)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,n=e.parent;if(null===n.parent&&e.offset===n.childCount)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let i;if(n instanceof zU){if(e.isAtEnd)return this._position=e$._createAfter(n),this._next();i=n.data[e.offset]}else i=n.getChild(e.offset);if(i instanceof $U){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new e$(i,0);return this._position=e,this._formatReturnValue("elementStart",i,t,e,1)}if(i instanceof zU){if(this.singleCharacters)return e=new e$(i,0),this._position=e,this._next();let n,r=i.data.length;return i==this._boundaryEndParent?(r=this.boundaries.end.offset,n=new IU(i,0,r),e=e$._createAfter(n)):(n=new IU(i,0,i.data.length),e.offset++),this._position=e,this._formatReturnValue("text",n,t,e,r)}if("string"==typeof i){let i;i=this.singleCharacters?1:(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-e.offset;const r=new IU(n,e.offset,i);return e.offset+=i,this._position=e,this._formatReturnValue("text",r,t,e,i)}return e=e$._createAfter(n),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,t,e)}_previous(){let e=this.position.clone();const t=this.position,n=e.parent;if(null===n.parent&&0===e.offset)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let i;if(n instanceof zU){if(e.isAtStart)return this._position=e$._createBefore(n),this._previous();i=n.data[e.offset-1]}else i=n.getChild(e.offset-1);if(i instanceof $U)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",i,t,e,1)):(e=new e$(i,i.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",i,t,e));if(i instanceof zU){if(this.singleCharacters)return e=new e$(i,i.data.length),this._position=e,this._previous();let n,r=i.data.length;if(i==this._boundaryStartParent){const t=this.boundaries.start.offset;n=new IU(i,t,i.data.length-t),r=n.data.length,e=e$._createBefore(n)}else n=new IU(i,0,i.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",n,t,e,r)}if("string"==typeof i){let i;if(this.singleCharacters)i=1;else{const t=n===this._boundaryStartParent?this.boundaries.start.offset:0;i=e.offset-t}e.offset-=i;const r=new IU(n,e.offset,i);return this._position=e,this._formatReturnValue("text",r,t,e,i)}return e=e$._createBefore(n),this._position=e,this._formatReturnValue("elementStart",n,t,e,1)}_formatReturnValue(e,t,n,i,r){return t instanceof IU&&(t.offsetInText+t.data.length==t.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=e$._createAfter(t.textNode):(i=e$._createAfter(t.textNode),this._position=i)),0===t.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=e$._createBefore(t.textNode):(i=e$._createBefore(t.textNode),this._position=i))),{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:i,length:r}}}}class e$ extends DU{constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof ZU);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const t=e$._createAt(this),n=t.offset+e;return t.offset=n<0?0:n,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new QU(t);return n.skip(e),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let i=0;for(;t[i]==n[i]&&t[i];)i++;return 0===i?null:t[i-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return"before"==this.compareWith(e)}isAfter(e){return"after"==this.compareWith(e)}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],n=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),n.push(e.offset);const i=BV(t,n);switch(i){case"prefix":return"before";case"extension":return"after";default:return t[i]<n[i]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new QU(e)}clone(){return new e$(this.parent,this.offset)}static _createAt(e,t){if(e instanceof e$)return new this(e.parent,e.offset);{const n=e;if("end"==t)t=n.is("$text")?n.data.length:n.childCount;else{if("before"==t)return this._createBefore(n);if("after"==t)return this._createAfter(n);if(0!==t&&!t)throw new dV("view-createpositionat-offset-required",n)}return new e$(n,t)}}static _createAfter(e){if(e.is("$textProxy"))return new e$(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new dV("view-position-after-root",e,{root:e});return new e$(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new e$(e.textNode,e.offsetInText);if(!e.parent)throw new dV("view-position-before-root",e,{root:e});return new e$(e.parent,e.index)}}e$.prototype.is=function(e){return"position"===e||"view:position"===e};class t$ extends DU{constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new QU({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(n$,{direction:"backward"}),t=this.end.getLastMatchingPosition(n$);return e.parent.is("$text")&&e.isAtStart&&(e=e$._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=e$._createAfter(t.parent)),new t$(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(n$);if(e.isAfter(this.end)||e.isEqual(this.end))return new t$(e,e);let t=this.end.getLastMatchingPosition(n$,{direction:"backward"});const n=e.nodeAfter,i=t.nodeBefore;return n&&n.is("$text")&&(e=new e$(n,0)),i&&i.is("$text")&&(t=new e$(i,i.data.length)),new t$(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),i=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&i}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new t$(this.start,e.start)),this.containsPosition(e.end)&&t.push(new t$(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new t$(t,n)}return null}getWalker(e={}){return e.boundaries=this,new QU(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new t$(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new QU(e);for(const e of t)yield e.item}*getPositions(e={}){e.boundaries=this;const t=new QU(e);yield t.position;for(const e of t)yield e.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,n,i){return new this(new e$(e,t),new e$(n,i))}static _createFromPositionAndShift(e,t){const n=e,i=e.getShiftedBy(t);return t>0?new this(n,i):new this(i,n)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(e$._createBefore(e),t)}}function n$(e){return!(!e.item.is("attributeElement")&&!e.item.is("uiElement"))}t$.prototype.is=function(e){return"range"===e||"view:range"===e};class i$ extends(vV(DU)){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel)return!1;if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const i of e._ranges)if(t.isEqual(i)){n=!0;break}if(!n)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=YV(this.getRanges());if(t!=YV(e.getRanges()))return!1;if(0==t)return!0;for(let t of this.getRanges()){t=t.getTrimmed();let n=!1;for(let i of e.getRanges())if(i=i.getTrimmed(),t.start.isEqual(i.start)&&t.end.isEqual(i.end)){n=!0;break}if(!n)return!1}return!0}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,n,i]=e;if("object"==typeof n&&(i=n,n=void 0),null===t)this._setRanges([]),this._setFakeOptions(i);else if(t instanceof i$||t instanceof r$)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof t$)this._setRanges([t],i&&i.backward),this._setFakeOptions(i);else if(t instanceof e$)this._setRanges([new t$(t)]),this._setFakeOptions(i);else if(t instanceof AU){const e=!!i&&!!i.backward;let r;if(void 0===n)throw new dV("view-selection-setto-required-second-parameter",this);r="in"==n?t$._createIn(t):"on"==n?t$._createOn(t):new t$(e$._createAt(t,n)),this._setRanges([r],e),this._setFakeOptions(i)}else{if(!HV(t))throw new dV("view-selection-setto-not-selectable",this);this._setRanges(t,i&&i.backward),this._setFakeOptions(i)}this.fire("change")}setFocus(e,t){if(null===this.anchor)throw new dV("view-selection-setfocus-no-ranges",this);const n=e$._createAt(e,t);if("same"==n.compareWith(this.focus))return;const i=this.anchor;this._ranges.pop(),"before"==n.compareWith(i)?this._addRange(new t$(n,i),!0):this._addRange(new t$(i,n)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const t of e)this._addRange(t);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof t$))throw new dV("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new dV("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new t$(e.start,e.end))}}i$.prototype.is=function(e){return"selection"===e||"view:selection"===e};class r$ extends(vV(DU)){constructor(...e){super(),this._selection=new i$,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}}r$.prototype.is=function(e){return"selection"===e||"documentSelection"==e||"view:selection"==e||"view:documentSelection"==e};class o$ extends oV{constructor(e,t,n){super(e,t),this.startRange=n,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const s$=Symbol("bubbling contexts");function a$(e){return class extends e{fire(e,...t){try{const n=e instanceof oV?e:new oV(this,e),i=d$(this);if(!i.size)return;if(l$(n,"capturing",this),c$(i,"$capture",n,...t))return n.return;const r=n.startRange||this.selection.getFirstRange(),o=r?r.getContainedElement():null,s=!!o&&Boolean(u$(i,o));let a=o||function(e){if(!e)return null;const t=e.start.parent,n=e.end.parent,i=t.getPath(),r=n.getPath();return i.length>r.length?t:n}(r);if(l$(n,"atTarget",a),!s){if(c$(i,"$text",n,...t))return n.return;l$(n,"bubbling",a)}for(;a;){if(a.is("rootElement")){if(c$(i,"$root",n,...t))return n.return}else if(a.is("element")&&c$(i,a.name,n,...t))return n.return;if(c$(i,a,n,...t))return n.return;a=a.parent,l$(n,"bubbling",a)}return l$(n,"bubbling",this),c$(i,"$document",n,...t),n.return}catch(e){dV.rethrowUnexpectedError(e,this)}}_addEventListener(e,t,n){const i=sU(n.context||"$document"),r=d$(this);for(const o of i){let i=r.get(o);i||(i=new(vV()),r.set(o,i)),this.listenTo(i,e,t,n)}}_removeEventListener(e,t){const n=d$(this);for(const i of n.values())this.stopListening(i,e,t)}}}{const e=a$(Object);["fire","_addEventListener","_removeEventListener"].forEach((t=>{a$[t]=e.prototype[t]}))}function l$(e,t,n){e instanceof o$&&(e._eventPhase=t,e._currentTarget=n)}function c$(e,t,n,...i){const r="string"==typeof t?e.get(t):u$(e,t);return!!r&&(r.fire(n,...i),n.stop.called)}function u$(e,t){for(const[n,i]of e)if("function"==typeof n&&n(t))return i;return null}function d$(e){return e[s$]||(e[s$]=new Map),e[s$]}class h$ extends(a$(AV())){constructor(e){super(),this._postFixers=new Set,this.selection=new r$,this.roots=new uU({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach((e=>e.destroy())),this.stopListening()}_callPostFixers(e){let t=!1;do{for(const n of this._postFixers)if(t=n(e),t)break}while(t)}}class p$ extends $U{constructor(e,t,n,i){super(e,t,n,i),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=m$}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new dV("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return null!==this.id||null!==e.id?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}p$.DEFAULT_PRIORITY=10;var f$=p$;function m$(){if(g$(this))return null;let e=this.parent;for(;e&&e.is("attributeElement");){if(g$(e)>1)return null;e=e.parent}return!e||g$(e)>1?null:this.childCount}function g$(e){return Array.from(e.getChildren()).filter((e=>!e.is("uiElement"))).length}p$.prototype.is=function(e,t){return t?t===this.name&&("attributeElement"===e||"view:attributeElement"===e||"element"===e||"view:element"===e):"attributeElement"===e||"view:attributeElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};class b$ extends $U{constructor(e,t,n,i){super(e,t,n,i),this.getFillerOffset=y$}_insertChild(e,t){if(t&&(t instanceof AU||Array.from(t).length>0))throw new dV("view-emptyelement-cannot-add",[this,t]);return 0}}function y$(){return null}b$.prototype.is=function(e,t){return t?t===this.name&&("emptyElement"===e||"view:emptyElement"===e||"element"===e||"view:element"===e):"emptyElement"===e||"view:emptyElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};class v$ extends $U{constructor(e,t,n,i){super(e,t,n,i),this.getFillerOffset=_$}_insertChild(e,t){if(t&&(t instanceof AU||Array.from(t).length>0))throw new dV("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const e of this.getAttributeKeys())t.setAttribute(e,this.getAttribute(e));return t}}function _$(){return null}v$.prototype.is=function(e,t){return t?t===this.name&&("uiElement"===e||"view:uiElement"===e||"element"===e||"view:element"===e):"uiElement"===e||"view:uiElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};class w$ extends $U{constructor(e,t,n,i){super(e,t,n,i),this.getFillerOffset=k$}_insertChild(e,t){if(t&&(t instanceof AU||Array.from(t).length>0))throw new dV("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}function k$(){return null}w$.prototype.is=function(e,t){return t?t===this.name&&("rawElement"===e||"view:rawElement"===e||"element"===e||"view:element"===e):"rawElement"===e||"view:rawElement"===e||e===this.name||e==="view:"+this.name||"element"===e||"view:element"===e||"node"===e||"view:node"===e};class C$ extends(vV(DU)){constructor(e,t){super(),this._children=[],this._customProperties=new Map,this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let n=0;const i=function(e,t){return"string"==typeof t?[new zU(e,t)]:(HV(t)||(t=[t]),Array.from(t).map((t=>"string"==typeof t?new zU(e,t):t instanceof IU?new zU(e,t.data):t)))}(this.document,t);for(const t of i)null!==t.parent&&t._remove(),t.parent=this,this._children.splice(e,0,t),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}C$.prototype.is=function(e){return"documentFragment"===e||"view:documentFragment"===e};class E${constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new C$(this.document,e)}createText(e){return new zU(this.document,e)}createAttributeElement(e,t,n={}){const i=new f$(this.document,e,t);return"number"==typeof n.priority&&(i._priority=n.priority),n.id&&(i._id=n.id),n.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),i}createContainerElement(e,t,n={},i={}){let r=null;GO(n)?i=n:r=n;const o=new KU(this.document,e,t,r);return i.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),o}createEditableElement(e,t,n={}){const i=new ZU(this.document,e,t);return n.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),i}createEmptyElement(e,t,n={}){const i=new b$(this.document,e,t);return n.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),i}createUIElement(e,t,n){const i=new v$(this.document,e,t);return n&&(i.render=n),i}createRawElement(e,t,n,i={}){const r=new w$(this.document,e,t);return n&&(r.render=n),i.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),r}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){GO(e)&&void 0===n?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof e$?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new dV("view-writer-break-non-container-element",this.document);if(!t.parent)throw new dV("view-writer-break-root",this.document);if(e.isAtStart)return e$._createBefore(t);if(!e.isAtEnd){const n=t._clone(!1);this.insert(e$._createAfter(t),n);const i=new t$(e,e$._createAt(t,"end")),r=new e$(n,0);this.move(i,r)}return e$._createAfter(t)}mergeAttributes(e){const t=e.offset,n=e.parent;if(n.is("$text"))return e;if(n.is("attributeElement")&&0===n.childCount){const e=n.parent,t=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new e$(e,t))}const i=n.getChild(t-1),r=n.getChild(t);if(!i||!r)return e;if(i.is("$text")&&r.is("$text"))return T$(i,r);if(i.is("attributeElement")&&r.is("attributeElement")&&i.isSimilar(r)){const e=i.childCount;return i._appendChild(r.getChildren()),r._remove(),this._removeFromClonedElementsGroup(r),this.mergeAttributes(new e$(i,e))}return e}mergeContainers(e){const t=e.nodeBefore,n=e.nodeAfter;if(!(t&&n&&t.is("containerElement")&&n.is("containerElement")))throw new dV("view-writer-merge-containers-invalid-position",this.document);const i=t.getChild(t.childCount-1),r=i instanceof zU?e$._createAt(i,"end"):e$._createAt(t,"end");return this.move(t$._createIn(n),e$._createAt(t,"end")),this.remove(t$._createOn(n)),r}insert(e,t){P$(t=HV(t)?[...t]:[t],this.document);const n=t.reduce(((e,t)=>{const n=e[e.length-1],i=!t.is("uiElement");return n&&n.breakAttributes==i?n.nodes.push(t):e.push({breakAttributes:i,nodes:[t]}),e}),[]);let i=null,r=e;for(const{nodes:e,breakAttributes:t}of n){const n=this._insertNodes(r,e,t);i||(i=n.start),r=n.end}return i?new t$(i,r):new t$(e)}remove(e){const t=e instanceof t$?e:t$._createOn(e);if(L$(t,this.document),t.isCollapsed)return new C$(this.document);const{start:n,end:i}=this._breakAttributesRange(t,!0),r=n.parent,o=i.offset-n.offset,s=r._removeChildren(n.offset,o);for(const e of s)this._removeFromClonedElementsGroup(e);const a=this.mergeAttributes(n);return t.start=a,t.end=a.clone(),new C$(this.document,s)}clear(e,t){L$(e,this.document);const n=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const i of n){const n=i.item;let r;if(n.is("element")&&t.isSimilar(n))r=t$._createOn(n);else if(!i.nextPosition.isAfter(e.start)&&n.is("$textProxy")){const e=n.getAncestors().find((e=>e.is("element")&&t.isSimilar(e)));e&&(r=t$._createIn(e))}r&&(r.end.isAfter(e.end)&&(r.end=e.end),r.start.isBefore(e.start)&&(r.start=e.start),this.remove(r))}}move(e,t){let n;if(t.isAfter(e.end)){const i=(t=this._breakAttributes(t,!0)).parent,r=i.childCount;e=this._breakAttributesRange(e,!0),n=this.remove(e),t.offset+=i.childCount-r}else n=this.remove(e);return this.insert(t,n)}wrap(e,t){if(!(t instanceof f$))throw new dV("view-writer-wrap-invalid-attribute",this.document);if(L$(e,this.document),e.isCollapsed){let i=e.start;i.parent.is("element")&&(n=i.parent,!Array.from(n.getChildren()).some((e=>!e.is("uiElement"))))&&(i=i.getLastMatchingPosition((e=>e.item.is("uiElement")))),i=this._wrapPosition(i,t);const r=this.document.selection;return r.isCollapsed&&r.getFirstPosition().isEqual(e.start)&&this.setSelection(i),new t$(i)}return this._wrapRange(e,t);var n}unwrap(e,t){if(!(t instanceof f$))throw new dV("view-writer-unwrap-invalid-attribute",this.document);if(L$(e,this.document),e.isCollapsed)return e;const{start:n,end:i}=this._breakAttributesRange(e,!0),r=n.parent,o=this._unwrapChildren(r,n.offset,i.offset,t),s=this.mergeAttributes(o.start);s.isEqual(o.start)||o.end.offset--;const a=this.mergeAttributes(o.end);return new t$(s,a)}rename(e,t){const n=new KU(this.document,e,t.getAttributes());return this.insert(e$._createAfter(t),n),this.move(t$._createIn(t),e$._createAt(n,0)),this.remove(t$._createOn(t)),n}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return e$._createAt(e,t)}createPositionAfter(e){return e$._createAfter(e)}createPositionBefore(e){return e$._createBefore(e)}createRange(e,t){return new t$(e,t)}createRangeOn(e){return t$._createOn(e)}createRangeIn(e){return t$._createIn(e)}createSelection(...e){return new i$(...e)}createSlot(e="children"){if(!this._slotFactory)throw new dV("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,n){let i,r;if(i=n?x$(e):e.parent.is("$text")?e.parent.parent:e.parent,!i)throw new dV("view-writer-invalid-position-container",this.document);r=n?this._breakAttributes(e,!0):e.parent.is("$text")?O$(e):e;const o=i._insertChild(r.offset,t);for(const e of t)this._addToClonedElementsGroup(e);const s=r.getShiftedBy(o),a=this.mergeAttributes(r);a.isEqual(r)||s.offset--;const l=this.mergeAttributes(s);return new t$(a,l)}_wrapChildren(e,t,n,i){let r=t;const o=[];for(;r<n;){const t=e.getChild(r),n=t.is("$text"),l=t.is("attributeElement");if(l&&this._wrapAttributeElement(i,t))o.push(new e$(e,r));else if(n||!l||(a=t,(s=i).priority<a.priority||!(s.priority>a.priority)&&s.getIdentity()<a.getIdentity())){const n=i._clone();t._remove(),n._appendChild(t),e._insertChild(r,n),this._addToClonedElementsGroup(n),o.push(new e$(e,r))}else this._wrapChildren(t,0,t.childCount,i);r++}var s,a;let l=0;for(const e of o)e.offset-=l,e.offset!=t&&(this.mergeAttributes(e).isEqual(e)||(l++,n--));return t$._createFromParentsAndOffsets(e,t,e,n)}_unwrapChildren(e,t,n,i){let r=t;const o=[];for(;r<n;){const t=e.getChild(r);if(t.is("attributeElement"))if(t.isSimilar(i)){const i=t.getChildren(),s=t.childCount;t._remove(),e._insertChild(r,i),this._removeFromClonedElementsGroup(t),o.push(new e$(e,r),new e$(e,r+s)),r+=s,n+=s-1}else this._unwrapAttributeElement(i,t)?(o.push(new e$(e,r),new e$(e,r+1)),r++):(this._unwrapChildren(t,0,t.childCount,i),r++);else r++}let s=0;for(const e of o)e.offset-=s,e.offset!=t&&e.offset!=n&&(this.mergeAttributes(e).isEqual(e)||(s++,n--));return t$._createFromParentsAndOffsets(e,t,e,n)}_wrapRange(e,t){const{start:n,end:i}=this._breakAttributesRange(e,!0),r=n.parent,o=this._wrapChildren(r,n.offset,i.offset,t),s=this.mergeAttributes(o.start);s.isEqual(o.start)||o.end.offset--;const a=this.mergeAttributes(o.end);return new t$(s,a)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return S$(e.clone());e.parent.is("$text")&&(e=O$(e));const n=this.createAttributeElement("_wrapPosition-fake-element");n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,e.parent._insertChild(e.offset,n);const i=new t$(e,e.getShiftedBy(1));this.wrap(i,t);const r=new e$(n.parent,n.index);n._remove();const o=r.nodeBefore,s=r.nodeAfter;return o instanceof zU&&s instanceof zU?T$(o,s):S$(r)}_wrapAttributeElement(e,t){if(!A$(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if("class"!==n&&"style"!==n&&t.hasAttribute(n)&&t.getAttribute(n)!==e.getAttribute(n))return!1;for(const n of e.getStyleNames())if(t.hasStyle(n)&&t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())"class"!==n&&"style"!==n&&(t.hasAttribute(n)||this.setAttribute(n,e.getAttribute(n),t));for(const n of e.getStyleNames())t.hasStyle(n)||this.setStyle(n,e.getStyle(n),t);for(const n of e.getClassNames())t.hasClass(n)||this.addClass(n,t);return!0}_unwrapAttributeElement(e,t){if(!A$(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if("class"!==n&&"style"!==n&&(!t.hasAttribute(n)||t.getAttribute(n)!==e.getAttribute(n)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const n of e.getStyleNames())if(!t.hasStyle(n)||t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())"class"!==n&&"style"!==n&&this.removeAttribute(n,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const n=e.start,i=e.end;if(L$(e,this.document),e.isCollapsed){const n=this._breakAttributes(e.start,t);return new t$(n,n)}const r=this._breakAttributes(i,t),o=r.parent.childCount,s=this._breakAttributes(n,t);return r.offset+=r.parent.childCount-o,new t$(s,r)}_breakAttributes(e,t=!1){const n=e.offset,i=e.parent;if(e.parent.is("emptyElement"))throw new dV("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new dV("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new dV("view-writer-cannot-break-raw-element",this.document);if(!t&&i.is("$text")&&D$(i.parent))return e.clone();if(D$(i))return e.clone();if(i.is("$text"))return this._breakAttributes(O$(e),t);if(n==i.childCount){const e=new e$(i.parent,i.index+1);return this._breakAttributes(e,t)}if(0===n){const e=new e$(i.parent,i.index);return this._breakAttributes(e,t)}{const e=i.index+1,r=i._clone();i.parent._insertChild(e,r),this._addToClonedElementsGroup(r);const o=i.childCount-n,s=i._removeChildren(n,o);r._appendChild(s);const a=new e$(i.parent,e);return this._breakAttributes(a,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const t of e.getChildren())this._addToClonedElementsGroup(t);const t=e.id;if(!t)return;let n=this._cloneGroups.get(t);n||(n=new Set,this._cloneGroups.set(t,n)),n.add(e),e._clonesGroup=n}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const t of e.getChildren())this._removeFromClonedElementsGroup(t);const t=e.id;if(!t)return;const n=this._cloneGroups.get(t);n&&n.delete(e)}}function x$(e){let t=e.parent;for(;!D$(t);){if(!t)return;t=t.parent}return t}function S$(e){const t=e.nodeBefore;if(t&&t.is("$text"))return new e$(t,t.data.length);const n=e.nodeAfter;return n&&n.is("$text")?new e$(n,0):e}function O$(e){if(e.offset==e.parent.data.length)return new e$(e.parent.parent,e.parent.index+1);if(0===e.offset)return new e$(e.parent.parent,e.parent.index);const t=e.parent.data.slice(e.offset);return e.parent._data=e.parent.data.slice(0,e.offset),e.parent.parent._insertChild(e.parent.index+1,new zU(e.root.document,t)),new e$(e.parent.parent,e.parent.index+1)}function T$(e,t){const n=e.data.length;return e._data+=t.data,t._remove(),new e$(e,n)}const M$=[zU,f$,KU,b$,w$,v$];function P$(e,t){for(const n of e){if(!M$.some((e=>n instanceof e)))throw new dV("view-writer-insert-invalid-node-type",t);n.is("$text")||P$(n.getChildren(),t)}}function D$(e){return e&&(e.is("containerElement")||e.is("documentFragment"))}function L$(e,t){const n=x$(e.start),i=x$(e.end);if(!n||!i||n!==i)throw new dV("view-writer-invalid-range-container",t)}function A$(e,t){return null===e.id&&null===t.id}const z$=e=>e.createTextNode(""),I$=e=>{const t=e.createElement("span");return t.dataset.ckeFiller="true",t.innerText="",t},R$=e=>{const t=e.createElement("br");return t.dataset.ckeFiller="true",t},j$=7,N$="".repeat(j$);function F$(e){return"string"==typeof e?e.substr(0,j$)===N$:wW(e)&&e.data.substr(0,j$)===N$}function Y$(e){return e.data.length==j$&&F$(e)}function B$(e){const t="string"==typeof e?e:e.data;return F$(e)?t.slice(j$):t}function H$(e,t){if(t.keyCode==eU.arrowleft){const e=t.domTarget.ownerDocument.defaultView.getSelection();if(1==e.rangeCount&&e.getRangeAt(0).collapsed){const t=e.getRangeAt(0).startContainer,n=e.getRangeAt(0).startOffset;F$(t)&&n<=j$&&e.collapse(t,0)}}}class V$ extends(AV()){constructor(e,t){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),QH.isBlink&&!QH.isAndroid&&this.on("change:isSelecting",(()=>{this.isSelecting||this.render()})),this.set("isComposing",!1),this.on("change:isComposing",(()=>{this.isComposing||this.render()}))}markToSync(e,t){if("text"===e)this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if("attributes"===e)this.markedAttributes.add(t);else{if("children"!==e)throw new dV("view-renderer-unknown-type",this);this.markedChildren.add(t)}}}render(){if(this.isComposing&&!QH.isAndroid)return;let e=null;const t=!(QH.isBlink&&!QH.isAndroid&&this.isSelecting);for(const e of this.markedChildren)this._updateChildrenMappings(e);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=e$._createBefore(e.parent)));for(const e of this.markedAttributes)this._updateAttrs(e);for(const t of this.markedChildren)this._updateChildren(t,{inlineFillerPosition:e});for(const t of this.markedTexts)!this.markedChildren.has(t.parent)&&this.domConverter.mapViewToDom(t.parent)&&this._updateText(t,{inlineFillerPosition:e});if(t)if(e){const t=this.domConverter.viewPositionToDom(e),n=t.parent.ownerDocument;F$(t.parent)?this._inlineFiller=t.parent:this._inlineFiller=W$(n,t.parent,t.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.childNodes),i=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),r=this._diffNodeLists(n,i),o=this._findUpdateActions(r,n,i,U$);if(-1!==o.indexOf("update")){const t={equal:0,insert:0,delete:0};for(const r of o)if("update"===r){const r=t.equal+t.insert,o=t.equal+t.delete,s=e.getChild(r);!s||s.is("uiElement")||s.is("rawElement")||this._updateElementMappings(s,n[o]),BW(i[r]),t.equal++}else t[r]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?e$._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&wW(t.parent)&&F$(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!F$(e))throw new dV("view-renderer-filler-was-lost",this);Y$(e)?e.remove():e.data=e.data.substr(j$),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,n=e.offset;if(!this.domConverter.mapViewToDom(t.root))return!1;if(!t.is("element"))return!1;if(!function(e){if("false"==e.getAttribute("contenteditable"))return!1;const t=e.findAncestor((e=>e.hasAttribute("contenteditable")));return!t||"true"==t.getAttribute("contenteditable")}(t))return!1;if(n===t.getFillerOffset())return!1;const i=e.nodeBefore,r=e.nodeAfter;return!(i instanceof zU||r instanceof zU||QH.isAndroid&&(i||r))}_updateText(e,t){const n=this.domConverter.findCorrespondingDomText(e);let i=this.domConverter.viewToDom(e).data;const r=t.inlineFillerPosition;r&&r.parent==e.parent&&r.offset==e.index&&(i=N$+i),K$(n,i)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.attributes).map((e=>e.name)),i=e.getAttributeKeys();for(const n of i)this.domConverter.setDomElementAttribute(t,n,e.getAttribute(n),e);for(const i of n)e.hasAttribute(i)||this.domConverter.removeDomElementAttribute(t,i)}_updateChildren(e,t){const n=this.domConverter.mapViewToDom(e);if(!n)return;if(QH.isAndroid){let e=null;for(const t of Array.from(n.childNodes)){if(e&&wW(e)&&wW(t)){n.normalize();break}e=t}}const i=t.inlineFillerPosition,r=n.childNodes,o=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));i&&i.parent===e&&W$(n.ownerDocument,o,i.offset);const s=this._diffNodeLists(r,o),a=this._findUpdateActions(s,r,o,$$);let l=0;const c=new Set;for(const e of a)"delete"===e?(c.add(r[l]),BW(r[l])):"equal"!==e&&"update"!==e||l++;l=0;for(const e of a)"insert"===e?(IW(n,l,o[l]),l++):"update"===e?(K$(r[l],o[l].data),l++):"equal"===e&&(this._markDescendantTextToSync(this.domConverter.domToView(o[l])),l++);for(const e of c)e.parentNode||this.domConverter.unbindDomElement(e)}_diffNodeLists(e,t){return rV(e=function(e,t){const n=Array.from(e);if(0==n.length||!t)return n;return n[n.length-1]==t&&n.pop(),n}(e,this._fakeSelectionContainer),t,q$.bind(null,this.domConverter))}_findUpdateActions(e,t,n,i){if(-1===e.indexOf("insert")||-1===e.indexOf("delete"))return e;let r=[],o=[],s=[];const a={equal:0,insert:0,delete:0};for(const l of e)"insert"===l?s.push(n[a.equal+a.insert]):"delete"===l?o.push(t[a.equal+a.delete]):(r=r.concat(rV(o,s,i).map((e=>"equal"===e?"update":e))),r.push("equal"),o=[],s=[]),a[l]++;return r.concat(rV(o,s,i).map((e=>"equal"===e?"update":e)))}_markDescendantTextToSync(e){if(e)if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}_updateSelection(){if(QH.isBlink&&!QH.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&QH.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(e){const t=e.createElement("div");return t.className="ck-fake-selection-container",Object.assign(t.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),t.textContent="",t}(t));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(e))return;n.parentElement&&n.parentElement==e||e.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||"";const i=t.getSelection(),r=t.createRange();i.removeAllRanges(),r.selectNodeContents(n),i.addRange(r)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),i=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(n.parent,n.offset,i.parent,i.offset),QH.isGecko&&function(e,t){const n=e.parent;if(n.nodeType!=Node.ELEMENT_NODE||e.offset!=n.childNodes.length-1)return;const i=n.childNodes[e.offset];i&&"BR"==i.tagName&&t.addRange(t.getRangeAt(0))}(i,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return!(t&&this.selection.isEqual(t)||!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,n=e.ownerDocument.getSelection();return!t||t.parentElement!==e||n.anchorNode!==t&&!t.contains(n.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const n=e.activeElement,i=this.domConverter.mapDomToView(n);n&&i&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function W$(e,t,n){const i=t instanceof Array?t:t.childNodes,r=i[n];if(wW(r))return r.data=N$+r.data,r;{const r=e.createTextNode(N$);return Array.isArray(t)?i.splice(n,0,r):IW(t,n,r),r}}function U$(e,t){return hW(e)&&hW(t)&&!wW(e)&&!wW(t)&&!RW(e)&&!RW(t)&&e.tagName.toLowerCase()===t.tagName.toLowerCase()}function $$(e,t){return hW(e)&&hW(t)&&wW(e)&&wW(t)}function q$(e,t,n){return t===n||(wW(t)&&wW(n)?t.data===n.data:!(!e.isBlockFiller(t)||!e.isBlockFiller(n)))}function K$(e,t){const n=e.data;if(n==t)return;const i=tV(n,t);for(const t of i)"insert"===t.type?e.insertData(t.index,t.values.join("")):e.deleteData(t.index,t.howMany)}const G$=R$(vW.document),Z$=z$(vW.document),J$=I$(vW.document),X$="data-ck-unsafe-attribute-",Q$="data-ck-unsafe-element";class eq{constructor(e,{blockFillerMode:t,renderingMode:n="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new RU,this._inlineObjectElementMatcher=new RU,this._elementsWithTemporaryCustomProperties=new Set,this.document=e,this.renderingMode=n,this.blockFillerMode=t||("editing"===n?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument="editing"===this.renderingMode?vW.document:vW.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new i$(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const t of Array.from(e.children))this.unbindDomElement(t)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,n){return"data"===this.renderingMode||!(e=e.toLowerCase()).startsWith("on")&&("srcdoc"!==e||!t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&("img"===n&&("src"===e||"srcset"===e)||"source"===n&&"srcset"===e||!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if("data"===this.renderingMode)return void(e.innerHTML=t);const n=(new DOMParser).parseFromString(t,"text/html"),i=n.createDocumentFragment(),r=n.body.childNodes;for(;r.length>0;)i.appendChild(r[0]);const o=n.createTreeWalker(i,NodeFilter.SHOW_ELEMENT),s=[];let a;for(;a=o.nextNode();)s.push(a);for(const e of s){for(const t of e.getAttributeNames())this.setDomElementAttribute(e,t,e.getAttribute(t));const t=e.tagName.toLowerCase();this._shouldRenameElement(t)&&(rq(t),e.replaceWith(this._createReplacementDomElement(t,e)))}for(;e.firstChild;)e.firstChild.remove();e.append(i)}viewToDom(e,t={}){if(e.is("$text")){const t=this._processDataFromViewText(e);return this._domDocument.createTextNode(t)}{const n=e;if(this.mapViewToDom(n)){if(!n.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(n);this._elementsWithTemporaryCustomProperties.add(n)}let i;if(n.is("documentFragment"))i=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(i,n);else{if(n.is("uiElement"))return i="$comment"===n.name?this._domDocument.createComment(n.getCustomProperty("$rawContent")):n.render(this._domDocument,this),t.bind&&this.bindElements(i,n),i;this._shouldRenameElement(n.name)?(rq(n.name),i=this._createReplacementDomElement(n.name)):i=n.hasAttribute("xmlns")?this._domDocument.createElementNS(n.getAttribute("xmlns"),n.name):this._domDocument.createElement(n.name),n.is("rawElement")&&n.render(i,this),t.bind&&this.bindElements(i,n);for(const e of n.getAttributeKeys())this.setDomElementAttribute(i,e,n.getAttribute(e),n)}if(!1!==t.withChildren)for(const e of this.viewChildrenToDom(n,t))i.appendChild(e);return i}}setDomElementAttribute(e,t,n,i){const r=this.shouldRenderAttribute(t,n,e.tagName.toLowerCase())||i&&i.shouldRenderUnsafeAttribute(t);r||hV("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:n}),function(e){try{vW.document.createAttribute(e)}catch(e){return!1}return!0}(t)?(e.hasAttribute(t)&&!r?e.removeAttribute(t):e.hasAttribute(X$+t)&&r&&e.removeAttribute(X$+t),e.setAttribute(r?t:X$+t,n)):hV("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:n})}removeDomElementAttribute(e,t){t!=Q$&&(e.removeAttribute(t),e.removeAttribute(X$+t))}*viewChildrenToDom(e,t={}){const n=e.getFillerOffset&&e.getFillerOffset();let i=0;for(const r of e.getChildren()){n===i&&(yield this._getBlockFiller());const e=r.is("element")&&!!r.getCustomProperty("dataPipeline:transparentRendering")&&!dU(r.getAttributes());e&&"data"==this.renderingMode?yield*this.viewChildrenToDom(r,t):(e&&hV("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:r}),yield this.viewToDom(r,t)),i++}n===i&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),n=this.viewPositionToDom(e.end),i=this._domDocument.createRange();return i.setStart(t.parent,t.offset),i.setEnd(n.parent,n.offset),i}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const n=this.findCorrespondingDomText(t);if(!n)return null;let i=e.offset;return F$(n)&&(i+=j$),{parent:n,offset:i}}{let n,i,r;if(0===e.offset){if(n=this.mapViewToDom(t),!n)return null;r=n.childNodes[0]}else{const t=e.nodeBefore;if(i=t.is("$text")?this.findCorrespondingDomText(t):this.mapViewToDom(t),!i)return null;n=i.parentNode,r=i.nextSibling}return wW(r)&&F$(r)?{parent:r,offset:j$}:{parent:n,offset:i?zW(i)+1:0}}}domToView(e,t={}){const n=[],i=this._domToView(e,t,n),r=i.next().value;return r?(i.next(),this._processDomInlineNodes(null,n,t),r.is("$text")&&0==r.data.length?null:r):null}*domChildrenToView(e,t={},n=[]){for(let i=0;i<e.childNodes.length;i++){const r=e.childNodes[i],o=this._domToView(r,t,n),s=o.next().value;null!==s&&(this._isBlockViewElement(s)&&this._processDomInlineNodes(e,n,t),yield s,o.next())}this._processDomInlineNodes(e,n,t)}domSelectionToView(e){if(function(e){if(!QH.isGecko)return!1;if(!e.rangeCount)return!1;const t=e.getRangeAt(0).startContainer;try{Object.prototype.toString.call(t)}catch(e){return!0}return!1}(e))return new i$([]);if(1===e.rangeCount){let t=e.getRangeAt(0).startContainer;wW(t)&&(t=t.parentNode);const n=this.fakeSelectionToView(t);if(n)return n}const t=this.isDomSelectionBackward(e),n=[];for(let t=0;t<e.rangeCount;t++){const i=e.getRangeAt(t),r=this.domRangeToView(i);r&&n.push(r)}return new i$(n,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),n=this.domPositionToView(e.endContainer,e.endOffset);return t&&n?new t$(t,n):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,zW(e));const n=this.mapDomToView(e);if(n&&(n.is("uiElement")||n.is("rawElement")))return e$._createBefore(n);if(wW(e)){if(Y$(e))return this.domPositionToView(e.parentNode,zW(e));const n=this.findCorrespondingViewText(e);let i=t;return n?(F$(e)&&(i-=j$,i=i<0?0:i),new e$(n,i)):null}if(0===t){const t=this.mapDomToView(e);if(t)return new e$(t,0)}else{const n=e.childNodes[t-1];if(wW(n)&&Y$(n)||n&&this.isBlockFiller(n))return this.domPositionToView(n.parentNode,zW(n));const i=wW(n)?this.findCorrespondingViewText(n):this.mapDomToView(n);if(i&&i.parent)return new e$(i.parent,i.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Y$(e))return null;const t=this.getHostViewElement(e);if(t)return t;const n=e.previousSibling;if(n){if(!this.isElement(n))return null;const e=this.mapDomToView(n);if(e){const t=e.nextSibling;return t instanceof zU?t:null}}else{const t=this.mapDomToView(e.parentNode);if(t){const e=t.getChild(0);return e instanceof zU?e:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:e,scrollY:n}=vW.window,i=[];nq(t,(e=>{const{scrollLeft:t,scrollTop:n}=e;i.push([t,n])})),t.focus(),nq(t,(e=>{const[t,n]=i.shift();e.scrollLeft=t,e.scrollTop=n})),vW.window.scrollTo(e,n)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const t=e.ownerDocument.defaultView.getSelection(),n=this.domSelectionToView(t);n&&n.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return"br"==this.blockFillerMode?e.isEqualNode(G$):!("BR"!==e.tagName||!iq(e,this.blockElements)||1!==e.parentNode.childNodes.length)||e.isEqualNode(J$)||function(e,t){return e.isEqualNode(Z$)&&iq(e,t)&&1===e.parentNode.childNodes.length}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch(e){return!1}const n=t.collapsed;return t.detach(),n}getHostViewElement(e){const t=function(e){const t=[];let n=e;for(;n&&n.nodeType!=Node.DOCUMENT_NODE;)t.unshift(n),n=n.parentNode;return t}(e);for(t.pop();t.length;){const e=t.pop(),n=this._domToViewMapping.get(e);if(n&&(n.is("uiElement")||n.is("rawElement")))return n}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return z$(this._domDocument);case"markedNbsp":return I$(this._domDocument);case"br":return R$(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(wW(e)&&F$(e)&&t<j$)return!1;if(this.isElement(e)&&F$(e.childNodes[t]))return!1;const n=this.mapDomToView(e);return!n||!n.is("uiElement")&&!n.is("rawElement")}*_domToView(e,t,n){if(this.isBlockFiller(e))return null;const i=this.getHostViewElement(e);if(i)return i;if(RW(e)&&t.skipComments)return null;if(wW(e)){if(Y$(e))return null;{const t=e.data;if(""===t)return null;const i=new zU(this.document,t);return n.push(i),i}}{let i=this.mapDomToView(e);if(i)return this._isInlineObjectElement(i)&&n.push(i),i;if(this.isDocumentFragment(e))i=new C$(this.document),t.bind&&this.bindDocumentFragments(e,i);else{i=this._createViewElement(e,t),t.bind&&this.bindElements(e,i);const r=e.attributes;if(r)for(let e=r.length,t=0;t<e;t++)i._setAttribute(r[t].name,r[t].value);if(this._isViewElementWithRawContent(i,t))return i._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(i)||n.push(i),i;if(RW(e))return i._setCustomProperty("$rawContent",e.data),i}yield i;const r=[];if(!1!==t.withChildren)for(const n of this.domChildrenToView(e,t,r))i._appendChild(n);if(this._isInlineObjectElement(i))n.push(i);else for(const e of r)n.push(e)}}_processDomInlineNodes(e,t,n){if(!t.length)return;if(e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let i=!1;for(let e=0;e<t.length;e++){const r=t[e];if(!r.is("$text")){i=!1;continue}let o,s=!1;if(tq(r,this.preElements))o=B$(r.data);else{o=r.data.replace(/[ \n\t\r]{1,}/g," "),s=/[^\S\u00A0]/.test(o.charAt(o.length-1));const a=e>0?t[e-1]:null,l=e+1<t.length?t[e+1]:null,c=!a||a.is("element")&&"br"==a.name||i,u=!l&&!F$(r.data);!1!==n.withChildren&&(c&&(o=o.replace(/^ /,"")),u&&(o=o.replace(/ $/,""))),o=B$(o),o=o.replace(/ \u00A0/g,"  ");const d=l&&l.is("element")&&"br"!=l.name,h=l&&l.is("$text")&&" "==l.data.charAt(0);(/[ \u00A0]\u00A0$/.test(o)||!l||d||h)&&(o=o.replace(/\u00A0$/," ")),(c||a&&a.is("element")&&"br"!=a.name)&&(o=o.replace(/^\u00A0/," "))}0==o.length&&r.parent?(r._remove(),t.splice(e,1),e--):(r._data=o,i=s)}t.length=0}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some((e=>this.preElements.includes(e.name))))return t;if(" "==t.charAt(0)){const n=this._getTouchingInlineViewNode(e,!1);!(n&&n.is("$textProxy")&&this._nodeEndsWithSpace(n))&&n||(t=""+t.substr(1))}if(" "==t.charAt(t.length-1)){const n=this._getTouchingInlineViewNode(e,!0),i=n&&n.is("$textProxy")&&" "==n.data.charAt(0);" "!=t.charAt(t.length-2)&&n&&!i||(t=t.substr(0,t.length-1)+"")}return t.replace(/ {2}/g," ")}_nodeEndsWithSpace(e){if(e.getAncestors().some((e=>this.preElements.includes(e.name))))return!1;const t=this._processDataFromViewText(e);return" "==t.charAt(t.length-1)}_getTouchingInlineViewNode(e,t){const n=new QU({startPosition:t?e$._createAfter(e):e$._createBefore(e),direction:t?"forward":"backward"});for(const e of n){if(e.item.is("element","br"))return null;if(this._isInlineObjectElement(e.item))return e.item;if(e.item.is("containerElement"))return null;if(e.item.is("$textProxy"))return e.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&("br"==e.name||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,t){if(RW(e))return new v$(this.document,"$comment");const n=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new $U(this.document,n)}_isViewElementWithRawContent(e,t){return!1!==t.withChildren&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return"editing"===this.renderingMode&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const n=this._domDocument.createElement("span");if(n.setAttribute(Q$,e),t){for(;t.firstChild;)n.appendChild(t.firstChild);for(const e of t.getAttributeNames())n.setAttribute(e,t.getAttribute(e))}return n}}function tq(e,t){return e.getAncestors().some((e=>e.is("element")&&t.includes(e.name)))}function nq(e,t){let n=e;for(;n;)t(n),n=n.parentElement}function iq(e,t){const n=e.parentNode;return!!n&&!!n.tagName&&t.includes(n.tagName.toLowerCase())}function rq(e){"script"===e&&hV("domconverter-unsafe-script-element-detected"),"style"===e&&hV("domconverter-unsafe-style-element-detected")}class oq extends(mW()){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&3===e.nodeType&&(e=e.parentNode),!(!e||1!==e.nodeType)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}var sq=ET((function(e,t){aT(t,fT(t),e)}));class aq{constructor(e,t,n){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,sq(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class lq extends oq{constructor(){super(...arguments),this.useCapture=!1}observe(e){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach((t=>{this.listenTo(e,t,((e,t)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(t.target)&&this.onDomEvent(t)}),{useCapture:this.useCapture})}))}stopObserving(e){this.stopListening(e)}fire(e,t,n){this.isEnabled&&this.document.fire(e,new aq(this.view,t,n))}}class cq extends lq{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return nU(this)}};this.fire(e.type,e,t)}}class uq extends oq{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=YT((e=>{this.document.fire("selectionChangeDone",e)}),200)}observe(){const e=this.document;e.on("arrowKey",((t,n)=>{e.selection.isFake&&this.isEnabled&&n.preventDefault()}),{context:"$capture"}),e.on("arrowKey",((t,n)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(n.keyCode)}),{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,n=new i$(t.getRanges(),{backward:t.isBackward,fake:!1});e!=eU.arrowleft&&e!=eU.arrowup||n.setTo(n.getFirstPosition()),e!=eU.arrowright&&e!=eU.arrowdown||n.setTo(n.getLastPosition());const i={oldSelection:t,newSelection:n,domSelection:null};this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i)}}var dq=function(e,t,n){var i=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===i?AP(e,t,void 0,n):!!i};class hq extends oq{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(0===e.length)return;const t=this.domConverter,n=new Set,i=new Set;for(const n of e){const e=t.mapDomToView(n.target);e&&(e.is("uiElement")||e.is("rawElement")||"childList"!==n.type||this._isBogusBrMutation(n)||i.add(e))}for(const r of e){const e=t.mapDomToView(r.target);if((!e||!e.is("uiElement")&&!e.is("rawElement"))&&"characterData"===r.type){const e=t.findCorrespondingViewText(r.target);e&&!i.has(e.parent)?n.add(e):!e&&F$(r.target)&&i.add(t.mapDomToView(r.target.parentNode))}}let r=!1;for(const e of n)r=!0,this.renderer.markToSync("text",e);for(const e of i){const n=t.mapViewToDom(e),i=Array.from(e.getChildren()),o=Array.from(t.domChildrenToView(n,{withChildren:!1}));dq(i,o,pq)||(r=!0,this.renderer.markToSync("children",e))}r&&this.view.forceRender()}_isBogusBrMutation(e){let t=null;return null===e.nextSibling&&0===e.removedNodes.length&&1==e.addedNodes.length&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}function pq(e,t){if(!Array.isArray(e))return e===t||!(!e.is("$text")||!t.is("$text"))&&e.data===t.data}class fq extends lq{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",(()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout((()=>{this.flush(),e.change((()=>{}))}),50)})),t.on("blur",((n,i)=>{const r=t.selection.editableElement;null!==r&&r!==i.target||(t.isFocused=!1,this._isFocusChanging=!1,e.change((()=>{})))}))}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class mq extends oq{constructor(e){super(e),this.mutationObserver=e.getObserver(hq),this.focusObserver=e.getObserver(fq),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=YT((e=>{this.document.fire("selectionChangeDone",e)}),200),this._clearInfiniteLoopInterval=setInterval((()=>this._clearInfiniteLoop()),1e3),this._documentIsSelectingInactivityTimeoutDebounced=YT((()=>this.document.isSelecting=!1),5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,n=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",(()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()}),{priority:"highest"}),this.listenTo(e,"keydown",n,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",n,{priority:"highest",useCapture:!0}),this._documents.has(t)||(this.listenTo(t,"mouseup",n,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",((e,n)=>{this.document.isComposing&&!QH.isAndroid||(this._handleSelectionChange(n,t),this._documentIsSelectingInactivityTimeoutDebounced())})),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,t){if(!this.isEnabled)return;const n=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(n.anchorNode))return;this.mutationObserver.flush();const i=this.domConverter.domSelectionToView(n);if(0!=i.rangeCount){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(i)||!this.domConverter.isDomSelectionCorrect(n))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(i))this.view.forceRender();else{const e={oldSelection:this.selection,newSelection:i,domSelection:n};this.document.fire("selectionChange",e),this._fireSelectionChangeDoneDebounced(e)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class gq extends lq{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",(()=>{t.isComposing=!0}),{priority:"low"}),t.on("compositionend",(()=>{t.isComposing=!1}),{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class bq{constructor(e,t={}){this._files=t.cacheFiles?yq(e):null,this._native=e}get files(){return this._files||(this._files=yq(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,n){this._native.setDragImage(e,t,n)}get isCanceled(){return"none"==this._native.dropEffect||!!this._native.mozUserCancelled}}function yq(e){const t=Array.from(e.files||[]),n=Array.from(e.items||[]);return t.length?t:n.filter((e=>"file"===e.kind)).map((e=>e.getAsFile()))}class vq extends lq{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const t=e.getTargetRanges(),n=this.view,i=n.document;let r=null,o=null,s=[];if(e.dataTransfer&&(r=new bq(e.dataTransfer)),null!==e.data?o=e.data:r&&(o=r.getData("text/plain")),i.selection.isFake)s=Array.from(i.selection.getRanges());else if(t.length)s=t.map((e=>{const t=n.domConverter.domPositionToView(e.startContainer,e.startOffset),i=n.domConverter.domPositionToView(e.endContainer,e.endOffset);return t?n.createRange(t,i):i?n.createRange(i):void 0})).filter((e=>!!e));else if(QH.isAndroid){const t=e.target.ownerDocument.defaultView.getSelection();s=Array.from(n.domConverter.domSelectionToView(t).getRanges())}if(QH.isAndroid&&"insertCompositionText"==e.inputType&&o&&o.endsWith("\n"))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[n.createRange(s[0].end)]});else if("insertText"==e.inputType&&o&&o.includes("\n")){const t=o.split(/\n{1,2}/g);let n=s;for(let o=0;o<t.length;o++){const s=t[o];""!=s&&(this.fire(e.type,e,{data:s,dataTransfer:r,targetRanges:n,inputType:e.inputType,isComposing:e.isComposing}),n=[i.selection.getFirstRange()]),o+1<t.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:n}),n=[i.selection.getFirstRange()])}}else this.fire(e.type,e,{data:o,dataTransfer:r,targetRanges:s,inputType:e.inputType,isComposing:e.isComposing})}}class _q extends oq{constructor(e){super(e),this.document.on("keydown",((e,t)=>{if(this.isEnabled&&((n=t.keyCode)==eU.arrowright||n==eU.arrowleft||n==eU.arrowup||n==eU.arrowdown)){const n=new o$(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(n,t),n.stop.called&&e.stop()}var n}))}observe(){}stopObserving(){}}class wq extends oq{constructor(e){super(e);const t=this.document;t.on("keydown",((e,n)=>{if(!this.isEnabled||n.keyCode!=eU.tab||n.ctrlKey)return;const i=new o$(t,"tab",t.selection.getFirstRange());t.fire(i,n),i.stop.called&&e.stop()}))}observe(){}stopObserving(){}}var kq=function(e){return sW(e,5)};class Cq extends(AV()){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new h$(e),this.domConverter=new eq(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new V$(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new E$(this.document),this.addObserver(hq),this.addObserver(fq),this.addObserver(mq),this.addObserver(cq),this.addObserver(uq),this.addObserver(gq),this.addObserver(_q),this.addObserver(vq),this.addObserver(wq),this.document.on("arrowKey",H$,{priority:"low"}),function(e){e.document.on("arrowKey",((t,n)=>function(e,t,n){if(t.keyCode==eU.arrowright){const e=t.domTarget.ownerDocument.defaultView.getSelection(),i=1==e.rangeCount&&e.getRangeAt(0).collapsed;if(i||t.shiftKey){const t=e.focusNode,r=e.focusOffset,o=n.domPositionToView(t,r);if(null===o)return;let s=!1;const a=o.getLastMatchingPosition((e=>(e.item.is("uiElement")&&(s=!0),!(!e.item.is("uiElement")&&!e.item.is("attributeElement")))));if(s){const t=n.viewPositionToDom(a);i?e.collapse(t.parent,t.offset):e.extend(t.parent,t.offset)}}}}(0,n,e.domConverter)),{priority:"low"})}(this),this.on("render",(()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1})),this.listenTo(this.document.selection,"change",(()=>{this._hasChangedSinceTheLastRendering=!0})),this.listenTo(this.document,"change:isFocused",(()=>{this._hasChangedSinceTheLastRendering=!0})),QH.isiOS&&this.listenTo(this.document,"blur",((e,t)=>{this.domConverter.mapDomToView(t.domEvent.relatedTarget)||this.domConverter._clearDomSelection()}))}attachDomRoot(e,t="main"){const n=this.document.getRoot(t);n._name=e.tagName.toLowerCase();const i={};for(const{name:t,value:r}of Array.from(e.attributes))i[t]=r,"class"===t?this._writer.addClass(r.split(" "),n):this._writer.setAttribute(t,r,n);this._initialDomRootAttributes.set(e,i);const r=()=>{this._writer.setAttribute("contenteditable",(!n.isReadOnly).toString(),n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};r(),this.domRoots.set(t,e),this.domConverter.bindElements(e,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(e.ownerDocument),n.on("change:children",((e,t)=>this._renderer.markToSync("children",t))),n.on("change:attributes",((e,t)=>this._renderer.markToSync("attributes",t))),n.on("change:text",((e,t)=>this._renderer.markToSync("text",t))),n.on("change:isReadOnly",(()=>this.change(r))),n.on("change",(()=>{this._hasChangedSinceTheLastRendering=!0}));for(const n of this._observers.values())n.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach((({name:e})=>t.removeAttribute(e)));const n=this._initialDomRootAttributes.get(t);for(const e in n)t.setAttribute(e,n[e]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const e of this._observers.values())e.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[e,n]of this.domRoots)t.observe(n,e);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:n=20,ancestorOffset:i=20}={}){const r=this.document.selection.getFirstRange();if(!r)return;const o=kq({alignToTop:e,forceScroll:t,viewportOffset:n,ancestorOffset:i});"number"==typeof n&&(n={top:n,bottom:n,left:n,right:n});const s={target:this.domConverter.viewRangeToDom(r),viewportOffset:n,ancestorOffset:i,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",s,o),function({target:e,viewportOffset:t=0,ancestorOffset:n=0,alignToTop:i,forceScroll:r}){const o=KW(e);let s=o,a=null;for(t=function(e){return"number"==typeof e?{top:e,bottom:e,left:e,right:e}:e}(t);s;){let l;l=GW(s==o?e:a),VW({parent:l,getRect:()=>ZW(e,s),alignToTop:i,ancestorOffset:n,forceScroll:r});const c=ZW(e,s);if(HW({window:s,rect:c,viewportOffset:t,alignToTop:i,forceScroll:r}),s.parent!=s){if(a=s.frameElement,s=s.parent,!a)return}else s=null}}(s)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new dV("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(e){dV.rethrowUnexpectedError(e,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(fq).flush(),this.change((()=>{}))}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return e$._createAt(e,t)}createPositionAfter(e){return e$._createAfter(e)}createPositionBefore(e){return e$._createBefore(e)}createRange(e,t){return new t$(e,t)}createRangeOn(e){return t$._createOn(e)}createRangeIn(e){return t$._createIn(e)}createSelection(...e){return new i$(...e)}_disableRendering(e){this._renderingDisabled=e,0==e&&this.change((()=>{}))}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Eq{is(){throw new Error("is() method is abstract")}}class xq extends Eq{constructor(e){super(),this.parent=null,this._attrs=fU(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if(null===(e=this.parent.getChildIndex(this)))throw new dV("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if(null===(e=this.parent.getChildStartOffset(this)))throw new dV("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return null!==e&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return null!==e&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return null!==this.parent&&this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),i=e.getAncestors(t);let r=0;for(;n[r]==i[r]&&n[r];)r++;return 0===r?null:n[r-1]}isBefore(e){if(this==e)return!1;if(this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),i=BV(t,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return t[i]<n[i]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce(((e,t)=>(e[t[0]]=t[1],e)),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=fU(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}xq.prototype.is=function(e){return"node"===e||"model:node"===e};class Sq{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce(((e,t)=>e+t.offsetSize),0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return-1==t?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return null===t?null:this._nodes.slice(0,t).reduce(((e,t)=>e+t.offsetSize),0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new dV("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const n of this._nodes){if(e>=t&&e<t+n.offsetSize)return this.getNodeIndex(n);t+=n.offsetSize}if(t!=e)throw new dV("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const e of t)if(!(e instanceof xq))throw new dV("model-nodelist-insertnodes-not-node",this);this._nodes=function(e,t,n,i){if(Math.max(t.length,e.length)>1e4)return e.slice(0,n).concat(t).concat(e.slice(n+0,e.length));{const i=Array.from(e);return i.splice(n,0,...t),i}}(this._nodes,Array.from(t),e)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map((e=>e.toJSON()))}}class Oq extends xq{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Oq(this.data,this.getAttributes())}static fromJSON(e){return new Oq(e.data,e.attributes)}}Oq.prototype.is=function(e){return"$text"===e||"model:$text"===e||"text"===e||"model:text"===e||"node"===e||"model:node"===e};class Tq extends Eq{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new dV("model-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.offsetSize)throw new dV("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Tq.prototype.is=function(e){return"$textProxy"===e||"model:$textProxy"===e||"textProxy"===e||"model:textProxy"===e};class Mq extends xq{constructor(e,t,n){super(t),this._children=new Sq,this.name=e,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}findAncestor(e,t={}){let n=t.includeSelf?this:this.parent;for(;n;){if(n.name===e)return n;n=n.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map((e=>e._clone(!0))):void 0;return new Mq(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=function(e){return"string"==typeof e?[new Oq(e)]:(HV(e)||(e=[e]),Array.from(e).map((e=>"string"==typeof e?new Oq(e):e instanceof Tq?new Oq(e.data,e.getAttributes()):e)))}(t);for(const e of n)null!==e.parent&&e._remove(),e.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const e of n)e.parent=null;return n}static fromJSON(e){let t;if(e.children){t=[];for(const n of e.children)n.name?t.push(Mq.fromJSON(n)):t.push(Oq.fromJSON(n))}return new Mq(e.name,e.attributes,t)}}Mq.prototype.is=function(e,t){return t?t===this.name&&("element"===e||"model:element"===e):"element"===e||"model:element"===e||"node"===e||"model:node"===e};class Pq{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new dV("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if("forward"!=t&&"backward"!=t)throw new dV("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=Lq._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n,i,r;do{i=this.position,r=this._visitedParent,({done:t,value:n}=this.next())}while(!t&&e(n));t||(this._position=i,this._visitedParent=r)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(null===n.parent&&t.offset===n.maxOffset)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const i=Aq(t,n),r=i||zq(t,n,i);if(r instanceof Mq){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}else t.path.push(0),this._visitedParent=r;return this._position=t,Dq("elementStart",r,e,t,1)}if(r instanceof Oq){let i;if(this.singleCharacters)i=1;else{let e=r.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<e&&(e=this.boundaries.end.offset),i=e-t.offset}const o=t.offset-r.startOffset,s=new Tq(r,o,i);return t.offset+=i,this._position=t,Dq("text",s,e,t,i)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():Dq("elementEnd",n,e,t)}_previous(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===t.offset)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const i=t.parent,r=Aq(t,i),o=r||Iq(t,i,r);if(o instanceof Mq)return t.offset--,this.shallow?(this._position=t,Dq("elementStart",o,e,t,1)):(t.path.push(o.maxOffset),this._position=t,this._visitedParent=o,this.ignoreElementEnd?this._previous():Dq("elementEnd",o,e,t));if(o instanceof Oq){let i;if(this.singleCharacters)i=1;else{let e=o.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>e&&(e=this.boundaries.start.offset),i=t.offset-e}const r=t.offset-o.startOffset,s=new Tq(o,r-i,i);return t.offset-=i,this._position=t,Dq("text",s,e,t,i)}return t.path.pop(),this._position=t,this._visitedParent=n.parent,Dq("elementStart",n,e,t,1)}}function Dq(e,t,n,i,r){return{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:i,length:r}}}class Lq extends Eq{constructor(e,t,n="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new dV("model-position-root-invalid",e);if(!(t instanceof Array)||0===t.length)throw new dV("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new dV("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new dV("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Aq(this,this.parent)}get nodeAfter(){const e=this.parent;return zq(this,e,Aq(this,e))}get nodeBefore(){const e=this.parent;return Iq(this,e,Aq(this,e))}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=BV(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new Pq(t);return n.skip(e),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=BV(this.path,e.path),n="string"==typeof t?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,n)}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let i=0;for(;t[i]==n[i]&&t[i];)i++;return 0===i?null:t[i-1]}getShiftedBy(e){const t=this.clone(),n=t.offset+e;return t.offset=n<0?0:n,t}isAfter(e){return"after"==this.compareWith(e)}isBefore(e){return"before"==this.compareWith(e)}isEqual(e){return"same"==this.compareWith(e)}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let n=0;n<t;n++){const t=this.path[n]-e.path[n];if(t<-1||t>1)return!1;if(1===t)return Rq(e,this,n);if(-1===t)return Rq(this,e,n)}return this.path.length===e.path.length||(this.path.length>e.path.length?jq(this.path,t):jq(e.path,t))}hasSameParentAs(e){return this.root===e.root&&"same"==BV(this.getParentPath(),e.getParentPath())}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=Lq._createAt(this)}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange;let n;return t.containsPosition(this)||t.start.isEqual(this)?(n=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(n=n._getTransformedByDeletion(e.deletionPosition,1))):n=this.isEqual(e.deletionPosition)?Lq._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),n}_getTransformedByDeletion(e,t){const n=Lq._createAt(this);if(this.root!=e.root)return n;if("same"==BV(e.getParentPath(),this.getParentPath())){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;n.offset-=t}}else if("prefix"==BV(e.getParentPath(),this.getParentPath())){const i=e.path.length-1;if(e.offset<=this.path[i]){if(e.offset+t>this.path[i])return null;n.path[i]-=t}}return n}_getTransformedByInsertion(e,t){const n=Lq._createAt(this);if(this.root!=e.root)return n;if("same"==BV(e.getParentPath(),this.getParentPath()))(e.offset<this.offset||e.offset==this.offset&&"toPrevious"!=this.stickiness)&&(n.offset+=t);else if("prefix"==BV(e.getParentPath(),this.getParentPath())){const i=e.path.length-1;e.offset<=this.path[i]&&(n.path[i]+=t)}return n}_getTransformedByMove(e,t,n){if(t=t._getTransformedByDeletion(e,n),e.isEqual(t))return Lq._createAt(this);const i=this._getTransformedByDeletion(e,n);return null===i||e.isEqual(this)&&"toNext"==this.stickiness||e.getShiftedBy(n).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(e,t):i._getTransformedByInsertion(t,n)}_getCombined(e,t){const n=e.path.length-1,i=Lq._createAt(t);return i.stickiness=this.stickiness,i.offset=i.offset+this.path[n]-e.offset,i.path=[...i.path,...this.path.slice(n+1)],i}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,n="toNone"){if(e instanceof Lq)return new Lq(e.root,e.path,e.stickiness);{const i=e;if("end"==t)t=i.maxOffset;else{if("before"==t)return this._createBefore(i,n);if("after"==t)return this._createAfter(i,n);if(0!==t&&!t)throw new dV("model-createpositionat-offset-required",[this,e])}if(!i.is("element")&&!i.is("documentFragment"))throw new dV("model-position-parent-incorrect",[this,e]);const r=i.getPath();return r.push(t),new this(i.root,r,n)}}static _createAfter(e,t){if(!e.parent)throw new dV("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new dV("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if("$graveyard"===e.root){const n=new Lq(t.graveyard,e.path);return n.stickiness=e.stickiness,n}if(!t.getRoot(e.root))throw new dV("model-position-fromjson-no-root",t,{rootName:e.root});return new Lq(t.getRoot(e.root),e.path,e.stickiness)}}function Aq(e,t){const n=t.getChild(t.offsetToIndex(e.offset));return n&&n.is("$text")&&n.startOffset<e.offset?n:null}function zq(e,t,n){return null!==n?null:t.getChild(t.offsetToIndex(e.offset))}function Iq(e,t,n){return null!==n?null:t.getChild(t.offsetToIndex(e.offset)-1)}function Rq(e,t,n){return n+1!==e.path.length&&!!jq(t.path,n+1)&&!!function(e,t){let n=e.parent,i=e.path.length-1,r=0;for(;i>=t;){if(e.path[i]+r!==n.maxOffset)return!1;r=1,i--,n=n.parent}return!0}(e,n+1)}function jq(e,t){for(;t<e.length;){if(0!==e[t])return!1;t++}return!0}Lq.prototype.is=function(e){return"position"===e||"model:position"===e};class Nq extends Eq{constructor(e,t){super(),this.start=Lq._createAt(e),this.end=t?Lq._createAt(t):Lq._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Pq({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return"same"==BV(this.start.getParentPath(),this.end.getParentPath())}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),i=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&i}containsItem(e){const t=Lq._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Nq(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Nq(e.end,this.end))):t.push(new Nq(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new Nq(t,n)}return null}getJoined(e,t=!1){let n=this.isIntersecting(e);if(n||(n=this.start.isBefore(e.start)?t?this.end.isTouching(e.start):this.end.isEqual(e.start):t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!n)return null;let i=this.start,r=this.end;return e.start.isBefore(i)&&(i=e.start),e.end.isAfter(r)&&(r=e.end),new Nq(i,r)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,n=Lq._createAt(this.start);let i=n.parent;for(;n.path.length>t+1;){const t=i.maxOffset-n.offset;0!==t&&e.push(new Nq(n,n.getShiftedBy(t))),n.path=n.path.slice(0,-1),n.offset++,i=i.parent}for(;n.path.length<=this.end.path.length;){const t=this.end.path[n.path.length-1],i=t-n.offset;0!==i&&e.push(new Nq(n,n.getShiftedBy(i))),n.offset=t,n.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Pq(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Pq(e);for(const e of t)yield e.item}*getPositions(e={}){e.boundaries=this;const t=new Pq(e);yield t.position;for(const e of t)yield e.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new Nq(this.start,this.end)]}getTransformedByOperations(e){const t=[new Nq(this.start,this.end)];for(const n of e)for(let e=0;e<t.length;e++){const i=t[e].getTransformedByOperation(n);t.splice(e,1,...i),e+=i.length-1}for(let e=0;e<t.length;e++){const n=t[e];for(let i=e+1;i<t.length;i++){const e=t[i];(n.containsRange(e)||e.containsRange(n)||n.isEqual(e))&&t.splice(i,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const n=e.sourcePosition,i=e.howMany,r=e.targetPosition;return this._getTransformedByMove(n,r,i,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let n=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(n=this.end.getShiftedBy(1)),t.root!=n.root&&(n=this.end.getShiftedBy(-1)),new Nq(t,n)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new Nq(this.start);let t=this.start._getTransformedByMergeOperation(e),n=this.end._getTransformedByMergeOperation(e);return t.root!=n.root&&(n=this.end.getShiftedBy(-1)),t.isAfter(n)?(e.sourcePosition.isBefore(e.targetPosition)?(t=Lq._createAt(n),t.offset=0):(e.deletionPosition.isEqual(t)||(n=e.deletionPosition),t=e.targetPosition),new Nq(t,n)):new Nq(t,n)}_getTransformedByInsertion(e,t,n=!1){if(n&&this.containsPosition(e))return[new Nq(this.start,e),new Nq(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const n=new Nq(this.start,this.end);return n.start=n.start._getTransformedByInsertion(e,t),n.end=n.end._getTransformedByInsertion(e,t),[n]}}_getTransformedByMove(e,t,n,i=!1){if(this.isCollapsed){const i=this.start._getTransformedByMove(e,t,n);return[new Nq(i)]}const r=Nq._createFromPositionAndShift(e,n),o=t._getTransformedByDeletion(e,n);if(this.containsPosition(t)&&!i&&(r.containsPosition(this.start)||r.containsPosition(this.end))){const i=this.start._getTransformedByMove(e,t,n),r=this.end._getTransformedByMove(e,t,n);return[new Nq(i,r)]}let s;const a=this.getDifference(r);let l=null;const c=this.getIntersection(r);if(1==a.length?l=new Nq(a[0].start._getTransformedByDeletion(e,n),a[0].end._getTransformedByDeletion(e,n)):2==a.length&&(l=new Nq(this.start,this.end._getTransformedByDeletion(e,n))),s=l?l._getTransformedByInsertion(o,n,null!==c||i):[],c){const e=new Nq(c.start._getCombined(r.start,o),c.end._getCombined(r.start,o));2==s.length?s.splice(1,0,e):s.push(e)}return s}_getTransformedByDeletion(e,t){let n=this.start._getTransformedByDeletion(e,t),i=this.end._getTransformedByDeletion(e,t);return null==n&&null==i?null:(null==n&&(n=e),null==i&&(i=e),new Nq(n,i))}static _createFromPositionAndShift(e,t){const n=e,i=e.getShiftedBy(t);return t>0?new this(n,i):new this(i,n)}static _createIn(e){return new this(Lq._createAt(e,0),Lq._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(Lq._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(0===e.length)throw new dV("range-create-from-ranges-empty-array",null);if(1==e.length)return e[0].clone();const t=e[0];e.sort(((e,t)=>e.start.isAfter(t.start)?1:-1));const n=e.indexOf(t),i=new this(t.start,t.end);if(n>0)for(let t=n-1;e[t].end.isEqual(i.start);t++)i.start=Lq._createAt(e[t].start);for(let t=n+1;t<e.length&&e[t].start.isEqual(i.end);t++)i.end=Lq._createAt(e[t].end);return i}static fromJSON(e,t){return new this(Lq.fromJSON(e.start,t),Lq.fromJSON(e.end,t))}}Nq.prototype.is=function(e){return"range"===e||"model:range"===e};class Fq extends(vV()){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",((e,t)=>{if(t.viewPosition)return;const n=this._modelToViewMapping.get(t.modelPosition.parent);if(!n)throw new dV("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(n,t.modelPosition.offset)}),{priority:"low"}),this.on("viewToModelPosition",((e,t)=>{if(t.modelPosition)return;const n=this.findMappedViewAncestor(t.viewPosition),i=this._viewToModelMapping.get(n),r=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,n);t.modelPosition=Lq._createAt(i,r)}),{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const n=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const t of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(t);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(n)==e&&this._modelToViewMapping.delete(n))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const n=this._markerNameToElements.get(t)||new Set;n.add(e);const i=this._elementToMarkerNames.get(e)||new Set;i.add(t),this._markerNameToElements.set(t,n),this._elementToMarkerNames.set(e,i)}unbindElementFromMarkerName(e,t){const n=this._markerNameToElements.get(t);n&&(n.delete(e),0==n.size&&this._markerNameToElements.delete(t));const i=this._elementToMarkerNames.get(e);i&&(i.delete(t),0==i.size&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new Nq(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new t$(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const n={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const n=new Set;for(const e of t)if(e.is("attributeElement"))for(const t of e.getElementsWithSameId())n.add(t);else n.add(e);return n}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,n){if(n!=e)return this._toModelOffset(e.parent,e.index,n)+this._toModelOffset(e,t,e);if(e.is("$text"))return t;let i=0;for(let n=0;n<t;n++)i+=this.getModelLength(e.getChild(n));return i}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const n of e.getChildren())t+=this.getModelLength(n);return t}}findPositionIn(e,t){let n,i=0,r=0,o=0;if(e.is("$text"))return new e$(e,t);for(;r<t;)n=e.getChild(o),i=this.getModelLength(n),r+=i,o++;return r==t?this._moveViewPositionToTextNode(new e$(e,o)):this.findPositionIn(n,t-(r-i))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,n=e.nodeAfter;return t instanceof zU?new e$(t,t.data.length):n instanceof zU?new e$(n,0):e}}class Yq{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=Bq(t),e instanceof Tq&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=Bq(t),e instanceof Tq&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}test(e,t){t=Bq(t),e instanceof Tq&&(e=this._getSymbolForTextProxy(e));const n=this._consumable.get(e);if(void 0===n)return null;const i=n.get(t);return void 0===i?null:i}revert(e,t){t=Bq(t),e instanceof Tq&&(e=this._getSymbolForTextProxy(e));const n=this.test(e,t);return!1===n?(this._consumable.get(e).set(t,!0),!0):!0!==n&&null}verifyAllConsumed(e){const t=[];for(const[n,i]of this._consumable)for(const[r,o]of i){const i=r.split(":")[0];o&&e==i&&t.push({event:r,item:n.name||n.description})}if(t.length)throw new dV("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const n=this._textProxyRegistry.get(e.startOffset);if(n){const i=n.get(e.endOffset);i&&(t=i.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,n=e.endOffset,i=e.parent,r=Symbol("$textProxy:"+e.data);let o,s;return o=this._textProxyRegistry.get(t),o||(o=new Map,this._textProxyRegistry.set(t,o)),s=o.get(n),s||(s=new Map,o.set(n,s)),s.set(i,r),r}}function Bq(e){const t=e.split(":");return"insert"==t[0]?t[0]:"addMarker"==t[0]||"removeMarker"==t[0]?e:t.length>1?t[0]+":"+t[1]:t[0]}class Hq extends(vV()){constructor(e){super(),this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,t,n){const i=this._createConversionApi(n,e.getRefreshedItems());for(const t of e.getMarkersToRemove())this._convertMarkerRemove(t.name,t.range,i);const r=this._reduceChanges(e.getChanges());for(const e of r)"insert"===e.type?this._convertInsert(Nq._createFromPositionAndShift(e.position,e.length),i):"reinsert"===e.type?this._convertReinsert(Nq._createFromPositionAndShift(e.position,e.length),i):"remove"===e.type?this._convertRemove(e.position,e.length,e.name,i):this._convertAttribute(e.range,e.attributeKey,e.attributeOldValue,e.attributeNewValue,i);i.mapper.flushDeferredBindings();for(const e of i.mapper.flushUnboundMarkerNames()){const n=t.get(e).getRange();this._convertMarkerRemove(e,n,i),this._convertMarkerAdd(e,n,i)}for(const t of e.getMarkersToAdd())this._convertMarkerAdd(t.name,t.range,i);i.consumable.verifyAllConsumed("insert")}convert(e,t,n,i={}){const r=this._createConversionApi(n,void 0,i);this._convertInsert(e,r);for(const[e,n]of t)this._convertMarkerAdd(e,n,r);r.consumable.verifyAllConsumed("insert")}convertSelection(e,t,n){const i=this._createConversionApi(n);this.fire("cleanSelection",{selection:e},i);const r=e.getFirstPosition().root;if(!i.mapper.toViewElement(r))return;const o=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(i.consumable,e,o),this.fire("selection",{selection:e},i),e.isCollapsed){for(const t of o)if(i.consumable.test(e,"addMarker:"+t.name)){const n=t.getRange();if(!Vq(e.getFirstPosition(),t,i.mapper))continue;const r={item:e,markerName:t.name,markerRange:n};this.fire(`addMarker:${t.name}`,r,i)}for(const t of e.getAttributeKeys())if(i.consumable.test(e,"attribute:"+t)){const n={item:e,range:e.getFirstRange(),attributeKey:t,attributeOldValue:null,attributeNewValue:e.getAttribute(t)};this.fire(`attribute:${t}:$text`,n,i)}}}_convertInsert(e,t,n={}){n.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,e);for(const n of Array.from(e.getWalker({shallow:!0})).map(Wq))this._testAndFire("insert",n,t)}_convertRemove(e,t,n,i){this.fire(`remove:${n}`,{position:e,length:t},i)}_convertAttribute(e,t,n,i,r){this._addConsumablesForRange(r.consumable,e,`attribute:${t}`);for(const o of e){const e={item:o.item,range:Nq._createFromPositionAndShift(o.previousPosition,o.length),attributeKey:t,attributeOldValue:n,attributeNewValue:i};this._testAndFire(`attribute:${t}`,e,r)}}_convertReinsert(e,t){const n=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,n);for(const e of n.map(Wq))this._testAndFire("insert",{...e,reconversion:!0},t)}_convertMarkerAdd(e,t,n){if("$graveyard"==t.root.rootName)return;const i=`addMarker:${e}`;if(n.consumable.add(t,i),this.fire(i,{markerName:e,markerRange:t},n),n.consumable.consume(t,i)){this._addConsumablesForRange(n.consumable,t,i);for(const r of t.getItems()){if(!n.consumable.test(r,i))continue;const o={item:r,range:Nq._createOn(r),markerName:e,markerRange:t};this.fire(i,o,n)}}}_convertMarkerRemove(e,t,n){"$graveyard"!=t.root.rootName&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},n)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const n of t){const t=n.item;if(null===e.test(t,"insert")){e.add(t,"insert");for(const n of t.getAttributeKeys())e.add(t,"attribute:"+n)}}return e}_addConsumablesForRange(e,t,n){for(const i of t.getItems())e.add(i,n);return e}_addConsumablesForSelection(e,t,n){e.add(t,"selection");for(const i of n)e.add(t,"addMarker:"+i.name);for(const n of t.getAttributeKeys())e.add(t,"attribute:"+n);return e}_testAndFire(e,t,n){const i=function(e,t){return`${e}:${t.item.is("element")?t.item.name:"$text"}`}(e,t),r=t.item.is("$textProxy")?n.consumable._getSymbolForTextProxy(t.item):t.item,o=this._firedEventsMap.get(n),s=o.get(r);if(s){if(s.has(i))return;s.add(i)}else o.set(r,new Set([i]));this.fire(i,t,n)}_testAndFireAddAttributes(e,t){const n={item:e,range:Nq._createOn(e)};for(const e of n.item.getAttributeKeys())n.attributeKey=e,n.attributeOldValue=null,n.attributeNewValue=n.item.getAttribute(e),this._testAndFire(`attribute:${e}`,n,t)}_createConversionApi(e,t=new Set,n={}){const i={...this._conversionApi,consumable:new Yq,writer:e,options:n,convertItem:e=>this._convertInsert(Nq._createOn(e),i),convertChildren:e=>this._convertInsert(Nq._createIn(e),i,{doNotAddConsumables:!0}),convertAttributes:e=>this._testAndFireAddAttributes(e,i),canReuseView:e=>!t.has(i.mapper.toModelElement(e))};return this._firedEventsMap.set(i,new Map),i}}function Vq(e,t,n){const i=t.getRange(),r=Array.from(e.getAncestors());return r.shift(),r.reverse(),!r.some((e=>{if(i.containsItem(e))return!!n.toViewElement(e).getCustomProperty("addHighlight")}))}function Wq(e){return{item:e.item,range:Nq._createFromPositionAndShift(e.previousPosition,e.length)}}class Uq extends(vV(Eq)){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const i of e._ranges)if(t.isEqual(i)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new Nq(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?new Nq(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?new Nq(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,n,i]=e;if("object"==typeof n&&(i=n,n=void 0),null===t)this._setRanges([]);else if(t instanceof Uq)this._setRanges(t.getRanges(),t.isBackward);else if(t&&"function"==typeof t.getRanges)this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof Nq)this._setRanges([t],!!i&&!!i.backward);else if(t instanceof Lq)this._setRanges([new Nq(t)]);else if(t instanceof xq){const e=!!i&&!!i.backward;let r;if("in"==n)r=Nq._createIn(t);else if("on"==n)r=Nq._createOn(t);else{if(void 0===n)throw new dV("model-selection-setto-required-second-parameter",[this,t]);r=new Nq(Lq._createAt(t,n))}this._setRanges([r],e)}else{if(!HV(t))throw new dV("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,i&&!!i.backward)}}_setRanges(e,t=!1){const n=Array.from(e),i=n.some((t=>{if(!(t instanceof Nq))throw new dV("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every((e=>!e.isEqual(t)))}));(n.length!==this._ranges.length||i)&&(this._replaceAllRanges(n),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(null===this.anchor)throw new dV("model-selection-setfocus-no-ranges",[this,e]);const n=Lq._createAt(e,t);if("same"==n.compareWith(this.focus))return;const i=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(i)?(this._pushRange(new Nq(n,i)),this._lastRangeBackward=!0):(this._pushRange(new Nq(i,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const n=Kq(t.start,e);Zq(n,t)&&(yield n);for(const n of t.getWalker()){const i=n.item;"elementEnd"==n.type&&qq(i,e,t)&&(yield i)}const i=Kq(t.end,e);Jq(i,t)&&(yield i)}}containsEntireContent(e=this.anchor.root){const t=Lq._createAt(e,0),n=Lq._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new Nq(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new dV("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function $q(e,t){return!t.has(e)&&(t.add(e),e.root.document.model.schema.isBlock(e)&&!!e.parent)}function qq(e,t,n){return $q(e,t)&&Gq(e,n)}function Kq(e,t){const n=e.parent.root.document.model.schema,i=e.parent.getAncestors({parentFirst:!0,includeSelf:!0});let r=!1;const o=i.find((e=>!r&&(r=n.isLimit(e),!r&&$q(e,t))));return i.forEach((e=>t.add(e))),o}function Gq(e,t){const n=function(e){const t=e.root.document.model.schema;let n=e.parent;for(;n;){if(t.isBlock(n))return n;n=n.parent}}(e);return!n||!t.containsRange(Nq._createOn(n),!0)}function Zq(e,t){return!!e&&(!(!t.isCollapsed&&!e.isEmpty)||!t.start.isTouching(Lq._createAt(e,e.maxOffset))&&Gq(e,t))}function Jq(e,t){return!!e&&(!(!t.isCollapsed&&!e.isEmpty)||!t.end.isTouching(Lq._createAt(e,0))&&Gq(e,t))}Uq.prototype.is=function(e){return"selection"===e||"model:selection"===e};class Xq extends(vV(Nq)){constructor(e,t){super(e,t),Qq.call(this)}detach(){this.stopListening()}toRange(){return new Nq(this.start,this.end)}static fromRange(e){return new Xq(e.start,e.end)}}function Qq(){this.listenTo(this.root.document.model,"applyOperation",((e,t)=>{const n=t[0];n.isDocumentOperation&&eK.call(this,n)}),{priority:"low"})}function eK(e){const t=this.getTransformedByOperation(e),n=Nq._createFromRanges(t),i=!n.isEqual(this),r=function(e,t){switch(t.type){case"insert":return e.containsPosition(t.position);case"move":case"remove":case"reinsert":case"merge":return e.containsPosition(t.sourcePosition)||e.start.isEqual(t.sourcePosition)||e.containsPosition(t.targetPosition);case"split":return e.containsPosition(t.splitPosition)||e.containsPosition(t.insertionPosition)}return!1}(this,e);let o=null;if(i){"$graveyard"==n.root.rootName&&(o="remove"==e.type?e.sourcePosition:e.deletionPosition);const t=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",t,{deletionPosition:o})}else r&&this.fire("change:content",this.toRange(),{deletionPosition:o})}Xq.prototype.is=function(e){return"liveRange"===e||"model:liveRange"===e||"range"==e||"model:range"===e};const tK="selection:";class nK extends(vV(Eq)){constructor(e){super(),this._selection=new iK(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return tK+e}static _isStoreAttributeKey(e){return e.startsWith(tK)}}nK.prototype.is=function(e){return"selection"===e||"model:selection"==e||"documentSelection"==e||"model:documentSelection"==e};class iK extends Uq{constructor(e){super(),this.markers=new uU({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",((e,t)=>{const n=t[0];n.isDocumentOperation&&"marker"!=n.type&&"rename"!=n.type&&"noop"!=n.type&&(0==this._ranges.length&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))}),{priority:"lowest"}),this.on("change:range",(()=>{this._validateSelectionRanges(this.getRanges())})),this.listenTo(this._model.markers,"update",((e,t,n,i)=>{this._updateMarker(t,i)})),this.listenTo(this._document,"change",((e,t)=>{!function(e,t){const n=e.document.differ;for(const i of n.getChanges()){if("insert"!=i.type)continue;const n=i.position.parent;i.length===n.maxOffset&&e.enqueueChange(t,(e=>{const t=Array.from(n.getAttributeKeys()).filter((e=>e.startsWith(tK)));for(const i of t)e.removeAttribute(i,n)}))}}(this._model,t)}))}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=aV();return this._overriddenGravityRegister.add(e),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new dV("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new dV("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=Xq.fromRange(e);return t.on("change:range",((e,n,i)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=i.deletionPosition;const e=this._ranges.indexOf(t);this._ranges.splice(e,1),t.detach()}})),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const t of this._model.markers){const n=t.name.split(":",1)[0];if(!this._observedMarkers.has(n))continue;const i=t.getRange();for(const n of this.getRanges())i.containsRange(n,!n.isCollapsed)&&e.push(t)}const n=Array.from(this.markers);for(const n of e)this.markers.has(n)||(this.markers.add(n),t=!0);for(const n of Array.from(this.markers))e.includes(n)||(this.markers.remove(n),t=!0);t&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateMarker(e,t){const n=e.name.split(":",1)[0];if(!this._observedMarkers.has(n))return;let i=!1;const r=Array.from(this.markers),o=this.markers.has(e);if(t){let n=!1;for(const e of this.getRanges())if(t.containsRange(e,!e.isCollapsed)){n=!0;break}n&&!o?(this.markers.add(e),i=!0):!n&&o&&(this.markers.remove(e),i=!0)}else o&&(this.markers.remove(e),i=!0);i&&this.fire("change:marker",{oldMarkers:r,directChange:!1})}_updateAttributes(e){const t=fU(this._getSurroundingAttributes()),n=fU(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[e,t]of this._attributePriority)"low"==t&&(this._attrs.delete(e),this._attributePriority.delete(e));this._setAttributesTo(t);const i=[];for(const[e,t]of this.getAttributes())n.has(e)&&n.get(e)===t||i.push(e);for(const[e]of n)this.hasAttribute(e)||i.push(e);i.length>0&&this.fire("change:attribute",{attributeKeys:i,directChange:!1})}_setAttribute(e,t,n=!0){const i=n?"normal":"low";return("low"!=i||"normal"!=this._attributePriority.get(e))&&(super.getAttribute(e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,i),!0))}_removeAttribute(e,t=!0){const n=t?"normal":"low";return!("low"==n&&"normal"==this._attributePriority.get(e)||(this._attributePriority.set(e,n),!super.hasAttribute(e)||(this._attrs.delete(e),0)))}_setAttributesTo(e){const t=new Set;for(const[t,n]of this.getAttributes())e.get(t)!==n&&this._removeAttribute(t,!1);for(const[n,i]of e)this._setAttribute(n,i,!1)&&t.add(n);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())if(t.startsWith(tK)){const n=t.substr(10);yield[n,e.getAttribute(t)]}}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if("$graveyard"==e.root.rootName)return null;let n=null;if(this.isCollapsed){const i=e.textNode?e.textNode:e.nodeBefore,r=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(n=rK(i,t)),n||(n=rK(r,t)),!this.isGravityOverridden&&!n){let e=i;for(;e&&!n;)e=e.previousSibling,n=rK(e,t)}if(!n){let e=r;for(;e&&!n;)e=e.nextSibling,n=rK(e,t)}n||(n=this.getStoredAttributes())}else{const e=this.getFirstRange();for(const i of e){if(i.item.is("element")&&t.isObject(i.item)){n=rK(i.item,t);break}if("text"==i.type){n=i.item.getAttributes();break}}}return n}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function rK(e,t){if(!e)return null;if(e instanceof Tq||e instanceof Oq)return e.getAttributes();if(!t.isInline(e))return null;if(!t.isObject(e))return[];const n=[];for(const[i,r]of e.getAttributes())t.checkAttribute("$text",i)&&!1!==t.getAttributeProperties(i).copyFromObject&&n.push([i,r]);return n}class oK{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}class sK extends oK{elementToElement(e){return this.add(function(e){const t=cK(e.model),n=uK(e.view,"container");return t.attributes.length&&(t.children=!0),i=>{i.on(`insert:${t.name}`,function(e,t=yK){return(n,i,r)=>{if(!t(i.item,r.consumable,{preflight:!0}))return;const o=e(i.item,r,i);if(!o)return;t(i.item,r.consumable);const s=r.mapper.toViewPosition(i.range.start);r.mapper.bindElements(i.item,o),r.writer.insert(s,o),r.convertAttributes(i.item),gK(o,i.item.getChildren(),r,{reconversion:i.reconversion})}}(n,mK(t)),{priority:e.converterPriority||"normal"}),(t.children||t.attributes.length)&&i.on("reduceChanges",fK(t),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(e){const t=cK(e.model),n=uK(e.view,"container");return t.children=!0,i=>{if(i._conversionApi.schema.checkChild(t.name,"$text"))throw new dV("conversion-element-to-structure-disallowed-text",i,{elementName:t.name});var r,o;i.on(`insert:${t.name}`,(r=n,o=mK(t),(e,t,n)=>{if(!o(t.item,n.consumable,{preflight:!0}))return;const i=new Map;n.writer._registerSlotFactory(function(e,t,n){return(i,r)=>{const o=i.createContainerElement("$slot");let s=null;if("children"===r)s=Array.from(e.getChildren());else{if("function"!=typeof r)throw new dV("conversion-slot-mode-unknown",n.dispatcher,{modeOrFilter:r});s=Array.from(e.getChildren()).filter((e=>r(e)))}return t.set(o,s),o}}(t.item,i,n));const s=r(t.item,n,t);if(n.writer._clearSlotFactory(),!s)return;!function(e,t,n){const i=Array.from(t.values()).flat(),r=new Set(i);if(r.size!=i.length)throw new dV("conversion-slot-filter-overlap",n.dispatcher,{element:e});if(r.size!=e.childCount)throw new dV("conversion-slot-filter-incomplete",n.dispatcher,{element:e})}(t.item,i,n),o(t.item,n.consumable);const a=n.mapper.toViewPosition(t.range.start);n.mapper.bindElements(t.item,s),n.writer.insert(a,s),n.convertAttributes(t.item),function(e,t,n,i){n.mapper.on("modelToViewPosition",s,{priority:"highest"});let r=null,o=null;for([r,o]of t)gK(e,o,n,i),n.writer.move(n.writer.createRangeIn(r),n.writer.createPositionBefore(r)),n.writer.remove(r);function s(e,t){const n=t.modelPosition.nodeAfter,i=o.indexOf(n);i<0||(t.viewPosition=t.mapper.findPositionIn(r,i))}n.mapper.off("modelToViewPosition",s)}(s,i,n,{reconversion:t.reconversion})}),{priority:e.converterPriority||"normal"}),i.on("reduceChanges",fK(t),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(e){let t=(e=kq(e)).model;"string"==typeof t&&(t={key:t});let n=`attribute:${t.key}`;if(t.name&&(n+=":"+t.name),t.values)for(const n of t.values)e.view[n]=uK(e.view[n],"attribute");else e.view=uK(e.view,"attribute");const i=dK(e);return t=>{t.on(n,function(e){return(t,n,i)=>{if(!i.consumable.test(n.item,t.name))return;const r=e(n.attributeOldValue,i,n),o=e(n.attributeNewValue,i,n);if(!r&&!o)return;i.consumable.consume(n.item,t.name);const s=i.writer,a=s.document.selection;if(n.item instanceof Uq||n.item instanceof nK)s.wrap(a.getFirstRange(),o);else{let e=i.mapper.toViewRange(n.range);null!==n.attributeOldValue&&r&&(e=s.unwrap(e,r)),null!==n.attributeNewValue&&o&&s.wrap(e,o)}}}(i),{priority:e.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(e){let t=(e=kq(e)).model;"string"==typeof t&&(t={key:t});let n=`attribute:${t.key}`;if(t.name&&(n+=":"+t.name),t.values)for(const n of t.values)e.view[n]=hK(e.view[n]);else e.view=hK(e.view);const i=dK(e);return t=>{var r;t.on(n,(r=i,(e,t,n)=>{if(!n.consumable.test(t.item,e.name))return;const i=r(t.attributeOldValue,n,t),o=r(t.attributeNewValue,n,t);if(!i&&!o)return;n.consumable.consume(t.item,e.name);const s=n.mapper.toViewElement(t.item),a=n.writer;if(!s)throw new dV("conversion-attribute-to-attribute-on-text",n.dispatcher,t);if(null!==t.attributeOldValue&&i)if("class"==i.key){const e="string"==typeof i.value?i.value.split(/\s+/):i.value;for(const t of e)a.removeClass(t,s)}else if("style"==i.key)if("string"==typeof i.value){const e=new HU(a.document.stylesProcessor);e.setTo(i.value);for(const[t]of e.getStylesEntries())a.removeStyle(t,s)}else{const e=Object.keys(i.value);for(const t of e)a.removeStyle(t,s)}else a.removeAttribute(i.key,s);if(null!==t.attributeNewValue&&o)if("class"==o.key){const e="string"==typeof o.value?o.value.split(/\s+/):o.value;for(const t of e)a.addClass(t,s)}else if("style"==o.key)if("string"==typeof o.value){const e=new HU(a.document.stylesProcessor);e.setTo(o.value);for(const[t,n]of e.getStylesEntries())a.setStyle(t,n,s)}else{const e=Object.keys(o.value);for(const t of e)a.setStyle(t,o.value[t],s)}else a.setAttribute(o.key,o.value,s)}),{priority:e.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(e){const t=uK(e.view,"ui");return n=>{var i;n.on(`addMarker:${e.model}`,(i=t,(e,t,n)=>{t.isOpening=!0;const r=i(t,n);t.isOpening=!1;const o=i(t,n);if(!r||!o)return;const s=t.markerRange;if(s.isCollapsed&&!n.consumable.consume(s,e.name))return;for(const t of s)if(!n.consumable.consume(t.item,e.name))return;const a=n.mapper,l=n.writer;l.insert(a.toViewPosition(s.start),r),n.mapper.bindElementToMarker(r,t.markerName),s.isCollapsed||(l.insert(a.toViewPosition(s.end),o),n.mapper.bindElementToMarker(o,t.markerName)),e.stop()}),{priority:e.converterPriority||"normal"}),n.on(`removeMarker:${e.model}`,((e,t,n)=>{const i=n.mapper.markerNameToElements(t.markerName);if(i){for(const e of i)n.mapper.unbindElementFromMarkerName(e,t.markerName),n.writer.clear(n.writer.createRangeOn(e),e);n.writer.clearClonedElementsGroup(t.markerName),e.stop()}}),{priority:e.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(e){return t=>{var n;t.on(`addMarker:${e.model}`,(n=e.view,(e,t,i)=>{if(!t.item)return;if(!(t.item instanceof Uq||t.item instanceof nK||t.item.is("$textProxy")))return;const r=pK(n,t,i);if(!r)return;if(!i.consumable.consume(t.item,e.name))return;const o=i.writer,s=aK(o,r),a=o.document.selection;if(t.item instanceof Uq||t.item instanceof nK)o.wrap(a.getFirstRange(),s);else{const e=i.mapper.toViewRange(t.range),n=o.wrap(e,s);for(const e of n.getItems())if(e.is("attributeElement")&&e.isSimilar(s)){i.mapper.bindElementToMarker(e,t.markerName);break}}}),{priority:e.converterPriority||"normal"}),t.on(`addMarker:${e.model}`,function(e){return(t,n,i)=>{if(!n.item)return;if(!(n.item instanceof Mq))return;const r=pK(e,n,i);if(!r)return;if(!i.consumable.test(n.item,t.name))return;const o=i.mapper.toViewElement(n.item);if(o&&o.getCustomProperty("addHighlight")){i.consumable.consume(n.item,t.name);for(const e of Nq._createIn(n.item))i.consumable.consume(e.item,t.name);o.getCustomProperty("addHighlight")(o,r,i.writer),i.mapper.bindElementToMarker(o,n.markerName)}}}(e.view),{priority:e.converterPriority||"normal"}),t.on(`removeMarker:${e.model}`,function(e){return(t,n,i)=>{if(n.markerRange.isCollapsed)return;const r=pK(e,n,i);if(!r)return;const o=aK(i.writer,r),s=i.mapper.markerNameToElements(n.markerName);if(s){for(const e of s)i.mapper.unbindElementFromMarkerName(e,n.markerName),e.is("attributeElement")?i.writer.unwrap(i.writer.createRangeOn(e),o):e.getCustomProperty("removeHighlight")(e,r.id,i.writer);i.writer.clearClonedElementsGroup(n.markerName),t.stop()}}}(e.view),{priority:e.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(e){const t=(e=kq(e)).model;let n=e.view;return n||(n=n=>({group:t,name:n.substr(e.model.length+1)})),i=>{var r;i.on(`addMarker:${t}`,(r=n,(e,t,n)=>{const i=r(t.markerName,n);if(!i)return;const o=t.markerRange;n.consumable.consume(o,e.name)&&(lK(o,!1,n,t,i),lK(o,!0,n,t,i),e.stop())}),{priority:e.converterPriority||"normal"}),i.on(`removeMarker:${t}`,function(e){return(t,n,i)=>{const r=e(n.markerName,i);if(!r)return;const o=i.mapper.markerNameToElements(n.markerName);if(o){for(const e of o)i.mapper.unbindElementFromMarkerName(e,n.markerName),e.is("containerElement")?(s(`data-${r.group}-start-before`,e),s(`data-${r.group}-start-after`,e),s(`data-${r.group}-end-before`,e),s(`data-${r.group}-end-after`,e)):i.writer.clear(i.writer.createRangeOn(e),e);i.writer.clearClonedElementsGroup(n.markerName),t.stop()}function s(e,t){if(t.hasAttribute(e)){const n=new Set(t.getAttribute(e).split(","));n.delete(r.name),0==n.size?i.writer.removeAttribute(e,t):i.writer.setAttribute(e,Array.from(n).join(","),t)}}}}(n),{priority:e.converterPriority||"normal"})}}(e))}}function aK(e,t){const n=e.createAttributeElement("span",t.attributes);return t.classes&&n._addClass(t.classes),"number"==typeof t.priority&&(n._priority=t.priority),n._id=t.id,n}function lK(e,t,n,i,r){const o=t?e.start:e.end,s=o.nodeAfter&&o.nodeAfter.is("element")?o.nodeAfter:null,a=o.nodeBefore&&o.nodeBefore.is("element")?o.nodeBefore:null;if(s||a){let e,o;t&&s||!t&&!a?(e=s,o=!0):(e=a,o=!1);const l=n.mapper.toViewElement(e);if(l)return void function(e,t,n,i,r,o){const s=`data-${o.group}-${t?"start":"end"}-${n?"before":"after"}`,a=e.hasAttribute(s)?e.getAttribute(s).split(","):[];a.unshift(o.name),i.writer.setAttribute(s,a.join(","),e),i.mapper.bindElementToMarker(e,r.markerName)}(l,t,o,n,i,r)}!function(e,t,n,i,r){const o=`${r.group}-${t?"start":"end"}`,s=r.name?{name:r.name}:null,a=n.writer.createUIElement(o,s);n.writer.insert(e,a),n.mapper.bindElementToMarker(a,i.markerName)}(n.mapper.toViewPosition(o),t,n,i,r)}function cK(e){return"string"==typeof e&&(e={name:e}),{name:e.name,attributes:e.attributes?sU(e.attributes):[],children:!!e.children}}function uK(e,t){return"function"==typeof e?e:(n,i)=>function(e,t,n){let i;"string"==typeof e&&(e={name:e});const r=t.writer,o=Object.assign({},e.attributes);if("container"==n)i=r.createContainerElement(e.name,o);else if("attribute"==n){const t={priority:e.priority||f$.DEFAULT_PRIORITY};i=r.createAttributeElement(e.name,o,t)}else i=r.createUIElement(e.name,o);if(e.styles){const t=Object.keys(e.styles);for(const n of t)r.setStyle(n,e.styles[n],i)}if(e.classes){const t=e.classes;if("string"==typeof t)r.addClass(t,i);else for(const e of t)r.addClass(e,i)}return i}(e,i,t)}function dK(e){return e.model.values?(t,n,i)=>{const r=e.view[t];return r?r(t,n,i):null}:e.view}function hK(e){return"string"==typeof e?t=>({key:e,value:t}):"object"==typeof e?e.value?()=>e:t=>({key:e.key,value:t}):e}function pK(e,t,n){const i="function"==typeof e?e(t,n):e;return i?(i.priority||(i.priority=10),i.id||(i.id=t.markerName),i):null}function fK(e){const t=function(e){return(t,n)=>{if(!t.is("element",e.name))return!1;if("attribute"==n.type){if(e.attributes.includes(n.attributeKey))return!0}else if(e.children)return!0;return!1}}(e);return(e,n)=>{const i=[];n.reconvertedElements||(n.reconvertedElements=new Set);for(const e of n.changes){const r="attribute"==e.type?e.range.start.nodeAfter:e.position.parent;if(r&&t(r,e)){if(!n.reconvertedElements.has(r)){n.reconvertedElements.add(r);const e=Lq._createBefore(r);let t=i.length;for(let n=i.length-1;n>=0;n--){const r=i[n],o=("attribute"==r.type?r.range.start:r.position).compareWith(e);if("before"==o||"remove"==r.type&&"same"==o)break;t=n}i.splice(t,0,{type:"remove",name:r.name,position:e,length:1},{type:"reinsert",name:r.name,position:e,length:1})}}else i.push(e)}n.changes=i}}function mK(e){return(t,n,i={})=>{const r=["insert"];for(const n of e.attributes)t.hasAttribute(n)&&r.push(`attribute:${n}`);return!!r.every((e=>n.test(t,e)))&&(i.preflight||r.forEach((e=>n.consume(t,e))),!0)}}function gK(e,t,n,i){for(const r of t)bK(e.root,r,n,i)||n.convertItem(r)}function bK(e,t,n,i){const{writer:r,mapper:o}=n;if(!i.reconversion)return!1;const s=o.toViewElement(t);return!(!s||s.root==e||!n.canReuseView(s)||(r.move(r.createRangeOn(s),o.toViewPosition(Lq._createBefore(t))),0))}function yK(e,t,{preflight:n}={}){return n?t.test(e,"insert"):t.consume(e,"insert")}function vK(e){const{schema:t,document:n}=e.model;for(const i of n.getRoots())if(i.isEmpty&&!t.checkChild(i,"$text")&&t.checkChild(i,"paragraph"))return e.insertElement("paragraph",i),!0;return!1}function _K(e,t,n){const i=n.createContext(e);return!!n.checkChild(i,"paragraph")&&!!n.checkChild(i.push("paragraph"),t)}function wK(e,t){const n=t.createElement("paragraph");return t.insert(n,e),t.createPositionAt(n,0)}class kK extends oK{elementToElement(e){return this.add(CK(e))}elementToAttribute(e){return this.add(function(e){SK(e=kq(e));const t=OK(e,!1),n=EK(e.view),i=n?`element:${n}`:"element";return n=>{n.on(i,t,{priority:e.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(e){let t=null;("string"==typeof(e=kq(e)).view||e.view.key)&&(t=function(e){"string"==typeof e.view&&(e.view={key:e.view});const t=e.view.key,n=void 0===e.view.value?/[\s\S]*/:e.view.value;let i;return i="class"==t||"style"==t?{["class"==t?"classes":"styles"]:n}:{attributes:{[t]:n}},e.view.name&&(i.name=e.view.name),e.view=i,t}(e)),SK(e,t);const n=OK(e,!0);return t=>{t.on("element",n,{priority:e.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(e){const t=function(e){return(t,n)=>{const i="string"==typeof e?e:e(t,n);return n.writer.createElement("$marker",{"data-name":i})}}(e.model);return CK({...e,model:t})}(e))}dataToMarker(e){return this.add(function(e){(e=kq(e)).model||(e.model=t=>t?e.view+":"+t:e.view);const t={view:e.view,model:e.model},n=xK(TK(t,"start")),i=xK(TK(t,"end"));return r=>{r.on(`element:${e.view}-start`,n,{priority:e.converterPriority||"normal"}),r.on(`element:${e.view}-end`,i,{priority:e.converterPriority||"normal"});const o=lV.low,s=lV.highest,a=lV.get(e.converterPriority)/s;r.on("element",function(e){return(t,n,i)=>{const r=`data-${e.view}`;function o(t,r){for(const o of r){const r=e.model(o,i),s=i.writer.createElement("$marker",{"data-name":r});i.writer.insert(s,t),n.modelCursor.isEqual(t)?n.modelCursor=n.modelCursor.getShiftedBy(1):n.modelCursor=n.modelCursor._getTransformedByInsertion(t,1),n.modelRange=n.modelRange._getTransformedByInsertion(t,1)[0]}}(i.consumable.test(n.viewItem,{attributes:r+"-end-after"})||i.consumable.test(n.viewItem,{attributes:r+"-start-after"})||i.consumable.test(n.viewItem,{attributes:r+"-end-before"})||i.consumable.test(n.viewItem,{attributes:r+"-start-before"}))&&(n.modelRange||Object.assign(n,i.convertChildren(n.viewItem,n.modelCursor)),i.consumable.consume(n.viewItem,{attributes:r+"-end-after"})&&o(n.modelRange.end,n.viewItem.getAttribute(r+"-end-after").split(",")),i.consumable.consume(n.viewItem,{attributes:r+"-start-after"})&&o(n.modelRange.end,n.viewItem.getAttribute(r+"-start-after").split(",")),i.consumable.consume(n.viewItem,{attributes:r+"-end-before"})&&o(n.modelRange.start,n.viewItem.getAttribute(r+"-end-before").split(",")),i.consumable.consume(n.viewItem,{attributes:r+"-start-before"})&&o(n.modelRange.start,n.viewItem.getAttribute(r+"-start-before").split(",")))}}(t),{priority:o+a})}}(e))}}function CK(e){const t=xK(e=kq(e)),n=EK(e.view),i=n?`element:${n}`:"element";return n=>{n.on(i,t,{priority:e.converterPriority||"normal"})}}function EK(e){return"string"==typeof e?e:"object"==typeof e&&"string"==typeof e.name?e.name:null}function xK(e){const t=new RU(e.view);return(n,i,r)=>{const o=t.match(i.viewItem);if(!o)return;const s=o.match;if(s.name=!0,!r.consumable.test(i.viewItem,s))return;const a=function(e,t,n){return e instanceof Function?e(t,n):n.writer.createElement(e)}(e.model,i.viewItem,r);a&&r.safeInsert(a,i.modelCursor)&&(r.consumable.consume(i.viewItem,s),r.convertChildren(i.viewItem,a),r.updateConversionResult(a,i))}}function SK(e,t=null){const n=null===t||(e=>e.getAttribute(t)),i="object"!=typeof e.model?e.model:e.model.key,r="object"!=typeof e.model||void 0===e.model.value?n:e.model.value;e.model={key:i,value:r}}function OK(e,t){const n=new RU(e.view);return(i,r,o)=>{if(!r.modelRange&&t)return;const s=n.match(r.viewItem);if(!s)return;if(function(e,t){const n="function"==typeof e?e(t):e;return!("object"==typeof n&&!EK(n))&&(!n.classes&&!n.attributes&&!n.styles)}(e.view,r.viewItem)?s.match.name=!0:delete s.match.name,!o.consumable.test(r.viewItem,s.match))return;const a=e.model.key,l="function"==typeof e.model.value?e.model.value(r.viewItem,o):e.model.value;if(null===l)return;r.modelRange||Object.assign(r,o.convertChildren(r.viewItem,r.modelCursor));const c=function(e,t,n,i){let r=!1;for(const o of Array.from(e.getItems({shallow:n})))i.schema.checkAttribute(o,t.key)&&(r=!0,o.hasAttribute(t.key)||i.writer.setAttribute(t.key,t.value,o));return r}(r.modelRange,{key:a,value:l},t,o);c&&(o.consumable.test(r.viewItem,{name:!0})&&(s.match.name=!0),o.consumable.consume(r.viewItem,s.match))}}function TK(e,t){return{view:`${e.view}-${t}`,model:(t,n)=>{const i=t.getAttribute("name"),r=e.model(i,n);return n.writer.createElement("$marker",{"data-name":r})}}}function MK(e,t){return e.isCollapsed?function(e,t){const n=e.start,i=t.getNearestSelectionRange(n);if(!i){const e=n.getAncestors().reverse().find((e=>t.isObject(e)));return e?Nq._createOn(e):null}if(!i.isCollapsed)return i;const r=i.start;return n.isEqual(r)?null:new Nq(r)}(e,t):function(e,t){const{start:n,end:i}=e,r=t.checkChild(n,"$text"),o=t.checkChild(i,"$text"),s=t.getLimitElement(n),a=t.getLimitElement(i);if(s===a){if(r&&o)return null;if(function(e,t,n){const i=e.nodeAfter&&!n.isLimit(e.nodeAfter)||n.checkChild(e,"$text"),r=t.nodeBefore&&!n.isLimit(t.nodeBefore)||n.checkChild(t,"$text");return i||r}(n,i,t)){const e=n.nodeAfter&&t.isSelectable(n.nodeAfter)?null:t.getNearestSelectionRange(n,"forward"),r=i.nodeBefore&&t.isSelectable(i.nodeBefore)?null:t.getNearestSelectionRange(i,"backward"),o=e?e.start:n,s=r?r.end:i;return new Nq(o,s)}}const l=s&&!s.is("rootElement"),c=a&&!a.is("rootElement");if(l||c){const e=n.nodeAfter&&i.nodeBefore&&n.nodeAfter.parent===i.nodeBefore.parent,r=l&&(!e||!DK(n.nodeAfter,t)),o=c&&(!e||!DK(i.nodeBefore,t));let u=n,d=i;return r&&(u=Lq._createBefore(PK(s,t))),o&&(d=Lq._createAfter(PK(a,t))),new Nq(u,d)}return null}(e,t)}function PK(e,t){let n=e,i=n;for(;t.isLimit(i)&&i.parent;)n=i,i=i.parent;return n}function DK(e,t){return e&&t.isSelectable(e)}class LK extends(AV()){constructor(e,t){super(),this.model=e,this.view=new Cq(t),this.mapper=new Fq,this.downcastDispatcher=new Hq({mapper:this.mapper,schema:e.schema});const n=this.model.document,i=n.selection,r=this.model.markers;var o,s,a;this.listenTo(this.model,"_beforeChanges",(()=>{this.view._disableRendering(!0)}),{priority:"highest"}),this.listenTo(this.model,"_afterChanges",(()=>{this.view._disableRendering(!1)}),{priority:"lowest"}),this.listenTo(n,"change",(()=>{this.view.change((e=>{this.downcastDispatcher.convertChanges(n.differ,r,e),this.downcastDispatcher.convertSelection(i,r,e)}))}),{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(e,t){return(n,i)=>{const r=i.newSelection,o=[];for(const e of r.getRanges())o.push(t.toModelRange(e));const s=e.createSelection(o,{backward:r.isBackward});s.isEqual(e.document.selection)||e.change((e=>{e.setSelection(s)}))}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(o=this.mapper,s=this.model.schema,a=this.view,(e,t)=>{if(!a.document.isComposing||QH.isAndroid)for(let e=0;e<t.targetRanges.length;e++){const n=t.targetRanges[e],i=o.toModelRange(n),r=MK(i,s);r&&!r.isEqual(i)&&(t.targetRanges[e]=o.toViewRange(r))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",((e,t,n)=>{if(!n.consumable.consume(t.item,e.name))return;const i=n.writer,r=n.mapper.toViewPosition(t.range.start),o=i.createText(t.item.data);i.insert(r,o)}),{priority:"lowest"}),this.downcastDispatcher.on("insert",((e,t,n)=>{n.convertAttributes(t.item),t.reconversion||!t.item.is("element")||t.item.isEmpty||n.convertChildren(t.item)}),{priority:"lowest"}),this.downcastDispatcher.on("remove",((e,t,n)=>{const i=n.mapper.toViewPosition(t.position),r=t.position.getShiftedBy(t.length),o=n.mapper.toViewPosition(r,{isPhantom:!0}),s=n.writer.createRange(i,o),a=n.writer.remove(s.getTrimmed());for(const e of n.writer.createRangeIn(a).getItems())n.mapper.unbindViewElement(e,{defer:!0})}),{priority:"low"}),this.downcastDispatcher.on("cleanSelection",((e,t,n)=>{const i=n.writer,r=i.document.selection;for(const e of r.getRanges())e.isCollapsed&&e.end.parent.isAttached()&&n.writer.mergeAttributes(e.start);i.setSelection(null)})),this.downcastDispatcher.on("selection",((e,t,n)=>{const i=t.selection;if(i.isCollapsed)return;if(!n.consumable.consume(i,"selection"))return;const r=[];for(const e of i.getRanges())r.push(n.mapper.toViewRange(e));n.writer.setSelection(r,{backward:i.isBackward})}),{priority:"low"}),this.downcastDispatcher.on("selection",((e,t,n)=>{const i=t.selection;if(!i.isCollapsed)return;if(!n.consumable.consume(i,"selection"))return;const r=n.writer,o=i.getFirstPosition(),s=n.mapper.toViewPosition(o),a=r.breakAttributes(s);r.setSelection(a)}),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using((e=>{if("$graveyard"==e.rootName)return null;const t=new XU(this.view.document,e.name);return t.rootName=e.rootName,this.mapper.bindElements(e,t),t}))}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t="string"==typeof e?e:e.name,n=this.model.markers.get(t);if(!n)throw new dV("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change((()=>{this.model.markers._refresh(n)}))}reconvertItem(e){this.model.change((()=>{this.model.document.differ._refreshItem(e)}))}}class AK{constructor(){this._consumables=new Map}add(e,t){let n;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?n=this._consumables.get(e):(n=new IK(e),this._consumables.set(e,n)),n.add(t))}test(e,t){const n=this._consumables.get(e);return void 0===n?null:e.is("$text")||e.is("documentFragment")?n:n.test(t)}consume(e,t){return!!this.test(e,t)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}revert(e,t){const n=this._consumables.get(e);void 0!==n&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):n.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},n=e.getAttributeKeys();for(const e of n)"style"!=e&&"class"!=e&&t.attributes.push(e);const i=e.getClassNames();for(const e of i)t.classes.push(e);const r=e.getStyleNames();for(const e of r)t.styles.push(e);return t}static createFrom(e,t){if(t||(t=new AK),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,AK.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const n of e.getChildren())t=AK.createFrom(n,t);return t}}const zK=["attributes","classes","styles"];class IK{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of zK)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of zK)if(t in e){const n=this._test(t,e[t]);if(!0!==n)return n}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of zK)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of zK)t in e&&this._revert(t,e[t])}_add(e,t){const n=sU(t),i=this._consumables[e];for(const t of n){if("attributes"===e&&("class"===t||"style"===t))throw new dV("viewconsumable-invalid-attribute",this);if(i.set(t,!0),"styles"===e)for(const e of this.element.document.stylesProcessor.getRelatedStyles(t))i.set(e,!0)}}_test(e,t){const n=sU(t),i=this._consumables[e];for(const t of n)if("attributes"!==e||"class"!==t&&"style"!==t){const e=i.get(t);if(void 0===e)return null;if(!e)return!1}else{const e="class"==t?"classes":"styles",n=this._test(e,[...this._consumables[e].keys()]);if(!0!==n)return n}return!0}_consume(e,t){const n=sU(t),i=this._consumables[e];for(const t of n)if("attributes"!==e||"class"!==t&&"style"!==t){if(i.set(t,!1),"styles"==e)for(const e of this.element.document.stylesProcessor.getRelatedStyles(t))i.set(e,!1)}else{const e="class"==t?"classes":"styles";this._consume(e,[...this._consumables[e].keys()])}}_revert(e,t){const n=sU(t),i=this._consumables[e];for(const t of n)if("attributes"!==e||"class"!==t&&"style"!==t)!1===i.get(t)&&i.set(t,!0);else{const e="class"==t?"classes":"styles";this._revert(e,[...this._consumables[e].keys()])}}}class RK extends(AV()){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",((e,t)=>{t[0]=new jK(t[0])}),{priority:"highest"}),this.on("checkChild",((e,t)=>{t[0]=new jK(t[0]),t[1]=this.getDefinition(t[1])}),{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new dV("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new dV("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return t="string"==typeof e?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!(!t||!t.isBlock)}isLimit(e){const t=this.getDefinition(e);return!(!t||!t.isLimit&&!t.isObject)}isObject(e){const t=this.getDefinition(e);return!!t&&!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent)}isInline(e){const t=this.getDefinition(e);return!(!t||!t.isInline)}isSelectable(e){const t=this.getDefinition(e);return!(!t||!t.isSelectable&&!t.isObject)}isContent(e){const t=this.getDefinition(e);return!(!t||!t.isContent&&!t.isObject)}checkChild(e,t){return!!t&&this._checkContextMatch(t,e)}checkAttribute(e,t){const n=this.getDefinition(e.last);return!!n&&n.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof Lq){const t=e.nodeBefore,n=e.nodeAfter;if(!(t instanceof Mq))throw new dV("schema-check-merge-no-element-before",this);if(!(n instanceof Mq))throw new dV("schema-check-merge-no-element-after",this);return this.checkMerge(t,n)}for(const n of t.getChildren())if(!this.checkChild(e,n))return!1;return!0}addChildCheck(e){this.on("checkChild",((t,[n,i])=>{if(!i)return;const r=e(n,i);"boolean"==typeof r&&(t.stop(),t.return=r)}),{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",((t,[n,i])=>{const r=e(n,i);"boolean"==typeof r&&(t.stop(),t.return=r)}),{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(t=e instanceof Lq?e.parent:(e instanceof Nq?[e]:Array.from(e.getRanges())).reduce(((e,t)=>{const n=t.getCommonAncestor();return e?e.getCommonAncestor(n,{includeSelf:!0}):n}),null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const n=[...e.getFirstPosition().getAncestors(),new Oq("",e.getAttributes())];return this.checkAttribute(n,t)}{const n=e.getRanges();for(const e of n)for(const n of e)if(this.checkAttribute(n.item,t))return!0}return!1}*getValidRanges(e,t){e=function*(e){for(const t of e)yield*t.getMinimalFlatRanges()}(e);for(const n of e)yield*this._getValidRangesForRange(n,t)}getNearestSelectionRange(e,t="both"){if("$graveyard"==e.root.rootName)return null;if(this.checkChild(e,"$text"))return new Nq(e);let n,i;const r=e.getAncestors().reverse().find((e=>this.isLimit(e)))||e.root;"both"!=t&&"backward"!=t||(n=new Pq({boundaries:Nq._createIn(r),startPosition:e,direction:"backward"})),"both"!=t&&"forward"!=t||(i=new Pq({boundaries:Nq._createIn(r),startPosition:e}));for(const e of function*(e,t){let n=!1;for(;!n;){if(n=!0,e){const t=e.next();t.done||(n=!1,yield{walker:e,value:t.value})}if(t){const e=t.next();e.done||(n=!1,yield{walker:t,value:e.value})}}}(n,i)){const t=e.walker==n?"elementEnd":"elementStart",i=e.value;if(i.type==t&&this.isObject(i.item))return Nq._createOn(i.item);if(this.checkChild(i.nextPosition,"$text"))return new Nq(i.nextPosition)}return null}findAllowedParent(e,t){let n=e.parent;for(;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}setAllowedAttributes(e,t,n){const i=n.model;for(const[r,o]of Object.entries(t))i.schema.checkAttribute(e,r)&&n.setAttribute(r,o,e)}removeDisallowedAttributes(e,t){for(const n of e)if(n.is("$text"))ZK(this,n,t);else{const e=Nq._createIn(n).getPositions();for(const n of e)ZK(this,n.nodeBefore||n.parent,t)}}getAttributesWithProperty(e,t,n){const i={};for(const[r,o]of e.getAttributes()){const e=this.getAttributeProperties(r);void 0!==e[t]&&(void 0!==n&&n!==e[t]||(i[r]=o))}return i}createContext(e){return new jK(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,n=Object.keys(t);for(const i of n)e[i]=NK(t[i],i);for(const t of n)FK(e,t);for(const t of n)YK(e,t);for(const t of n)BK(e,t);for(const t of n)HK(e,t),VK(e,t);for(const t of n)WK(e,t),UK(e,t),$K(e,t);this._compiledDefinitions=e}_checkContextMatch(e,t,n=t.length-1){const i=t.getItem(n);if(e.allowIn.includes(i.name)){if(0==n)return!0;{const e=this.getDefinition(i);return this._checkContextMatch(e,t,n-1)}}return!1}*_getValidRangesForRange(e,t){let n=e.start,i=e.start;for(const r of e.getItems({shallow:!0}))r.is("element")&&(yield*this._getValidRangesForRange(Nq._createIn(r),t)),this.checkAttribute(r,t)||(n.isEqual(i)||(yield new Nq(n,i)),n=Lq._createAfter(r)),i=Lq._createAfter(r);n.isEqual(i)||(yield new Nq(n,i))}findOptimalInsertionRange(e,t){const n=e.getSelectedElement();if(n&&this.isObject(n)&&!this.isInline(n))return"before"==t||"after"==t?new Nq(Lq._createAt(n,t)):Nq._createOn(n);const i=dU(e.getSelectedBlocks());if(!i)return new Nq(e.focus);if(i.isEmpty)return new Nq(Lq._createAt(i,0));const r=Lq._createAfter(i);return e.focus.isTouching(r)?new Nq(r):new Nq(Lq._createBefore(i))}}class jK{constructor(e){if(e instanceof jK)return e;let t;t="string"==typeof e?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=t.map(GK)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new jK([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map((e=>e.name))}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function NK(e,t){const n={name:t,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(e,t){for(const n of e){const e=Object.keys(n).filter((e=>e.startsWith("is")));for(const i of e)t[i]=!!n[i]}}(e,n),qK(e,n,"allowIn"),qK(e,n,"allowContentOf"),qK(e,n,"allowWhere"),qK(e,n,"allowAttributes"),qK(e,n,"allowAttributesOf"),qK(e,n,"allowChildren"),qK(e,n,"inheritTypesFrom"),function(e,t){for(const n of e){const e=n.inheritAllFrom;e&&(t.allowContentOf.push(e),t.allowWhere.push(e),t.allowAttributesOf.push(e),t.inheritTypesFrom.push(e))}}(e,n),n}function FK(e,t){const n=e[t];for(const i of n.allowChildren){const n=e[i];n&&n.allowIn.push(t)}n.allowChildren.length=0}function YK(e,t){for(const n of e[t].allowContentOf)e[n]&&KK(e,n).forEach((e=>{e.allowIn.push(t)}));delete e[t].allowContentOf}function BK(e,t){for(const n of e[t].allowWhere){const i=e[n];if(i){const n=i.allowIn;e[t].allowIn.push(...n)}}delete e[t].allowWhere}function HK(e,t){for(const n of e[t].allowAttributesOf){const i=e[n];if(i){const n=i.allowAttributes;e[t].allowAttributes.push(...n)}}delete e[t].allowAttributesOf}function VK(e,t){const n=e[t];for(const t of n.inheritTypesFrom){const i=e[t];if(i){const e=Object.keys(i).filter((e=>e.startsWith("is")));for(const t of e)t in n||(n[t]=i[t])}}delete n.inheritTypesFrom}function WK(e,t){const n=e[t],i=n.allowIn.filter((t=>e[t]));n.allowIn=Array.from(new Set(i))}function UK(e,t){const n=e[t];for(const i of n.allowIn)e[i].allowChildren.push(t)}function $K(e,t){const n=e[t];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function qK(e,t,n){for(const i of e){const e=i[n];"string"==typeof e?t[n].push(e):Array.isArray(e)&&t[n].push(...e)}}function KK(e,t){const n=e[t];return(i=e,Object.keys(i).map((e=>i[e]))).filter((e=>e.allowIn.includes(n.name)));var i}function GK(e){return"string"==typeof e||e.is("documentFragment")?{name:"string"==typeof e?e:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:e.is("element")?e.name:"$text",*getAttributeKeys(){yield*e.getAttributeKeys()},getAttribute(t){return e.getAttribute(t)}}}function ZK(e,t,n){for(const i of t.getAttributeKeys())e.checkAttribute(t,i)||n.removeAttribute(i,t)}class JK extends(vV()){constructor(e){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(e,t)=>this._convertItem(e,t),convertChildren:(e,t)=>this._convertChildren(e,t),safeInsert:(e,t)=>this._safeInsert(e,t),updateConversionResult:(e,t)=>this._updateConversionResult(e,t),splitToAllowedParent:(e,t)=>this._splitToAllowedParent(e,t),getSplitParts:e=>this._getSplitParts(e),keepEmptyElement:e=>this._keepEmptyElement(e)}}convert(e,t,n=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(e,t){let n;for(const i of new jK(e)){const e={};for(const t of i.getAttributeKeys())e[t]=i.getAttribute(t);const r=t.createElement(i.name,e);n&&t.insert(r,n),n=Lq._createAt(r,0)}return n}(n,t),this.conversionApi.writer=t,this.conversionApi.consumable=AK.createFrom(e),this.conversionApi.store={};const{modelRange:i}=this._convertItem(e,this._modelCursor),r=t.createDocumentFragment();if(i){this._removeEmptyElements();for(const e of Array.from(this._modelCursor.parent.getChildren()))t.append(e,r);r.markers=function(e,t){const n=new Set,i=new Map,r=Nq._createIn(e).getItems();for(const e of r)e.is("element","$marker")&&n.add(e);for(const e of n){const n=e.getAttribute("data-name"),r=t.createPositionBefore(e);i.has(n)?i.get(n).end=r.clone():i.set(n,new Nq(r.clone())),t.remove(e)}return i}(r,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,r}_convertItem(e,t){const n={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,n,this.conversionApi):e.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof Nq))throw new dV("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(e,t){let n=t.is("position")?t:Lq._createAt(t,0);const i=new Nq(n);for(const t of Array.from(e.getChildren())){const e=this._convertItem(t,n);e.modelRange instanceof Nq&&(i.end=e.modelRange.end,n=e.modelCursor)}return{modelRange:i,modelCursor:n}}_safeInsert(e,t){const n=this._splitToAllowedParent(e,t);return!!n&&(this.conversionApi.writer.insert(e,n.position),!0)}_updateConversionResult(e,t){const n=this._getSplitParts(e),i=this.conversionApi.writer;t.modelRange||(t.modelRange=i.createRange(i.createPositionBefore(e),i.createPositionAfter(n[n.length-1])));const r=this._cursorParents.get(e);t.modelCursor=r?i.createPositionAt(r,0):t.modelRange.end}_splitToAllowedParent(e,t){const{schema:n,writer:i}=this.conversionApi;let r=n.findAllowedParent(t,e);if(r){if(r===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(r)&&(r=null)}if(!r)return _K(t,e,n)?{position:wK(t,i)}:null;const o=this.conversionApi.writer.split(t,r),s=[];for(const e of o.range.getWalker())if("elementEnd"==e.type)s.push(e.item);else{const t=s.pop(),n=e.item;this._registerSplitPair(t,n)}const a=o.range.end.parent;return this._cursorParents.set(e,a),{position:o.position,cursorParent:a}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const n=this._splitParts.get(e);this._splitParts.set(t,n),n.push(t)}_getSplitParts(e){let t;return t=this._splitParts.has(e)?this._splitParts.get(e):[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}class XK{getHtml(e){const t=vW.document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}class QK{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new eq(e,{renderingMode:"data"}),this.htmlWriter=new XK}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode="marked"==e?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),n=t.createDocumentFragment(),i=t.body.childNodes;for(;i.length>0;)n.appendChild(i[0]);return n}}class eG extends(vV()){constructor(e,t){super(),this.model=e,this.mapper=new Fq,this.downcastDispatcher=new Hq({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",((e,t,n)=>{if(!n.consumable.consume(t.item,e.name))return;const i=n.writer,r=n.mapper.toViewPosition(t.range.start),o=i.createText(t.item.data);i.insert(r,o)}),{priority:"lowest"}),this.downcastDispatcher.on("insert",((e,t,n)=>{n.convertAttributes(t.item),t.reconversion||!t.item.is("element")||t.item.isEmpty||n.convertChildren(t.item)}),{priority:"lowest"}),this.upcastDispatcher=new JK({schema:e.schema}),this.viewDocument=new h$(t),this.stylesProcessor=t,this.htmlProcessor=new QK(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new E$(this.viewDocument),this.upcastDispatcher.on("text",((e,t,{schema:n,consumable:i,writer:r})=>{let o=t.modelCursor;if(!i.test(t.viewItem))return;if(!n.checkChild(o,"$text")){if(!_K(o,"$text",n))return;if(0==t.viewItem.data.trim().length)return;const e=o.nodeBefore;o=wK(o,r),e&&e.is("element","$marker")&&(r.move(r.createRangeOn(e),o),o=r.createPositionAfter(e))}i.consume(t.viewItem);const s=r.createText(t.viewItem.data);r.insert(s,o),t.modelRange=r.createRange(o,o.getShiftedBy(s.offsetSize)),t.modelCursor=t.modelRange.end}),{priority:"lowest"}),this.upcastDispatcher.on("element",((e,t,n)=>{if(!t.modelRange&&n.consumable.consume(t.viewItem,{name:!0})){const{modelRange:e,modelCursor:i}=n.convertChildren(t.viewItem,t.modelCursor);t.modelRange=e,t.modelCursor=i}}),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",((e,t,n)=>{if(!t.modelRange&&n.consumable.consume(t.viewItem,{name:!0})){const{modelRange:e,modelCursor:i}=n.convertChildren(t.viewItem,t.modelCursor);t.modelRange=e,t.modelCursor=i}}),{priority:"lowest"}),AV().prototype.decorate.call(this,"init"),AV().prototype.decorate.call(this,"set"),AV().prototype.decorate.call(this,"get"),AV().prototype.decorate.call(this,"toView"),AV().prototype.decorate.call(this,"toModel"),this.on("init",(()=>{this.fire("ready")}),{priority:"lowest"}),this.on("ready",(()=>{this.model.enqueueChange({isUndoable:!1},vK)}),{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:n="empty"}=e;if(!this._checkIfRootsExists([t]))throw new dV("datacontroller-get-non-existent-root",this);const i=this.model.document.getRoot(t);return i.isAttached()||hV("datacontroller-get-detached-root",this),"empty"!==n||this.model.hasContent(i,{ignoreWhitespaces:!0})?this.stringify(i,e):""}stringify(e,t={}){const n=this.toView(e,t);return this.processor.toData(n)}toView(e,t={}){const n=this.viewDocument,i=this._viewWriter;this.mapper.clearBindings();const r=Nq._createIn(e),o=new C$(n);this.mapper.bindElements(e,o);const s=e.is("documentFragment")?e.markers:function(e){const t=[],n=e.root.document;if(!n)return new Map;const i=Nq._createIn(e);for(const e of n.model.markers){const n=e.getRange(),r=n.isCollapsed,o=n.start.isEqual(i.start)||n.end.isEqual(i.end);if(r&&o)t.push([e.name,n]);else{const r=i.getIntersection(n);r&&t.push([e.name,r])}}return t.sort((([e,t],[n,i])=>{if("after"!==t.end.compareWith(i.start))return 1;if("before"!==t.start.compareWith(i.end))return-1;switch(t.start.compareWith(i.start)){case"before":return 1;case"after":return-1;default:switch(t.end.compareWith(i.end)){case"before":return 1;case"after":return-1;default:return n.localeCompare(e)}}})),new Map(t)}(e);return this.downcastDispatcher.convert(r,s,i,t),o}init(e){if(this.model.document.version)throw new dV("datacontroller-init-document-not-empty",this);let t={};if("string"==typeof e?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new dV("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},(e=>{for(const n of Object.keys(t)){const i=this.model.document.getRoot(n);e.insert(this.parse(t[n],i),i,0)}})),Promise.resolve()}set(e,t={}){let n={};if("string"==typeof e?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new dV("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},(e=>{e.setSelection(null),e.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const t of Object.keys(n)){const i=this.model.document.getRoot(t);e.remove(e.createRangeIn(i)),e.insert(this.parse(n[t],i),i,0)}}))}parse(e,t="$root"){const n=this.processor.toView(e);return this.toModel(n,t)}toModel(e,t="$root"){return this.model.change((n=>this.upcastDispatcher.convert(e,n,t)))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}class tG{constructor(e,t){this._helpers=new Map,this._downcast=sU(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=sU(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const n=this._downcast.includes(t);if(!this._upcast.includes(t)&&!n)throw new dV("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:n})}for(e){if(!this._helpers.has(e))throw new dV("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:n}of nG(e))this.for("upcast").elementToElement({model:t,view:n,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:n}of nG(e))this.for("upcast").elementToAttribute({view:n,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:n}of nG(e))this.for("upcast").attributeToAttribute({view:n,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:n}){if(this._helpers.has(e))throw new dV("conversion-group-exists",this);const i=n?new sK(t):new kK(t);this._helpers.set(e,i)}}function*nG(e){if(e.model.values)for(const t of e.model.values){const n={key:e.model.key,value:t},i=e.view[t],r=e.upcastAlso?e.upcastAlso[t]:void 0;yield*iG(n,i,r)}else yield*iG(e.model,e.view,e.upcastAlso)}function*iG(e,t,n){if(yield{model:e,view:t},n)for(const t of sU(n))yield{model:e,view:t}}class rG{constructor(e){this.baseVersion=e,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function oG(e,t){const n=lG(t),i=n.reduce(((e,t)=>e+t.offsetSize),0),r=e.parent;uG(e);const o=e.index;return r._insertChild(o,n),cG(r,o+n.length),cG(r,o),new Nq(e,e.getShiftedBy(i))}function sG(e){if(!e.isFlat)throw new dV("operation-utils-remove-range-not-flat",this);const t=e.start.parent;uG(e.start),uG(e.end);const n=t._removeChildren(e.start.index,e.end.index-e.start.index);return cG(t,e.start.index),n}function aG(e,t){if(!e.isFlat)throw new dV("operation-utils-move-range-not-flat",this);const n=sG(e);return oG(t=t._getTransformedByDeletion(e.start,e.end.offset-e.start.offset),n)}function lG(e){const t=[];!function e(n){if("string"==typeof n)t.push(new Oq(n));else if(n instanceof Tq)t.push(new Oq(n.data,n.getAttributes()));else if(n instanceof xq)t.push(n);else if(HV(n))for(const t of n)e(t)}(e);for(let e=1;e<t.length;e++){const n=t[e],i=t[e-1];n instanceof Oq&&i instanceof Oq&&dG(n,i)&&(t.splice(e-1,2,new Oq(i.data+n.data,i.getAttributes())),e--)}return t}function cG(e,t){const n=e.getChild(t-1),i=e.getChild(t);if(n&&i&&n.is("$text")&&i.is("$text")&&dG(n,i)){const r=new Oq(n.data+i.data,n.getAttributes());e._removeChildren(t-1,2),e._insertChild(t-1,r)}}function uG(e){const t=e.textNode,n=e.parent;if(t){const i=e.offset-t.startOffset,r=t.index;n._removeChildren(r,1);const o=new Oq(t.data.substr(0,i),t.getAttributes()),s=new Oq(t.data.substr(i),t.getAttributes());n._insertChild(r,[o,s])}}function dG(e,t){const n=e.getAttributes(),i=t.getAttributes();for(const e of n){if(e[1]!==t.getAttribute(e[0]))return!1;i.next()}return i.next().done}class hG extends rG{constructor(e,t,n,i){super(i),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}get affectedSelectable(){return[Nq._createFromPositionAndShift(this.sourcePosition,this.howMany),Nq._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new hG(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new hG(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,n=this.sourcePosition.offset,i=this.targetPosition.offset;if(n+this.howMany>e.maxOffset)throw new dV("move-operation-nodes-do-not-exist",this);if(e===t&&n<i&&i<n+this.howMany)throw new dV("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==BV(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const e=this.sourcePosition.path.length-1;if(this.targetPosition.path[e]>=n&&this.targetPosition.path[e]<n+this.howMany)throw new dV("move-operation-node-into-itself",this)}}_execute(){aG(Nq._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const n=Lq.fromJSON(e.sourcePosition,t),i=Lq.fromJSON(e.targetPosition,t);return new this(n,e.howMany,i,e.baseVersion)}}class pG extends rG{constructor(e,t,n){super(n),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Sq(lG(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new Sq([...this.nodes].map((e=>e._clone(!0)))),t=new pG(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new Lq(e,[0]);return new hG(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new dV("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Sq([...e].map((e=>e._clone(!0)))),oG(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const n=[];for(const t of e.nodes)t.name?n.push(Mq.fromJSON(t)):n.push(Oq.fromJSON(t));const i=new pG(Lq.fromJSON(e.position,t),n,e.baseVersion);return i.shouldReceiveAttributes=e.shouldReceiveAttributes,i}}class fG extends rG{constructor(e,t,n,i,r){super(r),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=n,this.graveyardPosition=i?i.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new Lq(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Nq(this.splitPosition,e)}get affectedSelectable(){const e=[Nq._createFromPositionAndShift(this.splitPosition,0),Nq._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(Nq._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new fG(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new Lq(e,[0]);return new mG(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new dV("split-operation-position-invalid",this);if(!e.parent)throw new dV("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new dV("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new dV("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)aG(Nq._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const t=e._clone();oG(this.insertionPosition,t)}aG(new Nq(Lq._createAt(e,this.splitPosition.offset),Lq._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new Lq(e.root,t,"toPrevious")}static fromJSON(e,t){const n=Lq.fromJSON(e.splitPosition,t),i=Lq.fromJSON(e.insertionPosition,t),r=e.graveyardPosition?Lq.fromJSON(e.graveyardPosition,t):null;return new this(n,e.howMany,i,r,e.baseVersion)}}class mG extends rG{constructor(e,t,n,i,r){super(r),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=i.clone()}get type(){return"merge"}get deletionPosition(){return new Lq(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Nq(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[Nq._createOn(e),Nq._createFromPositionAndShift(this.targetPosition,0),Nq._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new mG(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),n=new Lq(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new fG(e,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new dV("merge-operation-source-position-invalid",this);if(!t.parent)throw new dV("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new dV("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;aG(Nq._createIn(e),this.targetPosition),aG(Nq._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const n=Lq.fromJSON(e.sourcePosition,t),i=Lq.fromJSON(e.targetPosition,t),r=Lq.fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,i,r,e.baseVersion)}}class gG extends rG{constructor(e,t,n,i,r,o){super(o),this.name=e,this.oldRange=t?t.clone():null,this.newRange=n?n.clone():null,this.affectsData=r,this._markers=i}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new gG(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new gG(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new gG(e.name,e.oldRange?Nq.fromJSON(e.oldRange,t):null,e.newRange?Nq.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}var bG=function(e,t){return AP(e,t)};class yG extends rG{constructor(e,t,n,i,r){super(r),this.range=e.clone(),this.key=t,this.oldValue=void 0===n?null:n,this.newValue=void 0===i?null:i}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new yG(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new yG(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new dV("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!bG(e.getAttribute(this.key),this.oldValue))throw new dV("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&e.hasAttribute(this.key))throw new dV("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){bG(this.oldValue,this.newValue)||function(e,t,n){uG(e.start),uG(e.end);for(const i of e.getItems({shallow:!0})){const e=i.is("$textProxy")?i.textNode:i;null!==n?e._setAttribute(t,n):e._removeAttribute(t),cG(e.parent,e.index)}cG(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new yG(Nq.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class vG extends rG{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new vG(this.baseVersion)}getReversed(){return new vG(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class _G extends rG{constructor(e,t,n,i){super(i),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=n}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new _G(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new _G(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof Mq))throw new dV("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new dV("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new _G(Lq.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class wG extends rG{constructor(e,t,n,i,r){super(r),this.root=e,this.key=t,this.oldValue=void 0===n?null:n,this.newValue=void 0===i?null:i}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new wG(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new wG(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new dV("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new dV("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new dV("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new dV("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new wG(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class kG extends rG{constructor(e,t,n,i,r){super(r),this.rootName=e,this.elementName=t,this.isAdd=n,this._document=i,this._document.getRoot(this.rootName)||(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new kG(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new kG(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new kG(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const CG={};CG[yG.className]=yG,CG[pG.className]=pG,CG[gG.className]=gG,CG[hG.className]=hG,CG[vG.className]=vG,CG[rG.className]=rG,CG[_G.className]=_G,CG[wG.className]=wG,CG[kG.className]=kG,CG[fG.className]=fG,CG[mG.className]=mG;class EG{static fromJSON(e,t){return CG[e.__className].fromJSON(e,t)}}const xG=new Map;function SG(e,t,n){let i=xG.get(e);i||(i=new Map,xG.set(e,i)),i.set(t,n)}function OG(e){return[e]}function TG(e,t,n={}){const i=function(e,t){const n=xG.get(e);return n&&n.has(t)?n.get(t):OG}(e.constructor,t.constructor);try{return i(e=e.clone(),t,n)}catch(e){throw e}}function MG(e,t,n){e=e.slice(),t=t.slice();const i=new PG(n.document,n.useRelations,n.forceWeakRemove);i.setOriginalOperations(e),i.setOriginalOperations(t);const r=i.originalOperations;if(0==e.length||0==t.length)return{operationsA:e,operationsB:t,originalOperations:r};const o=new WeakMap;for(const t of e)o.set(t,0);const s={nextBaseVersionA:e[e.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:e.length,originalOperationsBCount:t.length};let a=0;for(;a<e.length;){const n=e[a],r=o.get(n);if(r==t.length){a++;continue}const s=t[r],l=TG(n,s,i.getContext(n,s,!0)),c=TG(s,n,i.getContext(s,n,!1));i.updateRelation(n,s),i.setOriginalOperations(l,n),i.setOriginalOperations(c,s);for(const e of l)o.set(e,r+c.length);e.splice(a,1,...l),t.splice(r,1,...c)}if(n.padWithNoOps){const n=e.length-s.originalOperationsACount,i=t.length-s.originalOperationsBCount;LG(e,i-n),LG(t,n-i)}return DG(e,s.nextBaseVersionB),DG(t,s.nextBaseVersionA),{operationsA:e,operationsB:t,originalOperations:r}}class PG{constructor(e,t,n=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(e,t=null){const n=t?this.originalOperations.get(t):null;for(const t of e)this.originalOperations.set(t,n||t)}updateRelation(e,t){if(e instanceof hG)t instanceof mG?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof hG&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof fG){if(t instanceof mG)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof hG)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const n=Nq._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(e.splitPosition)){const i=n.end.offset-e.splitPosition.offset,r=e.splitPosition.offset-n.start.offset;this._setRelation(e,t,{howMany:i,offset:r})}}}else if(e instanceof mG)t instanceof mG?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof fG?e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource"):t instanceof hG&&t.howMany>0&&(e.sourcePosition.isEqual(t.sourcePosition.getShiftedBy(t.howMany))&&this._setRelation(e,t,"mergeSourceAffected"),e.targetPosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeTargetWasBefore"));else if(e instanceof gG){const n=e.newRange;if(!n)return;if(t instanceof hG){const i=Nq._createFromPositionAndShift(t.sourcePosition,t.howMany),r=i.containsPosition(n.start)||i.start.isEqual(n.start),o=i.containsPosition(n.end)||i.end.isEqual(n.end);!r&&!o||i.containsRange(n)||this._setRelation(e,t,{side:r?"left":"right",path:r?n.start.path.slice():n.end.path.slice()})}else if(t instanceof mG){const i=n.start.isEqual(t.targetPosition),r=n.start.isEqual(t.deletionPosition),o=n.end.isEqual(t.deletionPosition),s=n.end.isEqual(t.sourcePosition);(i||r||o||s)&&this._setRelation(e,t,{wasInLeftElement:i,wasStartBeforeMergedElement:r,wasEndBeforeMergedElement:o,wasInRightElement:s})}}}getContext(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const n=this.originalOperations.get(t),i=this._history.getUndoneOperation(n);if(!i)return null;const r=this.originalOperations.get(e),o=this._relations.get(r);return o&&o.get(i)||null}_setRelation(e,t,n){const i=this.originalOperations.get(e),r=this.originalOperations.get(t);let o=this._relations.get(i);o||(o=new Map,this._relations.set(i,o)),o.set(r,n)}}function DG(e,t){for(const n of e)n.baseVersion=t++}function LG(e,t){for(let n=0;n<t;n++)e.push(new vG(0))}function AG(e,t,n){const i=e.nodes.getNode(0).getAttribute(t);if(i==n)return null;const r=new Nq(e.position,e.position.getShiftedBy(e.howMany));return new yG(r,t,i,n,0)}function zG(e,t){return null===e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)}function IG(e,t){const n=[];for(let i=0;i<e.length;i++){const r=e[i],o=new hG(r.start,r.end.offset-r.start.offset,t,0);n.push(o);for(let t=i+1;t<e.length;t++)e[t]=e[t]._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)[0];t=t._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)}return n}SG(yG,yG,((e,t,n)=>{if(e.key===t.key&&e.range.start.hasSameParentAs(t.range.start)){const i=e.range.getDifference(t.range).map((t=>new yG(t,e.key,e.oldValue,e.newValue,0))),r=e.range.getIntersection(t.range);return r&&n.aIsStrong&&i.push(new yG(r,t.key,t.newValue,e.newValue,0)),0==i.length?[new vG(0)]:i}return[e]})),SG(yG,pG,((e,t)=>{if(e.range.start.hasSameParentAs(t.position)&&e.range.containsPosition(t.position)){const n=e.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes).map((t=>new yG(t,e.key,e.oldValue,e.newValue,e.baseVersion)));if(t.shouldReceiveAttributes){const i=AG(t,e.key,e.oldValue);i&&n.unshift(i)}return n}return e.range=e.range._getTransformedByInsertion(t.position,t.howMany,!1)[0],[e]})),SG(yG,mG,((e,t)=>{const n=[];e.range.start.hasSameParentAs(t.deletionPosition)&&(e.range.containsPosition(t.deletionPosition)||e.range.start.isEqual(t.deletionPosition))&&n.push(Nq._createFromPositionAndShift(t.graveyardPosition,1));const i=e.range._getTransformedByMergeOperation(t);return i.isCollapsed||n.push(i),n.map((t=>new yG(t,e.key,e.oldValue,e.newValue,e.baseVersion)))})),SG(yG,hG,((e,t)=>{const n=function(e,t){const n=Nq._createFromPositionAndShift(t.sourcePosition,t.howMany);let i=null,r=[];n.containsRange(e,!0)?i=e:e.start.hasSameParentAs(n.start)?(r=e.getDifference(n),i=e.getIntersection(n)):r=[e];const o=[];for(let e of r){e=e._getTransformedByDeletion(t.sourcePosition,t.howMany);const n=t.getMovedRangeStart(),i=e.start.hasSameParentAs(n),r=e._getTransformedByInsertion(n,t.howMany,i);o.push(...r)}return i&&o.push(i._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!1)[0]),o}(e.range,t);return n.map((t=>new yG(t,e.key,e.oldValue,e.newValue,e.baseVersion)))})),SG(yG,fG,((e,t)=>{if(e.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.range.end.offset++,[e];if(e.range.start.hasSameParentAs(t.splitPosition)&&e.range.containsPosition(t.splitPosition)){const n=e.clone();return n.range=new Nq(t.moveTargetPosition.clone(),e.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),e.range.end=t.splitPosition.clone(),e.range.end.stickiness="toPrevious",[e,n]}return e.range=e.range._getTransformedBySplitOperation(t),[e]})),SG(pG,yG,((e,t)=>{const n=[e];if(e.shouldReceiveAttributes&&e.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(e.position)){const i=AG(e,t.key,t.newValue);i&&n.push(i)}return n})),SG(pG,pG,((e,t,n)=>(e.position.isEqual(t.position)&&n.aIsStrong||(e.position=e.position._getTransformedByInsertOperation(t)),[e]))),SG(pG,hG,((e,t)=>(e.position=e.position._getTransformedByMoveOperation(t),[e]))),SG(pG,fG,((e,t)=>(e.position=e.position._getTransformedBySplitOperation(t),[e]))),SG(pG,mG,((e,t)=>(e.position=e.position._getTransformedByMergeOperation(t),[e]))),SG(gG,pG,((e,t)=>(e.oldRange&&(e.oldRange=e.oldRange._getTransformedByInsertOperation(t)[0]),e.newRange&&(e.newRange=e.newRange._getTransformedByInsertOperation(t)[0]),[e]))),SG(gG,gG,((e,t,n)=>{if(e.name==t.name){if(!n.aIsStrong)return[new vG(0)];e.oldRange=t.newRange?t.newRange.clone():null}return[e]})),SG(gG,mG,((e,t)=>(e.oldRange&&(e.oldRange=e.oldRange._getTransformedByMergeOperation(t)),e.newRange&&(e.newRange=e.newRange._getTransformedByMergeOperation(t)),[e]))),SG(gG,hG,((e,t,n)=>{if(e.oldRange&&(e.oldRange=Nq._createFromRanges(e.oldRange._getTransformedByMoveOperation(t))),e.newRange){if(n.abRelation){const i=Nq._createFromRanges(e.newRange._getTransformedByMoveOperation(t));if("left"==n.abRelation.side&&t.targetPosition.isEqual(e.newRange.start))return e.newRange.end=i.end,e.newRange.start.path=n.abRelation.path,[e];if("right"==n.abRelation.side&&t.targetPosition.isEqual(e.newRange.end))return e.newRange.start=i.start,e.newRange.end.path=n.abRelation.path,[e]}e.newRange=Nq._createFromRanges(e.newRange._getTransformedByMoveOperation(t))}return[e]})),SG(gG,fG,((e,t,n)=>{if(e.oldRange&&(e.oldRange=e.oldRange._getTransformedBySplitOperation(t)),e.newRange){if(n.abRelation){const i=e.newRange._getTransformedBySplitOperation(t);return e.newRange.start.isEqual(t.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?e.newRange.start=Lq._createAt(t.insertionPosition):e.newRange.start.isEqual(t.splitPosition)&&!n.abRelation.wasInLeftElement&&(e.newRange.start=Lq._createAt(t.moveTargetPosition)),e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasInRightElement?e.newRange.end=Lq._createAt(t.moveTargetPosition):e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?e.newRange.end=Lq._createAt(t.insertionPosition):e.newRange.end=i.end,[e]}e.newRange=e.newRange._getTransformedBySplitOperation(t)}return[e]})),SG(mG,pG,((e,t)=>(e.sourcePosition.hasSameParentAs(t.position)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByInsertOperation(t),e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t),[e]))),SG(mG,mG,((e,t,n)=>{if(e.sourcePosition.isEqual(t.sourcePosition)&&e.targetPosition.isEqual(t.targetPosition)){if(n.bWasUndone){const n=t.graveyardPosition.path.slice();return n.push(0),e.sourcePosition=new Lq(t.graveyardPosition.root,n),e.howMany=0,[e]}return[new vG(0)]}if(e.sourcePosition.isEqual(t.sourcePosition)&&!e.targetPosition.isEqual(t.targetPosition)&&!n.bWasUndone&&"splitAtSource"!=n.abRelation){const i="$graveyard"==e.targetPosition.root.rootName,r="$graveyard"==t.targetPosition.root.rootName;if(r&&!i||(!i||r)&&n.aIsStrong){const n=t.targetPosition._getTransformedByMergeOperation(t),i=e.targetPosition._getTransformedByMergeOperation(t);return[new hG(n,e.howMany,i,0)]}return[new vG(0)]}return e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByMergeOperation(t),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),e.graveyardPosition.isEqual(t.graveyardPosition)&&n.aIsStrong||(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e]})),SG(mG,hG,((e,t,n)=>{const i=Nq._createFromPositionAndShift(t.sourcePosition,t.howMany);return"remove"==t.type&&!n.bWasUndone&&!n.forceWeakRemove&&e.deletionPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.sourcePosition)?[new vG(0)]:(t.sourcePosition.getShiftedBy(t.howMany).isEqual(e.sourcePosition)?e.sourcePosition.stickiness="toNone":t.targetPosition.isEqual(e.sourcePosition)&&"mergeSourceAffected"==n.abRelation?e.sourcePosition.stickiness="toNext":t.sourcePosition.isEqual(e.targetPosition)?(e.targetPosition.stickiness="toNone",e.howMany-=t.howMany):t.targetPosition.isEqual(e.targetPosition)&&"mergeTargetWasBefore"==n.abRelation?(e.targetPosition.stickiness="toPrevious",e.howMany+=t.howMany):(e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition.hasSameParentAs(t.sourcePosition)&&(e.howMany-=t.howMany)),e.sourcePosition=e.sourcePosition._getTransformedByMoveOperation(t),e.targetPosition=e.targetPosition._getTransformedByMoveOperation(t),e.sourcePosition.stickiness="toPrevious",e.targetPosition.stickiness="toNext",e.graveyardPosition.isEqual(t.targetPosition)||(e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)),[e])})),SG(mG,fG,((e,t,n)=>{if(t.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),e.deletionPosition.isEqual(t.graveyardPosition)&&(e.howMany=t.howMany)),e.targetPosition.isEqual(t.splitPosition)){const i=0!=t.howMany,r=t.graveyardPosition&&e.deletionPosition.isEqual(t.graveyardPosition);if(i||r||"mergeTargetNotMoved"==n.abRelation)return e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),[e]}if(e.sourcePosition.isEqual(t.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return e.howMany=0,e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e];if("mergeSameElement"==n.abRelation||e.sourcePosition.offset>0)return e.sourcePosition=t.moveTargetPosition.clone(),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]}return e.sourcePosition.hasSameParentAs(t.splitPosition)&&(e.howMany=t.splitPosition.offset),e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]})),SG(hG,pG,((e,t)=>{const n=Nq._createFromPositionAndShift(e.sourcePosition,e.howMany)._getTransformedByInsertOperation(t,!1)[0];return e.sourcePosition=n.start,e.howMany=n.end.offset-n.start.offset,e.targetPosition.isEqual(t.position)||(e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t)),[e]})),SG(hG,hG,((e,t,n)=>{const i=Nq._createFromPositionAndShift(e.sourcePosition,e.howMany),r=Nq._createFromPositionAndShift(t.sourcePosition,t.howMany);let o,s=n.aIsStrong,a=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?a=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(a=!1),o=e.targetPosition.isEqual(t.targetPosition)&&a?e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):e.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),zG(e,t)&&zG(t,e))return[t.getReversed()];if(i.containsPosition(t.targetPosition)&&i.containsRange(r,!0))return i.start=i.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),i.end=i.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),IG([i],o);if(r.containsPosition(e.targetPosition)&&r.containsRange(i,!0))return i.start=i.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),i.end=i.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),IG([i],o);const l=BV(e.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if("prefix"==l||"extension"==l)return i.start=i.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),i.end=i.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),IG([i],o);"remove"!=e.type||"remove"==t.type||n.aWasUndone||n.forceWeakRemove?"remove"==e.type||"remove"!=t.type||n.bWasUndone||n.forceWeakRemove||(s=!1):s=!0;const c=[],u=i.getDifference(r);for(const e of u){e.start=e.start._getTransformedByDeletion(t.sourcePosition,t.howMany),e.end=e.end._getTransformedByDeletion(t.sourcePosition,t.howMany);const n="same"==BV(e.start.getParentPath(),t.getMovedRangeStart().getParentPath()),i=e._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,n);c.push(...i)}const d=i.getIntersection(r);return null!==d&&s&&(d.start=d.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),d.end=d.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),0===c.length?c.push(d):1==c.length?r.start.isBefore(i.start)||r.start.isEqual(i.start)?c.unshift(d):c.push(d):c.splice(1,0,d)),0===c.length?[new vG(e.baseVersion)]:IG(c,o)})),SG(hG,fG,((e,t,n)=>{let i=e.targetPosition.clone();e.targetPosition.isEqual(t.insertionPosition)&&t.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(i=e.targetPosition._getTransformedBySplitOperation(t));const r=Nq._createFromPositionAndShift(e.sourcePosition,e.howMany);if(r.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.howMany++,e.targetPosition=i,[e];if(r.start.hasSameParentAs(t.splitPosition)&&r.containsPosition(t.splitPosition)){let e=new Nq(t.splitPosition,r.end);return e=e._getTransformedBySplitOperation(t),IG([new Nq(r.start,t.splitPosition),e],i)}e.targetPosition.isEqual(t.splitPosition)&&"insertAtSource"==n.abRelation&&(i=t.moveTargetPosition),e.targetPosition.isEqual(t.insertionPosition)&&"insertBetween"==n.abRelation&&(i=e.targetPosition);const o=[r._getTransformedBySplitOperation(t)];if(t.graveyardPosition){const i=r.start.isEqual(t.graveyardPosition)||r.containsPosition(t.graveyardPosition);e.howMany>1&&i&&!n.aWasUndone&&o.push(Nq._createFromPositionAndShift(t.insertionPosition,1))}return IG(o,i)})),SG(hG,mG,((e,t,n)=>{const i=Nq._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.sourcePosition))if("remove"!=e.type||n.forceWeakRemove){if(1==e.howMany)return n.bWasUndone?(e.sourcePosition=t.graveyardPosition.clone(),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]):[new vG(0)]}else if(!n.aWasUndone){const n=[];let i=t.graveyardPosition.clone(),r=t.targetPosition._getTransformedByMergeOperation(t);e.howMany>1&&(n.push(new hG(e.sourcePosition,e.howMany-1,e.targetPosition,0)),i=i._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1),r=r._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1));const o=t.deletionPosition._getCombined(e.sourcePosition,e.targetPosition),s=new hG(i,1,o,0),a=s.getMovedRangeStart().path.slice();a.push(0);const l=new Lq(s.targetPosition.root,a);r=r._getTransformedByMove(i,o,1);const c=new hG(r,t.howMany,l,0);return n.push(s),n.push(c),n}const r=Nq._createFromPositionAndShift(e.sourcePosition,e.howMany)._getTransformedByMergeOperation(t);return e.sourcePosition=r.start,e.howMany=r.end.offset-r.start.offset,e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]})),SG(_G,pG,((e,t)=>(e.position=e.position._getTransformedByInsertOperation(t),[e]))),SG(_G,mG,((e,t)=>e.position.isEqual(t.deletionPosition)?(e.position=t.graveyardPosition.clone(),e.position.stickiness="toNext",[e]):(e.position=e.position._getTransformedByMergeOperation(t),[e]))),SG(_G,hG,((e,t)=>(e.position=e.position._getTransformedByMoveOperation(t),[e]))),SG(_G,_G,((e,t,n)=>{if(e.position.isEqual(t.position)){if(!n.aIsStrong)return[new vG(0)];e.oldName=t.newName}return[e]})),SG(_G,fG,((e,t)=>{if("same"==BV(e.position.path,t.splitPosition.getParentPath())&&!t.graveyardPosition){const t=new _G(e.position.getShiftedBy(1),e.oldName,e.newName,0);return[e,t]}return e.position=e.position._getTransformedBySplitOperation(t),[e]})),SG(wG,wG,((e,t,n)=>{if(e.root===t.root&&e.key===t.key){if(!n.aIsStrong||e.newValue===t.newValue)return[new vG(0)];e.oldValue=t.newValue}return[e]})),SG(kG,kG,((e,t)=>e.rootName===t.rootName&&e.isAdd===t.isAdd?[new vG(0)]:[e])),SG(fG,pG,((e,t)=>(e.splitPosition.hasSameParentAs(t.position)&&e.splitPosition.offset<t.position.offset&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByInsertOperation(t),e.insertionPosition=e.insertionPosition._getTransformedByInsertOperation(t),[e]))),SG(fG,mG,((e,t,n)=>{if(!e.graveyardPosition&&!n.bWasUndone&&e.splitPosition.hasSameParentAs(t.sourcePosition)){const n=t.graveyardPosition.path.slice();n.push(0);const i=new Lq(t.graveyardPosition.root,n),r=fG.getInsertionPosition(new Lq(t.graveyardPosition.root,n)),o=new fG(i,0,r,null,0);return e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=fG.getInsertionPosition(e.splitPosition),e.graveyardPosition=o.insertionPosition.clone(),e.graveyardPosition.stickiness="toNext",[o,e]}return e.splitPosition.hasSameParentAs(t.deletionPosition)&&!e.splitPosition.isAfter(t.deletionPosition)&&e.howMany--,e.splitPosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=fG.getInsertionPosition(e.splitPosition),e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e]})),SG(fG,hG,((e,t,n)=>{const i=Nq._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.graveyardPosition){const r=i.start.isEqual(e.graveyardPosition)||i.containsPosition(e.graveyardPosition);if(!n.bWasUndone&&r){const n=e.splitPosition._getTransformedByMoveOperation(t),i=e.graveyardPosition._getTransformedByMoveOperation(t),r=i.path.slice();r.push(0);const o=new Lq(i.root,r);return[new hG(n,e.howMany,o,0)]}e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)}const r=e.splitPosition.isEqual(t.targetPosition);if(r&&("insertAtSource"==n.baRelation||"splitBefore"==n.abRelation))return e.howMany+=t.howMany,e.splitPosition=e.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),e.insertionPosition=fG.getInsertionPosition(e.splitPosition),[e];if(r&&n.abRelation&&n.abRelation.howMany){const{howMany:t,offset:i}=n.abRelation;return e.howMany+=t,e.splitPosition=e.splitPosition.getShiftedBy(i),[e]}if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.splitPosition)){const n=t.howMany-(e.splitPosition.offset-t.sourcePosition.offset);return e.howMany-=n,e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany),e.splitPosition=t.sourcePosition.clone(),e.insertionPosition=fG.getInsertionPosition(e.splitPosition),[e]}return t.sourcePosition.isEqual(t.targetPosition)||(e.splitPosition.hasSameParentAs(t.sourcePosition)&&e.splitPosition.offset<=t.sourcePosition.offset&&(e.howMany-=t.howMany),e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany)),e.splitPosition.stickiness="toNone",e.splitPosition=e.splitPosition._getTransformedByMoveOperation(t),e.splitPosition.stickiness="toNext",e.graveyardPosition?e.insertionPosition=e.insertionPosition._getTransformedByMoveOperation(t):e.insertionPosition=fG.getInsertionPosition(e.splitPosition),[e]})),SG(fG,fG,((e,t,n)=>{if(e.splitPosition.isEqual(t.splitPosition)){if(!e.graveyardPosition&&!t.graveyardPosition)return[new vG(0)];if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition))return[new vG(0)];if("splitBefore"==n.abRelation)return e.howMany=0,e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t),[e]}if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition)){const i="$graveyard"==e.splitPosition.root.rootName,r="$graveyard"==t.splitPosition.root.rootName;if(r&&!i||(!i||r)&&n.aIsStrong){const n=[];return t.howMany&&n.push(new hG(t.moveTargetPosition,t.howMany,t.splitPosition,0)),e.howMany&&n.push(new hG(e.splitPosition,e.howMany,e.moveTargetPosition,0)),n}return[new vG(0)]}if(e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t)),e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.abRelation)return e.howMany++,[e];if(t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.baRelation){const n=t.insertionPosition.path.slice();n.push(0);const i=new Lq(t.insertionPosition.root,n);return[e,new hG(e.insertionPosition,1,i,0)]}return e.splitPosition.hasSameParentAs(t.splitPosition)&&e.splitPosition.offset<t.splitPosition.offset&&(e.howMany-=t.howMany),e.splitPosition=e.splitPosition._getTransformedBySplitOperation(t),e.insertionPosition=fG.getInsertionPosition(e.splitPosition),[e]}));class RG extends(vV(Lq)){constructor(e,t,n="toNone"){if(super(e,t,n),!this.root.is("rootElement"))throw new dV("model-liveposition-root-not-rootelement",e);jG.call(this)}detach(){this.stopListening()}toPosition(){return new Lq(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}function jG(){this.listenTo(this.root.document.model,"applyOperation",((e,t)=>{const n=t[0];n.isDocumentOperation&&NG.call(this,n)}),{priority:"low"})}function NG(e){const t=this.getTransformedByOperation(e);if(!this.isEqual(t)){const e=this.toPosition();this.path=t.path,this.root=t.root,this.fire("change",e)}}RG.prototype.is=function(e){return"livePosition"===e||"model:livePosition"===e||"position"==e||"model:position"===e};class FG{constructor(e={}){"string"==typeof e&&(e="transparent"===e?{isUndoable:!1}:{},hV("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:n=!0,isUndo:i=!1,isTyping:r=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=n,this.isUndo=i,this.isTyping=r}get type(){return hV("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(null!==e.baseVersion)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}class YG{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size&&0==this._changedRoots.size}bufferOperation(e){const t=e;switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const e of t.range.getItems({shallow:!0}))this._isInInsertedElement(e.parent)||this._markAttribute(e);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const e=this._isInInsertedElement(t.sourcePosition.parent),n=this._isInInsertedElement(t.targetPosition.parent);e||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),n||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const e=Nq._createFromPositionAndShift(t.position,1);for(const t of this._markerCollection.getMarkersIntersectingRange(e)){const e=t.getData();this.bufferMarkerChange(t.name,e,e)}break}case"split":{const e=t.splitPosition.parent;this._isInInsertedElement(e)||this._markRemove(e,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const e=t.sourcePosition.parent;this._isInInsertedElement(e.parent)||this._markRemove(e.parent,e.startOffset,1);const n=t.graveyardPosition.parent;this._markInsert(n,t.graveyardPosition.offset,1);const i=t.targetPosition.parent;this._isInInsertedElement(i)||this._markInsert(i,t.targetPosition.offset,e.maxOffset);break}case"detachRoot":case"addRoot":{const e=t.affectedSelectable;if(!e._isLoaded)return;if(e.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;const e=t.root.rootName;this._bufferRootAttributeChange(e,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,n){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),n.range&&n.range.root.is("rootElement")&&!n.range.root._isLoaded&&(n.range=null);let i=this._changedMarkers.get(e);i?i.newMarkerData=n:(i={newMarkerData:n,oldMarkerData:t},this._changedMarkers.set(e,i)),null==i.oldMarkerData.range&&null==n.range&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[t,n]of this._changedMarkers)null!=n.oldMarkerData.range&&e.push({name:t,range:n.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,n]of this._changedMarkers)null!=n.newMarkerData.range&&e.push({name:t,range:n.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map((([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}})))}hasDataChanges(){if(this._changesInElement.size>0)return!0;if(this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const n=e.range&&!t.range,i=!e.range&&t.range,r=e.range&&t.range&&!e.range.isEqual(t.range);if(n||i||r)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const e of this._changesInElement.keys()){const n=this._changesInElement.get(e).sort(((e,t)=>e.offset===t.offset?e.type!=t.type?"remove"==e.type?-1:1:0:e.offset<t.offset?-1:1)),i=this._elementSnapshots.get(e),r=BG(e.getChildren()),o=HG(i.length,n);let s=0,a=0;for(const n of o)if("i"===n)t.push(this._getInsertDiff(e,s,r[s])),s++;else if("r"===n)t.push(this._getRemoveDiff(e,s,i[a])),a++;else if("a"===n){const n=r[s].attributes,o=i[a].attributes;let l;if("$text"==r[s].name)l=new Nq(Lq._createAt(e,s),Lq._createAt(e,s+1));else{const t=e.offsetToIndex(s);l=new Nq(Lq._createAt(e,s),Lq._createAt(e.getChild(t),0))}t.push(...this._getAttributesDiff(l,o,n)),s++,a++}else s++,a++}t.sort(((e,t)=>e.position.root!=t.position.root?e.position.root.rootName<t.position.root.rootName?-1:1:e.position.isEqual(t.position)?e.changeCount-t.changeCount:e.position.isBefore(t.position)?-1:1));for(let e=1,n=0;e<t.length;e++){const i=t[n],r=t[e],o="remove"==i.type&&"remove"==r.type&&"$text"==i.name&&"$text"==r.name&&i.position.isEqual(r.position),s="insert"==i.type&&"insert"==r.type&&"$text"==i.name&&"$text"==r.name&&i.position.parent==r.position.parent&&i.position.offset+i.length==r.position.offset,a="attribute"==i.type&&"attribute"==r.type&&i.position.parent==r.position.parent&&i.range.isFlat&&r.range.isFlat&&i.position.offset+i.length==r.position.offset&&i.attributeKey==r.attributeKey&&i.attributeOldValue==r.attributeOldValue&&i.attributeNewValue==r.attributeNewValue;o||s||a?(i.length++,a&&(i.range.end=i.range.end.getShiftedBy(1)),t[e]=null):n=e}t=t.filter((e=>e));for(const e of t)delete e.changeCount,"attribute"==e.type&&(delete e.position,delete e.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(VG),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map((e=>{const t={...e};return void 0!==t.state&&delete t.attributes,t}))}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});const n=this._changedRoots.get(e);void 0!==n.state?(delete n.state,void 0===n.attributes&&this._changedRoots.delete(e)):n.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,n,i){const r=this._changedRoots.get(e)||{name:e},o=r.attributes||{};if(o[t]){const e=o[t];i===e.oldValue?delete o[t]:e.newValue=i}else o[t]={oldValue:n,newValue:i};0===Object.entries(o).length?(delete r.attributes,void 0===r.state&&this._changedRoots.delete(e)):(r.attributes=o,this._changedRoots.set(e,r))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const t=Nq._createOn(e);for(const e of this._markerCollection.getMarkersIntersectingRange(t)){const t=e.getData();this.bufferMarkerChange(e.name,t,t)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const t of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,t,null,e.getAttribute(t));for(const t of this._markerCollection)if(t.getRange().root==e){const e=t.getData();this.bufferMarkerChange(t.name,{...e,range:null},e)}}}_markInsert(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const i={type:"insert",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,i)}_markRemove(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const i={type:"remove",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,i),this._removeAllNestedChanges(e,t,n)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const n=this._getChangesForElement(e);this._handleChange(t,n),n.push(t);for(let e=0;e<n.length;e++)n[e].howMany<1&&(n.splice(e,1),e--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,BG(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const n of t){const i=e.offset+e.howMany,r=n.offset+n.howMany;if("insert"==e.type&&("insert"==n.type&&(e.offset<=n.offset?n.offset+=e.howMany:e.offset<r&&(n.howMany+=e.nodesToHandle,e.nodesToHandle=0)),"remove"==n.type&&e.offset<n.offset&&(n.offset+=e.howMany),"attribute"==n.type))if(e.offset<=n.offset)n.offset+=e.howMany;else if(e.offset<r){const r=n.howMany;n.howMany=e.offset-n.offset,t.unshift({type:"attribute",offset:i,howMany:r-n.howMany,count:this._changeCount++})}if("remove"==e.type){if("insert"==n.type)if(i<=n.offset)n.offset-=e.howMany;else if(i<=r)if(e.offset<n.offset){const t=i-n.offset;n.offset=e.offset,n.howMany-=t,e.nodesToHandle-=t}else n.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=n.offset)e.nodesToHandle-=n.howMany,n.howMany=0;else if(e.offset<r){const t=r-e.offset;n.howMany-=t,e.nodesToHandle-=t}if("remove"==n.type&&(i<=n.offset?n.offset-=e.howMany:e.offset<n.offset&&(e.nodesToHandle+=n.howMany,n.howMany=0)),"attribute"==n.type)if(i<=n.offset)n.offset-=e.howMany;else if(e.offset<n.offset){const t=i-n.offset;n.offset=e.offset,n.howMany-=t}else if(e.offset<r)if(i<=r){const i=n.howMany;n.howMany=e.offset-n.offset;const r=i-n.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:r,count:this._changeCount++})}else n.howMany-=r-e.offset}if("attribute"==e.type){if("insert"==n.type)if(e.offset<n.offset&&i>n.offset){if(i>r){const e={type:"attribute",offset:r,howMany:i-r,count:this._changeCount++};this._handleChange(e,t),t.push(e)}e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=n.offset&&e.offset<r&&(i>r?(e.nodesToHandle=i-r,e.offset=r):e.nodesToHandle=0);if("remove"==n.type&&e.offset<n.offset&&i>n.offset){const r={type:"attribute",offset:n.offset,howMany:i-n.offset,count:this._changeCount++};this._handleChange(r,t),t.push(r),e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}"attribute"==n.type&&(e.offset>=n.offset&&i<=r?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=n.offset&&i>=r&&(n.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,n){return{type:"insert",position:Lq._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++,_element:n.element}}_getRemoveDiff(e,t,n){return{type:"remove",position:Lq._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++,_element:n.element}}_getAttributesDiff(e,t,n){const i=[];n=new Map(n);for(const[r,o]of t){const t=n.has(r)?n.get(r):null;t!==o&&i.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:r,attributeOldValue:o,attributeNewValue:t,changeCount:this._changeCount++}),n.delete(r)}for(const[t,r]of n)i.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:t,attributeOldValue:null,attributeNewValue:r,changeCount:this._changeCount++});return i}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const n=this._changesInElement.get(t),i=e.startOffset;if(n)for(const e of n)if("insert"==e.type&&i>=e.offset&&i<e.offset+e.howMany)return!0;return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,n){const i=new Nq(Lq._createAt(e,t),Lq._createAt(e,t+n));for(const e of i.getItems({shallow:!0}))e.is("element")&&(this._elementSnapshots.delete(e),this._changesInElement.delete(e),this._removeAllNestedChanges(e,0,e.maxOffset))}}function BG(e){const t=[];for(const n of e)if(n.is("$text"))for(let e=0;e<n.data.length;e++)t.push({name:"$text",attributes:new Map(n.getAttributes())});else t.push({name:n.name,attributes:new Map(n.getAttributes()),element:n});return t}function HG(e,t){const n=[];let i=0,r=0;for(const e of t){if(e.offset>i){for(let t=0;t<e.offset-i;t++)n.push("e");r+=e.offset-i}if("insert"==e.type){for(let t=0;t<e.howMany;t++)n.push("i");i=e.offset+e.howMany}else if("remove"==e.type){for(let t=0;t<e.howMany;t++)n.push("r");i=e.offset,r+=e.howMany}else n.push(..."a".repeat(e.howMany).split("")),i=e.offset+e.howMany,r+=e.howMany}if(r<e)for(let t=0;t<e-r-i;t++)n.push("e");return n}function VG(e){const t="position"in e&&"$graveyard"==e.position.root.rootName,n="range"in e&&"$graveyard"==e.range.root.rootName;return!t&&!n}class WG{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new dV("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const n=this._operations[0];void 0===e&&(e=n.baseVersion);let i=t-1;for(const[t,n]of this._gaps)e>t&&e<n&&(e=n),i>t&&i<n&&(i=t-1);if(i<n.baseVersion||e>this.lastOperation.baseVersion)return[];let r=this._baseVersionToOperationIndex.get(e);void 0===r&&(r=0);let o=this._baseVersionToOperationIndex.get(i);return void 0===o&&(o=this._operations.length-1),this._operations.slice(r,o+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(void 0!==t)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class UG extends Mq{constructor(e,t,n="main"){super(t),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=n}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}UG.prototype.is=function(e,t){return t?t===this.name&&("rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e):"rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e||"node"===e||"model:node"===e};const $G="$graveyard";class qG extends(vV()){constructor(e){super(),this.model=e,this.history=new WG,this.selection=new nK(this),this.roots=new uU({idProperty:"rootName"}),this.differ=new YG(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",$G),this.listenTo(e,"applyOperation",((e,t)=>{const n=t[0];n.isDocumentOperation&&this.differ.bufferOperation(n)}),{priority:"high"}),this.listenTo(e,"applyOperation",((e,t)=>{const n=t[0];n.isDocumentOperation&&this.history.addOperation(n)}),{priority:"low"}),this.listenTo(this.selection,"change",(()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0})),this.listenTo(e.markers,"update",((e,t,n,i,r)=>{const o={...t.getData(),range:i};this.differ.bufferMarkerChange(t.name,r,o),null===n&&t.on("change",((e,n)=>{const i=t.getData();this.differ.bufferMarkerChange(t.name,{...i,range:n},i)}))})),this.registerPostFixer((e=>{let t=!1;for(const n of this.roots)n.isAttached()||n.isEmpty||(e.remove(e.createRangeIn(n)),t=!0);for(const n of this.model.markers)n.getRange().root.isAttached()||(e.removeMarker(n),t=!0);return t}))}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot($G)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new dV("model-document-createroot-name-exists",this,{name:t});const n=new UG(this,e,t);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map((e=>e.rootName))}getRoots(e=!1){return this.roots.filter((t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded))}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=LU(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,n=t.schema,i=t.createPositionFromPath(e,[0]);return n.getNearestSelectionRange(i)||t.createRange(i)}_validateSelectionRange(e){return KG(e.start)&&KG(e.end)}_callPostFixers(e){let t=!1;do{for(const n of this._postFixers)if(this.selection.refresh(),t=n(e),t)break}while(t)}}function KG(e){const t=e.textNode;if(t){const n=t.data,i=e.offset-t.startOffset;return!gU(n,i)&&!bU(n,i)}return!0}class GG extends(vV()){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof ZG?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,n=!1,i=!1){const r=e instanceof ZG?e.name:e;if(r.includes(","))throw new dV("markercollection-incorrect-marker-name",this);const o=this._markers.get(r);if(o){const e=o.getData(),s=o.getRange();let a=!1;return s.isEqual(t)||(o._attachLiveRange(Xq.fromRange(t)),a=!0),n!=o.managedUsingOperations&&(o._managedUsingOperations=n,a=!0),"boolean"==typeof i&&i!=o.affectsData&&(o._affectsData=i,a=!0),a&&this.fire(`update:${r}`,o,s,t,e),o}const s=Xq.fromRange(t),a=new ZG(r,s,n,i);return this._markers.set(r,a),this.fire(`update:${r}`,a,null,t,{...a.getData(),range:null}),a}_remove(e){const t=e instanceof ZG?e.name:e,n=this._markers.get(t);return!!n&&(this._markers.delete(t),this.fire(`update:${t}`,n,n.getRange(),null,n.getData()),this._destroyMarker(n),!0)}_refresh(e){const t=e instanceof ZG?e.name:e,n=this._markers.get(t);if(!n)throw new dV("markercollection-refresh-marker-not-exists",this);const i=n.getRange();this.fire(`update:${t}`,n,i,i,n.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)null!==t.getRange().getIntersection(e)&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class ZG extends(vV(Eq)){constructor(e,t,n,i){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=n,this._affectsData=i}get managedUsingOperations(){if(!this._liveRange)throw new dV("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new dV("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new dV("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new dV("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new dV("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}ZG.prototype.is=function(e){return"marker"===e||"model:marker"===e};class JG extends rG{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new dV("detach-operation-on-document-node",this)}_execute(){sG(Nq._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class XG extends Eq{constructor(e){super(),this.markers=new Map,this._children=new Sq,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const n of e)n.name?t.push(Mq.fromJSON(n)):t.push(Oq.fromJSON(n));return new XG(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=function(e){return"string"==typeof e?[new Oq(e)]:(HV(e)||(e=[e]),Array.from(e).map((e=>"string"==typeof e?new Oq(e):e instanceof Tq?new Oq(e.data,e.getAttributes()):e)))}(t);for(const e of n)null!==e.parent&&e._remove(),e.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const e of n)e.parent=null;return n}}XG.prototype.is=function(e){return"documentFragment"===e||"model:documentFragment"===e};class QG{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new Oq(e,t)}createElement(e,t){return new Mq(e,t)}createDocumentFragment(){return new XG}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,n=0){if(this._assertWriterUsedCorrectly(),e instanceof Oq&&""==e.data)return;const i=Lq._createAt(t,n);if(e.parent){if(rZ(e.root,i.root))return void this.move(Nq._createOn(e),i);if(e.root.document)throw new dV("model-writer-insert-forbidden-move",this);this.remove(e)}const r=i.root.document?i.root.document.version:null,o=new pG(i,e,r);if(e instanceof Oq&&(o.shouldReceiveAttributes=!0),this.batch.addOperation(o),this.model.applyOperation(o),e instanceof XG)for(const[t,n]of e.markers){const e=Lq._createAt(n.root,0),r={range:new Nq(n.start._getCombined(e,i),n.end._getCombined(e,i)),usingOperation:!0,affectsData:!0};this.model.markers.has(t)?this.updateMarker(t,r):this.addMarker(t,r)}}insertText(e,t,n,i){t instanceof XG||t instanceof Mq||t instanceof Lq?this.insert(this.createText(e),t,n):this.insert(this.createText(e,t),n,i)}insertElement(e,t,n,i){t instanceof XG||t instanceof Mq||t instanceof Lq?this.insert(this.createElement(e),t,n):this.insert(this.createElement(e,t),n,i)}append(e,t){this.insert(e,t,"end")}appendText(e,t,n){t instanceof XG||t instanceof Mq?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),n,"end")}appendElement(e,t,n){t instanceof XG||t instanceof Mq?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),n,"end")}setAttribute(e,t,n){if(this._assertWriterUsedCorrectly(),n instanceof Nq){const i=n.getMinimalFlatRanges();for(const n of i)eZ(this,e,t,n)}else tZ(this,e,t,n)}setAttributes(e,t){for(const[n,i]of fU(e))this.setAttribute(n,i,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof Nq){const n=t.getMinimalFlatRanges();for(const t of n)eZ(this,e,null,t)}else tZ(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=e=>{for(const t of e.getAttributeKeys())this.removeAttribute(t,e)};if(e instanceof Nq)for(const n of e.getItems())t(n);else t(e)}move(e,t,n){if(this._assertWriterUsedCorrectly(),!(e instanceof Nq))throw new dV("writer-move-invalid-range",this);if(!e.isFlat)throw new dV("writer-move-range-not-flat",this);const i=Lq._createAt(t,n);if(i.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!rZ(e.root,i.root))throw new dV("writer-move-different-document",this);const r=e.root.document?e.root.document.version:null,o=new hG(e.start,e.end.offset-e.start.offset,i,r);this.batch.addOperation(o),this.model.applyOperation(o)}remove(e){this._assertWriterUsedCorrectly();const t=(e instanceof Nq?e:Nq._createOn(e)).getMinimalFlatRanges().reverse();for(const e of t)this._addOperationForAffectedMarkers("move",e),iZ(e.start,e.end.offset-e.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,n=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof Mq))throw new dV("writer-merge-no-element-before",this);if(!(n instanceof Mq))throw new dV("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,n){return this.model.createPositionFromPath(e,t,n)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,n=e.nodeAfter;this.move(Nq._createIn(n),Lq._createAt(t,"end")),this.remove(n)}_merge(e){const t=Lq._createAt(e.nodeBefore,"end"),n=Lq._createAt(e.nodeAfter,0),i=e.root.document.graveyard,r=new Lq(i,[0]),o=e.root.document.version,s=new mG(n,e.nodeAfter.maxOffset,t,r,o);this.batch.addOperation(s),this.model.applyOperation(s)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof Mq))throw new dV("writer-rename-not-element-instance",this);const n=e.root.document?e.root.document.version:null,i=new _G(Lq._createBefore(e),e.name,t,n);this.batch.addOperation(i),this.model.applyOperation(i)}split(e,t){this._assertWriterUsedCorrectly();let n,i,r=e.parent;if(!r.parent)throw new dV("writer-split-element-no-parent",this);if(t||(t=r.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new dV("writer-split-invalid-limit-element",this);do{const t=r.root.document?r.root.document.version:null,o=r.maxOffset-e.offset,s=fG.getInsertionPosition(e),a=new fG(e,o,s,null,t);this.batch.addOperation(a),this.model.applyOperation(a),n||i||(n=r,i=e.parent.nextSibling),r=(e=this.createPositionAfter(e.parent)).parent}while(r!==t);return{position:e,range:new Nq(Lq._createAt(n,"end"),Lq._createAt(i,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new dV("writer-wrap-range-not-flat",this);const n=t instanceof Mq?t:new Mq(t);if(n.childCount>0)throw new dV("writer-wrap-element-not-empty",this);if(null!==n.parent)throw new dV("writer-wrap-element-attached",this);this.insert(n,e.start);const i=new Nq(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(i,Lq._createAt(n,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),null===e.parent)throw new dV("writer-unwrap-element-no-parent",this);this.move(Nq._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||"boolean"!=typeof t.usingOperation)throw new dV("writer-addmarker-no-usingoperation",this);const n=t.usingOperation,i=t.range,r=void 0!==t.affectsData&&t.affectsData;if(this.model.markers.has(e))throw new dV("writer-addmarker-marker-exists",this);if(!i)throw new dV("writer-addmarker-no-range",this);return n?(nZ(this,e,null,i,r),this.model.markers.get(e)):this.model.markers._set(e,i,n,r)}updateMarker(e,t){this._assertWriterUsedCorrectly();const n="string"==typeof e?e:e.name,i=this.model.markers.get(n);if(!i)throw new dV("writer-updatemarker-marker-not-exists",this);if(!t)return hV("writer-updatemarker-reconvert-using-editingcontroller",{markerName:n}),void this.model.markers._refresh(i);const r="boolean"==typeof t.usingOperation,o="boolean"==typeof t.affectsData,s=o?t.affectsData:i.affectsData;if(!r&&!t.range&&!o)throw new dV("writer-updatemarker-wrong-options",this);const a=i.getRange(),l=t.range?t.range:a;r&&t.usingOperation!==i.managedUsingOperations?t.usingOperation?nZ(this,n,null,l,s):(nZ(this,n,a,null,s),this.model.markers._set(n,l,void 0,s)):i.managedUsingOperations?nZ(this,n,a,l,s):this.model.markers._set(n,l,void 0,s)}removeMarker(e){this._assertWriterUsedCorrectly();const t="string"==typeof e?e:e.name;if(!this.model.markers.has(t))throw new dV("writer-removemarker-no-marker",this);const n=this.model.markers.get(t);n.managedUsingOperations?nZ(this,t,n.getRange(),null,n.affectsData):this.model.markers._remove(t)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const n=this.model.document.getRoot(e);if(n&&n.isAttached())throw new dV("writer-addroot-root-exists",this);const i=this.model.document,r=new kG(e,t,!0,i,i.version);return this.batch.addOperation(r),this.model.applyOperation(r),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t="string"==typeof e?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new dV("writer-detachroot-no-root",this);for(const e of this.model.markers)e.getRange().root===t&&this.removeMarker(e);for(const e of t.getAttributeKeys())this.removeAttribute(e,t);this.remove(this.createRangeIn(t));const n=this.model.document,i=new kG(t.rootName,t.name,!1,n,n.version);this.batch.addOperation(i),this.model.applyOperation(i)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._setSelectionAttribute(e,t);else for(const[t,n]of fU(e))this._setSelectionAttribute(t,n)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const i=nK._getStoreAttributeKey(e);this.setAttribute(i,t,n.anchor.parent)}n._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const n=nK._getStoreAttributeKey(e);this.removeAttribute(n,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new dV("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const i=n.getRange();let r=!1;if("move"===e){const e=t;r=e.containsPosition(i.start)||e.start.isEqual(i.start)||e.containsPosition(i.end)||e.end.isEqual(i.end)}else{const e=t,n=e.nodeBefore,o=e.nodeAfter,s=i.start.parent==n&&i.start.isAtEnd,a=i.end.parent==o&&0==i.end.offset,l=i.end.nodeAfter==o,c=i.start.nodeAfter==o;r=s||a||l||c}r&&this.updateMarker(n.name,{range:i})}}}function eZ(e,t,n,i){const r=e.model,o=r.document;let s,a,l,c=i.start;for(const e of i.getWalker({shallow:!0}))l=e.item.getAttribute(t),s&&a!=l&&(a!=n&&u(),c=s),s=e.nextPosition,a=l;function u(){const i=new Nq(c,s),l=i.root.document?o.version:null,u=new yG(i,t,a,n,l);e.batch.addOperation(u),r.applyOperation(u)}s instanceof Lq&&s!=c&&a!=n&&u()}function tZ(e,t,n,i){const r=e.model,o=r.document,s=i.getAttribute(t);let a,l;if(s!=n){if(i.root===i){const e=i.document?o.version:null;l=new wG(i,t,s,n,e)}else{a=new Nq(Lq._createBefore(i),e.createPositionAfter(i));const r=a.root.document?o.version:null;l=new yG(a,t,s,n,r)}e.batch.addOperation(l),r.applyOperation(l)}}function nZ(e,t,n,i,r){const o=e.model,s=o.document,a=new gG(t,n,i,o.markers,!!r,s.version);e.batch.addOperation(a),o.applyOperation(a)}function iZ(e,t,n,i){let r;if(e.root.document){const n=i.document,o=new Lq(n.graveyard,[0]);r=new hG(e,t,o,n.version)}else r=new JG(e,t);n.addOperation(r),i.applyOperation(r)}function rZ(e,t){return e===t||e instanceof UG&&t instanceof UG}function oZ(e,t,n={}){if(t.isCollapsed)return;const i=t.getFirstRange();if("$graveyard"==i.root.rootName)return;const r=e.schema;e.change((e=>{if(!n.doNotResetEntireContent&&function(e,t){const n=e.getLimitElement(t);if(!t.containsEntireContent(n))return!1;const i=t.getFirstRange();return i.start.parent!=i.end.parent&&e.checkChild(n,"paragraph")}(r,t))return void function(e,t){const n=e.model.schema.getLimitElement(t);e.remove(e.createRangeIn(n)),cZ(e,e.createPositionAt(n,0),t)}(e,t);const o={};if(!n.doNotAutoparagraph){const e=t.getSelectedElement();e&&Object.assign(o,r.getAttributesWithProperty(e,"copyOnReplace",!0))}const[s,a]=function(e){const t=e.root.document.model,n=e.start;let i=e.end;if(t.hasContent(e,{ignoreMarkers:!0})){const n=function(e){const t=e.parent,n=t.root.document.model.schema,i=t.getAncestors({parentFirst:!0,includeSelf:!0});for(const e of i){if(n.isLimit(e))return null;if(n.isBlock(e))return e}}(i);if(n&&i.isTouching(t.createPositionAt(n,0))){const n=t.createSelection(e);t.modifySelection(n,{direction:"backward"});const r=n.getLastPosition(),o=t.createRange(r,i);t.hasContent(o,{ignoreMarkers:!0})||(i=r)}}return[RG.fromPosition(n,"toPrevious"),RG.fromPosition(i,"toNext")]}(i);s.isTouching(a)||e.remove(e.createRange(s,a)),n.leaveUnmerged||(function(e,t,n){const i=e.model;if(!lZ(e.model.schema,t,n))return;const[r,o]=function(e,t){const n=e.getAncestors(),i=t.getAncestors();let r=0;for(;n[r]&&n[r]==i[r];)r++;return[n[r],i[r]]}(t,n);r&&o&&(!i.hasContent(r,{ignoreMarkers:!0})&&i.hasContent(o,{ignoreMarkers:!0})?aZ(e,t,n,r.parent):sZ(e,t,n,r.parent))}(e,s,a),r.removeDisallowedAttributes(s.parent.getChildren(),e)),uZ(e,t,s),!n.doNotAutoparagraph&&function(e,t){const n=e.checkChild(t,"$text"),i=e.checkChild(t,"paragraph");return!n&&i}(r,s)&&cZ(e,s,t,o),s.detach(),a.detach()}))}function sZ(e,t,n,i){const r=t.parent,o=n.parent;if(r!=i&&o!=i){for(t=e.createPositionAfter(r),(n=e.createPositionBefore(o)).isEqual(t)||e.insert(o,t),e.merge(t);n.parent.isEmpty;){const t=n.parent;n=e.createPositionBefore(t),e.remove(t)}lZ(e.model.schema,t,n)&&sZ(e,t,n,i)}}function aZ(e,t,n,i){const r=t.parent,o=n.parent;if(r!=i&&o!=i){for(t=e.createPositionAfter(r),(n=e.createPositionBefore(o)).isEqual(t)||e.insert(r,n);t.parent.isEmpty;){const n=t.parent;t=e.createPositionBefore(n),e.remove(n)}n=e.createPositionBefore(o),function(e,t){const n=t.nodeBefore,i=t.nodeAfter;n.name!=i.name&&e.rename(n,i.name),e.clearAttributes(n),e.setAttributes(Object.fromEntries(i.getAttributes()),n),e.merge(t)}(e,n),lZ(e.model.schema,t,n)&&aZ(e,t,n,i)}}function lZ(e,t,n){const i=t.parent,r=n.parent;return i!=r&&!e.isLimit(i)&&!e.isLimit(r)&&function(e,t,n){const i=new Nq(e,t);for(const e of i.getWalker())if(n.isLimit(e.item))return!1;return!0}(t,n,e)}function cZ(e,t,n,i={}){const r=e.createElement("paragraph");e.model.schema.setAllowedAttributes(r,i,e),e.insert(r,t),uZ(e,n,e.createPositionAt(r,0))}function uZ(e,t,n){t instanceof nK?e.setSelection(n):t.setTo(n)}function dZ(e,t){const n=[];Array.from(e.getItems({direction:"backward"})).map((e=>t.createRangeOn(e))).filter((t=>(t.start.isAfter(e.start)||t.start.isEqual(e.start))&&(t.end.isBefore(e.end)||t.end.isEqual(e.end)))).forEach((e=>{n.push(e.start.parent),t.remove(e)})),n.forEach((e=>{let n=e;for(;n.parent&&n.isEmpty;){const e=t.createRangeOn(n);n=n.parent,t.remove(e)}}))}class hZ{constructor(e,t,n){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=t,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(e);if(n.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new dV("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Nq._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Nq(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let t=this._checkAndAutoParagraphToAllowedPosition(e);t||(t=this._checkAndSplitToAllowedPosition(e),t)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=RG.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new dV("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=RG.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=RG.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof Mq))return;if(!this._canMergeLeft(e))return;const t=RG._createBefore(e);t.stickiness="toNext";const n=RG.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=RG._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=RG._createAt(t.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof Mq))return;if(!this._canMergeRight(e))return;const t=RG._createAfter(e);if(t.stickiness="toNext",!this.position.isEqual(t))throw new dV("insertcontent-invalid-insertion-position",this);this.position=Lq._createAt(t.nodeBefore,"end");const n=RG.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=RG._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=RG._createAt(t.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof Mq&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof Mq&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const e=this.position.parent;this.position=this.writer.createPositionBefore(e),e.isEmpty&&e.parent===t&&this.writer.remove(e)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const e=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=e,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}const pZ=' ,.?!:;"-()';function fZ(e,t){const{isForward:n,walker:i,unit:r,schema:o,treatEmojiAsSingleUnit:s}=e,{type:a,item:l,nextPosition:c}=t;if("text"==a)return"word"===e.unit?function(e,t){let n=e.position.textNode;for(n||(n=t?e.position.nodeAfter:e.position.nodeBefore);n&&n.is("$text");){const i=e.position.offset-n.startOffset;if(bZ(n,i,t))n=t?e.position.nodeAfter:e.position.nodeBefore;else{if(gZ(n.data,i,t))break;e.next()}}return e.position}(i,n):function(e,t,n){const i=e.position.textNode;if(i){const r=i.data;let o=e.position.offset-i.startOffset;for(;gU(r,o)||"character"==t&&bU(r,o)||n&&vU(r,o);)e.next(),o=e.position.offset-i.startOffset}return e.position}(i,r,s);if(a==(n?"elementStart":"elementEnd")){if(o.isSelectable(l))return Lq._createAt(l,n?"after":"before");if(o.checkChild(c,"$text"))return c}else{if(o.isLimit(l))return void i.skip((()=>!0));if(o.checkChild(c,"$text"))return c}}function mZ(e,t){const n=e.root,i=Lq._createAt(n,t?"end":0);return t?new Nq(e,i):new Nq(i,e)}function gZ(e,t,n){const i=t+(n?0:-1);return pZ.includes(e.charAt(i))}function bZ(e,t,n){return t===(n?e.offsetSize:0)}class yZ extends(AV()){constructor(){var e;super(),this.markers=new GG,this.document=new qG(this),this.schema=new RK,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach((e=>this.decorate(e))),this.on("applyOperation",((e,t)=>{t[0]._validate()}),{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck(((e,t)=>{if("$marker"===t.name)return!0})),(e=this).document.registerPostFixer((t=>function(e,t){const n=t.document.selection,i=t.schema,r=[];let o=!1;for(const e of n.getRanges()){const t=MK(e,i);t&&!t.isEqual(e)?(r.push(t),o=!0):r.push(e)}return o&&e.setSelection(function(e){const t=[...e],n=new Set;let i=1;for(;i<t.length;){const e=t[i],r=t.slice(0,i);for(const[o,s]of r.entries())if(!n.has(o))if(e.isEqual(s))n.add(o);else if(e.isIntersecting(s)){n.add(o),n.add(i);const r=e.getJoined(s);t.push(r)}i++}return t.filter(((e,t)=>!n.has(t)))}(r),{backward:n.isBackward}),!1}(t,e))),this.document.registerPostFixer(vK),this.on("insertContent",((e,[t,n])=>{e.return=function(e,t,n){return e.change((i=>{const r=n||e.document.selection;r.isCollapsed||e.deleteContent(r,{doNotAutoparagraph:!0});const o=new hZ(e,i,r.anchor),s=[];let a;if(t.is("documentFragment")){if(t.markers.size){const e=[];for(const[n,i]of t.markers){const{start:t,end:r}=i,o=t.isEqual(r);e.push({position:t,name:n,isCollapsed:o},{position:r,name:n,isCollapsed:o})}e.sort((({position:e},{position:t})=>e.isBefore(t)?1:-1));for(const{position:n,name:r,isCollapsed:o}of e){let e=null,a=null;const l=n.parent===t&&n.isAtStart,c=n.parent===t&&n.isAtEnd;l||c?o&&(a=l?"start":"end"):(e=i.createElement("$marker"),i.insert(e,n)),s.push({name:r,element:e,collapsed:a})}}a=t.getChildren()}else a=[t];o.handleNodes(a);let l=o.getSelectionRange();if(t.is("documentFragment")&&s.length){const e=l?Xq.fromRange(l):null,t={};for(let e=s.length-1;e>=0;e--){const{name:n,element:r,collapsed:a}=s[e],l=!t[n];if(l&&(t[n]=[]),r){const e=i.createPositionAt(r,"before");t[n].push(e),i.remove(r)}else{const e=o.getAffectedRange();if(!e){a&&t[n].push(o.position);continue}a?t[n].push(e[a]):t[n].push(l?e.start:e.end)}}for(const[e,[n,r]]of Object.entries(t))n&&r&&n.root===r.root&&n.root.document&&i.addMarker(e,{usingOperation:!0,affectsData:!0,range:new Nq(n,r)});e&&(l=e.toRange(),e.detach())}l&&(r instanceof nK?i.setSelection(l):r.setTo(l));const c=o.getAffectedRange()||e.createRange(r.anchor);return o.destroy(),c}))}(this,t,n)})),this.on("insertObject",((e,[t,n,i])=>{e.return=function(e,t,n,i={}){if(!e.schema.isObject(t))throw new dV("insertobject-element-not-an-object",e,{object:t});const r=n||e.document.selection;let o=r;i.findOptimalPosition&&e.schema.isBlock(t)&&(o=e.createSelection(e.schema.findOptimalInsertionRange(r,i.findOptimalPosition)));const s=dU(r.getSelectedBlocks()),a={};return s&&Object.assign(a,e.schema.getAttributesWithProperty(s,"copyOnReplace",!0)),e.change((n=>{o.isCollapsed||e.deleteContent(o,{doNotAutoparagraph:!0});let r=t;const s=o.anchor.parent;!e.schema.checkChild(s,t)&&e.schema.checkChild(s,"paragraph")&&e.schema.checkChild("paragraph",t)&&(r=n.createElement("paragraph"),n.insert(t,r)),e.schema.setAllowedAttributes(r,a,n);const l=e.insertContent(r,o);return l.isCollapsed||i.setSelection&&function(e,t,n,i){const r=e.model;if("on"==n)return void e.setSelection(t,"on");if("after"!=n)throw new dV("insertobject-invalid-place-parameter-value",r);let o=t.nextSibling;r.schema.isInline(t)?e.setSelection(t,"after"):(!(o&&r.schema.checkChild(o,"$text"))&&r.schema.checkChild(t.parent,"paragraph")&&(o=e.createElement("paragraph"),r.schema.setAllowedAttributes(o,i,e),r.insertContent(o,e.createPositionAfter(t))),o&&e.setSelection(o,0))}(n,t,i.setSelection,a),l}))}(this,t,n,i)})),this.on("canEditAt",(e=>{const t=!this.document.isReadOnly;e.return=t,t||e.stop()}))}change(e){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new FG,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(e){dV.rethrowUnexpectedError(e,this)}}enqueueChange(e,t){try{e?"function"==typeof e?(t=e,e=new FG):e instanceof FG||(e=new FG(e)):e=new FG,this._pendingChanges.push({batch:e,callback:t}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(e){dV.rethrowUnexpectedError(e,this)}}applyOperation(e){e._execute()}insertContent(e,t,n,...i){const r=vZ(t,n);return this.fire("insertContent",[e,r,n,...i])}insertObject(e,t,n,i,...r){const o=vZ(t,n);return this.fire("insertObject",[e,o,i,i,...r])}deleteContent(e,t){oZ(this,e,t)}modifySelection(e,t){!function(e,t,n={}){const i=e.schema,r="backward"!=n.direction,o=n.unit?n.unit:"character",s=!!n.treatEmojiAsSingleUnit,a=t.focus,l=new Pq({boundaries:mZ(a,r),singleCharacters:!0,direction:r?"forward":"backward"}),c={walker:l,schema:i,isForward:r,unit:o,treatEmojiAsSingleUnit:s};let u;for(;u=l.next();){if(u.done)return;const n=fZ(c,u.value);if(n)return void(t instanceof nK?e.change((e=>{e.setSelectionFocus(n)})):t.setFocus(n))}}(this,e,t)}getSelectedContent(e){return function(e,t){return e.change((e=>{const n=e.createDocumentFragment(),i=t.getFirstRange();if(!i||i.isCollapsed)return n;const r=i.start.root,o=i.start.getCommonPath(i.end),s=r.getNodeByPath(o);let a;a=i.start.parent==i.end.parent?i:e.createRange(e.createPositionAt(s,i.start.path[o.length]),e.createPositionAt(s,i.end.path[o.length]+1));const l=a.end.offset-a.start.offset;for(const t of a.getItems({shallow:!0}))t.is("$textProxy")?e.appendText(t.data,t.getAttributes(),n):e.append(e.cloneElement(t,!0),n);if(a!=i){const t=i._getTransformedByMove(a.start,e.createPositionAt(n,0),l)[0],r=e.createRange(e.createPositionAt(n,0),t.start);dZ(e.createRange(t.end,e.createPositionAt(n,"end")),e),dZ(r,e)}return n}))}(this,e)}hasContent(e,t={}){const n=e instanceof Nq?e:Nq._createIn(e);if(n.isCollapsed)return!1;const{ignoreWhitespaces:i=!1,ignoreMarkers:r=!1}=t;if(!r)for(const e of this.markers.getMarkersIntersectingRange(n))if(e.affectsData)return!0;for(const e of n.getItems())if(this.schema.isContent(e)){if(!e.is("$textProxy"))return!0;if(!i)return!0;if(-1!==e.data.search(/\S/))return!0}return!1}canEditAt(e){const t=vZ(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,n){return new Lq(e,t,n)}createPositionAt(e,t){return Lq._createAt(e,t)}createPositionAfter(e){return Lq._createAfter(e)}createPositionBefore(e){return Lq._createBefore(e)}createRange(e,t){return new Nq(e,t)}createRangeIn(e){return Nq._createIn(e)}createRangeOn(e){return Nq._createOn(e)}createSelection(...e){return new Uq(...e)}createBatch(e){return new FG(e)}createOperationFromJSON(e){return EG.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new QG(this,t);const n=this._pendingChanges[0].callback(this._currentWriter);e.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function vZ(e,t){if(e)return e instanceof Uq||e instanceof nK?e:e instanceof xq?t||0===t?new Uq(e,t):e.is("rootElement")?new Uq(e,"in"):new Uq(e,"on"):new Uq(e)}class _Z extends lq{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class wZ extends lq{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class kZ{constructor(e){this.document=e}createDocumentFragment(e){return new C$(this.document,e)}createElement(e,t,n){return new $U(this.document,e,t,n)}createText(e){return new zU(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,n){return n._insertChild(e,t)}removeChildren(e,t,n){return n._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const n=e.parent;if(n){const i=n.getChildIndex(e);return this.removeChildren(i,1,n),this.insertChild(i,t,n),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const n=t.getChildIndex(e);this.remove(e),this.insertChild(n,e.getChildren(),t)}}rename(e,t){const n=new $U(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,n)?n:null}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){GO(e)&&void 0===n?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return e$._createAt(e,t)}createPositionAfter(e){return e$._createAfter(e)}createPositionBefore(e){return e$._createBefore(e)}createRange(e,t){return new t$(e,t)}createRangeOn(e){return t$._createOn(e)}createRangeIn(e){return t$._createIn(e)}createSelection(...e){return new i$(...e)}}new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);class CZ{constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const n=this.get(e);if(!n)throw new dV("commandcollection-command-not-found",this,{commandName:e});return n.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class EZ extends pU{constructor(e){super(),this.editor=e}set(e,t,n={}){if("string"==typeof t){const e=t;t=(t,n)=>{this.editor.execute(e),n()}}super.set(e,t,n)}}const xZ="contentEditing",SZ="common";class OZ{constructor(e){this.keystrokeInfos=new Map,this._editor=e;const t=e.locale.t;this.addKeystrokeInfoCategory({id:xZ,label:t("Content editing keystrokes"),description:t("These keyboard shortcuts allow for quick access to content editing features.")}),this.addKeystrokeInfoCategory({id:"navigation",label:t("User interface and content navigation keystrokes"),description:t("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:[{label:t("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:t("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:t("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:t("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:t("Navigate through the toolbar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:t("Execute the currently focused button"),keystroke:[["Enter"],["Space"]]}]}]})}addKeystrokeInfoCategory({id:e,label:t,description:n,groups:i}){this.keystrokeInfos.set(e,{id:e,label:t,description:n,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:e,id:SZ}),i&&i.forEach((t=>{this.addKeystrokeInfoGroup({categoryId:e,...t})}))}addKeystrokeInfoGroup({categoryId:e=xZ,id:t,label:n,keystrokes:i}){const r=this.keystrokeInfos.get(e);if(!r)throw new dV("accessibility-unknown-keystroke-info-category",this._editor,{groupId:t,categoryId:e});r.groups.set(t,{id:t,label:n,keystrokes:i||[]})}addKeystrokeInfos({categoryId:e=xZ,groupId:t=SZ,keystrokes:n}){if(!this.keystrokeInfos.has(e))throw new dV("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:e,keystrokes:n});const i=this.keystrokeInfos.get(e);if(!i.groups.has(t))throw new dV("accessibility-unknown-keystroke-info-group",this._editor,{groupId:t,categoryId:e,keystrokes:n});i.groups.get(t).keystrokes.push(...n)}}class TZ extends(AV()){constructor(e={}){super();const t=this.constructor,{translations:n,...i}=t.defaultConfig||{},{translations:r=n,...o}=e,s=e.language||i.language;this._context=e.context||new xU({language:s,translations:r}),this._context._addEditor(this,!e.context);const a=Array.from(t.builtinPlugins||[]);this.config=new cW(o,i),this.config.define("plugins",a),this.config.define(this._context._getEditorConfig()),this.plugins=new EU(this,a,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new CZ,this.set("state","initializing"),this.once("ready",(()=>this.state="ready"),{priority:"high"}),this.once("destroy",(()=>this.state="destroyed"),{priority:"high"}),this.model=new yZ,this.on("change:isReadOnly",(()=>{this.model.document.isReadOnly=this.isReadOnly}));const l=new VU;this.data=new eG(this.model,l),this.editing=new LK(this.model,l),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new tG([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new EZ(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new OZ(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new dV("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if("string"!=typeof e&&"symbol"!=typeof e)throw new dV("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),1===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if("string"!=typeof e&&"symbol"!=typeof e)throw new dV("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),0===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,t=e.get("plugins"),n=e.get("removePlugins")||[],i=e.get("extraPlugins")||[],r=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(i),n,r)}destroy(){let e=Promise.resolve();return"initializing"==this.state&&(e=new Promise((e=>this.once("ready",e)))),e.then((()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()})).then((()=>this.plugins.destroy())).then((()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()})).then((()=>this._context._removeEditor(this)))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(e){dV.rethrowUnexpectedError(e,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}function MZ(e){return class extends e{updateSourceElement(e){if(!this.sourceElement)throw new dV("editor-missing-sourceelement",this);const t=this.config.get("updateSourceElementOnDestroy"),n=this.sourceElement instanceof HTMLTextAreaElement;if(!t&&!n)return void LW(this.sourceElement,"");const i="string"==typeof e?e:this.data.get();LW(this.sourceElement,i)}}}MZ.updateSourceElement=MZ(Object).prototype.updateSourceElement,Symbol.iterator;const PZ={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',colorPalette:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',history:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',imageUrl:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h7.029a5.401 5.401 0 0 1 .615-4.338l.762-1.232-2.975-2.78a.696.696 0 0 0-.957-.033L1.5 13.6V2.5h15v6.023c.449.131.887.32 1.307.573l.058.033c.046.028.09.057.135.086V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.15 2.15 0 0 0-1.611.834 2.118 2.118 0 0 0-.438 1.158 2.14 2.14 0 0 0 1.277 2.096 2.132 2.132 0 0 0 2.645-3.11 2.13 2.13 0 0 0-1.873-.978Z"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.647.647 0 0 0-.096.492.664.664 0 0 0 .278.418.7.7 0 0 0 .944-.234 1.741 1.741 0 0 1 2.478-.463 1.869 1.869 0 0 1 .476 2.55.637.637 0 0 0-.071.5.646.646 0 0 0 .309.396.627.627 0 0 0 .869-.19l.027-.041a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.78-.044.066a3.228 3.228 0 0 0 .82 4.403 3.005 3.005 0 0 0 4.275-.798l.13-.197a.626.626 0 0 0 .092-.475.638.638 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.029a1.741 1.741 0 0 1-2.477.461 1.87 1.87 0 0 1-.475-2.55l.029-.047a.647.647 0 0 0 .086-.485.66.66 0 0 0-.275-.408l-.04-.027a.609.609 0 0 0-.845.17Z"/><path d="M15.312 13.925c.24-.36.154-.838-.19-1.067-.346-.23-.82-.124-1.059.236l-1.268 1.907c-.239.36-.153.838.192 1.067.345.23.818.123 1.057-.236l1.268-1.907Z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M13 5.5H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2ZM13 7a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 2 7h11Z"/></svg>',objectSizeSmall:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M7 9.5H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2ZM7 11a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4A.5.5 0 0 1 2 11h5Z"/></svg>',objectSizeMedium:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M10 7.5H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2ZM10 9a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6A.5.5 0 0 1 2 9h8Z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',todoList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',codeBlock:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',heading1:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',heading2:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',heading3:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',heading4:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',heading5:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',heading6:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>',horizontalLine:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',html:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'},DZ=["left","right","center","justify"];function LZ(e){return DZ.includes(e)}function AZ(e,t){return"rtl"==t.contentLanguageDirection?"right"===e:"left"===e}function zZ(e){const t=e.map((e=>{let t;return t="string"==typeof e?{name:e}:e,t})).filter((e=>{const t=DZ.includes(e.name);return t||hV("alignment-config-name-not-recognized",{option:e}),t})),n=t.filter((e=>Boolean(e.className))).length;if(n&&n<t.length)throw new dV("alignment-config-classnames-are-missing",{configuredOptions:e});return t.forEach(((t,n,i)=>{const r=i.slice(n+1);if(r.some((e=>e.name==t.name)))throw new dV("alignment-config-name-already-defined",{option:t,configuredOptions:e});if(t.className){if(r.some((e=>e.className==t.className)))throw new dV("alignment-config-classname-already-defined",{option:t,configuredOptions:e})}})),t}const IZ="alignment";class RZ extends kU{refresh(){const e=this.editor.locale,t=dU(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=Boolean(t)&&this._canBeAligned(t),this.isEnabled&&t.hasAttribute("alignment")?this.value=t.getAttribute("alignment"):this.value="rtl"===e.contentLanguageDirection?"right":"left"}execute(e={}){const t=this.editor,n=t.locale,i=t.model,r=i.document,o=e.value;i.change((e=>{const t=Array.from(r.selection.getSelectedBlocks()).filter((e=>this._canBeAligned(e))),i=t[0].getAttribute("alignment");AZ(o,n)||i===o||!o?function(e,t){for(const n of e)t.removeAttribute(IZ,n)}(t,e):function(e,t,n){for(const i of e)t.setAttribute(IZ,n,i)}(t,e,o)}))}_canBeAligned(e){return this.editor.model.schema.checkAttribute(e,IZ)}}class jZ extends _U{static get pluginName(){return"AlignmentEditing"}constructor(e){super(e),e.config.define("alignment",{options:DZ.map((e=>({name:e})))})}init(){const e=this.editor,t=e.locale,n=e.model.schema,i=zZ(e.config.get("alignment.options")).filter((e=>LZ(e.name)&&!AZ(e.name,t))),r=i.some((e=>!!e.className));n.extend("$block",{allowAttributes:"alignment"}),e.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),r?e.conversion.attributeToAttribute(function(e){const t={};for(const n of e)t[n.name]={key:"class",value:n.className};return{model:{key:"alignment",values:e.map((e=>e.name))},view:t}}(i)):e.conversion.for("downcast").attributeToAttribute(function(e){const t={};for(const{name:n}of e)t[n]={key:"style",value:{"text-align":n}};return{model:{key:"alignment",values:e.map((e=>e.name))},view:t}}(i));const o=function(e){const t=[];for(const{name:n}of e)t.push({view:{key:"style",value:{"text-align":n}},model:{key:"alignment",value:n}});return t}(i);for(const t of o)e.conversion.for("upcast").attributeToAttribute(t);const s=function(e){const t=[];for(const{name:n}of e)t.push({view:{key:"align",value:n},model:{key:"alignment",value:n}});return t}(i);for(const t of s)e.conversion.for("upcast").attributeToAttribute(t);e.commands.add("alignment",new RZ(e))}}class NZ extends uU{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",((e,t,n)=>{this._renderViewIntoCollectionParent(t,n)})),this.on("remove",((e,t)=>{t.element&&this._parentElement&&t.element.remove()})),this._parentElement=null}destroy(){this.map((e=>e.destroy()))}setParent(e){this._parentElement=e;for(const e of this)this._renderViewIntoCollectionParent(e)}delegate(...e){if(!e.length||!e.every((e=>"string"==typeof e)))throw new dV("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const n of this)for(const i of e)n.delegate(i).to(t);this.on("add",((n,i)=>{for(const n of e)i.delegate(n).to(t)})),this.on("remove",((n,i)=>{for(const n of e)i.stopDelegating(n,t)}))}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}class FZ extends(vV()){constructor(e){super(),Object.assign(this,GZ(KZ(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new dV("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(t){if(t.children)for(const n of t.children)tJ(n)?yield n:nJ(n)&&(yield*e(n))}(this)}static bind(e,t){return{to(n,i){return new BZ({eventNameOrFunction:n,attribute:n,observable:e,emitter:t,callback:i})},if(n,i,r){return new HZ({observable:e,emitter:t,attribute:n,valueIfTrue:i,callback:r})}}}static extend(e,t){if(e._isRendered)throw new dV("template-extend-render",[this,e]);QZ(e,GZ(KZ(t)))}_renderNode(e){let t;if(t=e.node?this.tag&&this.text:this.tag?this.text:!this.text,t)throw new dV("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),VZ(this.text)?this._bindToObservable({schema:this.text,updater:UZ(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,n=e.revertData;for(const i in this.attributes){const r=t.getAttribute(i),o=this.attributes[i];n&&(n.attributes[i]=r);const s=rJ(o)?o[0].ns:null;if(VZ(o)){const a=rJ(o)?o[0].value:o;n&&oJ(i)&&a.unshift(r),this._bindToObservable({schema:a,updater:$Z(t,i,s),data:e})}else if("style"==i&&"string"!=typeof o[0])this._renderStyleAttribute(o[0],e);else{n&&r&&oJ(i)&&o.unshift(r);const e=o.map((e=>e&&e.value||e)).reduce(((e,t)=>e.concat(t)),[]).reduce(JZ,"");eJ(e)||t.setAttributeNS(s,i,e)}}}_renderStyleAttribute(e,t){const n=t.node;for(const i in e){const r=e[i];VZ(r)?this._bindToObservable({schema:[r],updater:qZ(n,i),data:t}):n.style[i]=r}}_renderElementChildren(e){const t=e.node,n=e.intoFragment?document.createDocumentFragment():t,i=e.isApplying;let r=0;for(const o of this.children)if(iJ(o)){if(!i){o.setParent(t);for(const e of o)n.appendChild(e.element)}}else if(tJ(o))i||(o.isRendered||o.render(),n.appendChild(o.element));else if(hW(o))n.appendChild(o);else if(i){const t={children:[],bindings:[],attributes:{}};e.revertData.children.push(t),o._renderNode({intoFragment:!1,node:n.childNodes[r++],isApplying:!0,revertData:t})}else n.appendChild(o.render());e.intoFragment&&t.appendChild(n)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const n=this.eventListeners[t].map((n=>{const[i,r]=t.split("@");return n.activateDomEventListener(i,r,e)}));e.revertData&&e.revertData.bindings.push(n)}}_bindToObservable({schema:e,updater:t,data:n}){const i=n.revertData;WZ(e,t,n);const r=e.filter((e=>!eJ(e))).filter((e=>e.observable)).map((i=>i.activateAttributeListener(e,t,n)));i&&i.bindings.push(r)}_revertTemplateFromNode(e,t){for(const e of t.bindings)for(const t of e)t();if(t.text)return void(e.textContent=t.text);const n=e;for(const e in t.attributes){const i=t.attributes[e];null===i?n.removeAttribute(e):n.setAttribute(e,i)}for(let e=0;e<t.children.length;++e)this._revertTemplateFromNode(n.childNodes[e],t.children[e])}}class YZ{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,n){const i=()=>WZ(e,t,n);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,i),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,i)}}}class BZ extends YZ{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,n){const i=(e,n)=>{t&&!n.target.matches(t)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(n):this.observable.fire(this.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,e,i),()=>{this.emitter.stopListening(n.node,e,i)}}}class HZ extends YZ{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!eJ(super.getValue(e))&&(this.valueIfTrue||!0)}}function VZ(e){return!!e&&(e.value&&(e=e.value),Array.isArray(e)?e.some(VZ):e instanceof YZ)}function WZ(e,t,{node:n}){const i=function(e,t){return e.map((e=>e instanceof YZ?e.getValue(t):e))}(e,n);let r;r=1==e.length&&e[0]instanceof HZ?i[0]:i.reduce(JZ,""),eJ(r)?t.remove():t.set(r)}function UZ(e){return{set(t){e.textContent=t},remove(){e.textContent=""}}}function $Z(e,t,n){return{set(i){e.setAttributeNS(n,t,i)},remove(){e.removeAttributeNS(n,t)}}}function qZ(e,t){return{set(n){e.style[t]=n},remove(){e.style[t]=null}}}function KZ(e){return aW(e,(e=>{if(e&&(e instanceof YZ||nJ(e)||tJ(e)||iJ(e)))return e}))}function GZ(e){if("string"==typeof e?e=function(e){return{text:[e]}}(e):e.text&&function(e){e.text=sU(e.text)}(e),e.on&&(e.eventListeners=function(e){for(const t in e)ZZ(e,t);return e}(e.on),delete e.on),!e.text){e.attributes&&function(e){for(const t in e)e[t].value&&(e[t].value=sU(e[t].value)),ZZ(e,t)}(e.attributes);const t=[];if(e.children)if(iJ(e.children))t.push(e.children);else for(const n of e.children)nJ(n)||tJ(n)||hW(n)?t.push(n):t.push(new FZ(n));e.children=t}return e}function ZZ(e,t){e[t]=sU(e[t])}function JZ(e,t){return eJ(t)?e:eJ(e)?t:`${e} ${t}`}function XZ(e,t){for(const n in t)e[n]?e[n].push(...t[n]):e[n]=t[n]}function QZ(e,t){if(t.attributes&&(e.attributes||(e.attributes={}),XZ(e.attributes,t.attributes)),t.eventListeners&&(e.eventListeners||(e.eventListeners={}),XZ(e.eventListeners,t.eventListeners)),t.text&&e.text.push(...t.text),t.children&&t.children.length){if(e.children.length!=t.children.length)throw new dV("ui-template-extend-children-mismatch",e);let n=0;for(const i of t.children)QZ(e.children[n++],i)}}function eJ(e){return!e&&0!==e}function tJ(e){return e instanceof sJ}function nJ(e){return e instanceof FZ}function iJ(e){return e instanceof NZ}function rJ(e){return jS(e[0])&&e[0].ns}function oJ(e){return"class"==e||"style"==e}class sJ extends(mW(AV())){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new uU,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",((t,n)=>{n.locale=e,n.t=e&&e.t})),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=FZ.bind(this,this)}createCollection(e){const t=new NZ(e);return this._viewCollections.add(t),t}registerChild(e){HV(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){HV(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new FZ(e)}extendTemplate(e){FZ.extend(this.template,e)}render(){if(this.isRendered)throw new dV("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map((e=>e.destroy())),this.template&&this.template._revertData&&this.template.revert(this.element)}}class aJ extends sJ{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${aV()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}class lJ extends sJ{constructor(e,t){super(e);const n=e.t,i=new aJ;i.text=n("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":i.id,role:"document",tabindex:-1},children:[WV(document,"p",{},n("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(t.values())),i]})}focus(){this.element.focus()}_createCategories(e){return e.map((e=>{const t=[WV(document,"h3",{},e.label),...Array.from(e.groups.values()).map((e=>this._createGroup(e))).flat()];return e.description&&t.splice(1,0,WV(document,"p",{},e.description)),WV(document,"section",{},t)}))}_createGroup(e){const t=e.keystrokes.sort(((e,t)=>e.label.localeCompare(t.label))).map((e=>this._createGroupRow(e))).flat(),n=[WV(document,"dl",{},t)];return e.label&&n.unshift(WV(document,"h4",{},e.label)),n}_createGroupRow(e){const t=this.locale.t,n=WV(document,"dt"),i=WV(document,"dd"),r="string"==typeof(s=e.keystroke)?[[s]]:"string"==typeof s[0]?[s]:s,o=[];var s;for(const e of r)o.push(e.map(cJ).join(""));return n.innerHTML=e.label,i.innerHTML=o.join(", ")+(e.mayRequireFn&&QH.isMac?` ${t("(may require <kbd>Fn</kbd>)")}`:""),[n,i]}}function cJ(e){return rU(e).split("+").map((e=>`<kbd>${e}</kbd>`)).join("+")}var uJ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';class dJ extends _U{constructor(){super(...arguments),this.contentView=null}static get requires(){return[uX]}static get pluginName(){return"AccessibilityHelp"}init(){const e=this.editor,t=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",(e=>{const n=new gJ(e);return n.set({label:t("Accessibility help"),tooltip:!0,withText:!1,keystroke:"Alt+0",icon:uJ}),n.on("execute",(()=>this._showDialog())),n})),e.keystrokes.set("Alt+0",((e,t)=>{this._showDialog(),t()})),this._setupRootLabels()}_setupRootLabels(){const e=this.editor,t=e.editing.view,n=e.t;function i(e,t){const i=`${t.getAttribute("aria-label")}. ${n("Press %0 for help.",[rU("Alt+0")])}`;e.setAttribute("aria-label",i,t)}e.ui.on("ready",(()=>{t.change((e=>{for(const n of t.document.roots)i(e,n)})),e.on("addRoot",((n,r)=>{const o=e.editing.view.document.getRoot(r.rootName);t.change((e=>i(e,o)))}),{priority:"low"})}))}_showDialog(){const e=this.editor,t=e.plugins.get("Dialog"),n=e.locale.t;this.contentView||(this.contentView=new lJ(e.locale,e.accessibility.keystrokeInfos)),t.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:n("Accessibility help"),icon:uJ,hasCloseButton:!0,content:this.contentView})}}class hJ extends NZ{constructor(e,t=[]){super(t),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new FZ({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=WV(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&0==e.childElementCount&&e.remove()}}class pJ extends sJ{constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",e.if("isVisible","ck-hidden",(e=>!e)),"ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",(()=>{this._updateXMLContent(),this._colorFillPaths()})),this.on("change:fillColor",(()=>{this._colorFillPaths()}))}_updateXMLContent(){if(this.content){const e=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),t=e.getAttribute("viewBox");t&&(this.viewBox=t);for(const{name:t,value:n}of Array.from(e.attributes))pJ.presentationalAttributeNames.includes(t)&&this.element.setAttribute(t,n);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach((e=>{e.style.fill=this.fillColor}))}}pJ.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];var fJ=pJ;class mJ extends sJ{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}class gJ extends sJ{constructor(e,t=new mJ){super(e),this._focusDelayed=null;const n=this.bindTemplate,i=aV();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${i}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(t),this.iconView=new fJ,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const r={tag:"button",attributes:{class:["ck","ck-button",n.to("class"),n.if("isEnabled","ck-disabled",(e=>!e)),n.if("isVisible","ck-hidden",(e=>!e)),n.to("isOn",(e=>e?"ck-on":"ck-off")),n.if("withText","ck-button_with-text"),n.if("withKeystroke","ck-button_with-keystroke")],role:n.to("role"),type:n.to("type",(e=>e||"button")),tabindex:n.to("tabindex"),"aria-label":n.to("ariaLabel"),"aria-labelledby":n.to("ariaLabelledBy"),"aria-disabled":n.if("isEnabled",!0,(e=>!e)),"aria-pressed":n.to("isOn",(e=>!!this.isToggleable&&String(!!e))),"data-cke-tooltip-text":n.to("_tooltipString"),"data-cke-tooltip-position":n.to("tooltipPosition")},children:this.children,on:{click:n.to((e=>{this.isEnabled?this.fire("execute"):e.preventDefault()}))}};QH.isSafari&&(this._focusDelayed||(this._focusDelayed=mU((()=>this.focus()),0)),r.on.mousedown=n.to((()=>{this._focusDelayed()})),r.on.mouseup=n.to((()=>{this._focusDelayed.cancel()}))),this.setTemplate(r)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new sJ;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",(e=>rU(e)))}]}),e}_getTooltipString(e,t,n){return e?"string"==typeof e?e:(n&&(n=rU(n)),e instanceof Function?e(t,n):`${t}${n?` (${n})`:""}`):""}}class bJ extends gJ{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new sJ;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}var yJ='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';r(8156),r(10734);class vJ extends sJ{constructor(e,t){super(e);const n=`ck-labeled-field-view-${aV()}`,i=`ck-labeled-field-view-status-${aV()}`;this.fieldView=t(this,n,i),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(n),this.statusView=this._createStatusView(i),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",((e,t)=>e||t));const r=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",r.to("class"),r.if("isEnabled","ck-disabled",(e=>!e)),r.if("isEmpty","ck-labeled-field-view_empty"),r.if("isFocused","ck-labeled-field-view_focused"),r.if("placeholder","ck-labeled-field-view_placeholder"),r.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new aJ(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new sJ(this.locale),n=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",(e=>!e))],id:e,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),t}focus(e){this.fieldView.focus(e)}}class _J extends sJ{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new hU,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",t.if("isFocused","ck-input_focused"),t.if("isEmpty","ck-input-text_empty"),t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),readonly:t.to("isReadOnly"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById")},on:{input:t.to(((...e)=>{this.fire("input",...e),this._updateIsEmpty()})),change:t.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",((e,t,n)=>{this._setDomElementValue(n),this._updateIsEmpty()}))}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||0===e?e:""}}class wJ extends _J{constructor(e){super(e),this.set("inputMode","text");const t=this.bindTemplate;this.extendTemplate({attributes:{inputmode:t.to("inputMode")}})}}class kJ extends wJ{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class CJ extends sJ{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",(e=>`ck-dropdown__panel_${e}`)),t.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:t.to((e=>{"input"!==e.target.tagName.toLocaleLowerCase()&&e.preventDefault()}))}})}focus(){if(this.children.length){const e=this.children.first;"function"==typeof e.focus?e.focus():hV("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;"function"==typeof e.focusLast?e.focusLast():e.focus()}}}class EJ extends sJ{constructor(e,t,n){super(e);const i=this.bindTemplate;this.buttonView=t,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new pU,this.focusTracker=new hU,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",i.to("class"),i.if("isEnabled","ck-disabled",(e=>!e))],id:i.to("id"),"aria-describedby":i.to("ariaDescribedById")},children:[t,n]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":i.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",(()=>{this.isOpen=!this.isOpen})),this.on("change:isOpen",((e,t,n)=>{if(n)if("auto"===this.panelPosition){const e=EJ._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=e?e.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition})),this.keystrokes.listenTo(this.element);const e=(e,t)=>{this.isOpen&&(this.isOpen=!1,t())};this.keystrokes.set("arrowdown",((e,t)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,t())})),this.keystrokes.set("arrowright",((e,t)=>{this.isOpen&&t()})),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:t,southEast:n,southWest:i,northEast:r,northWest:o,southMiddleEast:s,southMiddleWest:a,northMiddleEast:l,northMiddleWest:c}=EJ.defaultPanelPositions;return"rtl"!==this.locale.uiLanguageDirection?[n,i,s,a,e,r,o,l,c,t]:[i,n,a,s,e,o,r,c,l,t]}}EJ.defaultPanelPositions={south:(e,t)=>({top:e.bottom,left:e.left-(t.width-e.width)/2,name:"s"}),southEast:e=>({top:e.bottom,left:e.left,name:"se"}),southWest:(e,t)=>({top:e.bottom,left:e.left-t.width+e.width,name:"sw"}),southMiddleEast:(e,t)=>({top:e.bottom,left:e.left-(t.width-e.width)/4,name:"sme"}),southMiddleWest:(e,t)=>({top:e.bottom,left:e.left-3*(t.width-e.width)/4,name:"smw"}),north:(e,t)=>({top:e.top-t.height,left:e.left-(t.width-e.width)/2,name:"n"}),northEast:(e,t)=>({top:e.top-t.height,left:e.left,name:"ne"}),northWest:(e,t)=>({top:e.top-t.height,left:e.left-t.width+e.width,name:"nw"}),northMiddleEast:(e,t)=>({top:e.top-t.height,left:e.left-(t.width-e.width)/4,name:"nme"}),northMiddleWest:(e,t)=>({top:e.top-t.height,left:e.left-3*(t.width-e.width)/4,name:"nmw"})},EJ._getOptimalPosition=NW;var xJ=EJ;class SJ extends gJ{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",(e=>String(e)))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new fJ;return e.content=yJ,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class OJ extends(vV()){constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let n=e.actions[t];"string"==typeof n&&(n=[n]);for(const i of n)e.keystrokeHandler.set(i,((e,n)=>{this[t](),n()}))}this.on("forwardCycle",(()=>this.focusFirst()),{priority:"low"}),this.on("backwardCycle",(()=>this.focusLast()),{priority:"low"})}get first(){return this.focusables.find(TJ)||null}get last(){return this.focusables.filter(TJ).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find(((t,n)=>{const i=t.element===this.focusTracker.focusedElement;return i&&(e=n),i})),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;e&&this.focusables.getIndex(e)===this.current||e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;e&&this.focusables.getIndex(e)===this.current||e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}_focus(e,t){e&&this.focusTracker.focusedElement!==e.element&&e.focus(t)}_getDomFocusableItem(e){const t=this.focusables.length;if(!t)return null;const n=this.current;if(null===n)return this[1===e?"first":"last"];let i=this.focusables.get(n),r=(n+t+e)%t;do{const n=this.focusables.get(r);if(TJ(n)){i=n;break}r=(r+t+e)%t}while(r!==n);return i}}function TJ(e){return MJ(e)&&jW(e.element)}function MJ(e){return!(!("focus"in e)||"function"!=typeof e.focus)}class PJ extends sJ{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class DJ extends sJ{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function LJ(e){if(Array.isArray(e))return{items:e,removeItems:[]};const t={items:[],removeItems:[]};return e?{...t,...e}:t}const{threeVerticalDots:AJ}=PZ,zJ={alignLeft:PZ.alignLeft,bold:PZ.bold,importExport:PZ.importExport,paragraph:PZ.paragraph,plus:PZ.plus,text:PZ.text,threeVerticalDots:PZ.threeVerticalDots,pilcrow:PZ.pilcrow,dragIndicator:PZ.dragIndicator};class IJ extends sJ{constructor(e,t){super(e);const n=this.bindTemplate,i=this.t;this.options=t||{},this.set("ariaLabel",i("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new hU,this.keystrokes=new pU,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new RJ(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const r="rtl"===e.uiLanguageDirection;this._focusCycler=new OJ({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[r?"arrowright":"arrowleft","arrowup"],focusNext:[r?"arrowleft":"arrowright","arrowdown"]}});const o=["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")];var s;this.options.shouldGroupWhenFull&&this.options.isFloating&&o.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:o,role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(s=this,s.bindTemplate.to((e=>{e.target===s.element&&e.preventDefault()})))}}),this._behavior=this.options.shouldGroupWhenFull?new NJ(this):new jJ(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",((e,t)=>{this.focusTracker.add(t.element)})),this.items.on("remove",((e,t)=>{this.focusTracker.remove(t.element)})),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,n){this.items.addMany(this._buildItemsFromConfig(e,t,n))}_buildItemsFromConfig(e,t,n){const i=LJ(e),r=n||i.removeItems;return this._cleanItemsConfiguration(i.items,t,r).map((e=>jS(e)?this._createNestedToolbarDropdown(e,t,r):"|"===e?new PJ:"-"===e?new DJ:t.create(e))).filter((e=>!!e))}_cleanItemsConfiguration(e,t,n){const i=e.filter(((e,i,r)=>"|"===e||-1===n.indexOf(e)&&("-"===e?!this.options.shouldGroupWhenFull||(hV("toolbarview-line-break-ignored-when-grouping-items",r),!1):!(!jS(e)&&!t.has(e)&&(hV("toolbarview-item-unavailable",{item:e}),1)))));return this._cleanSeparatorsAndLineBreaks(i)}_cleanSeparatorsAndLineBreaks(e){const t=e=>"-"!==e&&"|"!==e,n=e.length,i=e.findIndex(t);if(-1===i)return[];const r=n-e.slice().reverse().findIndex(t);return e.slice(i,r).filter(((e,n,i)=>!!t(e)||!(n>0&&i[n-1]===e)))}_createNestedToolbarDropdown(e,t,n){let{label:i,icon:r,items:o,tooltip:s=!0,withText:a=!1}=e;if(o=this._cleanItemsConfiguration(o,t,n),!o.length)return null;const l=WJ(this.locale);return i||hV("toolbarview-nested-toolbar-dropdown-missing-label",e),l.class="ck-toolbar__nested-toolbar-dropdown",l.buttonView.set({label:i,tooltip:s,withText:!!a}),!1!==r?l.buttonView.icon=zJ[r]||r||AJ:l.buttonView.withText=!0,UJ(l,(()=>l.toolbarView._buildItemsFromConfig(o,t,n))),l}}class RJ extends sJ{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class jJ{constructor(e){const t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using((e=>e)),e.focusables.bindTo(e.items).using((e=>MJ(e)?e:null)),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class NJ{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using((e=>e)),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),e.children.on("change",this._updateFocusCyclableItems.bind(this)),e.items.on("change",((e,t)=>{const n=t.index,i=Array.from(t.added);for(const e of t.removed)n>=this.ungroupedItems.length?this.groupedItems.remove(e):this.ungroupedItems.remove(e);for(let e=n;e<n+i.length;e++){const t=i[e-n];e>this.ungroupedItems.length?this.groupedItems.add(t,e-this.ungroupedItems.length):this.ungroupedItems.add(t,e)}this._updateGrouping()})),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!jW(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,n=new xW(e.lastChild),i=new xW(e);if(!this.cachedPadding){const n=vW.window.getComputedStyle(e),i="ltr"===t?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(n[i])}return"ltr"===t?n.right>i.right-this.cachedPadding:n.left<i.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new DW(this.viewElement,(t=>{e&&e===t.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)})),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",(()=>{this._updateGrouping()}))}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new PJ),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,n=WJ(e);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition="ltr"===e.uiLanguageDirection?"sw":"se",UJ(n,this.groupedItems),n.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:"rtl"===e.uiLanguageDirection?"se":"sw",icon:AJ}),n}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map((e=>{MJ(e)&&this.viewFocusables.add(e)})),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class FJ extends sJ{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",(e=>!e))],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class YJ extends sJ{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class BJ extends sJ{constructor(e,t=new aJ){super(e);const n=this.bindTemplate,i=new HJ(e);this.set({label:"",isVisible:!0}),this.labelView=t,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,i]),i.set({role:"group",ariaLabelledBy:t.id}),i.focusTracker.destroy(),i.keystrokes.destroy(),this.items=i.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",n.if("isVisible","ck-hidden",(e=>!e))]},children:this.children})}focus(){if(this.items){const e=this.items.find((e=>!(e instanceof YJ)));e&&e.focus()}}}class HJ extends sJ{constructor(e){super(e),this._listItemGroupToChangeListeners=new WeakMap;const t=this.bindTemplate;this.focusables=new NZ,this.items=this.createCollection(),this.focusTracker=new hU,this.keystrokes=new pU,this._focusCycler=new OJ({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:t.to("role"),"aria-label":t.to("ariaLabel"),"aria-labelledby":t.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof BJ?this._registerFocusableItemsGroup(e):e instanceof FJ&&this._registerFocusableListItem(e);this.items.on("change",((e,t)=>{for(const e of t.removed)e instanceof BJ?this._deregisterFocusableItemsGroup(e):e instanceof FJ&&this._deregisterFocusableListItem(e);for(const e of Array.from(t.added).reverse())e instanceof BJ?this._registerFocusableItemsGroup(e,t.index):this._registerFocusableListItem(e,t.index)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,t){this.focusTracker.add(e.element),this.focusables.add(e,t)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(t,n)=>{for(const e of n.removed)this._deregisterFocusableListItem(e);for(const t of Array.from(n.added).reverse())this._registerFocusableListItem(t,this.items.getIndex(e)+n.index)}}_registerFocusableItemsGroup(e,t){Array.from(e.items).forEach(((e,n)=>{const i=void 0!==t?t+n:void 0;this._registerFocusableListItem(e,i)}));const n=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,n),e.items.on("change",n)}_deregisterFocusableItemsGroup(e){for(const t of e.items)this._deregisterFocusableListItem(t);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}class VJ extends sJ{constructor(e,t){super(e);const n=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(t),this.arrowView=this._createArrowView(),this.keystrokes=new pU,this.focusTracker=new hU,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",n.to("class"),n.if("isVisible","ck-hidden",(e=>!e)),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",((e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())})),this.keystrokes.set("arrowleft",((e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())}))}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const t=e||new gJ;return e||t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const e=new gJ,t=e.bindTemplate;return e.icon=yJ,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",(e=>String(e)))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}function WJ(e,t=SJ){const n="function"==typeof t?new t(e):t,i=new CJ(e),r=new xJ(e,n,i);return n.bind("isEnabled").to(r),n instanceof VJ?n.arrowView.bind("isOn").to(r,"isOpen"):n.bind("isOn").to(r,"isOpen"),function(e){(function(e){e.on("render",(()=>{!function({emitter:e,activator:t,callback:n,contextElements:i}){e.listenTo(document,"mousedown",((e,r)=>{if(!t())return;const o="function"==typeof r.composedPath?r.composedPath():[],s="function"==typeof i?i():i;for(const e of s)if(e.contains(r.target)||o.includes(e))return;n()}))}({emitter:e,activator:()=>e.isOpen,callback:()=>{e.isOpen=!1},contextElements:()=>[e.element,...e.focusTracker._elements]})}))})(e),function(e){e.on("execute",(t=>{t.source instanceof bJ||(e.isOpen=!1)}))}(e),function(e){e.focusTracker.on("change:isFocused",((t,n,i)=>{e.isOpen&&!i&&(e.isOpen=!1)}))}(e),function(e){e.keystrokes.set("arrowdown",((t,n)=>{e.isOpen&&(e.panelView.focus(),n())})),e.keystrokes.set("arrowup",((t,n)=>{e.isOpen&&(e.panelView.focusLast(),n())}))}(e),function(e){e.on("change:isOpen",((t,n,i)=>{if(i)return;const r=e.panelView.element;r&&r.contains(vW.document.activeElement)&&e.buttonView.focus()}))}(e),function(e){e.on("change:isOpen",((t,n,i)=>{i&&e.panelView.focus()}),{priority:"low"})}(e)}(r),r}function UJ(e,t,n={}){e.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),e.isOpen?$J(e,t,n):e.once("change:isOpen",(()=>$J(e,t,n)),{priority:"highest"}),n.enableActiveItemFocusOnDropdownOpen&&GJ(e,(()=>e.toolbarView.items.find((e=>e.isOn))))}function $J(e,t,n){const i=e.locale,r=i.t,o=e.toolbarView=new IJ(i),s="function"==typeof t?t():t;o.ariaLabel=n.ariaLabel||r("Dropdown toolbar"),n.maxWidth&&(o.maxWidth=n.maxWidth),n.class&&(o.class=n.class),n.isCompact&&(o.isCompact=n.isCompact),n.isVertical&&(o.isVertical=!0),s instanceof NZ?o.items.bindTo(s).using((e=>e)):o.items.addMany(s),e.panelView.children.add(o),o.items.delegate("execute").to(e)}function qJ(e,t,n={}){e.isOpen?KJ(e,t,n):e.once("change:isOpen",(()=>KJ(e,t,n)),{priority:"highest"}),GJ(e,(()=>e.listView.items.find((e=>e instanceof FJ&&e.children.first.isOn))))}function KJ(e,t,n){const i=e.locale,r=e.listView=new HJ(i),o="function"==typeof t?t():t;r.ariaLabel=n.ariaLabel,r.role=n.role,ZJ(e,r.items,o,i),e.panelView.children.add(r),r.items.delegate("execute").to(e)}function GJ(e,t){e.on("change:isOpen",(()=>{if(!e.isOpen)return;const n=t();n&&("function"==typeof n.focus?n.focus():hV("ui-dropdown-focus-child-on-open-child-missing-focus",{view:n}))}),{priority:lV.low-10})}function ZJ(e,t,n,i){t.bindTo(n).using((t=>{if("separator"===t.type)return new YJ(i);if("group"===t.type){const n=new BJ(i);return n.set({label:t.label}),ZJ(e,n.items,t.items,i),n.items.delegate("execute").to(e),n}if("button"===t.type||"switchbutton"===t.type){const e=new FJ(i);let n;return"button"===t.type?(n=new gJ(i),n.extendTemplate({attributes:{"aria-checked":n.bindTemplate.to("isOn")}})):n=new bJ(i),n.bind(...Object.keys(t.model)).to(t.model),n.delegate("execute").to(e),e.children.add(n),e}return null}))}const JJ=(e,t,n)=>{const i=new kJ(e.locale);return i.set({id:t,ariaDescribedById:n}),i.bind("isReadOnly").to(e,"isEnabled",(e=>!e)),i.bind("hasError").to(e,"errorText",(e=>!!e)),i.on("input",(()=>{e.errorText=null})),e.bind("isEmpty","isFocused","placeholder").to(i),i};Math.PI;Symbol("same"),Symbol("color"),Symbol("hsva"),Symbol("update"),Symbol("parts"),Symbol("css"),Symbol("sliders");HTMLElement,AV(uU);const{eraser:XJ,colorPalette:QJ}=PZ;class eX{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(tX(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new dV("componentfactory-item-missing",this,{name:e});return this._components.get(tX(e)).callback(this.editor.locale)}has(e){return this._components.has(tX(e))}}function tX(e){return String(e).toLowerCase()}class nX extends sJ{constructor(e,t={}){super(e);const n=this.bindTemplate;this.set("label",t.label||""),this.set("class",t.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",n.to("class")]},children:this.children}),t.icon&&(this.iconView=new fJ,this.iconView.content=t.icon,this.children.add(this.iconView));const i=new sJ(e);i.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:n.to("label")}]}),this.children.add(i)}}class iX extends sJ{constructor(e){super(e),this.children=this.createCollection(),this.keystrokes=new pU,this._focusTracker=new hU,this._focusables=new NZ,this.focusCycler=new OJ({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const t of e){const e=new gJ(this.locale);let n;for(n in e.on("execute",(()=>t.onExecute())),t.onCreate&&t.onCreate(e),t)"onExecute"!=n&&"onCreate"!=n&&e.set(n,t[n]);this.children.add(e)}this._updateFocusCyclableItems()}focus(e){-1===e?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach((e=>{this._focusables.add(e),this._focusTracker.add(e.element)}))}}class rX extends sJ{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}const oX="screen-center",sX="editor-center",aX=AW("px");class lX extends(function(e){return class extends e{constructor(...e){super(...e),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",(()=>{this._attachListeners()})),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(vW.document,"mouseup",this._onDragEndBound),this.listenTo(vW.document,"touchend",this._onDragEndBound),this.listenTo(vW.document,"mousemove",this._onDragBound),this.listenTo(vW.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(vW.document,"mouseup",this._onDragEndBound),this.stopListening(vW.document,"touchend",this._onDragEndBound),this.stopListening(vW.document,"mousemove",this._onDragBound),this.stopListening(vW.document,"touchmove",this._onDragBound)}_onDragStart(e,t){if(!this._isHandleElementPressed(t))return;this._attachDragListeners();let n=0,i=0;t instanceof MouseEvent?(n=t.clientX,i=t.clientY):(n=t.touches[0].clientX,i=t.touches[0].clientY),this._lastDraggingCoordinates={x:n,y:i},this.isDragging=!0}_onDrag(e,t){if(!this.isDragging)return void this._detachDragListeners();let n=0,i=0;t instanceof MouseEvent?(n=t.clientX,i=t.clientY):(n=t.touches[0].clientX,i=t.touches[0].clientY),t.preventDefault(),this.fire("drag",{deltaX:Math.round(n-this._lastDraggingCoordinates.x),deltaY:Math.round(i-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:n,y:i}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(e){return!!this.dragHandleElement&&(this.dragHandleElement===e.target||e.target instanceof HTMLElement&&this.dragHandleElement.contains(e.target))}}}(sJ)){constructor(e,{getCurrentDomRoot:t,getViewportOffset:n}){super(e),this.wasMoved=!1;const i=this.bindTemplate,r=e.t;this.set("className",""),this.set("ariaLabel",r("Editor dialog")),this.set("isModal",!1),this.set("position",oX),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=t,this._getViewportOffset=n,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new pU,this.focusTracker=new hU,this._focusables=new NZ,this._focusCycler=new OJ({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",i.if("isModal","ck-dialog-overlay__transparent",(e=>!e)),i.if("_isVisible","ck-hidden",(e=>!e))],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",i.to("className")],role:"dialog","aria-label":i.to("ariaLabel"),style:{top:i.to("_top",(e=>aX(e))),left:i.to("_left",(e=>aX(e))),visibility:i.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",((e,t)=>{this.fire("close",{source:"escKeyPress"}),t()})),this.on("drag",((e,{deltaX:t,deltaY:n})=>{this.wasMoved=!0,this.moveBy(t,n)})),this.listenTo(vW.window,"resize",(()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()})),this.listenTo(vW.document,"scroll",(()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()})),this.on("change:_isVisible",((e,t,n)=>{n&&(this._isTransparent=!0,setTimeout((()=>{this.updatePosition(),this._isTransparent=!1,this.focus()}),10))})),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:e,title:t,hasCloseButton:n=!0,content:i,actionButtons:r}){t&&(this.headerView=new nX(this.locale,{icon:e}),n&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=t,this.ariaLabel=t,this.parts.add(this.headerView,0)),i&&(i instanceof sJ&&(i=[i]),this.contentView=new rX(this.locale),this.contentView.children.addMany(i),this.parts.add(this.contentView)),r&&(this.actionsView=new iX(this.locale),this.actionsView.setButtons(r),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(e,t){const n=this._getViewportRect(),i=this._getDialogRect();e+i.width>n.right&&(e=n.right-i.width),e<n.left&&(e=n.left),t<n.top&&(t=n.top),this._moveTo(e,t)}_moveTo(e,t){this._left=e,this._top=t}moveBy(e,t){this.moveTo(this._left+e,this._top+t)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const e=this._getViewportRect();let t,n=this.position;this._getCurrentDomRoot()?t=this._getVisibleDomRootRect(e):n=oX;const i=lX.defaultOffset,r=this._getDialogRect();switch(n){case"editor-top-side":if(t){const e="ltr"===this.locale.contentLanguageDirection?t.right-r.width-i:t.left+i;this.moveTo(e,t.top+i)}else this._moveOffScreen();break;case sX:t?this.moveTo(Math.round(t.left+t.width/2-r.width/2),Math.round(t.top+t.height/2-r.height/2)):this._moveOffScreen();break;case oX:this.moveTo(Math.round((e.width-r.width)/2),Math.round((e.height-r.height)/2));break;case"editor-top-center":t?this.moveTo(Math.round(t.left+t.width/2-r.width/2),t.top+i):this._moveOffScreen();break;case"editor-bottom-center":t?this.moveTo(Math.round(t.left+t.width/2-r.width/2),t.bottom-r.height-i):this._moveOffScreen();break;case"editor-above-center":t?this.moveTo(Math.round(t.left+t.width/2-r.width/2),t.top-r.height-i):this._moveOffScreen();break;case"editor-below-center":t?this.moveTo(Math.round(t.left+t.width/2-r.width/2),t.bottom+i):this._moveOffScreen()}}_getVisibleDomRootRect(e){let t=new xW(this._getCurrentDomRoot()).getVisible();return t?(t=e.getIntersection(t),t||null):null}_getDialogRect(){return new xW(this.element.firstElementChild)}_getViewportRect(){return function(e){e=Object.assign({top:0,bottom:0,left:0,right:0},e);const t=new xW(vW.window);return t.top+=e.top,t.height-=e.top,t.bottom-=e.bottom,t.height-=e.bottom,t.left+=e.left,t.right-=e.right,t.width-=e.left+e.right,t}(this._getViewportOffset())}_updateFocusCyclableItems(){const e=[];if(this.contentView)for(const t of this.contentView.children)MJ(t)&&e.push(t);this.actionsView&&e.push(this.actionsView),this.closeButtonView&&e.push(this.closeButtonView),e.forEach((e=>{var t;this._focusables.add(e),this.focusTracker.add(e.element),MJ(t=e)&&"focusCycler"in t&&t.focusCycler instanceof OJ&&(this.listenTo(e.focusCycler,"forwardCycle",(e=>{this._focusCycler.focusNext(),this._focusCycler.next!==this._focusCycler.focusables.get(this._focusCycler.current)&&e.stop()})),this.listenTo(e.focusCycler,"backwardCycle",(e=>{this._focusCycler.focusPrevious(),this._focusCycler.previous!==this._focusCycler.focusables.get(this._focusCycler.current)&&e.stop()})))}))}_createCloseButton(){const e=new gJ(this.locale),t=this.locale.t;return e.set({label:t("Close"),tooltip:!0,icon:PZ.cancel}),e.on("execute",(()=>this.fire("close",{source:"closeButton"}))),e}}lX.defaultOffset=15;var cX=lX;class uX extends _U{static get pluginName(){return"Dialog"}constructor(e){super(e);const t=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set("id",null),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:t("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}_initShowHideListeners(){this.on("show",((e,t)=>{this._show(t)})),this.on("show",((e,t)=>{t.onShow&&t.onShow(this)}),{priority:"low"}),this.on("hide",(()=>{uX._visibleDialogPlugin&&uX._visibleDialogPlugin._hide()})),this.on("hide",(()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)}),{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",((t,n)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),n())}))}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",(()=>{if(!this.view)return;const t=e.document.differ.getChangedRoots();for(const e of t)e.state&&this.view.updatePosition()}))}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show({id:e,icon:t,title:n,hasCloseButton:i=!0,content:r,actionButtons:o,className:s,isModal:a,position:l,onHide:c}){const u=this.editor;this.view=new cX(u.locale,{getCurrentDomRoot:()=>u.editing.view.getDomRoot(u.model.document.selection.anchor.root.rootName),getViewportOffset:()=>u.ui.viewportOffset});const d=this.view;d.on("close",(()=>{this.hide()})),u.ui.view.body.add(d),u.ui.focusTracker.add(d.element),u.keystrokes.listenTo(d.element),l||(l=a?oX:sX),d.set({position:l,_isVisible:!0,className:s,isModal:a}),d.setupParts({icon:t,title:n,hasCloseButton:i,content:r,actionButtons:o}),this.id=e,c&&(this._onHide=c),this.isOpen=!0,uX._visibleDialogPlugin=this}hide(){uX._visibleDialogPlugin&&uX._visibleDialogPlugin.fire(`hide:${uX._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,t=this.view;t.contentView&&t.contentView.reset(),e.ui.view.body.remove(t),e.ui.focusTracker.remove(t.element),e.keystrokes.stopListening(t.element),t.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,uX._visibleDialogPlugin=null}}const dX=AW("px"),hX=vW.document.body,pX={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}};class fX extends sJ{constructor(e){super(e);const t=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",(e=>`ck-balloon-panel_${e}`)),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",dX),left:t.to("left",dX)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){this.show();const t=fX.defaultPositions,n=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthMiddleWest,t.southArrowNorthMiddleEast,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthMiddleWest,t.northArrowSouthMiddleEast,t.northArrowSouthWest,t.northArrowSouthEast,t.viewportStickyNorth],limiter:hX,fitInViewport:!0},e),i=fX._getOptimalPosition(n)||pX,r=parseInt(i.left),o=parseInt(i.top),s=i.name,a=i.config||{},{withArrow:l=!0}=a;this.top=o,this.left=r,this.position=s,this.withArrow=l}pin(e){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){this.attachTo(e);const t=gX(e.target),n=e.limiter?gX(e.limiter):hX;this.listenTo(vW.document,"scroll",((i,r)=>{const o=r.target,s=t&&o.contains(t),a=n&&o.contains(n);!s&&!a&&t&&n||this.attachTo(e)}),{useCapture:!0}),this.listenTo(vW.window,"resize",(()=>{this.attachTo(e)}))}_stopPinning(){this.stopListening(vW.document,"scroll"),this.stopListening(vW.window,"resize")}}fX.arrowSideOffset=25,fX.arrowHeightOffset=10,fX.stickyVerticalOffset=20,fX._getOptimalPosition=NW,fX.defaultPositions=bX();var mX=fX;function gX(e){return lW(e)?e:kW(e)?e.commonAncestorContainer:"function"==typeof e?gX(e()):null}function bX(e={}){const{sideOffset:t=fX.arrowSideOffset,heightOffset:n=fX.arrowHeightOffset,stickyVerticalOffset:i=fX.stickyVerticalOffset,config:r}=e;return{northWestArrowSouthWest:(e,n)=>({top:o(e,n),left:e.left-t,name:"arrow_sw",...r&&{config:r}}),northWestArrowSouthMiddleWest:(e,n)=>({top:o(e,n),left:e.left-.25*n.width-t,name:"arrow_smw",...r&&{config:r}}),northWestArrowSouth:(e,t)=>({top:o(e,t),left:e.left-t.width/2,name:"arrow_s",...r&&{config:r}}),northWestArrowSouthMiddleEast:(e,n)=>({top:o(e,n),left:e.left-.75*n.width+t,name:"arrow_sme",...r&&{config:r}}),northWestArrowSouthEast:(e,n)=>({top:o(e,n),left:e.left-n.width+t,name:"arrow_se",...r&&{config:r}}),northArrowSouthWest:(e,n)=>({top:o(e,n),left:e.left+e.width/2-t,name:"arrow_sw",...r&&{config:r}}),northArrowSouthMiddleWest:(e,n)=>({top:o(e,n),left:e.left+e.width/2-.25*n.width-t,name:"arrow_smw",...r&&{config:r}}),northArrowSouth:(e,t)=>({top:o(e,t),left:e.left+e.width/2-t.width/2,name:"arrow_s",...r&&{config:r}}),northArrowSouthMiddleEast:(e,n)=>({top:o(e,n),left:e.left+e.width/2-.75*n.width+t,name:"arrow_sme",...r&&{config:r}}),northArrowSouthEast:(e,n)=>({top:o(e,n),left:e.left+e.width/2-n.width+t,name:"arrow_se",...r&&{config:r}}),northEastArrowSouthWest:(e,n)=>({top:o(e,n),left:e.right-t,name:"arrow_sw",...r&&{config:r}}),northEastArrowSouthMiddleWest:(e,n)=>({top:o(e,n),left:e.right-.25*n.width-t,name:"arrow_smw",...r&&{config:r}}),northEastArrowSouth:(e,t)=>({top:o(e,t),left:e.right-t.width/2,name:"arrow_s",...r&&{config:r}}),northEastArrowSouthMiddleEast:(e,n)=>({top:o(e,n),left:e.right-.75*n.width+t,name:"arrow_sme",...r&&{config:r}}),northEastArrowSouthEast:(e,n)=>({top:o(e,n),left:e.right-n.width+t,name:"arrow_se",...r&&{config:r}}),southWestArrowNorthWest:e=>({top:s(e),left:e.left-t,name:"arrow_nw",...r&&{config:r}}),southWestArrowNorthMiddleWest:(e,n)=>({top:s(e),left:e.left-.25*n.width-t,name:"arrow_nmw",...r&&{config:r}}),southWestArrowNorth:(e,t)=>({top:s(e),left:e.left-t.width/2,name:"arrow_n",...r&&{config:r}}),southWestArrowNorthMiddleEast:(e,n)=>({top:s(e),left:e.left-.75*n.width+t,name:"arrow_nme",...r&&{config:r}}),southWestArrowNorthEast:(e,n)=>({top:s(e),left:e.left-n.width+t,name:"arrow_ne",...r&&{config:r}}),southArrowNorthWest:e=>({top:s(e),left:e.left+e.width/2-t,name:"arrow_nw",...r&&{config:r}}),southArrowNorthMiddleWest:(e,n)=>({top:s(e),left:e.left+e.width/2-.25*n.width-t,name:"arrow_nmw",...r&&{config:r}}),southArrowNorth:(e,t)=>({top:s(e),left:e.left+e.width/2-t.width/2,name:"arrow_n",...r&&{config:r}}),southArrowNorthMiddleEast:(e,n)=>({top:s(e),left:e.left+e.width/2-.75*n.width+t,name:"arrow_nme",...r&&{config:r}}),southArrowNorthEast:(e,n)=>({top:s(e),left:e.left+e.width/2-n.width+t,name:"arrow_ne",...r&&{config:r}}),southEastArrowNorthWest:e=>({top:s(e),left:e.right-t,name:"arrow_nw",...r&&{config:r}}),southEastArrowNorthMiddleWest:(e,n)=>({top:s(e),left:e.right-.25*n.width-t,name:"arrow_nmw",...r&&{config:r}}),southEastArrowNorth:(e,t)=>({top:s(e),left:e.right-t.width/2,name:"arrow_n",...r&&{config:r}}),southEastArrowNorthMiddleEast:(e,n)=>({top:s(e),left:e.right-.75*n.width+t,name:"arrow_nme",...r&&{config:r}}),southEastArrowNorthEast:(e,n)=>({top:s(e),left:e.right-n.width+t,name:"arrow_ne",...r&&{config:r}}),westArrowEast:(e,t)=>({top:e.top+e.height/2-t.height/2,left:e.left-t.width-n,name:"arrow_e",...r&&{config:r}}),eastArrowWest:(e,t)=>({top:e.top+e.height/2-t.height/2,left:e.right+n,name:"arrow_w",...r&&{config:r}}),viewportStickyNorth:(e,t,n,o)=>{const s=o||n;return e.getIntersection(s)?s.height-e.height>i?null:{top:s.top+i,left:e.left+e.width/2-t.width/2,name:"arrowless",config:{withArrow:!1,...r}}:null}};function o(e,t){return e.top-t.height-n}function s(e){return e.bottom+n}}const yX="ck-tooltip";class vX extends(mW()){constructor(e){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,this._mutationObserver=null,vX._editors.add(e),vX._instance)return vX._instance;vX._instance=this,this.tooltipTextView=new sJ(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new mX(e.locale),this.balloonPanelView.class=yX,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=function(e){const t=new MutationObserver((()=>{e()}));return{attach(e){t.observe(e,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){t.disconnect()}}}((()=>{this._updateTooltipPosition()})),this._pinTooltipDebounced=YT(this._pinTooltip,600),this.listenTo(vW.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(vW.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(vW.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(vW.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(vW.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const t=e.ui.view&&e.ui.view.body;vX._editors.delete(e),this.stopListening(e.ui),t&&t.has(this.balloonPanelView)&&t.remove(this.balloonPanelView),vX._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),vX._instance=null)}static getPositioningFunctions(e){const t=vX.defaultBalloonPositions;return{s:[t.southArrowNorth,t.southArrowNorthEast,t.southArrowNorthWest],n:[t.northArrowSouth],e:[t.eastArrowWest],w:[t.westArrowEast],sw:[t.southArrowNorthEast],se:[t.southArrowNorthWest]}[e]}_onEnterOrFocus(e,{target:t}){const n=wX(t);n&&n!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(n,kX(n)))}_onLeaveOrBlur(e,{target:t,relatedTarget:n}){if("mouseleave"===e.name){if(!lW(t))return;if(this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;const e=wX(t),i=wX(n);e&&e!==i&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(e,{target:t}){this._currentElementWithTooltip&&(t.contains(this.balloonPanelView.element)&&t.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:t,position:n,cssClass:i}){const r=dU(vX._editors.values()).ui.view.body;r.has(this.balloonPanelView)||r.add(this.balloonPanelView),this.tooltipTextView.text=t,this.balloonPanelView.pin({target:e,positions:vX.getPositioningFunctions(n)}),this._resizeObserver=new DW(e,(()=>{jW(e)||this._unpinTooltip()})),this._mutationObserver.attach(e),this.balloonPanelView.class=[yX,i].filter((e=>e)).join(" ");for(const e of vX._editors)this.listenTo(e.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=n}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of vX._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy(),this._mutationObserver.detach()}_updateTooltipPosition(){const e=kX(this._currentElementWithTooltip);jW(this._currentElementWithTooltip)&&e.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:vX.getPositioningFunctions(e.position)}):this._unpinTooltip()}}vX.defaultBalloonPositions=bX({heightOffset:5,sideOffset:13}),vX._editors=new Set,vX._instance=null;var _X=vX;function wX(e){return lW(e)?e.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function kX(e){return{text:e.dataset.ckeTooltipText,position:e.dataset.ckeTooltipPosition||"s",cssClass:e.dataset.ckeTooltipClass||""}}class CX extends(mW()){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=BT(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;(e.config.get("ui.poweredBy.forceVisible")||"VALID"!==function(e){function t(e){return e.length>=40&&e.length<=255?"VALID":"INVALID"}if(!e)return"INVALID";let n="";try{n=atob(e)}catch(e){return"INVALID"}const i=n.split("-"),r=i[0],o=i[1];if(!o)return t(e);try{atob(o)}catch(n){try{if(atob(r),!atob(r).length)return t(e)}catch(n){return t(e)}}if(r.length<40||r.length>255)return"INVALID";let s="";try{atob(r),s=atob(o)}catch(e){return"INVALID"}if(8!==s.length)return"INVALID";const a=Number(s.substring(0,4)),l=Number(s.substring(4,6))-1,c=Number(s.substring(6,8)),u=new Date(a,l,c);return u<fV||isNaN(Number(u))?"INVALID":"VALID"}(e.config.get("licenseKey")))&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",((e,t,n)=>{this._updateLastFocusedEditableElement(),n?this._showBalloon():this._hideBalloon()})),e.ui.focusTracker.on("change:focusedElement",((e,t,n)=>{this._updateLastFocusedEditableElement(),n&&this._showBalloon()})),e.ui.on("update",(()=>{this._showBalloonThrottled()})))}_createBalloonView(){const e=this.editor,t=this._balloonView=new mX,n=SX(e),i=new EX(e.locale,n.label);t.content.add(i),t.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(t),e.ui.focusTracker.add(t.element),this._balloonView=t}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=function(e,t){const n=SX(e),i="right"===n.side?function(e,t){return xX(e,t,((e,n)=>e.left+e.width-n.width-t.horizontalOffset))}(t,n):function(e,t){return xX(e,t,(e=>e.left+t.horizontalOffset))}(t,n);return{target:t,positions:[i]}}(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,t=e.ui.focusTracker.isFocused,n=e.ui.focusTracker.focusedElement;if(!t||!n)return void(this._lastFocusedEditableElement=null);const i=Array.from(e.ui.getEditableElementsNames()).map((t=>e.ui.getEditableElement(t)));i.includes(n)?this._lastFocusedEditableElement=n:this._lastFocusedEditableElement=i[0]}}class EX extends sJ{constructor(e,t){super(e);const n=new fJ,i=this.bindTemplate;n.set({content:'<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>\n',isColorInherited:!1}),n.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...t?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[t]}]:[],n],on:{dragstart:i.to((e=>e.preventDefault()))}}]})}}function xX(e,t,n){return(i,r)=>{const o=new xW(e);if(o.width<350||o.height<50)return null;let s;s="inside"===t.position?o.bottom-r.height:o.bottom-r.height/2,s-=t.verticalOffset;const a=n(o,r),l=i.clone().moveTo(a,s).getIntersection(r.clone().moveTo(a,s)).getVisible();return!l||l.getArea()<r.getArea()?null:{top:s,left:a,name:`position_${t.position}-side_${t.side}`,config:{withArrow:!1}}}}function SX(e){const t=e.config.get("ui.poweredBy"),n=t&&t.position||"border";return{position:n,label:"Powered by",verticalOffset:"inside"===n?5:0,horizontalOffset:5,side:"ltr"===e.locale.contentLanguageDirection?"right":"left",...t}}const OX="polite";class TX{constructor(e){this.editor=e}announce(e,t,n=OX){const i=this.editor;this.view||(this.view=new MX(i.locale),i.ui.view.body.add(this.view));let r=this.view.regionViews.find((t=>t.regionName===e));r||(r=new PX(this.view.locale),this.view.regionViews.add(r)),r.set({regionName:e,text:t,politeness:n})}}class MX extends sJ{constructor(e){super(e),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class PX extends sJ{constructor(e){super(e);const t=this.bindTemplate;this.set("regionName",""),this.set("text",""),this.set("politeness",OX),this.setTemplate({tag:"div",attributes:{role:"region","data-region":t.to("regionName"),"aria-live":t.to("politeness")},children:[{text:t.to("text")}]})}}class DX extends(AV()){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const t=e.editing.view;this.editor=e,this.componentFactory=new eX(e),this.focusTracker=new hU,this.tooltipManager=new _X(e),this.poweredBy=new CX(e),this.ariaLiveAnnouncer=new TX(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",(()=>{this.isReady=!0})),this.listenTo(t.document,"layoutChanged",this.update.bind(this)),this.listenTo(t,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const n=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?n():this.once("ready",n)}removeEditableElement(e){const t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",(()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)})),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const n=e.config.get("toolbar.viewportTopOffset");return n?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:n}):{top:0}}_initFocusTracking(){const e=this.editor,t=e.editing.view;let n,i;e.keystrokes.set("Alt+F10",((e,r)=>{const o=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(o)&&!Array.from(t.domRoots.values()).includes(o)&&(n=o);const s=this._getCurrentFocusedToolbarDefinition();s&&i||(i=this._getFocusableCandidateToolbarDefinitions());for(let e=0;e<i.length;e++){const e=i.shift();if(i.push(e),e!==s&&this._focusFocusableCandidateToolbar(e)){s&&s.options.afterBlur&&s.options.afterBlur();break}}r()})),e.keystrokes.set("Esc",((t,i)=>{const r=this._getCurrentFocusedToolbarDefinition();r&&(n?(n.focus(),n=null):e.editing.view.focus(),r.options.afterBlur&&r.options.afterBlur(),i())}))}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:n,options:i}=t;(jW(n.element)||i.beforeFocus)&&e.push(t)}return e.sort(((e,t)=>LX(e)-LX(t))),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:n}}=e;return n&&n(),!!jW(t.element)&&(t.focus(),!0)}_handleScrollToTheSelection(e,t){const n={top:0,bottom:0,left:0,right:0,...this.viewportOffset};t.viewportOffset.top+=n.top,t.viewportOffset.bottom+=n.bottom,t.viewportOffset.left+=n.left,t.viewportOffset.right+=n.right}}function LX(e){const{toolbarView:t,options:n}=e;let i=10;return jW(t.element)&&i--,n.isContextual&&i--,i}class AX extends sJ{constructor(e){super(e),this.body=new hJ(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class zX extends AX{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,t=new aJ;return t.text=e("Rich Text Editor"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}}class IX extends sJ{constructor(e,t,n){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",(()=>this._updateIsFocusedClasses())),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;function t(t){e.change((n=>{const i=e.document.getRoot(t.name);n.addClass(t.isFocused?"ck-focused":"ck-blurred",i),n.removeClass(t.isFocused?"ck-blurred":"ck-focused",i)}))}e.isRenderingInProgress?function n(i){e.once("change:isRenderingInProgress",((e,r,o)=>{o?n(i):t(i)}))}(this):t(this)}}class RX extends IX{constructor(e,t,n,i={}){super(e,t,n);const r=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=i.label||(()=>r("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change((t=>{const n=e.document.getRoot(this.name);t.setAttribute("aria-label",this._generateLabel(this),n)}))}}class jX extends(AV()){constructor(e,t){super(),t&&sq(this,t),e&&this.set(e)}}const NX=AW("px");class FX extends _U{static get pluginName(){return"ContextualBalloon"}constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const e=this.editor.editing.view,t=e.document.selection.editableElement;return t?e.domConverter.mapViewToDom(t.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new dV("contextualballoon-add-view-exist",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t))return this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(t));const n=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),n.set(e.view,e),this._viewToStack.set(e.view,n),n===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new dV("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(1===t.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),1===t.size?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new dV("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}_createPanelView(){this._view=new mX(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find((t=>t[1]===e))[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new YX(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",((e,t)=>!t&&e>1)),e.on("change:isNavigationVisible",(()=>this.updatePosition()),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",((e,n)=>{if(n<2)return"";const i=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[i,n])})),e.buttonNextView.on("execute",(()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()})),e.buttonPrevView.on("execute",(()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()})),e}_createFakePanelsView(){const e=new BX(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",((e,t)=>!t&&e>=2?Math.min(e-1,2):0)),e.listenTo(this.view,"change:top",(()=>e.updatePosition())),e.listenTo(this.view,"change:left",(()=>e.updatePosition())),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:n=!0,singleViewMode:i=!1}){this.view.class=t,this.view.withArrow=n,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),i&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class YX extends sJ{constructor(e){super(e);const t=e.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new hU,this.buttonPrevView=this._createButtonView(t("Previous"),PZ.previousArrow),this.buttonNextView=this._createButtonView(t("Next"),PZ.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",(e=>e?"":"ck-hidden"))]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const n=new gJ(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n}}class BX extends sJ{constructor(e,t){super(e);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",(e=>e?"":"ck-hidden"))],style:{top:n.to("top",NX),left:n.to("left",NX),width:n.to("width",NX),height:n.to("height",NX)}},children:this.content}),this.on("change:numberOfPanels",((e,t,n,i)=>{n>i?this._addPanels(n-i):this._removePanels(i-n),this.updatePosition()}))}_addPanels(e){for(;e--;){const e=new sJ;e.setTemplate({tag:"div"}),this.content.add(e),this.registerChild(e)}}_removePanels(e){for(;e--;){const e=this.content.last;this.content.remove(e),this.deregisterChild(e),e.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:n,height:i}=new xW(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:n,height:i})}}}const HX=AW("px");class VX extends sJ{constructor(e){super(e);const t=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new FZ({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:t.to("isSticky",(e=>e?"block":"none")),height:t.to("isSticky",(e=>e?HX(this._contentPanelRect.height):null))}}}).render(),this.contentPanelElement=new FZ({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",t.if("isSticky","ck-sticky-panel__content_sticky"),t.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:t.to("isSticky",(e=>e?HX(this._contentPanelPlaceholder.getBoundingClientRect().width):null)),top:t.to("_stickyTopOffset",(e=>e?HX(e):e)),bottom:t.to("_stickyBottomOffset",(e=>e?HX(e):e)),marginLeft:t.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(vW.document,"scroll",(()=>{this.checkIfShouldBeSticky()}),{useCapture:!0}),this.listenTo(this,"change:isActive",(()=>{this.checkIfShouldBeSticky()}))}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const e=new xW(this.limiterElement);let t=e.getVisible();if(t){const e=new xW(vW.window);e.top+=this.viewportTopOffset,e.height-=this.viewportTopOffset,t=t.getIntersection(e)}if(t&&e.top<t.top){const n=t.top;if(n+this._contentPanelRect.height+this.limiterBottomOffset>t.bottom){const n=Math.max(e.bottom-t.bottom,0)+this.limiterBottomOffset;e.bottom-n>e.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(n):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(n):this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=HX(-vW.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=HX(-vW.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new xW(this.contentPanelElement)}}class WX extends vJ{constructor(e,t){const n=e.t,i=Object.assign({},{showResetButton:!0,showIcon:!0,creator:JJ},t);super(e,i.creator),this.label=t.label,this._viewConfig=i,this._viewConfig.showIcon&&(this.iconView=new fJ,this.iconView.content=PZ.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new gJ(e),this.resetButtonView.set({label:n("Clear"),icon:PZ.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",(()=>{this.reset(),this.focus(),this.fire("reset")})),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",(e=>!e)),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class UX extends sJ{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",e.if("isVisible","ck-hidden",(e=>!e))],tabindex:-1},children:[{tag:"span",children:[{text:[e.to("primaryText")]}]},{tag:"span",children:[{text:[e.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class $X extends sJ{constructor(e){super(e),this.children=this.createCollection(),this.focusTracker=new hU,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new OJ({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var qX=/[\\^$.*+?()[\]{}|]/g,KX=RegExp(qX.source);class GX extends sJ{constructor(e,t){super(e),this._config=t,this.filteredView=t.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new hU,this.keystrokes=new pU,this.resultsView=new $X(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),t.infoView&&t.infoView.instance?this.infoView=t.infoView.instance:(this.infoView=new UX,this._enableDefaultInfoViewBehavior(),this.on("render",(()=>{this.search("")}))),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new OJ({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",((e,{resultsCount:t,totalItemsCount:n})=>{this.resultsCount=t,this.totalItemsCount=n})),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",t.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=e=>e.stopPropagation();for(const e of this.focusableChildren)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(e){const t=e?new RegExp((i=GP(i=e))&&KX.test(i)?i.replace(qX,"\\$&"):i,"ig"):null,n=this.filteredView.filter(t);var i;this.fire("search",{query:e,...n})}_createSearchTextQueryView(){const e=new WX(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",(()=>{this.search(e.fieldView.element.value)})),e.on("reset",(()=>this.reset())),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,t=this.infoView;function n(e,{query:t,resultsCount:n,totalItemsCount:i}){return"function"==typeof e?e(t,n,i):e}this.on("search",((i,r)=>{if(r.resultsCount)t.set({isVisible:!1});else{const i=this._config.infoView&&this._config.infoView.text;let o,s;r.totalItemsCount?i&&i.notFound?(o=i.notFound.primary,s=i.notFound.secondary):(o=e("No results found"),s=""):i&&i.noSearchableItems?(o=i.noSearchableItems.primary,s=i.noSearchableItems.secondary):(o=e("No searchable items"),s=""),t.set({primaryText:n(o,r),secondaryText:n(s,r),isVisible:!0})}}))}}class ZX extends GX{constructor(e,t){super(e,t),this._config=t;const n=AW("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const i=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[i.if("isVisible","ck-hidden",(e=>!e)),i.to("_position",(e=>`ck-search__results_${e}`))],style:{width:i.to("_width",n)}}}),this.focusTracker.on("change:isFocused",((e,n,i)=>{this._updateResultsVisibility(),i?this.resultsView.element.scrollTop=0:t.resetOnBlur&&this.queryView.reset()})),this.on("search",(()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()})),this.keystrokes.set("esc",((e,t)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,t())})),this.listenTo(vW.document,"scroll",(()=>{this._updateResultsViewWidthAndPosition()})),this.on("change:isEnabled",(()=>{this._updateResultsVisibility()})),this.filteredView.on("execute",((e,{value:t})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=t,this.resultsView.isVisible=!1})),this.resultsView.on("change:isVisible",(()=>{this._updateResultsViewWidthAndPosition()}))}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new xW(this.queryView.fieldView.element).width;const e=ZX._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:ZX.defaultResultsPositions});this.resultsView._position=e?e.name:"s"}_updateResultsVisibility(){const e=void 0===this._config.queryMinChars?0:this._config.queryMinChars,t=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&t>=e}}ZX.defaultResultsPositions=[e=>({top:e.bottom,left:e.left,name:"s"}),(e,t)=>({top:e.top-t.height,left:e.left,name:"n"})],ZX._getOptimalPosition=NW;RegExp(/[&<>"']/g.source),AW("px"),AW("px"),AW("px");const JX=new Map([["left",PZ.alignLeft],["right",PZ.alignRight],["center",PZ.alignCenter],["justify",PZ.alignJustify]]);class XX extends _U{get localizedOptionTitles(){const e=this.editor.t;return{left:e("Align left"),right:e("Align right"),center:e("Align center"),justify:e("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const e=this.editor,t=e.ui.componentFactory,n=e.t,i=zZ(e.config.get("alignment.options"));i.map((e=>e.name)).filter(LZ).forEach((e=>this._addButton(e))),t.add("alignment",(r=>{const o=WJ(r);UJ(o,(()=>i.map((e=>t.create(`alignment:${e.name}`)))),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:n("Text alignment toolbar")}),o.buttonView.set({label:n("Text alignment"),tooltip:!0}),o.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const s="rtl"===r.contentLanguageDirection?JX.get("right"):JX.get("left"),a=e.commands.get("alignment");return o.buttonView.bind("icon").to(a,"value",(e=>JX.get(e)||s)),o.bind("isEnabled").to(a,"isEnabled"),this.listenTo(o,"execute",(()=>{e.editing.view.focus()})),o}))}_addButton(e){const t=this.editor;t.ui.componentFactory.add(`alignment:${e}`,(n=>{const i=t.commands.get("alignment"),r=new gJ(n);return r.set({label:this.localizedOptionTitles[e],icon:JX.get(e),tooltip:!0,isToggleable:!0}),r.bind("isEnabled").to(i),r.bind("isOn").to(i,"value",(t=>t===e)),this.listenTo(r,"execute",(()=>{t.execute("alignment",{value:e}),t.editing.view.focus()})),r}))}}class QX extends _U{static get requires(){return[jZ,XX]}static get pluginName(){return"Alignment"}}class eQ extends kU{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,n=t.document.selection,i=void 0===e.forceValue?!this.value:e.forceValue;t.change((e=>{if(n.isCollapsed)i?e.setSelectionAttribute(this.attributeKey,!0):e.removeSelectionAttribute(this.attributeKey);else{const r=t.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const t of r)i?e.setAttribute(this.attributeKey,i,t):e.removeAttribute(this.attributeKey,t)}}))}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,n=e.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const e of n.getRanges())for(const n of e.getItems())if(t.checkAttribute(n,this.attributeKey))return n.hasAttribute(this.attributeKey);return!1}}const tQ="bold";class nQ extends _U{static get pluginName(){return"BoldEditing"}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:tQ}),e.model.schema.setAttributeProperties(tQ,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:tQ,view:"strong",upcastAlso:["b",e=>{const t=e.getStyle("font-weight");return t&&("bold"==t||Number(t)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(tQ,new eQ(e,tQ)),e.keystrokes.set("CTRL+B",tQ),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Bold text"),keystroke:"CTRL+B"}]})}}const iQ="bold";class rQ extends _U{static get pluginName(){return"BoldUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(iQ,(n=>{const i=e.commands.get(iQ),r=new gJ(n);return r.set({label:t("Bold"),icon:PZ.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(r,"execute",(()=>{e.execute(iQ),e.editing.view.focus()})),r}))}}class oQ extends _U{static get requires(){return[nQ,rQ]}static get pluginName(){return"Bold"}}class sQ extends DX{constructor(e,t){super(e),this.view=t,this._toolbarConfig=LJ(e.config.get("toolbar")),this._elementReplacer=new FV,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const t=this.editor,n=this.view,i=t.editing.view,r=n.editable,o=i.document.getRoot();r.name=o.rootName,n.render();const s=r.element;this.setEditableElement(r.name,s),n.editable.bind("isFocused").to(this.focusTracker),i.attachDomRoot(s),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this._initDialogPluginIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",(({top:e})=>e||0)),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,t=e.editing.view,n=t.document.getRoot(),i=e.sourceElement;let r;const o=e.config.get("placeholder");o&&(r="string"==typeof o?o:o[this.view.editable.name]),!r&&i&&"textarea"===i.tagName.toLowerCase()&&(r=i.getAttribute("placeholder")),r&&(n.placeholder=r),function({view:e,element:t,text:n,isDirectHost:i=!0,keepOnFocus:r=!1}){const o=e.document;function s(n){SU.get(o).set(t,{text:n,isDirectHost:i,keepOnFocus:r,hostElement:i?t:null}),e.change((e=>TU(o,e)))}SU.has(o)||(SU.set(o,new Map),o.registerPostFixer((e=>TU(o,e))),o.on("change:isComposing",(()=>{e.change((e=>TU(o,e)))}),{priority:"high"})),t.is("editableElement")&&t.on("change:placeholder",((e,t,n)=>{s(n)})),t.placeholder?s(t.placeholder):n&&s(n),n&&(OU||hV("enableplaceholder-deprecated-text-option"),OU=!0)}({view:t,element:n,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(e,t,n){const i=this.view.stickyPanel;if(i.isSticky){const e=new xW(i.element).height;t.viewportOffset.top+=e}else{const e=()=>{this.editor.editing.view.scrollToTheSelection(n)};this.listenTo(i,"change:isSticky",e),setTimeout((()=>{this.stopListening(i,"change:isSticky",e)}),20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,t=this.editor.plugins.get("Dialog");t.on("show",(()=>{const n=t.view;n.on("moveTo",((t,i)=>{if(!e.isSticky||n.wasMoved)return;const r=new xW(e.contentPanelElement);i[1]<r.bottom+cX.defaultOffset&&(i[1]=r.bottom+cX.defaultOffset)}),{priority:"high"})}),{priority:"low"})}}class aQ extends zX{constructor(e,t,n={}){super(e),this.stickyPanel=new VX(e),this.toolbar=new IJ(e,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull}),this.editable=new RX(e,t)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class lQ{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit="number"==typeof e.crashNumberLimit?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod="number"==typeof e.minimumNonErrorTimePeriod?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=e=>{const t="error"in e?e.error:e.reason;t instanceof Error&&this._handleError(t,e)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter((e=>e!==t))}_fire(e,...t){const n=this._listeners[e]||[];for(const e of n)e.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:void 0,lineno:t instanceof ErrorEvent?t.lineno:void 0,colno:t instanceof ErrorEvent?t.colno:void 0,date:this._now()});const n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&void 0!==e.context&&null!==e.context&&"ready"===this.state&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function cQ(e,t=new Set){const n=[e],i=new Set;let r=0;for(;n.length>r;){const e=n[r++];if(!i.has(e)&&uQ(e)&&!t.has(e))if(i.add(e),Symbol.iterator in e)try{for(const t of e)n.push(t)}catch(e){}else for(const t in e)"defaultValue"!==t&&n.push(e[t])}return i}function uQ(e){const t=Object.prototype.toString.call(e),n=typeof e;return!("number"===n||"boolean"===n||"string"===n||"symbol"===n||"function"===n||"[object Date]"===t||"[object RegExp]"===t||"[object Module]"===t||null==e||e._watchdogExcluded||e instanceof EventTarget||e instanceof Event)}function dQ(e,t,n=new Set){if(e===t&&"object"==typeof(i=e)&&null!==i)return!0;var i;const r=cQ(e,n),o=cQ(t,n);for(const e of r)if(o.has(e))return!0;return!1}class hQ extends lQ{constructor(e,t={}){super(t),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=BT(this._save.bind(this),"number"==typeof t.saveInterval?t.saveInterval:5e3),e&&(this._creator=(t,n)=>e.create(t,n)),this._destructor=e=>e.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then((()=>(this.state="initializing",this._fire("stateChange"),this._destroy()))).catch((e=>{console.error("An error happened during the editor destroying.",e)})).then((()=>{const e={},t=[],n=this._config.rootsAttributes||{},i={};for(const[r,o]of Object.entries(this._data.roots))o.isLoaded?(e[r]="",i[r]=n[r]||{}):t.push(r);const r={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:t,rootsAttributes:i,_watchdogInitialData:this._data};return delete r.initialData,r.extraPlugins.push(pQ),this._initUsingData?this.create(e,r,r.context):lW(this._elementOrData)?this.create(this._elementOrData,r,r.context):this.create(this._editables,r,r.context)})).then((()=>{this._fire("restart")}))}create(e=this._elementOrData,t=this._config,n){return Promise.resolve().then((()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData="string"==typeof e||Object.keys(e).length>0&&"string"==typeof Object.values(e)[0],this._config=this._cloneEditorConfiguration(t)||{},this._config.context=n,this._creator(e,this._config)))).then((e=>{this._editor=e,e.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=e.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}))}destroy(){return Promise.resolve().then((()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())))}_destroy(){return Promise.resolve().then((()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)}))}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(e){console.error(e,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,t=e.model.document.roots.filter((e=>e.isAttached()&&"$graveyard"!=e.rootName)),{plugins:n}=e,i=n.has("CommentsRepository")&&n.get("CommentsRepository"),r=n.has("TrackChanges")&&n.get("TrackChanges"),o={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};t.forEach((e=>{o.roots[e.rootName]={content:JSON.stringify(Array.from(e.getChildren())),attributes:JSON.stringify(Array.from(e.getAttributes())),isLoaded:e._isLoaded}}));for(const t of e.model.markers)t._affectsData&&(o.markers[t.name]={rangeJSON:t.getRange().toJSON(),usingOperation:t._managedUsingOperations,affectsData:t._affectsData});return i&&(o.commentThreads=JSON.stringify(i.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),r&&(o.suggestions=JSON.stringify(r.getSuggestions({toJSON:!0,skipNotAttached:!0}))),o}_getEditables(){const e={};for(const t of this.editor.model.document.getRootNames()){const n=this.editor.ui.getEditableElement(t);n&&(e[t]=n)}return e}_isErrorComingFromThisItem(e){return dQ(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return aW(e,((e,t)=>lW(e)||"context"===t?e:void 0))}}class pQ{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",(e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},(e=>{this._restoreCollaborationData(),this._restoreEditorData(e)})),this.editor.data.fire("ready")}),{priority:999})}_createNode(e,t){if("name"in t){const n=e.createElement(t.name,t.attributes);if(t.children)for(const i of t.children)n._appendChild(this._createNode(e,i));return n}return e.createText(t.data,t.attributes)}_restoreEditorData(e){const t=this.editor;Object.entries(this._data.roots).forEach((([n,{content:i,attributes:r}])=>{const o=JSON.parse(i),s=JSON.parse(r),a=t.model.document.getRoot(n);for(const[t,n]of s)e.setAttribute(t,n,a);for(const t of o){const n=this._createNode(e,t);e.insert(n,a,"end")}})),Object.entries(this._data.markers).forEach((([n,i])=>{const{document:r}=t.model,{rangeJSON:{start:o,end:s},...a}=i,l=r.getRoot(o.root),c=e.createPositionFromPath(l,o.path,o.stickiness),u=e.createPositionFromPath(l,s.path,s.stickiness),d=e.createRange(c,u);e.addMarker(n,{range:d,...a})}))}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),t=JSON.parse(this._data.suggestions);e.forEach((e=>{const t=this.editor.config.get("collaboration.channelId"),n=this.editor.plugins.get("CommentsRepository");n.hasCommentThread(e.threadId)&&n.getCommentThread(e.threadId).remove(),n.addCommentThread({channelId:t,...e})})),t.forEach((e=>{const t=this.editor.plugins.get("TrackChangesEditing");t.hasSuggestion(e.id)?t.getSuggestion(e.id).attributes=e.attributes:t.addSuggestionData(e)}))}}const fQ=Symbol("MainQueueId");class mQ{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){const n=e===fQ;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const i=(n?Promise.all(this._queues.values()):Promise.all([this._queues.get(fQ),this._queues.get(e)])).then(t),r=i.catch((()=>{}));return this._queues.set(e,r),i.finally((()=>{this._activeActions--,this._queues.get(e)===r&&0===this._activeActions&&this._onEmptyCallbacks.forEach((e=>e()))}))}}function gQ(e){return Array.isArray(e)?e:[e]}class bQ extends(MZ(TZ)){constructor(e,t={}){if(!vQ(e)&&void 0!==t.initialData)throw new dV("editor-create-initial-data",null);super(t),void 0===this.config.get("initialData")&&this.config.set("initialData",function(e){return vQ(e)?(t=e)instanceof HTMLTextAreaElement?t.value:t.innerHTML:e;var t}(e)),vQ(e)&&(this.sourceElement=e),this.model.document.createRoot();const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),i=new aQ(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:n});this.ui=new sQ(this,i),function(e){if(!NS(e.updateSourceElement))throw new dV("attachtoform-missing-elementapi-interface",e);const t=e.sourceElement;if(function(e){return!!e&&"textarea"===e.tagName.toLowerCase()}(t)&&t.form){let n;const i=t.form,r=()=>e.updateSourceElement();NS(i.submit)&&(n=i.submit,i.submit=()=>{r(),n.apply(i)}),i.addEventListener("submit",r),e.on("destroy",(()=>{i.removeEventListener("submit",r),n&&(i.submit=n)}))}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,t={}){return new Promise((n=>{const i=new this(e,t);n(i.initPlugins().then((()=>i.ui.init(vQ(e)?e:null))).then((()=>i.data.init(i.config.get("initialData")))).then((()=>i.fire("ready"))).then((()=>i)))}))}}bQ.Context=xU,bQ.EditorWatchdog=hQ,bQ.ContextWatchdog=class extends lQ{constructor(e,t={}){super(t),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new mQ,this._watchdogConfig=t,this._creator=t=>e.create(t),this._destructor=e=>e.destroy(),this._actionQueues.onEmpty((()=>{"initializing"===this.state&&(this.state="ready",this._fire("stateChange"))}))}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(fQ,(()=>(this._contextConfig=e,this._create())))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const t=gQ(e);return Promise.all(t.map((e=>this._actionQueues.enqueue(e.id,(()=>{if("destroyed"===this.state)throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let t;if(this._watchdogs.has(e.id))throw new Error(`Item with the given id is already added: '${e.id}'.`);if("editor"===e.type)return t=new hQ(null,this._watchdogConfig),t.setCreator(e.creator),t._setExcludedProperties(this._contextProps),e.destructor&&t.setDestructor(e.destructor),this._watchdogs.set(e.id,t),t.on("error",((n,{error:i,causesRestart:r})=>{this._fire("itemError",{itemId:e.id,error:i}),r&&this._actionQueues.enqueue(e.id,(()=>new Promise((n=>{const i=()=>{t.off("restart",i),this._fire("itemRestart",{itemId:e.id}),n()};t.on("restart",i)}))))})),t.create(e.sourceElementOrData,e.config,this._context);throw new Error(`Not supported item type: '${e.type}'.`)})))))}remove(e){const t=gQ(e);return Promise.all(t.map((e=>this._actionQueues.enqueue(e,(()=>{const t=this._getWatchdog(e);return this._watchdogs.delete(e),t.destroy()})))))}destroy(){return this._actionQueues.enqueue(fQ,(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())))}_restart(){return this._actionQueues.enqueue(fQ,(()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch((e=>{console.error("An error happened during destroying the context or items.",e)})).then((()=>this._create())).then((()=>this._fire("restart"))))))}_create(){return Promise.resolve().then((()=>(this._startErrorHandling(),this._creator(this._contextConfig)))).then((e=>(this._context=e,this._contextProps=cQ(this._context),Promise.all(Array.from(this._watchdogs.values()).map((e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))))}_destroy(){return Promise.resolve().then((()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map((e=>e.destroy()))).then((()=>this._destructor(e)))}))}_getWatchdog(e){const t=this._watchdogs.get(e);if(!t)throw new Error(`Item with the given id was not registered: ${e}.`);return t}_isErrorComingFromThisItem(e){for(const t of this._watchdogs.values())if(t._isErrorComingFromThisItem(e))return!1;return dQ(this._context,e.context)}};var yQ=bQ;function vQ(e){return lW(e)}class _Q extends lq{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const t=this.document;function n(e){return(n,i)=>{i.preventDefault();const r=i.dropRange?[i.dropRange]:null,o=new oV(t,e);t.fire(o,{dataTransfer:i.dataTransfer,method:n.name,targetRanges:r,target:i.target,domEvent:i.domEvent}),o.stop.called&&i.stopPropagation()}}this.listenTo(t,"paste",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",n("dragging"),{priority:"low"})}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer,n="drop"==e.type||"paste"==e.type,i={dataTransfer:new bq(t,{cacheFiles:n})};"drop"!=e.type&&"dragover"!=e.type||(i.dropRange=function(e,t){const n=t.target.ownerDocument,i=t.clientX,r=t.clientY;let o;return n.caretRangeFromPoint&&n.caretRangeFromPoint(i,r)?o=n.caretRangeFromPoint(i,r):t.rangeParent&&(o=n.createRange(),o.setStart(t.rangeParent,t.rangeOffset),o.collapse(!0)),o?e.domConverter.domRangeToView(o):null}(this.view,e)),this.fire(e.type,e,i)}}const wQ=["figcaption","li"],kQ=["ol","ul"];function CQ(e){if(e.is("$text")||e.is("$textProxy"))return e.data;if(e.is("element","img")&&e.hasAttribute("alt"))return e.getAttribute("alt");if(e.is("element","br"))return"\n";let t="",n=null;for(const o of e.getChildren())t+=(i=o,((r=n)?i.is("element","li")&&!i.isEmpty&&i.getChild(0).is("containerElement")||kQ.includes(i.name)&&kQ.includes(r.name)?"\n\n":i.is("containerElement")||r.is("containerElement")?wQ.includes(i.name)||wQ.includes(r.name)?"\n":"\n\n":"":"")+CQ(o)),n=o;var i,r;return t}class EQ extends _U{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(e,t){const n=Array.isArray(t)?t:this._mapRestrictionPresetToActions(t);n.length&&this._markersToCopy.set(e,n)}_mapRestrictionPresetToActions(e){switch(e){case"always":return["copy","cut","dragstart"];case"default":return["cut","dragstart"];default:return[]}}_copySelectedFragmentWithMarkers(e,t,n=(e=>e.model.getSelectedContent(e.model.document.selection))){return this.editor.model.change((i=>{const r=i.model.document.selection;i.setSelection(t);const o=this._insertFakeMarkersIntoSelection(i,i.model.document.selection,e),s=n(i),a=this._removeFakeMarkersInsideElement(i,s);for(const[e,t]of Object.entries(o)){a[e]||(a[e]=i.createRangeIn(s));for(const e of t)i.remove(e)}s.markers.clear();for(const[e,t]of Object.entries(a))s.markers.set(e,t);return i.setSelection(r),s}))}_pasteMarkersIntoTransformedElement(e,t){const n=this._getCopyableMarkersFromRangeMap(e);return this.editor.model.change((e=>{const i=this._insertFakeMarkersElements(e,n),r=t(e),o=this._removeFakeMarkersInsideElement(e,r);for(const t of Object.values(i).flat())e.remove(t);for(const[t,n]of Object.entries(o)){const i=e.model.markers.has(t)?this._getUniqueMarkerName(t):t;e.addMarker(i,{usingOperation:!0,affectsData:!0,range:n})}return r}))}_forceMarkersCopy(e,t){const n=this._markersToCopy.get(e);this._markersToCopy.set(e,this._mapRestrictionPresetToActions("always")),t(),n?this._markersToCopy.set(e,n):this._markersToCopy.delete(e)}_canPerformMarkerClipboardAction(e,t){const[n]=e.split(":");return t?(this._markersToCopy.get(n)||[]).includes(t):this._markersToCopy.has(n)}_setUniqueMarkerNamesInFragment(e){const t=Array.from(e.markers);e.markers.clear();for(const[n,i]of t){const t=this._canPerformMarkerClipboardAction(n,null)?this._getUniqueMarkerName(n):n;e.markers.set(t,i)}}_insertFakeMarkersIntoSelection(e,t,n){const i=this._getCopyableMarkersFromSelection(e,t,n);return this._insertFakeMarkersElements(e,i)}_getCopyableMarkersFromSelection(e,t,n){return Array.from(t.getRanges()).flatMap((t=>Array.from(e.model.markers.getMarkersIntersectingRange(t)))).filter((e=>this._canPerformMarkerClipboardAction(e.name,n))).map((e=>({name:e.name,range:e.getRange()})))}_getCopyableMarkersFromRangeMap(e,t=null){return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).map((([e,t])=>({name:e,range:t}))).filter((e=>this._canPerformMarkerClipboardAction(e.name,t)))}_insertFakeMarkersElements(e,t){const n={},i=t.flatMap((e=>{const{start:t,end:n}=e.range;return[{position:t,marker:e,type:"start"},{position:n,marker:e,type:"end"}]})).sort((({position:e},{position:t})=>e.isBefore(t)?1:-1));for(const{position:t,marker:r,type:o}of i){const i=e.createElement("$marker",{"data-name":r.name,"data-type":o});n[r.name]||(n[r.name]=[]),n[r.name].push(i),e.insert(i,t)}return n}_removeFakeMarkersInsideElement(e,t){return function(e,t){var n={};return t=iD(t),GT(e,(function(e,i,r){uO(n,i,t(e,i,r))})),n}(this._getAllFakeMarkersFromElement(e,t).reduce(((t,n)=>{const i=n.markerElement&&e.createPositionBefore(n.markerElement);let r=t[n.name];return r&&r.start&&r.end&&(t[this._getUniqueMarkerName(n.name)]=t[n.name],r=null),t[n.name]={...r,[n.type]:i},n.markerElement&&e.remove(n.markerElement),t}),{}),(n=>new Nq(n.start||e.createPositionFromPath(t,[0]),n.end||e.createPositionAt(t,"end"))))}_getAllFakeMarkersFromElement(e,t){const n=Array.from(e.createRangeIn(t)).flatMap((({item:e})=>{if(!e.is("element","$marker"))return[];const t=e.getAttribute("data-name"),n=e.getAttribute("data-type");return[{markerElement:e,name:t,type:n}]})),i=[],r=[];for(const e of n)"end"===e.type&&(n.some((t=>t.name===e.name&&"start"===t.type))||i.push({markerElement:null,name:e.name,type:"start"})),"start"===e.type&&(n.some((t=>t.name===e.name&&"end"===t.type))||r.unshift({markerElement:null,name:e.name,type:"end"}));return[...i,...n,...r]}_getUniqueMarkerName(e){const t=e.split(":"),n=aV().substring(1,6);return 3===t.length?`${t.slice(0,2).join(":")}:${n}`:`${t.join(":")}:${n}`}}class xQ extends _U{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[EQ]}init(){this.editor.editing.view.addObserver(_Q),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,t,n){const i=this.editor.plugins.get("ClipboardMarkersUtils")._copySelectedFragmentWithMarkers(n,t);this.fire("outputTransformation",{dataTransfer:e,content:i,method:n})}_setupPasteDrop(){const e=this.editor,t=e.model,n=e.editing.view,i=n.document,r=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(i,"clipboardInput",((t,n)=>{"paste"!=n.method||e.model.canEditAt(e.model.document.selection)||t.stop()}),{priority:"highest"}),this.listenTo(i,"clipboardInput",((e,t)=>{const i=t.dataTransfer;let r;if(t.content)r=t.content;else{let e="";i.getData("text/html")?e=function(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,((e,t)=>1==t.length?" ":t)).replace(/<!--[\s\S]*?-->/g,"")}(i.getData("text/html")):i.getData("text/plain")&&(((o=(o=i.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||o.includes("<br>"))&&(o=`<p>${o}</p>`),e=o),r=this.editor.data.htmlProcessor.toView(e)}var o;const s=new oV(this,"inputTransformation");this.fire(s,{content:r,dataTransfer:i,targetRanges:t.targetRanges,method:t.method}),s.stop.called&&e.stop(),n.scrollToTheSelection()}),{priority:"low"}),this.listenTo(this,"inputTransformation",((e,n)=>{if(n.content.isEmpty)return;const i=this.editor.data.toModel(n.content,"$clipboardHolder");0!=i.childCount&&(e.stop(),t.change((()=>{this.fire("contentInsertion",{content:i,method:n.method,dataTransfer:n.dataTransfer,targetRanges:n.targetRanges})})))}),{priority:"low"}),this.listenTo(this,"contentInsertion",((e,t)=>{r._setUniqueMarkerNamesInFragment(t.content)}),{priority:"highest"}),this.listenTo(this,"contentInsertion",((e,n)=>{n.resultRange=t.insertContent(n.content)}),{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,n=e.editing.view.document,i=(e,n)=>{const i=n.dataTransfer;n.preventDefault(),this._fireOutputTransformationEvent(i,t.selection,e.name)};this.listenTo(n,"copy",i,{priority:"low"}),this.listenTo(n,"cut",((t,n)=>{e.model.canEditAt(e.model.document.selection)?i(t,n):n.preventDefault()}),{priority:"low"}),this.listenTo(this,"outputTransformation",((t,i)=>{const r=e.data.toView(i.content);n.fire("clipboardOutput",{dataTransfer:i.dataTransfer,content:r,method:i.method})}),{priority:"low"}),this.listenTo(n,"clipboardOutput",((n,i)=>{i.content.isEmpty||(i.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(i.content)),i.dataTransfer.setData("text/plain",CQ(i.content))),"cut"==i.method&&e.model.deleteContent(t.selection)}),{priority:"low"})}}class SQ{constructor(e,t=20){this._batch=null,this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(e,t)=>{t.isLocal&&t.isUndoable&&t!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class OQ extends kU{constructor(e,t){super(e),this._buffer=new SQ(e.model,t),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,n=t.document,i=e.text||"",r=i.length;let o=n.selection;if(e.selection?o=e.selection:e.range&&(o=t.createSelection(e.range)),!t.canEditAt(o))return;const s=e.resultRange;t.enqueueChange(this._buffer.batch,(e=>{this._buffer.lock();const a=Array.from(n.selection.getAttributes());t.deleteContent(o),i&&t.insertContent(e.createText(i,a),o),s?e.setSelection(s):o.is("documentSelection")||e.setSelection(o),this._buffer.unlock(),this._buffer.input(r)}))}}const TQ=["insertText","insertReplacementText"];class MQ extends oq{constructor(e){super(e),this.focusObserver=e.getObserver(fq),QH.isAndroid&&TQ.push("insertCompositionText");const t=e.document;t.on("beforeinput",((n,i)=>{if(!this.isEnabled)return;const{data:r,targetRanges:o,inputType:s,domEvent:a}=i;if(!TQ.includes(s))return;this.focusObserver.flush();const l=new oV(t,"insertText");t.fire(l,new aq(e,a,{text:r,selection:e.createSelection(o)})),l.stop.called&&n.stop()})),t.on("compositionend",((n,{data:i,domEvent:r})=>{this.isEnabled&&!QH.isAndroid&&i&&t.fire("insertText",new aq(e,r,{text:i,selection:t.selection}))}),{priority:"lowest"})}observe(){}stopObserving(){}}class PQ extends _U{static get pluginName(){return"Input"}init(){const e=this.editor,t=e.model,n=e.editing.view,i=t.document.selection;n.addObserver(MQ);const r=new OQ(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",r),e.commands.add("input",r),this.listenTo(n.document,"insertText",((i,r)=>{n.document.isComposing||r.preventDefault();const{text:o,selection:s,resultRange:a}=r,l=Array.from(s.getRanges()).map((t=>e.editing.mapper.toModelRange(t)));let c=o;if(QH.isAndroid){const e=Array.from(l[0].getItems()).reduce(((e,t)=>e+(t.is("$textProxy")?t.data:"")),"");e&&(e.length<=c.length?c.startsWith(e)&&(c=c.substring(e.length),l[0].start=l[0].start.getShiftedBy(e.length)):e.startsWith(c)&&(l[0].start=l[0].start.getShiftedBy(c.length),c=""))}const u={text:c,selection:t.createSelection(l)};a&&(u.resultRange=e.editing.mapper.toModelRange(a)),e.execute("insertText",u),n.scrollToTheSelection()})),QH.isAndroid?this.listenTo(n.document,"keydown",((e,o)=>{!i.isCollapsed&&229==o.keyCode&&n.document.isComposing&&DQ(t,r)})):this.listenTo(n.document,"compositionstart",(()=>{i.isCollapsed||DQ(t,r)}))}}function DQ(e,t){if(!t.isEnabled)return;const n=t.buffer;n.lock(),e.enqueueChange(n.batch,(()=>{e.deleteContent(e.document.selection)})),n.unlock()}class LQ extends kU{constructor(e,t){super(e),this.direction=t,this._buffer=new SQ(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,n=t.document;t.enqueueChange(this._buffer.batch,(i=>{this._buffer.lock();const r=i.createSelection(e.selection||n.selection);if(!t.canEditAt(r))return;const o=e.sequence||1,s=r.isCollapsed;if(r.isCollapsed&&t.modifySelection(r,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(o))return void this._replaceEntireContentWithParagraph(i);if(this._shouldReplaceFirstBlockWithParagraph(r,o))return void this.editor.execute("paragraph",{selection:r});if(r.isCollapsed)return;let a=0;r.getFirstRange().getMinimalFlatRanges().forEach((e=>{a+=YV(e.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))})),t.deleteContent(r,{doNotResetEntireContent:s,direction:this.direction}),this._buffer.input(a),i.setSelection(r),this._buffer.unlock()}))}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,n=t.document.selection,i=t.schema.getLimitElement(n);if(!n.isCollapsed||!n.containsEntireContent(i))return!1;if(!t.schema.checkChild(i,"paragraph"))return!1;const r=i.getChild(0);return!r||!r.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const t=this.editor.model,n=t.document.selection,i=t.schema.getLimitElement(n),r=e.createElement("paragraph");e.remove(e.createRangeIn(i)),e.insert(r,i),e.setSelection(r,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const n=this.editor.model;if(t>1||"backward"!=this.direction)return!1;if(!e.isCollapsed)return!1;const i=e.getFirstPosition(),r=n.schema.getLimitElement(i),o=r.getChild(0);return i.parent==o&&!!e.containsEntireContent(o)&&!!n.schema.checkChild(r,"paragraph")&&"paragraph"!=o.name}}const AQ="word",zQ="selection",IQ="backward",RQ="forward",jQ={deleteContent:{unit:zQ,direction:IQ},deleteContentBackward:{unit:"codePoint",direction:IQ},deleteWordBackward:{unit:AQ,direction:IQ},deleteHardLineBackward:{unit:zQ,direction:IQ},deleteSoftLineBackward:{unit:zQ,direction:IQ},deleteContentForward:{unit:"character",direction:RQ},deleteWordForward:{unit:AQ,direction:RQ},deleteHardLineForward:{unit:zQ,direction:RQ},deleteSoftLineForward:{unit:zQ,direction:RQ}};class NQ extends oq{constructor(e){super(e);const t=e.document;let n=0;t.on("keydown",(()=>{n++})),t.on("keyup",(()=>{n=0})),t.on("beforeinput",((i,r)=>{if(!this.isEnabled)return;const{targetRanges:o,domEvent:s,inputType:a}=r,l=jQ[a];if(!l)return;const c={direction:l.direction,unit:l.unit,sequence:n};c.unit==zQ&&(c.selectionToRemove=e.createSelection(o[0])),"deleteContentBackward"===a&&(QH.isAndroid&&(c.sequence=1),function(e){if(1!=e.length||e[0].isCollapsed)return!1;const t=e[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let n=0;for(const{nextPosition:e}of t){if(e.parent.is("$text")){const t=e.parent.data,i=e.offset;if(gU(t,i)||bU(t,i)||vU(t,i))continue;n++}else n++;if(n>1)return!0}return!1}(o)&&(c.unit=zQ,c.selectionToRemove=e.createSelection(o)));const u=new o$(t,"delete",o[0]);t.fire(u,new aq(e,s,c)),u.stop.called&&i.stop()})),QH.isBlink&&function(e){const t=e.view,n=t.document;let i=null,r=!1;function o(e){return e==eU.backspace||e==eU.delete}function s(e){return e==eU.backspace?IQ:RQ}n.on("keydown",((e,{keyCode:t})=>{i=t,r=!1})),n.on("keyup",((a,{keyCode:l,domEvent:c})=>{const u=n.selection,d=e.isEnabled&&l==i&&o(l)&&!u.isCollapsed&&!r;if(i=null,d){const e=u.getFirstRange(),i=new o$(n,"delete",e),r={unit:zQ,direction:s(l),selectionToRemove:u};n.fire(i,new aq(t,c,r))}})),n.on("beforeinput",((e,{inputType:t})=>{const n=jQ[t];o(i)&&n&&n.direction==s(i)&&(r=!0)}),{priority:"high"}),n.on("beforeinput",((e,{inputType:t,data:n})=>{i==eU.delete&&"insertText"==t&&""==n&&e.stop()}),{priority:"high"})}(this)}observe(){}stopObserving(){}}class FQ extends _U{static get pluginName(){return"Delete"}init(){const e=this.editor,t=e.editing.view,n=t.document,i=e.model.document;t.addObserver(NQ),this._undoOnBackspace=!1;const r=new LQ(e,"forward");e.commands.add("deleteForward",r),e.commands.add("forwardDelete",r),e.commands.add("delete",new LQ(e,"backward")),this.listenTo(n,"delete",((i,r)=>{n.isComposing||r.preventDefault();const{direction:o,sequence:s,selectionToRemove:a,unit:l}=r,c="forward"===o?"deleteForward":"delete",u={sequence:s};if("selection"==l){const t=Array.from(a.getRanges()).map((t=>e.editing.mapper.toModelRange(t)));u.selection=e.model.createSelection(t)}else u.unit=l;e.execute(c,u),t.scrollToTheSelection()}),{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(n,"delete",((t,n)=>{this._undoOnBackspace&&"backward"==n.direction&&1==n.sequence&&"codePoint"==n.unit&&(this._undoOnBackspace=!1,e.execute("undo"),n.preventDefault(),t.stop())}),{context:"$capture"}),this.listenTo(i,"change",(()=>{this._undoOnBackspace=!1})))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class YQ extends _U{static get requires(){return[PQ,FQ]}static get pluginName(){return"Typing"}}AV();class BQ extends _U{static get pluginName(){return"TwoStepCaretMovement"}constructor(e){super(e),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}init(){const e=this.editor,t=e.model,n=e.editing.view,i=e.locale,r=t.document.selection;this.listenTo(n.document,"arrowKey",((e,t)=>{if(!r.isCollapsed)return;if(t.shiftKey||t.altKey||t.ctrlKey)return;const n=t.keyCode==eU.arrowright,o=t.keyCode==eU.arrowleft;if(!n&&!o)return;const s=i.contentLanguageDirection;let a=!1;a="ltr"===s&&n||"rtl"===s&&o?this._handleForwardMovement(t):this._handleBackwardMovement(t),!0===a&&e.stop()}),{context:"$text",priority:"highest"}),this.listenTo(r,"change:range",((e,t)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!t.directChange&&qQ(r.getFirstPosition(),this.attributes)||this._restoreGravity())})),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,n=this.editor.model,i=n.document.selection,r=i.getFirstPosition();return!(this._isGravityOverridden||r.isAtStart&&HQ(i,t)||!qQ(r,t)||(UQ(e),HQ(i,t)&&qQ(r,t,!0)?WQ(n,t):this._overrideGravity(),0))}_handleBackwardMovement(e){const t=this.attributes,n=this.editor.model,i=n.document.selection,r=i.getFirstPosition();return this._isGravityOverridden?(UQ(e),this._restoreGravity(),qQ(r,t,!0)?WQ(n,t):VQ(n,t,r),!0):r.isAtStart?!!HQ(i,t)&&(UQ(e),VQ(n,t,r),!0):!HQ(i,t)&&qQ(r,t,!0)?(UQ(e),VQ(n,t,r),!0):!!$Q(r,t)&&(r.isAtEnd&&!HQ(i,t)&&qQ(r,t)?(UQ(e),VQ(n,t,r),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const e=this.editor,t=e.model,n=t.document.selection,i=e.editing.view.document;e.editing.view.addObserver(wZ);let r=!1;this.listenTo(i,"mousedown",(()=>{r=!0})),this.listenTo(i,"selectionChange",(()=>{const e=this.attributes;if(!r)return;if(r=!1,!n.isCollapsed)return;if(!HQ(n,e))return;const i=n.getFirstPosition();qQ(i,e)&&(i.isAtStart||qQ(i,e,!0)?WQ(t,e):this._isGravityOverridden||this._overrideGravity())}))}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,t=e.document.selection,n=this.attributes;this.listenTo(e,"insertContent",(()=>{const i=t.getFirstPosition();HQ(t,n)&&qQ(i,n)&&WQ(e,n)}),{priority:"low"})}_handleDeleteContentAfterNode(){const e=this.editor,t=e.model,n=t.document.selection,i=e.editing.view;let r=!1,o=!1;this.listenTo(i.document,"delete",((e,t)=>{r="backward"===t.direction}),{priority:"high"}),this.listenTo(t,"deleteContent",(()=>{if(!r)return;const e=n.getFirstPosition();o=HQ(n,this.attributes)&&!$Q(e,this.attributes)}),{priority:"high"}),this.listenTo(t,"deleteContent",(()=>{r&&(r=!1,o||e.model.enqueueChange((()=>{const e=n.getFirstPosition();HQ(n,this.attributes)&&qQ(e,this.attributes)&&(e.isAtStart||qQ(e,this.attributes,!0)?WQ(t,this.attributes):this._isGravityOverridden||this._overrideGravity())})))}),{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change((e=>e.overrideSelectionGravity()))}_restoreGravity(){this.editor.model.change((e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null}))}}function HQ(e,t){for(const n of t)if(e.hasAttribute(n))return!0;return!1}function VQ(e,t,n){const i=n.nodeBefore;e.change((n=>{if(i){const t=[],r=e.schema.isObject(i)&&e.schema.isInline(i);for(const[n,o]of i.getAttributes())!e.schema.checkAttribute("$text",n)||r&&!1===e.schema.getAttributeProperties(n).copyFromObject||t.push([n,o]);n.setSelectionAttribute(t)}else n.removeSelectionAttribute(t)}))}function WQ(e,t){e.change((e=>{e.removeSelectionAttribute(t)}))}function UQ(e){e.preventDefault()}function $Q(e,t){return qQ(e.getShiftedBy(-1),t)}function qQ(e,t,n=!1){const{nodeBefore:i,nodeAfter:r}=e;for(const e of t){const t=i?i.getAttribute(e):void 0,o=r?r.getAttribute(e):void 0;if((!n||void 0!==t&&void 0!==o)&&o!==t)return!0}return!1}function KQ(e){return new RegExp(`(^|\\s)(${e})([^${e}]*)(${e})$`)}function GQ(e,t,n,i,r){let o=e.textNode||(i?e.nodeBefore:e.nodeAfter),s=null;for(;o&&o.getAttribute(t)==n;)s=o,o=i?o.previousSibling:o.nextSibling;return s?r.createPositionAt(s,i?"before":"after"):e}function*ZQ(e,t){for(const n of t)n&&e.getAttributeProperties(n[0]).copyOnEnter&&(yield n)}KQ('"'),KQ("'"),KQ("'"),KQ('"'),KQ('"'),KQ("'");class JQ extends kU{execute(){this.editor.model.change((e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})}))}enterBlock(e){const t=this.editor.model,n=t.document.selection,i=t.schema,r=n.isCollapsed,o=n.getFirstRange(),s=o.start.parent,a=o.end.parent;if(i.isLimit(s)||i.isLimit(a))return r||s!=a||t.deleteContent(n),!1;if(r){const t=ZQ(e.model.schema,n.getAttributes());return XQ(e,o.start),e.setSelectionAttribute(t),!0}{const i=!(o.start.isAtStart&&o.end.isAtEnd),r=s==a;if(t.deleteContent(n,{leaveUnmerged:i}),i){if(r)return XQ(e,n.focus),!0;e.setSelection(a,0)}}return!1}}function XQ(e,t){e.split(t),e.setSelection(t.parent.nextSibling,0)}const QQ={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class e0 extends oq{constructor(e){super(e);const t=this.document;let n=!1;t.on("keydown",((e,t)=>{n=t.shiftKey})),t.on("beforeinput",((i,r)=>{if(!this.isEnabled)return;let o=r.inputType;QH.isSafari&&n&&"insertParagraph"==o&&(o="insertLineBreak");const s=r.domEvent,a=QQ[o];if(!a)return;const l=new o$(t,"enter",r.targetRanges[0]);t.fire(l,new aq(e,s,{isSoft:a.isSoft})),l.stop.called&&i.stop()}))}observe(){}stopObserving(){}}class t0 extends _U{static get pluginName(){return"Enter"}init(){const e=this.editor,t=e.editing.view,n=t.document,i=this.editor.t;t.addObserver(e0),e.commands.add("enter",new JQ(e)),this.listenTo(n,"enter",((i,r)=>{n.isComposing||r.preventDefault(),r.isSoft||(e.execute("enter"),t.scrollToTheSelection())}),{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class n0 extends kU{execute(){const e=this.editor.model,t=e.document;e.change((n=>{!function(e,t,n){const i=n.isCollapsed,r=n.getFirstRange(),o=r.start.parent,s=r.end.parent,a=o==s;if(i){const i=ZQ(e.schema,n.getAttributes());i0(e,t,r.end),t.removeSelectionAttribute(n.getAttributeKeys()),t.setSelectionAttribute(i)}else{const i=!(r.start.isAtStart&&r.end.isAtEnd);e.deleteContent(n,{leaveUnmerged:i}),a?i0(e,t,n.focus):i&&t.setSelection(s,0)}}(e,n,t.selection),this.fire("afterExecute",{writer:n})}))}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=function(e,t){if(t.rangeCount>1)return!1;const n=t.anchor;if(!n||!e.checkChild(n,"softBreak"))return!1;const i=t.getFirstRange(),r=i.start.parent,o=i.end.parent;return!r0(r,e)&&!r0(o,e)||r===o}(e.schema,t.selection)}}function i0(e,t,n){const i=t.createElement("softBreak");e.insertContent(i,n),t.setSelection(i,"after")}function r0(e,t){return!e.is("rootElement")&&(t.isLimit(e)||r0(e.parent,t))}class o0 extends _U{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,t=e.model.schema,n=e.conversion,i=e.editing.view,r=i.document,o=this.editor.t;t.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(e,{writer:t})=>t.createEmptyElement("br")}),i.addObserver(e0),e.commands.add("shiftEnter",new n0(e)),this.listenTo(r,"enter",((t,n)=>{r.isComposing||n.preventDefault(),n.isSoft&&(e.execute("shiftEnter"),i.scrollToTheSelection())}),{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}class s0 extends(vV()){constructor(){super(...arguments),this._stack=[]}add(e,t){const n=this._stack,i=n[0];this._insertDescriptor(e);const r=n[0];i===r||a0(i,r)||this.fire("change:top",{oldDescriptor:i,newDescriptor:r,writer:t})}remove(e,t){const n=this._stack,i=n[0];this._removeDescriptor(e);const r=n[0];i===r||a0(i,r)||this.fire("change:top",{oldDescriptor:i,newDescriptor:r,writer:t})}_insertDescriptor(e){const t=this._stack,n=t.findIndex((t=>t.id===e.id));if(a0(e,t[n]))return;n>-1&&t.splice(n,1);let i=0;for(;t[i]&&(r=t[i],o=e,r.priority>o.priority||!(r.priority<o.priority)&&l0(r.classes)>l0(o.classes));)i++;var r,o;t.splice(i,0,e)}_removeDescriptor(e){const t=this._stack,n=t.findIndex((t=>t.id===e));n>-1&&t.splice(n,1)}}function a0(e,t){return e&&t&&e.priority==t.priority&&l0(e.classes)==l0(t.classes)}function l0(e){return Array.isArray(e)?e.sort().join(","):e}var c0='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>';const u0="ck-widget",d0="ck-widget_selected";function h0(e){return!!e.is("element")&&!!e.getCustomProperty("widget")}function p0(e,t,n){if(t.classes&&n.addClass(sU(t.classes),e),t.attributes)for(const i in t.attributes)n.setAttribute(i,t.attributes[i],e)}function f0(e,t,n){if(t.classes&&n.removeClass(sU(t.classes),e),t.attributes)for(const i in t.attributes)n.removeAttribute(i,e)}function m0(e,t,n=p0,i=f0){const r=new s0;r.on("change:top",((t,r)=>{r.oldDescriptor&&i(e,r.oldDescriptor,r.writer),r.newDescriptor&&n(e,r.newDescriptor,r.writer)})),t.setCustomProperty("addHighlight",((e,t,n)=>r.add(t,n)),e),t.setCustomProperty("removeHighlight",((e,t,n)=>r.remove(t,n)),e)}function g0(e,t,n={}){return t.addClass(["ck-editor__editable","ck-editor__nested-editable"],e),t.setAttribute("role","textbox",e),n.label&&t.setAttribute("aria-label",n.label,e),t.setAttribute("contenteditable",e.isReadOnly?"false":"true",e),e.on("change:isReadOnly",((n,i,r)=>{t.setAttribute("contenteditable",r?"false":"true",e)})),e.on("change:isFocused",((n,i,r)=>{r?t.addClass("ck-editor__nested-editable_focused",e):t.removeClass("ck-editor__nested-editable_focused",e)})),m0(e,t),e}function b0(){return null}const y0="widget-type-around";function v0(e,t,n){return!!e&&h0(e)&&!n.isInline(t)}function _0(e){return e.getAttribute(y0)}const w0=["before","after"],k0=(new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,C0="ck-widget__type-around_disabled";class E0 extends _U{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[t0,FQ]}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",((n,i,r)=>{t.change((e=>{for(const n of t.document.roots)r?e.removeClass(C0,n):e.addClass(C0,n)})),r||e.model.change((e=>{e.removeSelectionAttribute(y0)}))})),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const n=this.editor,i=n.editing.view,r=n.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);n.execute("insertParagraph",{position:n.model.createPositionAt(e,t),attributes:r}),i.focus(),i.scrollToTheSelection()}_listenToIfEnabled(e,t,n,i){this.listenTo(e,t,((...e)=>{this.isEnabled&&n(...e)}),i)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,t=_0(e);if(!t)return!1;const n=e.getSelectedElement();return this._insertParagraph(n,t),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,n=e.locale.t,i={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",((e,r,o)=>{const s=o.mapper.toViewElement(r.item);s&&v0(s,r.item,t)&&(!function(e,t,n){const i=e.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},(function(e){const n=this.toDomElement(e);return function(e,t){for(const n of w0){const i=new FZ({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${n}`],title:t[n],"aria-hidden":"true"},children:[e.ownerDocument.importNode(k0,!0)]});e.appendChild(i.render())}}(n,t),function(e){const t=new FZ({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});e.appendChild(t.render())}(n),n}));e.insert(e.createPositionAt(n,"end"),i)}(o.writer,i,s),s.getCustomProperty("widgetLabel").push((()=>this.isEnabled?n("Press Enter to type after or press Shift + Enter to type before the widget"):"")))}),{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,n=t.document.selection,i=t.schema,r=e.editing.view;function o(e){return`ck-widget_type-around_show-fake-caret_${e}`}this._listenToIfEnabled(r.document,"arrowKey",((e,t)=>{this._handleArrowKeyPress(e,t)}),{context:[h0,"$text"],priority:"high"}),this._listenToIfEnabled(n,"change:range",((t,n)=>{n.directChange&&e.model.change((e=>{e.removeSelectionAttribute(y0)}))})),this._listenToIfEnabled(t.document,"change:data",(()=>{const t=n.getSelectedElement();t&&v0(e.editing.mapper.toViewElement(t),t,i)||e.model.change((e=>{e.removeSelectionAttribute(y0)}))})),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",((e,t,n)=>{const r=n.writer;if(this._currentFakeCaretModelElement){const e=n.mapper.toViewElement(this._currentFakeCaretModelElement);e&&(r.removeClass(w0.map(o),e),this._currentFakeCaretModelElement=null)}const s=t.selection.getSelectedElement();if(!s)return;const a=n.mapper.toViewElement(s);if(!v0(a,s,i))return;const l=_0(t.selection);l&&(r.addClass(o(l),a),this._currentFakeCaretModelElement=s)})),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",((t,n,i)=>{i||e.model.change((e=>{e.removeSelectionAttribute(y0)}))}))}_handleArrowKeyPress(e,t){const n=this.editor,i=n.model,r=i.document.selection,o=i.schema,s=n.editing.view,a=function(e,t){const n=oU(e,t);return"down"===n||"right"===n}(t.keyCode,n.locale.contentLanguageDirection),l=s.document.selection.getSelectedElement();let c;v0(l,n.editing.mapper.toModelElement(l),o)?c=this._handleArrowKeyPressOnSelectedWidget(a):r.isCollapsed?c=this._handleArrowKeyPressWhenSelectionNextToAWidget(a):t.shiftKey||(c=this._handleArrowKeyPressWhenNonCollapsedSelection(a)),c&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const t=this.editor.model,n=_0(t.document.selection);return t.change((t=>n?n!==(e?"after":"before")&&(t.removeSelectionAttribute(y0),!0):(t.setSelectionAttribute(y0,e?"after":"before"),!0)))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,n=t.model,i=n.schema,r=t.plugins.get("Widget"),o=r._getObjectElementNextToSelection(e);return!!v0(t.editing.mapper.toViewElement(o),o,i)&&(n.change((t=>{r._setSelectionOverElement(o),t.setSelectionAttribute(y0,e?"before":"after")})),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,n=t.model,i=n.schema,r=t.editing.mapper,o=n.document.selection,s=e?o.getLastPosition().nodeBefore:o.getFirstPosition().nodeAfter;return!!v0(r.toViewElement(s),s,i)&&(n.change((t=>{t.setSelection(s,"on"),t.setSelectionAttribute(y0,e?"after":"before")})),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",((n,i)=>{const r=i.domTarget.closest(".ck-widget__type-around__button");if(!r)return;const o=r.classList.contains("ck-widget__type-around__button_before")?"before":"after",s=function(e,t){const n=e.closest(".ck-widget");return t.mapDomToView(n)}(r,t.domConverter),a=e.editing.mapper.toModelElement(s);this._insertParagraph(a,o),i.preventDefault(),n.stop()}))}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection,n=e.editing.view;this._listenToIfEnabled(n.document,"enter",((n,i)=>{if("atTarget"!=n.eventPhase)return;const r=t.getSelectedElement(),o=e.editing.mapper.toViewElement(r),s=e.model.schema;let a;this._insertParagraphAccordingToFakeCaretPosition()?a=!0:v0(o,r,s)&&(this._insertParagraph(r,i.isSoft?"before":"after"),a=!0),a&&(i.preventDefault(),n.stop())}),{context:h0})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",((t,n)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(n.selection=e.selection)}),{priority:"high"}),QH.isAndroid?this._listenToIfEnabled(e,"keydown",((e,t)=>{229==t.keyCode&&this._insertParagraphAccordingToFakeCaretPosition()})):this._listenToIfEnabled(e,"compositionstart",(()=>{this._insertParagraphAccordingToFakeCaretPosition()}),{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,t=e.editing.view,n=e.model,i=n.schema;this._listenToIfEnabled(t.document,"delete",((t,r)=>{if("atTarget"!=t.eventPhase)return;const o=_0(n.document.selection);if(!o)return;const s=r.direction,a=n.document.selection.getSelectedElement(),l="forward"==s;if("before"===o===l)e.execute("delete",{selection:n.createSelection(a,"on")});else{const t=i.getNearestSelectionRange(n.createPositionAt(a,o),s);if(t)if(t.isCollapsed){const r=n.createSelection(t.start);if(n.modifySelection(r,{direction:s}),r.focus.isEqual(t.start)){const e=function(e,t){let n=t;for(const i of t.getAncestors({parentFirst:!0})){if(i.childCount>1||e.isLimit(i))break;n=i}return n}(i,t.start.parent);n.deleteContent(n.createSelection(e,"on"),{doNotAutoparagraph:!0})}else n.change((n=>{n.setSelection(t),e.execute(l?"deleteForward":"delete")}))}else n.change((n=>{n.setSelection(t),e.execute(l?"deleteForward":"delete")}))}r.preventDefault(),t.stop()}),{context:h0})}_enableInsertContentIntegration(){const e=this.editor,t=this.editor.model,n=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",((e,[i,r])=>{if(r&&!r.is("documentSelection"))return;const o=_0(n);return o?(e.stop(),t.change((e=>{const r=n.getSelectedElement(),s=t.createPositionAt(r,o),a=e.createSelection(s),l=t.insertContent(i,a);return e.setSelection(a),l}))):void 0}),{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",((e,n)=>{const[,i,r={}]=n;if(i&&!i.is("documentSelection"))return;const o=_0(t);o&&(r.findOptimalPosition=o,n[3]=r)}),{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",((e,[n])=>{n&&!n.is("documentSelection")||_0(t)&&e.stop()}),{priority:"high"})}}function x0(e,t,n){const i=e.schema,r=e.createRangeIn(t.root),o="forward"==n?"elementStart":"elementEnd";for(const{previousPosition:e,item:s,type:a}of r.getWalker({startPosition:t,direction:n})){if(i.isLimit(s)&&!i.isInline(s))return e;if(a==o&&i.isBlock(s))return null}return null}function S0(e,t,n){const i="backward"==n?t.end:t.start;if(e.checkChild(i,"$text"))return i;for(const{nextPosition:i}of t.getWalker({direction:n}))if(e.checkChild(i,"$text"))return i;return null}class O0 extends _U{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[E0,FQ]}init(){const e=this.editor,t=e.editing.view,n=t.document,i=e.t;this.editor.editing.downcastDispatcher.on("selection",((t,n,i)=>{const r=i.writer,o=n.selection;if(o.isCollapsed)return;const s=o.getSelectedElement();if(!s)return;const a=e.editing.mapper.toViewElement(s);var l;h0(a)&&i.consumable.consume(o,"selection")&&r.setSelection(r.createRangeOn(a),{fake:!0,label:(l=a,l.getCustomProperty("widgetLabel").reduce(((e,t)=>"function"==typeof t?e?e+". "+t():t():e?e+". "+t:t),""))})})),this.editor.editing.downcastDispatcher.on("selection",((e,t,n)=>{this._clearPreviouslySelectedWidgets(n.writer);const i=n.writer,r=i.document.selection;let o=null;for(const e of r.getRanges())for(const t of e){const e=t.item;h0(e)&&(s=e,!(a=o)||!Array.from(s.getAncestors()).includes(a))&&(i.addClass(d0,e),this._previouslySelected.add(e),o=e)}var s,a}),{priority:"low"}),t.addObserver(wZ),this.listenTo(n,"mousedown",((...e)=>this._onMousedown(...e))),this.listenTo(n,"arrowKey",((...e)=>{this._handleSelectionChangeOnArrowKeyPress(...e)}),{context:[h0,"$text"]}),this.listenTo(n,"arrowKey",((...e)=>{this._preventDefaultOnArrowKeyPress(...e)}),{context:"$root"}),this.listenTo(n,"arrowKey",function(e){const t=e.model;return(n,i)=>{const r=i.keyCode==eU.arrowup,o=i.keyCode==eU.arrowdown,s=i.shiftKey,a=t.document.selection;if(!r&&!o)return;const l=o;if(s&&function(e,t){return!e.isCollapsed&&e.isBackward==t}(a,l))return;const c=function(e,t,n){const i=e.model;if(n){const e=t.isCollapsed?t.focus:t.getLastPosition(),n=x0(i,e,"forward");if(!n)return null;const r=i.createRange(e,n),o=S0(i.schema,r,"backward");return o?i.createRange(e,o):null}{const e=t.isCollapsed?t.focus:t.getFirstPosition(),n=x0(i,e,"backward");if(!n)return null;const r=i.createRange(n,e),o=S0(i.schema,r,"forward");return o?i.createRange(o,e):null}}(e,a,l);if(c){if(c.isCollapsed){if(a.isCollapsed)return;if(s)return}(c.isCollapsed||function(e,t,n){const i=e.model,r=e.view.domConverter;if(n){const e=i.createSelection(t.start);i.modifySelection(e),e.focus.isAtEnd||t.start.isEqual(e.focus)||(t=i.createRange(e.focus,t.end))}const o=e.mapper.toViewRange(t),s=r.viewRangeToDom(o),a=xW.getDomRangeRects(s);let l;for(const e of a)if(void 0!==l){if(Math.round(e.top)>=l)return!1;l=Math.max(l,Math.round(e.bottom))}else l=Math.round(e.bottom);return!0}(e,c,l))&&(t.change((e=>{const n=l?c.end:c.start;if(s){const i=t.createSelection(a.anchor);i.setFocus(n),e.setSelection(i)}else e.setSelection(n)})),n.stop(),i.preventDefault(),i.stopPropagation())}}}(this.editor.editing),{context:"$text"}),this.listenTo(n,"delete",((e,t)=>{this._handleDelete("forward"==t.direction)&&(t.preventDefault(),e.stop())}),{context:"$root"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:i("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:i("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:i("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:i("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:i("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,t){const n=this.editor,i=n.editing.view,r=i.document;let o=t.target;if(t.domEvent.detail>=3)return void(this._selectBlockContent(o)&&t.preventDefault());if(function(e){let t=e;for(;t;){if(t.is("editableElement")&&!t.is("rootElement"))return!0;if(h0(t))return!1;t=t.parent}return!1}(o))return;if(!h0(o)&&(o=o.findAncestor(h0),!o))return;QH.isAndroid&&t.preventDefault(),r.isFocused||i.focus();const s=n.editing.mapper.toModelElement(o);this._setSelectionOverElement(s)}_selectBlockContent(e){const t=this.editor,n=t.model,i=t.editing.mapper,r=n.schema,o=i.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),s=function(e,t){for(const n of e.getAncestors({includeSelf:!0,parentFirst:!0})){if(t.checkChild(n,"$text"))return n;if(t.isLimit(n)&&!t.isObject(n))break}return null}(i.toModelElement(o),n.schema);return!!s&&(n.change((e=>{const t=r.isLimit(s)?null:function(e,t){const n=new Pq({startPosition:e});for(const{item:e}of n){if(t.isLimit(e)||!e.is("element"))return null;if(t.checkChild(e,"$text"))return e}return null}(e.createPositionAfter(s),r),n=e.createPositionAt(s,0),i=t?e.createPositionAt(t,0):e.createPositionAt(s,"end");e.setSelection(e.createRange(n,i))})),!0)}_handleSelectionChangeOnArrowKeyPress(e,t){const n=t.keyCode,i=this.editor.model,r=i.schema,o=i.document.selection,s=o.getSelectedElement(),a=oU(n,this.editor.locale.contentLanguageDirection),l="down"==a||"right"==a,c="up"==a||"down"==a;if(s&&r.isObject(s)){const n=l?o.getLastPosition():o.getFirstPosition(),s=r.getNearestSelectionRange(n,l?"forward":"backward");return void(s&&(i.change((e=>{e.setSelection(s)})),t.preventDefault(),e.stop()))}if(!o.isCollapsed&&!t.shiftKey){const n=o.getFirstPosition(),s=o.getLastPosition(),a=n.nodeAfter,c=s.nodeBefore;return void((a&&r.isObject(a)||c&&r.isObject(c))&&(i.change((e=>{e.setSelection(l?s:n)})),t.preventDefault(),e.stop()))}if(!o.isCollapsed)return;const u=this._getObjectElementNextToSelection(l);if(u&&r.isObject(u)){if(r.isInline(u)&&c)return;this._setSelectionOverElement(u),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const n=this.editor.model,i=n.schema,r=n.document.selection.getSelectedElement();r&&i.isObject(r)&&(t.preventDefault(),e.stop())}_handleDelete(e){const t=this.editor.model.document.selection;if(!this.editor.model.canEditAt(t))return;if(!t.isCollapsed)return;const n=this._getObjectElementNextToSelection(e);return n?(this.editor.model.change((e=>{let i=t.anchor.parent;for(;i.isEmpty;){const t=i;i=t.parent,e.remove(t)}this._setSelectionOverElement(n)})),!0):void 0}_setSelectionOverElement(e){this.editor.model.change((t=>{t.setSelection(t.createRangeOn(e))}))}_getObjectElementNextToSelection(e){const t=this.editor.model,n=t.schema,i=t.document.selection,r=t.createSelection(i);if(t.modifySelection(r,{direction:e?"forward":"backward"}),r.isEqual(i))return null;const o=e?r.focus.nodeBefore:r.focus.nodeAfter;return o&&n.isObject(o)?o:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(d0,t);this._previouslySelected.clear()}}class T0 extends _U{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[FX]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",(t=>{(function(e){const t=e.getSelectedElement();return!(!t||!h0(t))})(e.editing.view.document.selection)&&t.stop()}),{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",(()=>{this._updateToolbarsVisibility()})),this.listenTo(e.ui,"update",(()=>{this._updateToolbarsVisibility()})),this.listenTo(e.ui.focusTracker,"change:isFocused",(()=>{this._updateToolbarsVisibility()}),{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:t,items:n,getRelatedElement:i,balloonClassName:r="ck-toolbar-container"}){if(!n.length)return void hV("widget-toolbar-no-items",{toolbarId:e});const o=this.editor,s=o.t,a=new IJ(o.locale);if(a.ariaLabel=t||s("Widget toolbar"),this._toolbarDefinitions.has(e))throw new dV("widget-toolbar-duplicated",this,{toolbarId:e});const l={view:a,getRelatedElement:i,balloonClassName:r,itemsConfig:n,initialized:!1};o.ui.addToolbar(a,{isContextual:!0,beforeFocus:()=>{const e=i(o.editing.view.document.selection);e&&this._showToolbar(l,e)},afterBlur:()=>{this._hideToolbar(l)}}),this._toolbarDefinitions.set(e,l)}_updateToolbarsVisibility(){let e=0,t=null,n=null;for(const i of this._toolbarDefinitions.values()){const r=i.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&r)if(this.editor.ui.focusTracker.isFocused){const o=r.getAncestors().length;o>e&&(e=o,t=r,n=i)}else this._isToolbarVisible(i)&&this._hideToolbar(i);else this._isToolbarInBalloon(i)&&this._hideToolbar(i)}n&&this._showToolbar(n,t)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){this._isToolbarVisible(e)?M0(this.editor,t):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:P0(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",(()=>{for(const e of this._toolbarDefinitions.values())if(this._isToolbarVisible(e)){const t=e.getRelatedElement(this.editor.editing.view.document.selection);M0(this.editor,t)}})))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function M0(e,t){const n=e.plugins.get("ContextualBalloon"),i=P0(e,t);n.updatePosition(i)}function P0(e,t){const n=e.editing.view,i=mX.defaultPositions;return{target:n.domConverter.mapViewToDom(t),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}AV(),AV();const D0=AW("px");class L0 extends sJ{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",(e=>!e))],style:{left:e.to("left",(e=>D0(e))),top:e.to("top",(e=>D0(e))),width:e.to("width",(e=>D0(e)))}}})}}class A0 extends _U{constructor(){super(...arguments),this.removeDropMarkerDelayed=mU((()=>this.removeDropMarker()),40),this._updateDropMarkerThrottled=BT((e=>this._updateDropMarker(e)),40),this._reconvertMarkerThrottled=BT((()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")}),0),this._dropTargetLineView=new L0,this._domEmitter=new(mW()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,t,n,i,r,o){this.removeDropMarkerDelayed.cancel();const s=z0(this.editor,e,t,n,i,r,o);if(s)return o&&o.containsRange(s)?this.removeDropMarker():void this._updateDropMarkerThrottled(s)}getFinalDropRange(e,t,n,i,r,o){const s=z0(this.editor,e,t,n,i,r,o);return this.removeDropMarker(),s}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change((e=>{e.removeMarker("drop-target")}))}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:n})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(n);t.markerRange.isCollapsed?this._updateDropTargetLine(t.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const t=this.editor,n=t.model.markers;t.model.change((t=>{n.has("drop-target")?n.get("drop-target").getRange().isEqual(e)||t.updateMarker("drop-target",{range:e}):t.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})}))}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},(function(e){const t=this.toDomElement(e);return t.append("",e.createElement("span"),""),t}))}_updateDropTargetLine(e){const t=this.editor.editing,n=e.start.nodeBefore,i=e.start.nodeAfter,r=e.start.parent,o=n?t.mapper.toViewElement(n):null,s=o?t.view.domConverter.mapViewToDom(o):null,a=i?t.mapper.toViewElement(i):null,l=a?t.view.domConverter.mapViewToDom(a):null,c=t.mapper.toViewElement(r);if(!c)return;const u=t.view.domConverter.mapViewToDom(c),d=this._getScrollableRect(c),{scrollX:h,scrollY:p}=vW.window,f=s?new xW(s):null,m=l?new xW(l):null,g=new xW(u).excludeScrollbarsAndBorders(),b=f?f.bottom:g.top,y=m?m.top:g.bottom,v=vW.window.getComputedStyle(u),_=b<=y?(b+y)/2:y;if(d.top<_&&_<d.bottom){const e=g.left+parseFloat(v.paddingLeft),t=g.right-parseFloat(v.paddingRight),n=Math.max(e+h,d.left),i=Math.min(t+h,d.right);this._dropTargetLineView.set({isVisible:!0,left:n,top:_+p,width:i-n})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const t=e.root.rootName;let n;if(this._scrollables.has(t))n=this._scrollables.get(t).domElement;else{n=function(e){let t=e;do{t=t.parentElement;const e=vW.window.getComputedStyle(t).overflowY;if("auto"==e||"scroll"==e)break}while("BODY"!=t.tagName);return t}(this.editor.editing.view.domConverter.mapViewToDom(e)),this._domEmitter.listenTo(n,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const i=new DW(n,this._reconvertMarkerThrottled);this._scrollables.set(t,{domElement:n,resizeObserver:i})}return new xW(n).excludeScrollbarsAndBorders()}}function z0(e,t,n,i,r,o,s){const a=e.model,l=e.editing.mapper;let c=N0(e,t);for(;c;){if(!o)if(a.schema.checkChild(c,"$text")){if(n){const t=n[0].start,o=l.toModelPosition(t);if(!s||Array.from(s.getItems()).every((e=>a.schema.checkChild(o,e)))){if(a.schema.checkChild(o,"$text"))return a.createRange(o);if(t)return R0(e,N0(e,t.parent),i,r)}}}else if(a.schema.isInline(c))return R0(e,c,i,r);if(a.schema.isBlock(c))return R0(e,c,i,r);if(a.schema.checkChild(c,"$block")){const t=Array.from(c.getChildren()).filter((t=>t.is("element")&&!I0(e,t)));let n=0,o=t.length;if(0==o)return a.createRange(a.createPositionAt(c,"end"));for(;n<o-1;){const s=Math.floor((n+o)/2);"before"==j0(e,t[s],i,r)?o=s:n=s}return R0(e,t[n],i,r)}c=c.parent}return null}function I0(e,t){const n=e.editing.mapper,i=e.editing.view.domConverter,r=n.toViewElement(t);if(!r)return!0;const o=i.mapViewToDom(r);return"none"!=vW.window.getComputedStyle(o).float}function R0(e,t,n,i){const r=e.model;return r.createRange(r.createPositionAt(t,j0(e,t,n,i)))}function j0(e,t,n,i){const r=e.editing.mapper,o=e.editing.view.domConverter,s=r.toViewElement(t),a=o.mapViewToDom(s),l=new xW(a);return e.model.schema.isInline(t)?n<(l.left+l.right)/2?"before":"after":i<(l.top+l.bottom)/2?"before":"after"}function N0(e,t){const n=e.editing.mapper,i=e.editing.view,r=n.toModelElement(t);if(r)return r;const o=i.createPositionBefore(t),s=n.findMappedViewAncestor(o);return n.toModelElement(s)}class F0 extends _U{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(mW())}static get pluginName(){return"DragDropBlockToolbar"}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",((e,t,n)=>{n?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")})),QH.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const t=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(t,"dragstart",((e,t)=>this._handleBlockDragStart(t))),this._domEmitter.listenTo(vW.document,"dragover",((e,t)=>this._handleBlockDragging(t))),this._domEmitter.listenTo(vW.document,"drop",((e,t)=>this._handleBlockDragging(t))),this._domEmitter.listenTo(vW.document,"dragend",(()=>this._handleBlockDragEnd()),{useCapture:!0}),this.isEnabled&&t.setAttribute("draggable","true"),this.on("change:isEnabled",((e,n,i)=>{t.setAttribute("draggable",i?"true":"false")}))}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const t=this.editor.model,n=t.document.selection,i=this.editor.editing.view,r=Array.from(n.getSelectedBlocks()),o=t.createRange(t.createPositionBefore(r[0]),t.createPositionAfter(r[r.length-1]));t.change((e=>e.setSelection(o))),this._isBlockDragging=!0,i.focus(),i.getObserver(_Q).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const t=e.clientX+("ltr"==this.editor.locale.contentLanguageDirection?100:-100),n=e.clientY,i=document.elementFromPoint(t,n),r=this.editor.editing.view;i&&i.closest(".ck-editor__editable")&&r.getObserver(_Q).onDomEvent({...e,type:e.type,dataTransfer:e.dataTransfer,target:i,clientX:t,clientY:n,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}class Y0 extends _U{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=mU((()=>this._clearDraggableAttributes()),40),this._blockMode=!1,this._domEmitter=new(mW())}static get pluginName(){return"DragDrop"}static get requires(){return[xQ,O0,A0,F0]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,t.addObserver(_Q),t.addObserver(wZ),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",((e,t,n)=>{n?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})),this.on("change:isEnabled",((e,t,n)=>{n||this._finalizeDragging(!1)})),QH.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,n=e.editing.view,i=n.document,r=e.plugins.get(A0);this.listenTo(i,"dragstart",((e,n)=>{if(n.target&&n.target.is("editableElement"))return void n.preventDefault();if(this._prepareDraggedRange(n.target),!this._draggedRange)return void n.preventDefault();this._draggingUid=aV(),n.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",n.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const i=t.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(n.dataTransfer,i,"dragstart");const{dataTransfer:r,domTarget:o,domEvent:s}=n,{clientX:a}=s;this._updatePreview({dataTransfer:r,domTarget:o,clientX:a}),n.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")}),{priority:"low"}),this.listenTo(i,"dragend",((e,t)=>{this._finalizeDragging(!t.dataTransfer.isCanceled&&"move"==t.dataTransfer.dropEffect)}),{priority:"low"}),this._domEmitter.listenTo(vW.document,"dragend",(()=>{this._blockMode=!1}),{useCapture:!0}),this.listenTo(i,"dragenter",(()=>{this.isEnabled&&n.focus()})),this.listenTo(i,"dragleave",(()=>{r.removeDropMarkerDelayed()})),this.listenTo(i,"dragging",((e,t)=>{if(!this.isEnabled)return void(t.dataTransfer.dropEffect="none");const{clientX:n,clientY:i}=t.domEvent;r.updateDropMarker(t.target,t.targetRanges,n,i,this._blockMode,this._draggedRange),this._draggedRange||(t.dataTransfer.dropEffect="copy"),QH.isGecko||("copy"==t.dataTransfer.effectAllowed?t.dataTransfer.dropEffect="copy":["all","copyMove"].includes(t.dataTransfer.effectAllowed)&&(t.dataTransfer.dropEffect="move")),e.stop()}),{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,t=e.editing.view.document,n=e.plugins.get(A0);this.listenTo(t,"clipboardInput",((t,i)=>{if("drop"!=i.method)return;const{clientX:r,clientY:o}=i.domEvent,s=n.getFinalDropRange(i.target,i.targetRanges,r,o,this._blockMode,this._draggedRange);return s?(this._draggedRange&&this._draggingUid!=i.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),"move"==B0(i.dataTransfer)&&this._draggedRange&&this._draggedRange.containsRange(s,!0)?(this._finalizeDragging(!1),void t.stop()):void(i.targetRanges=[e.editing.mapper.toViewRange(s)])):(this._finalizeDragging(!1),void t.stop())}),{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(xQ);e.on("contentInsertion",((e,t)=>{if(!this.isEnabled||"drop"!==t.method)return;const n=t.targetRanges.map((e=>this.editor.editing.mapper.toModelRange(e)));this.editor.model.change((e=>e.setSelection(n)))}),{priority:"high"}),e.on("contentInsertion",((e,t)=>{if(!this.isEnabled||"drop"!==t.method)return;const n="move"==B0(t.dataTransfer),i=!t.resultRange||!t.resultRange.isCollapsed;this._finalizeDragging(i&&n)}),{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,n=t.document;this.listenTo(n,"mousedown",((i,r)=>{if(QH.isAndroid||!r)return;this._clearDraggableAttributesDelayed.cancel();let o=H0(r.target);if(QH.isBlink&&!e.isReadOnly&&!o&&!n.selection.isCollapsed){const e=n.selection.getSelectedElement();e&&h0(e)||(o=n.selection.editableElement)}o&&(t.change((e=>{e.setAttribute("draggable","true",o)})),this._draggableElement=e.editing.mapper.toModelElement(o))})),this.listenTo(n,"mouseup",(()=>{QH.isAndroid||this._clearDraggableAttributesDelayed()}))}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change((t=>{this._draggableElement&&"$graveyard"!=this._draggableElement.root.rootName&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null}))}_finalizeDragging(e){const t=this.editor,n=t.model;t.plugins.get(A0).removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&n.change((e=>{const t=n.createSelection(this._draggedRange);n.deleteContent(t,{doNotAutoparagraph:!0});const i=t.getFirstPosition().parent;i.isEmpty&&!n.schema.checkChild(i,"$text")&&n.schema.checkChild(i,"paragraph")&&e.insertElement("paragraph",i,0)})),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const t=this.editor,n=t.model,i=n.document.selection,r=e?H0(e):null;if(r){const e=t.editing.mapper.toModelElement(r);return this._draggedRange=Xq.fromRange(n.createRangeOn(e)),this._blockMode=n.schema.isBlock(e),void(t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop"))}if(i.isCollapsed&&!i.getFirstPosition().parent.isEmpty)return;const o=Array.from(i.getSelectedBlocks()),s=i.getFirstRange();if(0==o.length)return void(this._draggedRange=Xq.fromRange(s));const a=V0(n,o);if(o.length>1)this._draggedRange=Xq.fromRange(a),this._blockMode=!0;else if(1==o.length){const e=s.start.isTouching(a.start)&&s.end.isTouching(a.end);this._draggedRange=Xq.fromRange(e?a:s),this._blockMode=e}n.change((e=>e.setSelection(this._draggedRange.toRange())))}_updatePreview({dataTransfer:e,domTarget:t,clientX:n}){const i=this.editor.editing.view,r=i.document.selection.editableElement,o=i.domConverter.mapViewToDom(r),s=vW.window.getComputedStyle(o);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=WV(vW.document,"div",{style:"position: fixed; left: -999999px;"}),vW.document.body.appendChild(this._previewContainer));const a=new xW(o);if(o.contains(t))return;const l=parseFloat(s.paddingLeft),c=WV(vW.document,"div");c.className="ck ck-content",c.style.width=s.width,c.style.paddingLeft=`${a.left-n+l}px`,QH.isiOS&&(c.style.backgroundColor="white"),c.innerHTML=e.getData("text/html"),e.setDragImage(c,0,0),this._previewContainer.appendChild(c)}}function B0(e){return QH.isGecko?e.dropEffect:["all","copyMove"].includes(e.effectAllowed)?"move":"copy"}function H0(e){if(e.is("editableElement"))return null;if(e.hasClass("ck-widget__selection-handle"))return e.findAncestor(h0);if(h0(e))return e;const t=e.findAncestor((e=>h0(e)||e.is("editableElement")));return h0(t)?t:null}function V0(e,t){const n=t[0],i=t[t.length-1],r=n.getCommonAncestor(i),o=e.createPositionBefore(n),s=e.createPositionAfter(i);if(r&&r.is("element")&&!e.schema.isLimit(r)){const t=e.createRangeOn(r),n=o.isTouching(t.start),i=s.isTouching(t.end);if(n&&i)return V0(e,[r])}return e.createRange(o,s)}class W0 extends _U{static get pluginName(){return"PastePlainText"}static get requires(){return[xQ]}init(){const e=this.editor,t=e.model,n=e.editing.view,i=n.document,r=t.document.selection;let o=!1;n.addObserver(_Q),this.listenTo(i,"keydown",((e,t)=>{o=t.shiftKey})),e.plugins.get(xQ).on("contentInsertion",((e,n)=>{(o||function(e,t){if(e.childCount>1)return!1;const n=e.getChild(0);return!t.isObject(n)&&0==Array.from(n.getAttributeKeys()).length}(n.content,t.schema))&&t.change((e=>{const i=Array.from(r.getAttributes()).filter((([e])=>t.schema.getAttributeProperties(e).isFormatting));r.isCollapsed||t.deleteContent(r,{doNotAutoparagraph:!0}),i.push(...r.getAttributes());const o=e.createRangeIn(n.content);for(const t of o.getItems())t.is("$textProxy")&&e.setAttributes(i,t)}))}))}}class U0 extends _U{static get pluginName(){return"Clipboard"}static get requires(){return[EQ,xQ,Y0,W0]}init(){const e=this.editor,t=this.editor.t;e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Copy selected content"),keystroke:"CTRL+C"},{label:t("Paste content"),keystroke:"CTRL+V"},{label:t("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}class $0 extends kU{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let n=e.schema.getLimitElement(t);if(t.containsEntireContent(n)||!q0(e.schema,n))do{if(n=n.parent,!n)return}while(!q0(e.schema,n));e.change((e=>{e.setSelection(n,"in")}))}}function q0(e,t){return e.isLimit(t)&&(e.checkChild(t,"$text")||e.checkChild(t,"paragraph"))}const K0=iU("Ctrl+A");class G0 extends _U{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,t=e.t,n=e.editing.view.document;e.commands.add("selectAll",new $0(e)),this.listenTo(n,"keydown",((t,n)=>{nU(n)===K0&&(e.execute("selectAll"),n.preventDefault())})),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Select all"),keystroke:"CTRL+A"}]})}}class Z0 extends _U{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",(t=>{const n=e.commands.get("selectAll"),i=new gJ(t),r=t.t;return i.set({label:r("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),i.bind("isEnabled").to(n,"isEnabled"),this.listenTo(i,"execute",(()=>{e.execute("selectAll"),e.editing.view.focus()})),i}))}}class J0 extends _U{static get requires(){return[G0,Z0]}static get pluginName(){return"SelectAll"}}class X0 extends kU{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",((e,t)=>{t[1]={...t[1]};const n=t[1];n.batchType||(n.batchType={isUndoable:!1})}),{priority:"high"}),this.listenTo(e.data,"set",((e,t)=>{t[1].batchType.isUndoable||this.clearStack()}))}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection,n={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,n){const i=this.editor.model,r=i.document,o=[],s=e.map((e=>e.getTransformedByOperations(n))),a=s.flat();for(const e of s){const t=e.filter((e=>e.root!=r.graveyard)).filter((e=>!e1(e,a)));t.length&&(Q0(t),o.push(t[0]))}o.length&&i.change((e=>{e.setSelection(o,{backward:t})}))}_undo(e,t){const n=this.editor.model,i=n.document;this._createdBatches.add(t);const r=e.operations.slice().filter((e=>e.isDocumentOperation));r.reverse();for(const e of r){const r=e.baseVersion+1,o=Array.from(i.history.getOperations(r)),s=MG([e.getReversed()],o,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let r of s){const o=r.affectedSelectable;o&&!n.canEditAt(o)&&(r=new vG(r.baseVersion)),t.addOperation(r),n.applyOperation(r),i.history.setOperationAsUndone(e,r)}}}}function Q0(e){e.sort(((e,t)=>e.start.isBefore(t.start)?-1:1));for(let t=1;t<e.length;t++){const n=e[t-1].getJoined(e[t],!0);n&&(t--,e.splice(t,2,n))}}function e1(e,t){return t.some((t=>t!==e&&t.containsRange(e,!0)))}class t1 extends X0{execute(e=null){const t=e?this._stack.findIndex((t=>t.batch==e)):this._stack.length-1,n=this._stack.splice(t,1)[0],i=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(i,(()=>{this._undo(n.batch,i);const e=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,e)})),this.fire("revert",n.batch,i),this.refresh()}}class n1 extends X0{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,(()=>{const n=e.batch.operations[e.batch.operations.length-1].baseVersion+1,i=this.editor.model.document.history.getOperations(n);this._restoreSelection(e.selection.ranges,e.selection.isBackward,i),this._undo(e.batch,t)})),this.refresh()}}class i1 extends _U{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor,t=e.t;this._undoCommand=new t1(e),this._redoCommand=new n1(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",((e,t)=>{const n=t[0];if(!n.isDocumentOperation)return;const i=n.batch,r=this._redoCommand.createdBatches.has(i),o=this._undoCommand.createdBatches.has(i);this._batchRegistry.has(i)||(this._batchRegistry.add(i),i.isUndoable&&(r?this._undoCommand.addBatch(i):o||(this._undoCommand.addBatch(i),this._redoCommand.clearStack())))}),{priority:"highest"}),this.listenTo(this._undoCommand,"revert",((e,t,n)=>{this._redoCommand.addBatch(n)})),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Undo"),keystroke:"CTRL+Z"},{label:t("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class r1 extends _U{static get pluginName(){return"UndoUI"}init(){const e=this.editor,t=e.locale,n=e.t,i="ltr"==t.uiLanguageDirection?PZ.undo:PZ.redo,r="ltr"==t.uiLanguageDirection?PZ.redo:PZ.undo;this._addButton("undo",n("Undo"),"CTRL+Z",i),this._addButton("redo",n("Redo"),"CTRL+Y",r)}_addButton(e,t,n,i){const r=this.editor;r.ui.componentFactory.add(e,(o=>{const s=r.commands.get(e),a=new gJ(o);return a.set({label:t,icon:i,keystroke:n,tooltip:!0}),a.bind("isEnabled").to(s,"isEnabled"),this.listenTo(a,"execute",(()=>{r.execute(e),r.editing.view.focus()})),a}))}}class o1 extends _U{static get requires(){return[i1,r1]}static get pluginName(){return"Undo"}}class s1 extends _U{static get requires(){return[dJ,U0,t0,J0,o0,YQ,o1]}static get pluginName(){return"Essentials"}}class a1 extends kU{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,t=dU(e.document.selection.getSelectedBlocks());this.value=!!t&&t.is("element","paragraph"),this.isEnabled=!!t&&l1(t,e.schema)}execute(e={}){const t=this.editor.model,n=t.document,i=e.selection||n.selection;t.canEditAt(i)&&t.change((e=>{const n=i.getSelectedBlocks();for(const i of n)!i.is("element","paragraph")&&l1(i,t.schema)&&e.rename(i,"paragraph")}))}}function l1(e,t){return t.checkChild(e.parent,"paragraph")&&!t.isObject(e)}class c1 extends kU{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const t=this.editor.model,n=e.attributes;let i=e.position;t.canEditAt(i)&&t.change((e=>{if(i=this._findPositionToInsertParagraph(i,e),!i)return;const r=e.createElement("paragraph");n&&t.schema.setAllowedAttributes(r,n,e),t.insertContent(r,i),e.setSelection(r,"in")}))}_findPositionToInsertParagraph(e,t){const n=this.editor.model;if(n.schema.checkChild(e,"paragraph"))return e;const i=n.schema.findAllowedParent(e,"paragraph");if(!i)return null;const r=e.parent,o=n.schema.checkChild(r,"$text");return r.isEmpty||o&&e.isAtEnd?n.createPositionAfter(r):!r.isEmpty&&o&&e.isAtStart?n.createPositionBefore(r):t.split(e,i).position}}class u1 extends _U{static get pluginName(){return"Paragraph"}init(){const e=this.editor,t=e.model;e.commands.add("paragraph",new a1(e)),e.commands.add("insertParagraph",new c1(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(e,{writer:t})=>u1.paragraphLikeElements.has(e.name)?e.isEmpty?null:t.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}}u1.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);var d1=u1;class h1 extends kU{constructor(e,t){super(e),this.modelElements=t}refresh(){const e=dU(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some((t=>p1(e,t,this.editor.model.schema)))}execute(e){const t=this.editor.model,n=t.document,i=e.value;t.change((e=>{const r=Array.from(n.selection.getSelectedBlocks()).filter((e=>p1(e,i,t.schema)));for(const t of r)t.is("element",i)||e.rename(t,i)}))}}function p1(e,t,n){return n.checkChild(e.parent,t)&&!n.isObject(e)}const f1="paragraph";class m1 extends _U{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[d1]}init(){const e=this.editor,t=e.config.get("heading.options"),n=[];for(const i of t)"paragraph"!==i.model&&(e.model.schema.register(i.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(i),n.push(i.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new h1(e,n))}afterInit(){const e=this.editor,t=e.commands.get("enter"),n=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",((t,i)=>{const r=e.model.document.selection.getFirstPosition().parent;n.some((e=>r.is("element",e.model)))&&!r.is("element",f1)&&0===r.childCount&&i.writer.rename(r,f1)}))}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:lV.low+1})}}class g1 extends _U{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,t=e.t,n=function(e){const t=e.t,n={Paragraph:t("Paragraph"),"Heading 1":t("Heading 1"),"Heading 2":t("Heading 2"),"Heading 3":t("Heading 3"),"Heading 4":t("Heading 4"),"Heading 5":t("Heading 5"),"Heading 6":t("Heading 6")};return e.config.get("heading.options").map((e=>{const t=n[e.title];return t&&t!=e.title&&(e.title=t),e}))}(e),i=t("Choose heading"),r=t("Heading");e.ui.componentFactory.add("heading",(t=>{const o={},s=new uU,a=e.commands.get("heading"),l=e.commands.get("paragraph"),c=[a];for(const e of n){const t={type:"button",model:new jX({label:e.title,class:e.class,role:"menuitemradio",withText:!0})};"paragraph"===e.model?(t.model.bind("isOn").to(l,"value"),t.model.set("commandName","paragraph"),c.push(l)):(t.model.bind("isOn").to(a,"value",(t=>t===e.model)),t.model.set({commandName:"heading",commandValue:e.model})),s.add(t),o[e.model]=e.title}const u=WJ(t);return qJ(u,s,{ariaLabel:r,role:"menu"}),u.buttonView.set({ariaLabel:r,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:r}),u.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),u.bind("isEnabled").toMany(c,"isEnabled",((...e)=>e.some((e=>e)))),u.buttonView.bind("label").to(a,"value",l,"value",((e,t)=>{const n=e||t&&"paragraph";return"boolean"==typeof n?i:o[n]?o[n]:i})),this.listenTo(u,"execute",(t=>{const{commandName:n,commandValue:i}=t.source;e.execute(n,i?{value:i}:void 0),e.editing.view.focus()})),u}))}}class b1 extends _U{static get requires(){return[m1,g1]}static get pluginName(){return"Heading"}}const y1="italic";class v1 extends _U{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:y1}),e.model.schema.setAttributeProperties(y1,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:y1,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(y1,new eQ(e,y1)),e.keystrokes.set("CTRL+I",y1),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Italic text"),keystroke:"CTRL+I"}]})}}const _1="italic";class w1 extends _U{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(_1,(n=>{const i=e.commands.get(_1),r=new gJ(n);return r.set({label:t("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(r,"execute",(()=>{e.execute(_1),e.editing.view.focus()})),r}))}}class k1 extends _U{static get requires(){return[v1,w1]}static get pluginName(){return"Italic"}}class C1{constructor(e,t){this._startElement=e,this._referenceIndent=e.getAttribute("listIndent"),this._isForward="forward"==t.direction,this._includeSelf=!!t.includeSelf,this._sameAttributes=sU(t.sameAttributes||[]),this._sameIndent=!!t.sameIndent,this._lowerIndent=!!t.lowerIndent,this._higherIndent=!!t.higherIndent}static first(e,t){return dU(new this(e,t)[Symbol.iterator]())}*[Symbol.iterator](){const e=[];for(const{node:t}of E1(this._getStartNode(),this._isForward?"forward":"backward")){const n=t.getAttribute("listIndent");if(n<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=n}else if(n>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){e.push(t);continue}}else{if(!this._sameIndent){if(this._higherIndent){e.length&&(yield*e,e.length=0);break}continue}if(this._sameAttributes.some((e=>t.getAttribute(e)!==this._startElement.getAttribute(e))))break}e.length&&(yield*e,e.length=0),yield t}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*E1(e,t="forward"){const n="forward"==t,i=[];let r=null;for(;O1(e);){let t=null;if(r){const n=e.getAttribute("listIndent"),o=r.getAttribute("listIndent");n>o?i[o]=r:n<o?(t=i[n],i.length=n):t=r}yield{node:e,previous:r,previousNodeInList:t},r=e,e=n?e.nextSibling:e.previousSibling}}class x1{constructor(e){this._listHead=e}[Symbol.iterator](){return E1(this._listHead,"forward")}}class S1{static next(){return aV()}}function O1(e){return!!e&&e.is("element")&&e.hasAttribute("listItemId")}function T1(e,t={}){return[...M1(e,{...t,direction:"backward"}),...M1(e,{...t,direction:"forward"})]}function M1(e,t={}){const n="forward"==t.direction,i=Array.from(new C1(e,{...t,includeSelf:n,sameIndent:!0,sameAttributes:"listItemId"}));return n?i:i.reverse()}function P1(e){const t=new C1(e,{sameIndent:!0,sameAttributes:"listType"}),n=new C1(e,{sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward"});return[...Array.from(t).reverse(),...n]}function D1(e){return!C1.first(e,{sameIndent:!0,sameAttributes:"listItemId"})}function L1(e){return!C1.first(e,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function A1(e,t={}){e=sU(e);const n=!1!==t.withNested,i=new Set;for(const t of e)for(const e of T1(t,{higherIndent:n}))i.add(e);return F1(i)}function z1(e,t){const n=M1(e,{direction:"forward"}),i=S1.next();for(const e of n)t.setAttribute("listItemId",i,e);return n}function I1(e,t,n){const i={};for(const[e,n]of t.getAttributes())e.startsWith("list")&&(i[e]=n);const r=M1(e,{direction:"forward"});for(const e of r)n.setAttributes(i,e);return r}function R1(e,t,{expand:n,indentBy:i=1}={}){e=sU(e);const r=n?A1(e):e;for(const e of r){const n=e.getAttribute("listIndent")+i;n<0?j1(e,t):t.setAttribute("listIndent",n,e)}return r}function j1(e,t){e=sU(e);for(const n of e)n.is("element","listItem")&&t.rename(n,"paragraph");for(const n of e)for(const e of n.getAttributeKeys())e.startsWith("list")&&t.removeAttribute(e,n);return e}function N1(e){if(!e.length)return!1;const t=e[0].getAttribute("listItemId");return!!t&&!e.some((e=>e.getAttribute("listItemId")!=t))}function F1(e){return Array.from(e).filter((e=>"$graveyard"!==e.root.rootName)).sort(((e,t)=>e.index-t.index))}function Y1(e){const t=e.document.selection.getSelectedElement();return t&&e.schema.isObject(t)&&e.schema.isBlock(t)?t:null}function B1(e,t){return t.checkChild(e.parent,"listItem")&&t.checkChild(e,"$text")&&!t.isObject(e)}function H1(e,t,n){return M1(t,{direction:"forward"}).pop().index>e.index?I1(e,t,n):[]}class V1 extends kU{constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=W1(e.document.selection);e.change((e=>{const n=[];N1(t)&&!D1(t[0])?("forward"==this._direction&&n.push(...R1(t,e)),n.push(...z1(t[0],e))):"forward"==this._direction?n.push(...R1(t,e,{expand:!0})):n.push(...function(e,t){const n=A1(e=sU(e)),i=new Set,r=Math.min(...n.map((e=>e.getAttribute("listIndent")))),o=new Map;for(const e of n)o.set(e,C1.first(e,{lowerIndent:!0}));for(const e of n){if(i.has(e))continue;i.add(e);const n=e.getAttribute("listIndent")-1;if(n<0)j1(e,t);else{if(e.getAttribute("listIndent")==r){const n=H1(e,o.get(e),t);for(const e of n)i.add(e);if(n.length)continue}t.setAttribute("listIndent",n,e)}}return F1(i)}(t,e));for(const t of n){if(!t.hasAttribute("listType"))continue;const n=C1.first(t,{sameIndent:!0});n&&e.setAttribute("listType",n.getAttribute("listType"),t)}this._fireAfterExecute(n)}))}_fireAfterExecute(e){this.fire("afterExecute",F1(new Set(e)))}_checkEnabled(){let e=W1(this.editor.model.document.selection),t=e[0];if(!t)return!1;if("backward"==this._direction)return!0;if(N1(e)&&!D1(e[0]))return!0;e=A1(e),t=e[0];const n=C1.first(t,{sameIndent:!0});return!!n&&n.getAttribute("listType")==t.getAttribute("listType")}}function W1(e){const t=Array.from(e.getSelectedBlocks()),n=t.findIndex((e=>!O1(e)));return-1!=n&&(t.length=n),t}class U1 extends kU{constructor(e,t){super(e),this.type=t}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,n=t.document,i=Y1(t),r=Array.from(n.selection.getSelectedBlocks()).filter((e=>t.schema.checkAttribute(e,"listType")||B1(e,t.schema))),o=void 0!==e.forceValue?!e.forceValue:this.value;t.change((e=>{if(o){const t=r[r.length-1],n=M1(t,{direction:"forward"}),i=[];n.length>1&&i.push(...z1(n[1],e)),i.push(...j1(r,e)),i.push(...function(e,t){const n=[];let i=Number.POSITIVE_INFINITY;for(const{node:r}of E1(e.nextSibling,"forward")){const e=r.getAttribute("listIndent");if(0==e)break;e<i&&(i=e);const o=e-i;t.setAttribute("listIndent",o,r),n.push(r)}return n}(t,e)),this._fireAfterExecute(i)}else if((i||n.selection.isCollapsed)&&O1(r[0])){const t=P1(i||r[0]);for(const n of t)e.setAttribute("listType",this.type,n);this._fireAfterExecute(t)}else{const n=[];for(const i of r)if(i.hasAttribute("listType"))for(const t of A1(i,{withNested:!1}))t.getAttribute("listType")!=this.type&&(e.setAttribute("listType",this.type,t),n.push(t));else!i.is("element","listItem")&&B1(i,t.schema)&&e.rename(i,"listItem"),e.setAttributes({listIndent:0,listItemId:S1.next(),listType:this.type},i),n.push(i);this._fireAfterExecute(n)}}))}_fireAfterExecute(e){this.fire("afterExecute",F1(new Set(e)))}_getValue(){const e=this.editor.model.document.selection,t=Array.from(e.getSelectedBlocks());if(!t.length)return!1;for(const e of t)if(e.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const e=this.editor.model,t=e.schema,n=e.document.selection,i=Array.from(n.getSelectedBlocks());if(!i.length)return!1;if(this.value)return!0;for(const e of i)if(t.checkAttribute(e,"listType")||B1(e,t))return!0;return!1}}class $1 extends kU{constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:e=!1}={}){const t=this.editor.model,n=t.document.selection,i=[];t.change((r=>{const{firstElement:o,lastElement:s}=this._getMergeSubjectElements(n,e),a=o.getAttribute("listIndent")||0,l=s.getAttribute("listIndent"),c=s.getAttribute("listItemId");if(a!=l){const e=(u=s,Array.from(new C1(u,{direction:"forward",higherIndent:!0})));i.push(...R1([s,...e],r,{indentBy:a-l,expand:a<l}))}var u;if(e){let e=n;n.isCollapsed&&(e=r.createSelection(r.createRange(r.createPositionAt(o,"end"),r.createPositionAt(s,0)))),t.deleteContent(e,{doNotResetEntireContent:n.isCollapsed});const a=e.getLastPosition().parent,l=a.nextSibling;i.push(a),l&&l!==s&&l.getAttribute("listItemId")==c&&i.push(...I1(l,a,r))}else i.push(...I1(s,o,r));this._fireAfterExecute(i)}))}_fireAfterExecute(e){this.fire("afterExecute",F1(new Set(e)))}_checkEnabled(){const e=this.editor.model,t=e.document.selection,n=Y1(e);if(t.isCollapsed||n){const e=n||t.getFirstPosition().parent;if(!O1(e))return!1;const i="backward"==this._direction?e.previousSibling:e.nextSibling;if(!i)return!1;if(N1([e,i]))return!1}else{const e=t.getLastPosition(),n=t.getFirstPosition();if(e.parent===n.parent)return!1;if(!O1(e.parent))return!1}return!0}_getMergeSubjectElements(e,t){const n=Y1(this.editor.model);let i,r;if(e.isCollapsed||n){const o=n||e.getFirstPosition().parent,s=D1(o);"backward"==this._direction?(r=o,i=s&&!t?C1.first(o,{sameIndent:!0,lowerIndent:!0}):o.previousSibling):(i=o,r=o.nextSibling)}else i=e.getFirstPosition().parent,r=e.getLastPosition().parent;return{firstElement:i,lastElement:r}}}class q1 extends kU{constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change((e=>{const t=z1(this._getStartBlock(),e);this._fireAfterExecute(t)}))}_fireAfterExecute(e){this.fire("afterExecute",F1(new Set(e)))}_checkEnabled(){const e=this.editor.model.document.selection,t=this._getStartBlock();return e.isCollapsed&&O1(t)&&!D1(t)}_getStartBlock(){const e=this.editor.model.document.selection.getFirstPosition().parent;return"before"==this._direction?e:e.nextSibling}}class K1 extends _U{static get pluginName(){return"ListUtils"}expandListBlocksToCompleteList(e){return function(e){e=sU(e);const t=new Set;for(const n of e)for(const e of P1(n))t.add(e);return F1(t)}(e)}isFirstBlockOfListItem(e){return D1(e)}isListItemBlock(e){return O1(e)}expandListBlocksToCompleteItems(e,t={}){return A1(e,t)}}function G1(e){return e.is("element","ol")||e.is("element","ul")}function Z1(e){return e.is("element","li")}function J1(e,t,n,i=e2(n,t)){return e.createAttributeElement(Q1(n),null,{priority:2*t/100-100,id:i})}function X1(e,t,n){return e.createAttributeElement("li",null,{priority:(2*t+1)/100-100,id:n})}function Q1(e){return"numbered"==e?"ol":"ul"}function e2(e,t){return`list-${e}-${t}`}function t2(e,t){const n=e.nodeBefore;if(O1(n)){let e=n;for(const{node:n}of E1(e,"backward"))if(e=n,t.has(e))return;t.set(n,e)}else{const n=e.nodeAfter;O1(n)&&t.set(n,n)}}function n2(){return(e,t,n)=>{if(!n.consumable.test(t.viewItem,{name:!0}))return;const i=new kZ(t.viewItem.document);for(const e of Array.from(t.viewItem.getChildren()))Z1(e)||G1(e)||i.remove(e)}}function i2(e,t,n,{dataPipeline:i}={}){const r=function(e){return(t,n)=>{const i=[];for(const n of e)t.hasAttribute(n)&&i.push(`attribute:${n}`);return!!i.every((e=>!1!==n.test(t,e)))&&(i.forEach((e=>n.consume(t,e))),!0)}}(e);return(o,s,a)=>{const{writer:l,mapper:c,consumable:u}=a,d=s.item;if(!e.includes(s.attributeKey))return;if(!r(d,u))return;const h=function(e,t,n){const i=n.createRangeOn(e);return t.toViewRange(i).getTrimmed().end.nodeBefore}(d,c,n);!function(e,t,n){for(;e.parent.is("attributeElement")&&e.parent.getCustomProperty("listItemWrapper");)t.unwrap(t.createRangeIn(e.parent),e.parent);const i=t.createPositionBefore(e).getWalker({direction:"backward"}),r=[];for(const{item:e}of i){if(e.is("element")&&n.toModelElement(e))break;e.is("element")&&e.getCustomProperty("listItemMarker")&&r.push(e)}for(const e of r)t.remove(e)}(h,l,c),function(e,t){let n=e.parent;for(;n.is("attributeElement")&&["ul","ol","li"].includes(n.name);){const i=n.parent;t.unwrap(t.createRangeOn(e),n),n=i}}(h,l);const p=function(e,t,n,i,{dataPipeline:r}){let o=i.createRangeOn(t);if(!D1(e))return o;for(const s of n){if("itemMarker"!=s.scope)continue;const n=s.createElement(i,e,{dataPipeline:r});if(!n)continue;if(i.setCustomProperty("listItemMarker",!0,n),i.insert(o.start,n),o=i.createRange(i.createPositionBefore(n),i.createPositionAfter(t)),!s.createWrapperElement||!s.canWrapElement)continue;const a=s.createWrapperElement(i,e,{dataPipeline:r});i.setCustomProperty("listItemWrapper",!0,a),s.canWrapElement(e)?o=i.wrap(o,a):(o=i.wrap(i.createRangeOn(n),a),o=i.createRange(o.start,i.createPositionAfter(t)))}return o}(d,h,t,l,{dataPipeline:i});!function(e,t,n,i){if(!e.hasAttribute("listIndent"))return;const r=e.getAttribute("listIndent");let o=e;for(let e=r;e>=0;e--){const r=X1(i,e,o.getAttribute("listItemId")),s=J1(i,e,o.getAttribute("listType"));for(const e of n)"list"!=e.scope&&"item"!=e.scope||!o.hasAttribute(e.attributeName)||e.setAttributeOnDowncast(i,o.getAttribute(e.attributeName),"list"==e.scope?s:r);if(t=i.wrap(t,r),t=i.wrap(t,s),0==e)break;if(o=C1.first(o,{lowerIndent:!0}),!o)break}}(d,p,t,l)}}function r2(e,{dataPipeline:t}={}){return(n,{writer:i})=>{if(!o2(n,e))return null;if(!t)return i.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const r=i.createContainerElement("p");return i.setCustomProperty("dataPipeline:transparentRendering",!0,r),r}}function o2(e,t,n=T1(e)){if(!O1(e))return!1;for(const n of e.getAttributeKeys())if(!n.startsWith("selection:")&&!t.includes(n))return!1;return n.length<2}const s2=["listType","listIndent","listItemId"];class a2 extends _U{static get pluginName(){return"ListEditing"}static get requires(){return[t0,FQ,K1,xQ]}constructor(e){super(e),this._downcastStrategies=[],e.config.define("list.multiBlock",!0)}init(){const e=this.editor,t=e.model,n=e.config.get("list.multiBlock");if(e.plugins.has("LegacyListEditing"))throw new dV("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});t.schema.register("$listItem",{allowAttributes:s2}),n?(t.schema.extend("$container",{allowAttributesOf:"$listItem"}),t.schema.extend("$block",{allowAttributesOf:"$listItem"}),t.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):t.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const e of s2)t.schema.setAttributeProperties(e,{copyOnReplace:!0});e.commands.add("numberedList",new U1(e,"numbered")),e.commands.add("bulletedList",new U1(e,"bulleted")),e.commands.add("indentList",new V1(e,"forward")),e.commands.add("outdentList",new V1(e,"backward")),e.commands.add("splitListItemBefore",new q1(e,"before")),e.commands.add("splitListItemAfter",new q1(e,"after")),n&&(e.commands.add("mergeListItemBackward",new $1(e,"backward")),e.commands.add("mergeListItemForward",new $1(e,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const e=this.editor.commands,t=e.get("indent"),n=e.get("outdent");t&&t.registerChildCommand(e.get("indentList"),{priority:"high"}),n&&n.registerChildCommand(e.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(e){this._downcastStrategies.push(e)}getListAttributeNames(){return[...s2,...this._downcastStrategies.map((e=>e.attributeName))]}_setupDeleteIntegration(){const e=this.editor,t=e.commands.get("mergeListItemBackward"),n=e.commands.get("mergeListItemForward");this.listenTo(e.editing.view.document,"delete",((i,r)=>{const o=e.model.document.selection;Y1(e.model)||e.model.change((()=>{const s=o.getFirstPosition();if(o.isCollapsed&&"backward"==r.direction){if(!s.isAtStart)return;const n=s.parent;if(!O1(n))return;if(C1.first(n,{sameAttributes:"listType",sameIndent:!0})||0!==n.getAttribute("listIndent")){if(!t||!t.isEnabled)return;t.execute({shouldMergeOnBlocksContentLevel:l2(e.model,"backward")})}else L1(n)||e.execute("splitListItemAfter"),e.execute("outdentList");r.preventDefault(),i.stop()}else{if(o.isCollapsed&&!o.getLastPosition().isAtEnd)return;if(!n||!n.isEnabled)return;n.execute({shouldMergeOnBlocksContentLevel:l2(e.model,"forward")}),r.preventDefault(),i.stop()}}))}),{context:"li"})}_setupEnterIntegration(){const e=this.editor,t=e.model,n=e.commands,i=n.get("enter");this.listenTo(e.editing.view.document,"enter",((n,i)=>{const r=t.document,o=r.selection.getFirstPosition().parent;if(r.selection.isCollapsed&&O1(o)&&o.isEmpty&&!i.isSoft){const t=D1(o),r=L1(o);t&&r?(e.execute("outdentList"),i.preventDefault(),n.stop()):t&&!r?(e.execute("splitListItemAfter"),i.preventDefault(),n.stop()):r&&(e.execute("splitListItemBefore"),i.preventDefault(),n.stop())}}),{context:"li"}),this.listenTo(i,"afterExecute",(()=>{const t=n.get("splitListItemBefore");t.refresh(),t.isEnabled&&2===T1(e.model.document.selection.getLastPosition().parent).length&&t.execute()}))}_setupTabIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"tab",((t,n)=>{const i=n.shiftKey?"outdentList":"indentList";this.editor.commands.get(i).isEnabled&&(e.execute(i),n.stopPropagation(),n.preventDefault(),t.stop())}),{context:"li"})}_setupConversion(){const e=this.editor,t=e.model,n=this.getListAttributeNames(),i=e.config.get("list.multiBlock"),r=i?"paragraph":"listItem";e.conversion.for("upcast").elementToElement({view:"li",model:(e,{writer:t})=>t.createElement(r,{listType:""})}).elementToElement({view:"p",model:(e,{writer:t})=>e.parent&&e.parent.is("element","li")?t.createElement(r,{listType:""}):null,converterPriority:"high"}).add((e=>{e.on("element:li",((e,t,n)=>{const{writer:i,schema:r}=n;if(!t.modelRange)return;const o=Array.from(t.modelRange.getItems({shallow:!0})).filter((e=>r.checkAttribute(e,"listItemId")));if(!o.length)return;const s=S1.next(),a=function(e){let t=0,n=e.parent;for(;n;){if(Z1(n))t++;else{const e=n.previousSibling;e&&Z1(e)&&t++}n=n.parent}return t}(t.viewItem);let l=t.viewItem.parent&&t.viewItem.parent.is("element","ol")?"numbered":"bulleted";const c=o[0].getAttribute("listType");c&&(l=c);const u={listItemId:s,listIndent:a,listType:l};for(const e of o)e.hasAttribute("listItemId")||i.setAttributes(u,e);o.length>1&&o[1].getAttribute("listItemId")!=u.listItemId&&n.keepEmptyElement(o[0])})),e.on("element:ul",n2(),{priority:"high"}),e.on("element:ol",n2(),{priority:"high"})})),i||e.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),e.conversion.for("editingDowncast").elementToElement({model:r,view:r2(n),converterPriority:"high"}).add((e=>{e.on("attribute",i2(n,this._downcastStrategies,t))})),e.conversion.for("dataDowncast").elementToElement({model:r,view:r2(n,{dataPipeline:!0}),converterPriority:"high"}).add((e=>{e.on("attribute",i2(n,this._downcastStrategies,t,{dataPipeline:!0}))})),this.listenTo(t.document,"change:data",function(e,t,n,i){return()=>{const i=e.document.differ.getChanges(),s=[],a=new Map,l=new Set;for(const e of i)if("insert"==e.type&&"$text"!=e.name)t2(e.position,a),e.attributes.has("listItemId")?l.add(e.position.nodeAfter):t2(e.position.getShiftedBy(e.length),a);else if("remove"==e.type&&e.attributes.has("listItemId"))t2(e.position,a);else if("attribute"==e.type){const t=e.range.start.nodeAfter;n.includes(e.attributeKey)?(t2(e.range.start,a),null===e.attributeNewValue?(t2(e.range.start.getShiftedBy(1),a),o(t)&&s.push(t)):l.add(t)):O1(t)&&o(t)&&s.push(t)}for(const e of a.values())s.push(...r(e,l));for(const e of new Set(s))t.reconvertItem(e)};function r(e,t){const i=[],r=new Set,a=[];for(const{node:l,previous:c}of E1(e,"forward")){if(r.has(l))continue;const e=l.getAttribute("listIndent");c&&e<c.getAttribute("listIndent")&&(a.length=e+1),a[e]=Object.fromEntries(Array.from(l.getAttributes()).filter((([e])=>n.includes(e))));const u=M1(l,{direction:"forward"});for(const e of u)r.add(e),(o(e,u)||s(e,a,t))&&i.push(e)}return i}function o(e,r){const o=t.mapper.toViewElement(e);if(!o)return!1;if(i.fire("checkElement",{modelElement:e,viewElement:o}))return!0;if(!e.is("element","paragraph")&&!e.is("element","listItem"))return!1;const s=o2(e,n,r);return!(!s||!o.is("element","p"))||!(s||!o.is("element","span"))}function s(e,n,r){if(r.has(e))return!1;const o=t.mapper.toViewElement(e);let s=n.length-1;for(let e=o.parent;!e.is("editableElement");e=e.parent){const t=Z1(e),r=G1(e);if(!r&&!t)continue;const o="checkAttributes:"+(t?"item":"list");if(i.fire(o,{viewElement:e,modelAttributes:n[s]}))break;if(r&&(s--,s<0))return!1}return!0}}(t,e.editing,n,this),{priority:"high"}),this.on("checkAttributes:item",((e,{viewElement:t,modelAttributes:n})=>{t.id!=n.listItemId&&(e.return=!0,e.stop())})),this.on("checkAttributes:list",((e,{viewElement:t,modelAttributes:n})=>{t.name==Q1(n.listType)&&t.id==e2(n.listType,n.listIndent)||(e.return=!0,e.stop())}))}_setupModelPostFixing(){const e=this.editor.model,t=this.getListAttributeNames();e.document.registerPostFixer((n=>function(e,t,n,i){const r=e.document.differ.getChanges(),o=new Map,s=i.editor.config.get("list.multiBlock");let a=!1;for(const i of r){if("insert"==i.type&&"$text"!=i.name){const r=i.position.nodeAfter;if(!e.schema.checkAttribute(r,"listItemId"))for(const e of Array.from(r.getAttributeKeys()))n.includes(e)&&(t.removeAttribute(e,r),a=!0);t2(i.position,o),i.attributes.has("listItemId")||t2(i.position.getShiftedBy(i.length),o);for(const{item:t,previousPosition:n}of e.createRangeIn(r))O1(t)&&t2(n,o)}else"remove"==i.type?t2(i.position,o):"attribute"==i.type&&n.includes(i.attributeKey)&&(t2(i.range.start,o),null===i.attributeNewValue&&t2(i.range.start.getShiftedBy(1),o));if(!s&&"attribute"==i.type&&s2.includes(i.attributeKey)){const e=i.range.start.nodeAfter;null===i.attributeNewValue&&e&&e.is("element","listItem")?(t.rename(e,"paragraph"),a=!0):null===i.attributeOldValue&&e&&e.is("element")&&"listItem"!=e.name&&(t.rename(e,"listItem"),a=!0)}}const l=new Set;for(const e of o.values())a=i.fire("postFixer",{listNodes:new x1(e),listHead:e,writer:t,seenIds:l})||a;return a}(e,n,t,this))),this.on("postFixer",((e,{listNodes:t,writer:n})=>{e.return=function(e,t){let n=0,i=-1,r=null,o=!1;for(const{node:s}of e){const e=s.getAttribute("listIndent");if(e>n){let a;null===r?(r=e-n,a=n):(r>e&&(r=e),a=e-r),a>i+1&&(a=i+1),t.setAttribute("listIndent",a,s),o=!0,i=a}else r=null,n=e+1,i=e}return o}(t,n)||e.return}),{priority:"high"}),this.on("postFixer",((e,{listNodes:t,writer:n,seenIds:i})=>{e.return=function(e,t,n){const i=new Set;let r=!1;for(const{node:o}of e){if(i.has(o))continue;let e=o.getAttribute("listType"),s=o.getAttribute("listItemId");if(t.has(s)&&(s=S1.next()),t.add(s),o.is("element","listItem"))o.getAttribute("listItemId")!=s&&(n.setAttribute("listItemId",s,o),r=!0);else for(const t of M1(o,{direction:"forward"}))i.add(t),t.getAttribute("listType")!=e&&(s=S1.next(),e=t.getAttribute("listType")),t.getAttribute("listItemId")!=s&&(n.setAttribute("listItemId",s,t),r=!0)}return r}(t,i,n)||e.return}),{priority:"high"})}_setupClipboardIntegration(){const e=this.editor.model,t=this.editor.plugins.get("ClipboardPipeline");this.listenTo(e,"insertContent",function(e){return(t,[n,i])=>{const r=n.is("documentFragment")?Array.from(n.getChildren()):[n];if(!r.length)return;const o=(i?e.createSelection(i):e.document.selection).getFirstPosition();let s;if(O1(o.parent))s=o.parent;else{if(!O1(o.nodeBefore))return;s=o.nodeBefore}e.change((e=>{const t=s.getAttribute("listType"),n=s.getAttribute("listIndent"),i=r[0].getAttribute("listIndent")||0,o=Math.max(n-i,0);for(const n of r){const i=O1(n);s.is("element","listItem")&&n.is("element","paragraph")&&e.rename(n,"listItem"),e.setAttributes({listIndent:(i?n.getAttribute("listIndent"):0)+o,listItemId:i?n.getAttribute("listItemId"):S1.next(),listType:t},n)}}))}}(e),{priority:"high"}),this.listenTo(t,"outputTransformation",((t,n)=>{e.change((e=>{const t=Array.from(n.content.getChildren()),i=t[t.length-1];if(t.length>1&&i.is("element")&&i.isEmpty&&t.slice(0,-1).every(O1)&&e.remove(i),"copy"==n.method||"cut"==n.method){const t=Array.from(n.content.getChildren());N1(t)&&j1(t,e)}}))}))}_setupAccessibilityIntegration(){const e=this.editor,t=e.t;e.accessibility.addKeystrokeInfoGroup({id:"list",label:t("Keystrokes that can be used in a list"),keystrokes:[{label:t("Increase list item indent"),keystroke:"Tab"},{label:t("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function l2(e,t){const n=e.document.selection;if(!n.isCollapsed)return!Y1(e);if("forward"===t)return!0;const i=n.getFirstPosition().parent,r=i.previousSibling;return!e.schema.isObject(r)&&(!!r.isEmpty||N1([i,r]))}function c2(e,t,n,i){e.ui.componentFactory.add(t,(r=>{const o=e.commands.get(t),s=new gJ(r);return s.set({label:n,icon:i,tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(o,"value","isEnabled"),s.on("execute",(()=>{e.execute(t),e.editing.view.focus()})),s}))}class u2 extends _U{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;c2(this.editor,"numberedList",e("Numbered List"),PZ.numberedList),c2(this.editor,"bulletedList",e("Bulleted List"),PZ.bulletedList)}}class d2 extends _U{static get requires(){return[a2,u2]}static get pluginName(){return"List"}}const h2="strikethrough";class p2 extends _U{static get pluginName(){return"StrikethroughEditing"}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:h2}),e.model.schema.setAttributeProperties(h2,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:h2,view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),e.commands.add(h2,new eQ(e,h2)),e.keystrokes.set("CTRL+SHIFT+X","strikethrough"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Strikethrough text"),keystroke:"CTRL+SHIFT+X"}]})}}const f2="strikethrough";class m2 extends _U{static get pluginName(){return"StrikethroughUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(f2,(n=>{const i=e.commands.get(f2),r=new gJ(n);return r.set({label:t("Strikethrough"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>',keystroke:"CTRL+SHIFT+X",tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(r,"execute",(()=>{e.execute(f2),e.editing.view.focus()})),r}))}}class g2 extends _U{static get requires(){return[p2,m2]}static get pluginName(){return"Strikethrough"}}const b2="underline";class y2 extends _U{static get pluginName(){return"UnderlineEditing"}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:b2}),e.model.schema.setAttributeProperties(b2,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:b2,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),e.commands.add(b2,new eQ(e,b2)),e.keystrokes.set("CTRL+U","underline"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Underline text"),keystroke:"CTRL+U"}]})}}const v2="underline";class _2 extends _U{static get pluginName(){return"UnderlineUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(v2,(n=>{const i=e.commands.get(v2),r=new gJ(n);return r.set({label:t("Underline"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>',keystroke:"CTRL+U",tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(r,"execute",(()=>{e.execute(v2),e.editing.view.focus()})),r}))}}class w2 extends _U{static get requires(){return[y2,_2]}static get pluginName(){return"Underline"}}const k2="subscript";class C2 extends _U{static get pluginName(){return"SubscriptEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:k2}),e.model.schema.setAttributeProperties(k2,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:k2,view:"sub",upcastAlso:[{styles:{"vertical-align":"sub"}}]}),e.commands.add(k2,new eQ(e,k2))}}const E2="subscript";class x2 extends _U{static get pluginName(){return"SubscriptUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(E2,(n=>{const i=e.commands.get(E2),r=new gJ(n);return r.set({label:t("Subscript"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.03 10.349 3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82zm8.147 7.829h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309z"/></svg>',tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(r,"execute",(()=>{e.execute(E2),e.editing.view.focus()})),r}))}}class S2 extends _U{static get requires(){return[C2,x2]}static get pluginName(){return"Subscript"}}const O2="superscript";class T2 extends _U{static get pluginName(){return"SuperscriptEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:O2}),e.model.schema.setAttributeProperties(O2,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:O2,view:"sup",upcastAlso:[{styles:{"vertical-align":"super"}}]}),e.commands.add(O2,new eQ(e,O2))}}const M2="superscript";class P2 extends _U{static get pluginName(){return"SuperscriptUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(M2,(n=>{const i=e.commands.get(M2),r=new gJ(n);return r.set({label:t("Superscript"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.677 8.678h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309zM7.03 10.349l3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82z"/></svg>',tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(r,"execute",(()=>{e.execute(M2),e.editing.view.focus()})),r}))}}class D2 extends _U{static get requires(){return[T2,P2]}static get pluginName(){return"Superscript"}}const L2="code";class A2 extends _U{static get pluginName(){return"CodeEditing"}static get requires(){return[BQ]}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:L2}),e.model.schema.setAttributeProperties(L2,{isFormatting:!0,copyOnEnter:!1}),e.conversion.attributeToElement({model:L2,view:"code",upcastAlso:{styles:{"word-wrap":"break-word"}}}),e.commands.add(L2,new eQ(e,L2)),e.plugins.get(BQ).registerAttribute(L2),function(e,t,n,i){const r=e.editing.view,o=new Set;r.document.registerPostFixer((r=>{const s=e.model.document.selection;let a=!1;if(s.hasAttribute(t)){const l=function(e,t,n,i){return i.createRange(GQ(e,t,n,!0,i),GQ(e,t,n,!1,i))}(s.getFirstPosition(),t,s.getAttribute(t),e.model),c=e.editing.mapper.toViewRange(l);for(const e of c.getItems())e.is("element",n)&&!e.hasClass(i)&&(r.addClass(i,e),o.add(e),a=!0)}return a})),e.conversion.for("editingDowncast").add((e=>{function t(){r.change((e=>{for(const t of o.values())e.removeClass(i,t),o.delete(t)}))}e.on("insert",t,{priority:"highest"}),e.on("remove",t,{priority:"highest"}),e.on("attribute",t,{priority:"highest"}),e.on("selection",t,{priority:"highest"})}))}(e,L2,"code","ck-code_selected"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Move out of an inline code style"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}}const z2="code";class I2 extends _U{static get pluginName(){return"CodeUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(z2,(n=>{const i=e.commands.get(z2),r=new gJ(n);return r.set({label:t("Code"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1zm-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1z"/></svg>',tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(r,"execute",(()=>{e.execute(z2),e.editing.view.focus()})),r}))}}class R2 extends _U{static get requires(){return[A2,I2]}static get pluginName(){return"Code"}}function j2(e,t,n,i,r=1){null!=t&&null!=r&&t>r?i.setAttribute(e,t,n):i.removeAttribute(e,n)}function N2(e,t,n={}){const i=e.createElement("tableCell",n);return e.insertElement("paragraph",i),e.insert(i,t),i}function F2(e,t){const n=t.parent.parent,i=parseInt(n.getAttribute("headingColumns")||"0"),{column:r}=e.getCellLocation(t);return!!i&&r<i}function Y2(e){return t=>{t.on(`element:${e}`,((e,t,{writer:n})=>{if(!t.modelRange)return;const i=t.modelRange.start.nodeAfter,r=n.createPositionAt(i,0);if(t.viewItem.isEmpty)return void n.insertElement("paragraph",r);const o=Array.from(i.getChildren());if(o.every((e=>e.is("element","$marker")))){const e=n.createElement("paragraph");n.insert(e,n.createPositionAt(i,0));for(const t of o)n.move(n.createRangeOn(t),n.createPositionAt(e,"end"))}}),{priority:"low"})}}function B2(e){let t=0,n=0;const i=Array.from(e.getChildren()).filter((e=>"th"===e.name||"td"===e.name));for(;n<i.length&&"th"===i[n].name;){const e=i[n];t+=parseInt(e.getAttribute("colspan")||"1"),n++}return t}class H2{constructor(e,t={}){this._jumpedToStartRow=!1,this._table=e,this._startRow=void 0!==t.row?t.row:t.startRow||0,this._endRow=void 0!==t.row?t.row:t.endRow,this._startColumn=void 0!==t.column?t.column:t.startColumn||0,this._endColumn=void 0!==t.column?t.column:t.endColumn,this._includeAllSlots=!!t.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let t=null;const n=this._getSpanned();if(n)this._includeAllSlots&&!this._shouldSkipSlot()&&(t=this._formatOutValue(n.cell,n.row,n.column));else{const n=e.getChild(this._cellIndex);if(!n)return this._advanceToNextRow();const i=parseInt(n.getAttribute("colspan")||"1"),r=parseInt(n.getAttribute("rowspan")||"1");(i>1||r>1)&&this._recordSpans(n,r,i),this._shouldSkipSlot()||(t=this._formatOutValue(n)),this._nextCellAtColumn=this._column+i}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return void 0!==this._endRow&&this._row>this._endRow}_isOverEndColumn(){return void 0!==this._endColumn&&this._column>this._endColumn}_formatOutValue(e,t=this._row,n=this._column){return{done:!1,value:new V2(this,e,t,n)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),t=this._row<this._startRow,n=this._column<this._startColumn,i=void 0!==this._endColumn&&this._column>this._endColumn;return e||t||n||i}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,t,n){const i={cell:e,row:this._row,column:this._column};for(let e=this._row;e<this._row+t;e++)for(let t=this._column;t<this._column+n;t++)e==this._row&&t==this._column||this._markSpannedCell(e,t,i)}_markSpannedCell(e,t,n){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,n)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const e=this._getRowLength(0);for(let t=this._startRow;!this._jumpedToStartRow;t--)e===this._getRowLength(t)&&(this._row=t,this._rowIndex=t,this._jumpedToStartRow=!0)}_getRowLength(e){return[...this._table.getChild(e).getChildren()].reduce(((e,t)=>e+parseInt(t.getAttribute("colspan")||"1")),0)}}class V2{constructor(e,t,n,i){this.cell=t,this.row=e._row,this.column=e._column,this.cellAnchorRow=n,this.cellAnchorColumn=i,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function W2(e,t){return(n,{writer:i})=>{const r=n.getAttribute("headingRows")||0,o=i.createContainerElement("table",null,[]),s=i.createContainerElement("figure",{class:"table"},o);r>0&&i.insert(i.createPositionAt(o,"end"),i.createContainerElement("thead",null,i.createSlot((e=>e.is("element","tableRow")&&e.index<r)))),r<e.getRows(n)&&i.insert(i.createPositionAt(o,"end"),i.createContainerElement("tbody",null,i.createSlot((e=>e.is("element","tableRow")&&e.index>=r))));for(const{positionOffset:e,filter:n}of t.additionalSlots)i.insert(i.createPositionAt(o,e),i.createSlot(n));return i.insert(i.createPositionAt(o,"after"),i.createSlot((e=>!e.is("element","tableRow")&&!t.additionalSlots.some((({filter:t})=>t(e)))))),t.asWidget?function(e,t){return t.setCustomProperty("table",!0,e),function(e,t,n={}){if(!e.is("containerElement"))throw new dV("widget-to-widget-wrong-element-type",null,{element:e});return t.setAttribute("contenteditable","false",e),t.addClass(u0,e),t.setCustomProperty("widget",!0,e),e.getFillerOffset=b0,t.setCustomProperty("widgetLabel",[],e),n.label&&function(e,t){e.getCustomProperty("widgetLabel").push(t)}(e,n.label),n.hasSelectionHandle&&function(e,t){const n=t.createUIElement("div",{class:"ck ck-widget__selection-handle"},(function(e){const t=this.toDomElement(e),n=new fJ;return n.set("content",c0),n.render(),t.appendChild(n.element),t}));t.insert(t.createPositionAt(e,0),n),t.addClass(["ck-widget_with-selection-handle"],e)}(e,t),m0(e,t),e}(e,t,{hasSelectionHandle:!0})}(s,i):s}}function U2(e={}){return(t,{writer:n})=>{const i=t.parent,r=i.parent,o=r.getChildIndex(i),s=new H2(r,{row:o}),a=r.getAttribute("headingRows")||0,l=r.getAttribute("headingColumns")||0;let c=null;for(const i of s)if(i.cell==t){const t=i.row<a||i.column<l?"th":"td";c=e.asWidget?g0(n.createEditableElement(t),n):n.createContainerElement(t);break}return c}}function $2(e={}){return(t,{writer:n})=>{if(!t.parent.is("element","tableCell"))return null;if(!q2(t))return null;if(e.asWidget)return n.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const e=n.createContainerElement("p");return n.setCustomProperty("dataPipeline:transparentRendering",!0,e),e}}}function q2(e){return 1==e.parent.childCount&&!!e.getAttributeKeys().next().done}class K2 extends kU{refresh(){const e=this.editor.model,t=e.document.selection,n=e.schema;this.isEnabled=function(e,t){const n=e.getFirstPosition().parent,i=n===n.root?n:n.parent;return t.checkChild(i,"table")}(t,n)}execute(e={}){const t=this.editor,n=t.model,i=t.plugins.get("TableUtils"),r=t.config.get("table.defaultHeadings.rows"),o=t.config.get("table.defaultHeadings.columns");void 0===e.headingRows&&r&&(e.headingRows=r),void 0===e.headingColumns&&o&&(e.headingColumns=o),n.change((t=>{const r=i.createTable(t,e);n.insertObject(r,null,null,{findOptimalPosition:"auto"}),t.setSelection(t.createPositionAt(r.getNodeByPath([0,0,0]),0))}))}}class G2 extends kU{constructor(e,t={}){super(e),this.order=t.order||"below"}refresh(){const e=this.editor.model.document.selection,t=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=t}execute(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),i="above"===this.order,r=n.getSelectionAffectedTableCells(t),o=n.getRowIndexes(r),s=i?o.first:o.last,a=r[0].findAncestor("table");n.insertRows(a,{at:i?s:s+1,copyStructureFromAbove:!i})}}class Z2 extends kU{constructor(e,t={}){super(e),this.order=t.order||"right"}refresh(){const e=this.editor.model.document.selection,t=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=t}execute(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),i="left"===this.order,r=n.getSelectionAffectedTableCells(t),o=n.getColumnIndexes(r),s=i?o.first:o.last,a=r[0].findAncestor("table");n.insertColumns(a,{columns:1,at:i?s:s+1})}}class J2 extends kU{constructor(e,t={}){super(e),this.direction=t.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=1===e.length}execute(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];"horizontally"===this.direction?e.splitCellHorizontally(t,2):e.splitCellVertically(t,2)}}function X2(e,t,n){const{startRow:i,startColumn:r,endRow:o,endColumn:s}=t,a=n.createElement("table"),l=o-i+1;for(let e=0;e<l;e++)n.insertElement("tableRow",a,"end");const c=[...new H2(e,{startRow:i,endRow:o,startColumn:r,endColumn:s,includeAllSlots:!0})];for(const{row:e,column:t,cell:l,isAnchor:u,cellAnchorRow:d,cellAnchorColumn:h}of c){const c=e-i,p=a.getChild(c);if(u){const i=n.cloneElement(l);n.append(i,p),i5(i,e,t,o,s,n)}else(d<i||h<r)&&N2(n,n.createPositionAt(p,"end"))}return function(e,t,n,i,r){const o=parseInt(t.getAttribute("headingRows")||"0");o>0&&j2("headingRows",o-n,e,r,0);const s=parseInt(t.getAttribute("headingColumns")||"0");s>0&&j2("headingColumns",s-i,e,r,0)}(a,e,i,r,n),a}function Q2(e,t,n=0){const i=[],r=new H2(e,{startRow:n,endRow:t-1});for(const e of r){const{row:n,cellHeight:r}=e;n<t&&t<=n+r-1&&i.push(e)}return i}function e5(e,t,n){const i=e.parent,r=i.parent,o=i.index,s=t-o,a={},l=parseInt(e.getAttribute("rowspan"))-s;l>1&&(a.rowspan=l);const c=parseInt(e.getAttribute("colspan")||"1");c>1&&(a.colspan=c);const u=o+s,d=[...new H2(r,{startRow:o,endRow:u,includeAllSlots:!0})];let h,p=null;for(const t of d){const{row:i,column:r,cell:o}=t;o===e&&void 0===h&&(h=r),void 0!==h&&h===r&&i===u&&(p=N2(n,t.getPositionBefore(),a))}return j2("rowspan",s,e,n),p}function t5(e,t){const n=[],i=new H2(e);for(const e of i){const{column:i,cellWidth:r}=e;i<t&&t<=i+r-1&&n.push(e)}return n}function n5(e,t,n,i){const r=n-t,o={},s=parseInt(e.getAttribute("colspan"))-r;s>1&&(o.colspan=s);const a=parseInt(e.getAttribute("rowspan")||"1");a>1&&(o.rowspan=a);const l=N2(i,i.createPositionAfter(e),o);return j2("colspan",r,e,i),l}function i5(e,t,n,i,r,o){const s=parseInt(e.getAttribute("colspan")||"1"),a=parseInt(e.getAttribute("rowspan")||"1");n+s-1>r&&j2("colspan",r-n+1,e,o,1),t+a-1>i&&j2("rowspan",i-t+1,e,o,1)}function r5(e,t){const n=t.getColumns(e),i=new Array(n).fill(0);for(const{column:t}of new H2(e))i[t]++;const r=i.reduce(((e,t,n)=>t?e:[...e,n]),[]);if(r.length>0){const n=r[r.length-1];return t.removeColumns(e,{at:n}),!0}return!1}function o5(e,t){const n=[],i=t.getRows(e);for(let t=0;t<i;t++)e.getChild(t).isEmpty&&n.push(t);if(n.length>0){const i=n[n.length-1];return t.removeRows(e,{at:i}),!0}return!1}function s5(e,t){r5(e,t)||o5(e,t)}function a5(e,t){const n=Array.from(new H2(e,{startColumn:t.firstColumn,endColumn:t.lastColumn,row:t.lastRow}));if(n.every((({cellHeight:e})=>1===e)))return t.lastRow;const i=n[0].cellHeight-1;return t.lastRow+i}function l5(e,t){const n=Array.from(new H2(e,{startRow:t.firstRow,endRow:t.lastRow,column:t.lastColumn}));if(n.every((({cellWidth:e})=>1===e)))return t.lastColumn;const i=n[0].cellWidth-1;return t.lastColumn+i}class c5 extends kU{constructor(e,t){super(e),this.direction=t.direction,this.isHorizontal="right"==this.direction||"left"==this.direction}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,t=e.document,n=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(t.selection)[0],i=this.value,r=this.direction;e.change((e=>{const t="right"==r||"down"==r,o=t?n:i,s=t?i:n,a=s.parent;!function(e,t,n){u5(e)||(u5(t)&&n.remove(n.createRangeIn(t)),n.move(n.createRangeIn(e),n.createPositionAt(t,"end"))),n.remove(e)}(s,o,e);const l=this.isHorizontal?"colspan":"rowspan",c=parseInt(n.getAttribute(l)||"1"),u=parseInt(i.getAttribute(l)||"1");e.setAttribute(l,c+u,o),e.setSelection(e.createRangeIn(o));const d=this.editor.plugins.get("TableUtils");s5(a.findAncestor("table"),d)}))}_getMergeableCell(){const e=this.editor.model.document,t=this.editor.plugins.get("TableUtils"),n=t.getTableCellsContainingSelection(e.selection)[0];if(!n)return;const i=this.isHorizontal?function(e,t,n){const i=e.parent.parent,r="right"==t?e.nextSibling:e.previousSibling,o=(i.getAttribute("headingColumns")||0)>0;if(!r)return;const s="right"==t?e:r,a="right"==t?r:e,{column:l}=n.getCellLocation(s),{column:c}=n.getCellLocation(a),u=parseInt(s.getAttribute("colspan")||"1"),d=F2(n,s),h=F2(n,a);return o&&d!=h?void 0:l+u===c?r:void 0}(n,this.direction,t):function(e,t,n){const i=e.parent,r=i.parent,o=r.getChildIndex(i);if("down"==t&&o===n.getRows(r)-1||"up"==t&&0===o)return null;const s=parseInt(e.getAttribute("rowspan")||"1"),a=r.getAttribute("headingRows")||0;if(a&&("down"==t&&o+s===a||"up"==t&&o===a))return null;const l=parseInt(e.getAttribute("rowspan")||"1"),c="down"==t?o+l:o,u=[...new H2(r,{endRow:c})],d=u.find((t=>t.cell===e)).column,h=u.find((({row:e,cellHeight:n,column:i})=>i===d&&("down"==t?e===c:c===e+n)));return h&&h.cell?h.cell:null}(n,this.direction,t);if(!i)return;const r=this.isHorizontal?"rowspan":"colspan",o=parseInt(n.getAttribute(r)||"1");return parseInt(i.getAttribute(r)||"1")===o?i:void 0}}function u5(e){const t=e.getChild(0);return 1==e.childCount&&t.is("element","paragraph")&&t.isEmpty}class d5 extends kU{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),n=t[0];if(n){const i=n.findAncestor("table"),r=e.getRows(i)-1,o=e.getRowIndexes(t),s=0===o.first&&o.last===r;this.isEnabled=!s}else this.isEnabled=!1}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),i=t.getRowIndexes(n),r=n[0],o=r.findAncestor("table"),s=t.getCellLocation(r).column;e.change((e=>{const n=i.last-i.first+1;t.removeRows(o,{at:i.first,rows:n});const r=function(e,t,n,i){const r=e.getChild(Math.min(t,i-1));let o=r.getChild(0),s=0;for(const e of r.getChildren()){if(s>n)return o;o=e,s+=parseInt(e.getAttribute("colspan")||"1")}return o}(o,i.first,s,t.getRows(o));e.setSelection(e.createPositionAt(r,0))}))}}class h5 extends kU{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),n=t[0];if(n){const i=n.findAncestor("table"),r=e.getColumns(i),{first:o,last:s}=e.getColumnIndexes(t);this.isEnabled=s-o<r-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[t,n]=function(e,t){const n=t.getSelectionAffectedTableCells(e),i=n[0],r=n.pop(),o=[i,r];return i.isBefore(r)?o:o.reverse()}(this.editor.model.document.selection,e),i=t.parent.parent,r=[...new H2(i)],o={first:r.find((e=>e.cell===t)).column,last:r.find((e=>e.cell===n)).column},s=function(e,t,n,i){return parseInt(n.getAttribute("colspan")||"1")>1?n:t.previousSibling||n.nextSibling?n.nextSibling||t.previousSibling:i.first?e.reverse().find((({column:e})=>e<i.first)).cell:e.reverse().find((({column:e})=>e>i.last)).cell}(r,t,n,o);this.editor.model.change((t=>{const n=o.last-o.first+1;e.removeColumns(i,{at:o.first,columns:n}),t.setSelection(t.createPositionAt(s,0))}))}}class p5 extends kU{refresh(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,n=e.getSelectionAffectedTableCells(t.document.selection),i=n.length>0;this.isEnabled=i,this.value=i&&n.every((e=>this._isInHeading(e,e.parent.parent)))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),n=this.editor.model,i=t.getSelectionAffectedTableCells(n.document.selection),r=i[0].findAncestor("table"),{first:o,last:s}=t.getRowIndexes(i),a=this.value?o:s+1,l=r.getAttribute("headingRows")||0;n.change((e=>{if(a){const t=Q2(r,a,a>l?l:0);for(const{cell:n}of t)e5(n,a,e)}j2("headingRows",a,r,e,0)}))}_isInHeading(e,t){const n=parseInt(t.getAttribute("headingRows")||"0");return!!n&&e.parent.index<n}}class f5 extends kU{refresh(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),i=n.length>0;this.isEnabled=i,this.value=i&&n.every((e=>F2(t,e)))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),n=this.editor.model,i=t.getSelectionAffectedTableCells(n.document.selection),r=i[0].findAncestor("table"),{first:o,last:s}=t.getColumnIndexes(i),a=this.value?o:s+1;n.change((e=>{if(a){const t=t5(r,a);for(const{cell:n,column:i}of t)n5(n,i,a,e)}j2("headingColumns",a,r,e,0)}))}}function m5(e){const t=function(e){if(e.is("element","tableColumnGroup"))return e;const t=e.getChildren();return Array.from(t).find((e=>e.is("element","tableColumnGroup")))}(e);return t?Array.from(t.getChildren()):[]}class g5 extends _U{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const t=e.parent,n=t.parent,i=n.getChildIndex(t),r=new H2(n,{row:i});for(const{cell:t,row:n,column:i}of r)if(t===e)return{row:n,column:i}}createTable(e,t){const n=e.createElement("table"),i=t.rows||2,r=t.columns||2;return b5(e,n,0,i,r),t.headingRows&&j2("headingRows",Math.min(t.headingRows,i),n,e,0),t.headingColumns&&j2("headingColumns",Math.min(t.headingColumns,r),n,e,0),n}insertRows(e,t={}){const n=this.editor.model,i=t.at||0,r=t.rows||1,o=void 0!==t.copyStructureFromAbove,s=t.copyStructureFromAbove?i-1:i,a=this.getRows(e),l=this.getColumns(e);if(i>a)throw new dV("tableutils-insertrows-insert-out-of-range",this,{options:t});n.change((t=>{const n=e.getAttribute("headingRows")||0;if(n>i&&j2("headingRows",n+r,e,t,0),!o&&(0===i||i===a))return void b5(t,e,i,r,l);const c=o?Math.max(i,s):i,u=new H2(e,{endRow:c}),d=new Array(l).fill(1);for(const{row:e,column:n,cellHeight:a,cellWidth:l,cell:c}of u){const u=e+a-1,h=e<=s&&s<=u;e<i&&i<=u?(t.setAttribute("rowspan",a+r,c),d[n]=-l):o&&h&&(d[n]=l)}for(let n=0;n<r;n++){const n=t.createElement("tableRow");t.insert(n,e,i);for(let e=0;e<d.length;e++){const i=d[e],r=t.createPositionAt(n,"end");i>0&&N2(t,r,i>1?{colspan:i}:void 0),e+=Math.abs(i)-1}}}))}insertColumns(e,t={}){const n=this.editor.model,i=t.at||0,r=t.columns||1;n.change((t=>{const n=e.getAttribute("headingColumns");i<n&&t.setAttribute("headingColumns",n+r,e);const o=this.getColumns(e);if(0===i||o===i){for(const n of e.getChildren())n.is("element","tableRow")&&y5(r,t,t.createPositionAt(n,i?"end":0));return}const s=new H2(e,{column:i,includeAllSlots:!0});for(const e of s){const{row:n,cell:o,cellAnchorColumn:a,cellAnchorRow:l,cellWidth:c,cellHeight:u}=e;if(a<i){t.setAttribute("colspan",c+r,o);const e=l+u-1;for(let t=n;t<=e;t++)s.skipRow(t)}else y5(r,t,e.getPositionBefore())}}))}removeRows(e,t){const n=this.editor.model,i=t.rows||1,r=this.getRows(e),o=t.at,s=o+i-1;if(s>r-1)throw new dV("tableutils-removerows-row-index-out-of-range",this,{table:e,options:t});n.change((t=>{const n={first:o,last:s},{cellsToMove:i,cellsToTrim:r}=function(e,{first:t,last:n}){const i=new Map,r=[];for(const{row:o,column:s,cellHeight:a,cell:l}of new H2(e,{endRow:n})){const e=o+a-1;if(o>=t&&o<=n&&e>n){const e=a-(n-o+1);i.set(s,{cell:l,rowspan:e})}if(o<t&&e>=t){let i;i=e>=n?n-t+1:e-t+1,r.push({cell:l,rowspan:a-i})}}return{cellsToMove:i,cellsToTrim:r}}(e,n);i.size&&function(e,t,n,i){const r=[...new H2(e,{includeAllSlots:!0,row:t})],o=e.getChild(t);let s;for(const{column:e,cell:t,isAnchor:a}of r)if(n.has(e)){const{cell:t,rowspan:r}=n.get(e),a=s?i.createPositionAfter(s):i.createPositionAt(o,0);i.move(i.createRangeOn(t),a),j2("rowspan",r,t,i),s=t}else a&&(s=t)}(e,s+1,i,t);for(let n=s;n>=o;n--)t.remove(e.getChild(n));for(const{rowspan:e,cell:n}of r)j2("rowspan",e,n,t);!function(e,{first:t,last:n},i){const r=e.getAttribute("headingRows")||0;t<r&&j2("headingRows",n<r?r-(n-t+1):t,e,i,0)}(e,n,t),r5(e,this)||o5(e,this)}))}removeColumns(e,t){const n=this.editor.model,i=t.at,r=t.columns||1,o=t.at+r-1;n.change((t=>{!function(e,t,n){const i=e.getAttribute("headingColumns")||0;if(i&&t.first<i){const r=Math.min(i-1,t.last)-t.first+1;n.setAttribute("headingColumns",i-r,e)}}(e,{first:i,last:o},t);const n=m5(e);for(let r=o;r>=i;r--){for(const{cell:n,column:i,cellWidth:o}of[...new H2(e)])i<=r&&o>1&&i+o>r?j2("colspan",o-1,n,t):i===r&&t.remove(n);if(n[r]){const e=0===r?n[1]:n[r-1],i=parseFloat(n[r].getAttribute("columnWidth")),o=parseFloat(e.getAttribute("columnWidth"));t.remove(n[r]),t.setAttribute("columnWidth",i+o+"%",e)}}o5(e,this)||r5(e,this)}))}splitCellVertically(e,t=2){const n=this.editor.model,i=e.parent.parent,r=parseInt(e.getAttribute("rowspan")||"1"),o=parseInt(e.getAttribute("colspan")||"1");n.change((n=>{if(o>1){const{newCellsSpan:i,updatedSpan:s}=v5(o,t);j2("colspan",s,e,n);const a={};i>1&&(a.colspan=i),r>1&&(a.rowspan=r),y5(o>t?t-1:o-1,n,n.createPositionAfter(e),a)}if(o<t){const s=t-o,a=[...new H2(i)],{column:l}=a.find((({cell:t})=>t===e)),c=a.filter((({cell:t,cellWidth:n,column:i})=>t!==e&&i===l||i<l&&i+n>l));for(const{cell:e,cellWidth:t}of c)n.setAttribute("colspan",t+s,e);const u={};r>1&&(u.rowspan=r),y5(s,n,n.createPositionAfter(e),u);const d=i.getAttribute("headingColumns")||0;d>l&&j2("headingColumns",d+s,i,n)}}))}splitCellHorizontally(e,t=2){const n=this.editor.model,i=e.parent,r=i.parent,o=r.getChildIndex(i),s=parseInt(e.getAttribute("rowspan")||"1"),a=parseInt(e.getAttribute("colspan")||"1");n.change((n=>{if(s>1){const i=[...new H2(r,{startRow:o,endRow:o+s-1,includeAllSlots:!0})],{newCellsSpan:l,updatedSpan:c}=v5(s,t);j2("rowspan",c,e,n);const{column:u}=i.find((({cell:t})=>t===e)),d={};l>1&&(d.rowspan=l),a>1&&(d.colspan=a);for(const e of i){const{column:t,row:i}=e;i>=o+c&&t===u&&(i+o+c)%l==0&&y5(1,n,e.getPositionBefore(),d)}}if(s<t){const i=t-s,l=[...new H2(r,{startRow:0,endRow:o})];for(const{cell:t,cellHeight:r,row:s}of l)if(t!==e&&s+r>o){const e=r+i;n.setAttribute("rowspan",e,t)}const c={};a>1&&(c.colspan=a),b5(n,r,o+1,i,1,c);const u=r.getAttribute("headingRows")||0;u>o&&j2("headingRows",u+i,r,n)}}))}getColumns(e){return[...e.getChild(0).getChildren()].filter((e=>e.is("element","tableCell"))).reduce(((e,t)=>e+parseInt(t.getAttribute("colspan")||"1")),0)}getRows(e){return Array.from(e.getChildren()).reduce(((e,t)=>t.is("element","tableRow")?e+1:e),0)}createTableWalker(e,t={}){return new H2(e,t)}getSelectedTableCells(e){const t=[];for(const n of this.sortRanges(e.getRanges())){const e=n.getContainedElement();e&&e.is("element","tableCell")&&t.push(e)}return t}getTableCellsContainingSelection(e){const t=[];for(const n of e.getRanges()){const e=n.start.findAncestor("tableCell");e&&t.push(e)}return t}getSelectionAffectedTableCells(e){const t=this.getSelectedTableCells(e);return t.length?t:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const t=e.map((e=>e.parent.index));return this._getFirstLastIndexesObject(t)}getColumnIndexes(e){const t=e[0].findAncestor("table"),n=[...new H2(t)].filter((t=>e.includes(t.cell))).map((e=>e.column));return this._getFirstLastIndexesObject(n)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const t=new Set,n=new Set;let i=0;for(const r of e){const{row:e,column:o}=this.getCellLocation(r),s=parseInt(r.getAttribute("rowspan"))||1,a=parseInt(r.getAttribute("colspan"))||1;t.add(e),n.add(o),s>1&&t.add(e+s-1),a>1&&n.add(o+a-1),i+=s*a}const r=function(e,t){const n=Array.from(e.values()),i=Array.from(t.values());return(Math.max(...n)-Math.min(...n)+1)*(Math.max(...i)-Math.min(...i)+1)}(t,n);return r==i}sortRanges(e){return Array.from(e).sort(_5)}_getFirstLastIndexesObject(e){const t=e.sort(((e,t)=>e-t));return{first:t[0],last:t[t.length-1]}}_areCellInTheSameTableSection(e){const t=e[0].findAncestor("table"),n=this.getRowIndexes(e),i=parseInt(t.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(n,i))return!1;const r=this.getColumnIndexes(e),o=parseInt(t.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(r,o)}_areIndexesInSameSection({first:e,last:t},n){return e<n==t<n}}function b5(e,t,n,i,r,o={}){for(let s=0;s<i;s++){const i=e.createElement("tableRow");e.insert(i,t,n),y5(r,e,e.createPositionAt(i,"end"),o)}}function y5(e,t,n,i={}){for(let r=0;r<e;r++)N2(t,n,i)}function v5(e,t){if(e<t)return{newCellsSpan:1,updatedSpan:1};const n=Math.floor(e/t);return{newCellsSpan:n,updatedSpan:e-n*t+n}}function _5(e,t){const n=e.start,i=t.start;return n.isBefore(i)?-1:1}class w5 extends kU{refresh(){const e=this.editor.plugins.get(g5),t=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(t)}execute(){const e=this.editor.model,t=this.editor.plugins.get(g5);e.change((n=>{const i=t.getSelectedTableCells(e.document.selection),r=i.shift(),{mergeWidth:o,mergeHeight:s}=function(e,t,n){let i=0,r=0;for(const e of t){const{row:t,column:o}=n.getCellLocation(e);i=E5(e,o,i,"colspan"),r=E5(e,t,r,"rowspan")}const{row:o,column:s}=n.getCellLocation(e);return{mergeWidth:i-s,mergeHeight:r-o}}(r,i,t);j2("colspan",o,r,n),j2("rowspan",s,r,n);for(const e of i)k5(e,r,n);s5(r.findAncestor("table"),t),n.setSelection(r,"in")}))}}function k5(e,t,n){C5(e)||(C5(t)&&n.remove(n.createRangeIn(t)),n.move(n.createRangeIn(e),n.createPositionAt(t,"end"))),n.remove(e)}function C5(e){const t=e.getChild(0);return 1==e.childCount&&t.is("element","paragraph")&&t.isEmpty}function E5(e,t,n,i){const r=parseInt(e.getAttribute(i)||"1");return Math.max(n,t+r)}class x5 extends kU{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),i=t.getRowIndexes(n),r=n[0].findAncestor("table"),o=[];for(let t=i.first;t<=i.last;t++)for(const n of r.getChild(t).getChildren())o.push(e.createRangeOn(n));e.change((e=>{e.setSelection(o)}))}}class S5 extends kU{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,n=e.getSelectionAffectedTableCells(t.document.selection),i=n[0],r=n.pop(),o=i.findAncestor("table"),s=e.getCellLocation(i),a=e.getCellLocation(r),l=Math.min(s.column,a.column),c=Math.max(s.column,a.column),u=[];for(const e of new H2(o,{startColumn:l,endColumn:c}))u.push(t.createRangeOn(e.cell));t.change((e=>{e.setSelection(u)}))}}function O5(e,t){let n=!1;const i=function(e){const t=parseInt(e.getAttribute("headingRows")||"0"),n=Array.from(e.getChildren()).reduce(((e,t)=>t.is("element","tableRow")?e+1:e),0),i=[];for(const{row:r,cell:o,cellHeight:s}of new H2(e)){if(s<2)continue;const e=r<t?t:n;if(r+s>e){const t=e-r;i.push({cell:o,rowspan:t})}}return i}(e);if(i.length){n=!0;for(const e of i)j2("rowspan",e.rowspan,e.cell,t,1)}return n}function T5(e,t){let n=!1;const i=function(e){const t=new Array(e.childCount).fill(0);for(const{rowIndex:n}of new H2(e,{includeAllSlots:!0}))t[n]++;return t}(e),r=[];for(const[t,n]of i.entries())!n&&e.getChild(t).is("element","tableRow")&&r.push(t);if(r.length){n=!0;for(const n of r.reverse())t.remove(e.getChild(n)),i.splice(n,1)}const o=i.filter(((t,n)=>e.getChild(n).is("element","tableRow"))),s=o[0];if(!o.every((e=>e===s))){const i=o.reduce(((e,t)=>t>e?t:e),0);for(const[r,s]of o.entries()){const o=i-s;if(o){for(let n=0;n<o;n++)N2(t,t.createPositionAt(e.getChild(r),"end"));n=!0}}}return n}function M5(e){if("attribute"!==e.type)return!1;const t=e.attributeKey;return"headingRows"===t||"colspan"===t||"rowspan"===t}function P5(e,t){let n=!1;for(const i of e.getChildren())i.is("element","tableRow")&&(n=D5(i,t)||n);return n}function D5(e,t){let n=!1;for(const i of e.getChildren())n=L5(i,t)||n;return n}function L5(e,t){if(0==e.childCount)return t.insertElement("paragraph",e),!0;const n=Array.from(e.getChildren()).filter((e=>e.is("$text")));for(const e of n)t.wrap(t.createRangeOn(e),"paragraph");return!!n.length}function A5(e){return!!e.position.parent.is("element","tableCell")&&("insert"==e.type&&"$text"==e.name||"remove"==e.type)}function z5(e,t){if(!e.is("element","paragraph"))return!1;const n=t.toViewElement(e);return!!n&&q2(e)!==n.is("element","span")}class I5 extends _U{static get pluginName(){return"TableEditing"}static get requires(){return[g5]}constructor(e){super(e),this._additionalSlots=[]}init(){const e=this.editor,t=e.model,n=t.schema,i=e.conversion,r=e.plugins.get(g5);n.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),i.for("upcast").add((e=>{e.on("element:figure",((e,t,n)=>{if(!n.consumable.test(t.viewItem,{name:!0,classes:"table"}))return;const i=function(e){for(const t of e.getChildren())if(t.is("element","table"))return t}(t.viewItem);if(!i||!n.consumable.test(i,{name:!0}))return;n.consumable.consume(t.viewItem,{name:!0,classes:"table"});const r=dU(n.convertItem(i,t.modelCursor).modelRange.getItems());r?(n.convertChildren(t.viewItem,n.writer.createPositionAt(r,"end")),n.updateConversionResult(r,t)):n.consumable.revert(t.viewItem,{name:!0,classes:"table"})}))})),i.for("upcast").add((e=>{e.on("element:table",((e,t,n)=>{const i=t.viewItem;if(!n.consumable.test(i,{name:!0}))return;const{rows:r,headingRows:o,headingColumns:s}=function(e){let t,n=0;const i=[],r=[];let o;for(const s of Array.from(e.getChildren())){if("tbody"!==s.name&&"thead"!==s.name&&"tfoot"!==s.name)continue;"thead"!==s.name||o||(o=s);const e=Array.from(s.getChildren()).filter((e=>e.is("element","tr")));for(const a of e)if(o&&s===o||"tbody"===s.name&&Array.from(a.getChildren()).length&&Array.from(a.getChildren()).every((e=>e.is("element","th"))))n++,i.push(a);else{r.push(a);const e=B2(a);(!t||e<t)&&(t=e)}}return{headingRows:n,headingColumns:t||0,rows:[...i,...r]}}(i),a={};s&&(a.headingColumns=s),o&&(a.headingRows=o);const l=n.writer.createElement("table",a);if(n.safeInsert(l,t.modelCursor)){if(n.consumable.consume(i,{name:!0}),r.forEach((e=>n.convertItem(e,n.writer.createPositionAt(l,"end")))),n.convertChildren(i,n.writer.createPositionAt(l,"end")),l.isEmpty){const e=n.writer.createElement("tableRow");n.writer.insert(e,n.writer.createPositionAt(l,"end")),N2(n.writer,n.writer.createPositionAt(e,"end"))}n.updateConversionResult(l,t)}}))})),i.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:W2(r,{asWidget:!0,additionalSlots:this._additionalSlots})}),i.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:W2(r,{additionalSlots:this._additionalSlots})}),i.for("upcast").elementToElement({model:"tableRow",view:"tr"}),i.for("upcast").add((e=>{e.on("element:tr",((e,t)=>{t.viewItem.isEmpty&&0==t.modelCursor.index&&e.stop()}),{priority:"high"})})),i.for("downcast").elementToElement({model:"tableRow",view:(e,{writer:t})=>e.isEmpty?t.createEmptyElement("tr"):t.createContainerElement("tr")}),i.for("upcast").elementToElement({model:"tableCell",view:"td"}),i.for("upcast").elementToElement({model:"tableCell",view:"th"}),i.for("upcast").add(Y2("td")),i.for("upcast").add(Y2("th")),i.for("editingDowncast").elementToElement({model:"tableCell",view:U2({asWidget:!0})}),i.for("dataDowncast").elementToElement({model:"tableCell",view:U2()}),i.for("editingDowncast").elementToElement({model:"paragraph",view:$2({asWidget:!0}),converterPriority:"high"}),i.for("dataDowncast").elementToElement({model:"paragraph",view:$2(),converterPriority:"high"}),i.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),i.for("upcast").attributeToAttribute({model:{key:"colspan",value:R5("colspan")},view:"colspan"}),i.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),i.for("upcast").attributeToAttribute({model:{key:"rowspan",value:R5("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new K2(e)),e.commands.add("insertTableRowAbove",new G2(e,{order:"above"})),e.commands.add("insertTableRowBelow",new G2(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new Z2(e,{order:"left"})),e.commands.add("insertTableColumnRight",new Z2(e,{order:"right"})),e.commands.add("removeTableRow",new d5(e)),e.commands.add("removeTableColumn",new h5(e)),e.commands.add("splitTableCellVertically",new J2(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new J2(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new w5(e)),e.commands.add("mergeTableCellRight",new c5(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new c5(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new c5(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new c5(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new f5(e)),e.commands.add("setTableRowHeader",new p5(e)),e.commands.add("selectTableRow",new x5(e)),e.commands.add("selectTableColumn",new S5(e)),function(e){e.document.registerPostFixer((t=>function(e,t){const n=t.document.differ.getChanges();let i=!1;const r=new Set;for(const t of n){let n=null;"insert"==t.type&&"table"==t.name&&(n=t.position.nodeAfter),"insert"!=t.type&&"remove"!=t.type||"tableRow"!=t.name&&"tableCell"!=t.name||(n=t.position.findAncestor("table")),M5(t)&&(n=t.range.start.findAncestor("table")),n&&!r.has(n)&&(i=O5(n,e)||i,i=T5(n,e)||i,r.add(n))}return i}(t,e)))}(t),function(e){e.document.registerPostFixer((t=>function(e,t){const n=t.document.differ.getChanges();let i=!1;for(const t of n)"insert"==t.type&&"table"==t.name&&(i=P5(t.position.nodeAfter,e)||i),"insert"==t.type&&"tableRow"==t.name&&(i=D5(t.position.nodeAfter,e)||i),"insert"==t.type&&"tableCell"==t.name&&(i=L5(t.position.nodeAfter,e)||i),"remove"!=t.type&&"insert"!=t.type||!A5(t)||(i=L5(t.position.parent,e)||i);return i}(t,e)))}(t),this.listenTo(t.document,"change:data",(()=>{!function(e,t){const n=e.document.differ;for(const e of n.getChanges()){let n,i=!1;if("attribute"==e.type){const t=e.range.start.nodeAfter;if(!t||!t.is("element","table"))continue;if("headingRows"!=e.attributeKey&&"headingColumns"!=e.attributeKey)continue;n=t,i="headingRows"==e.attributeKey}else"tableRow"!=e.name&&"tableCell"!=e.name||(n=e.position.findAncestor("table"),i="tableRow"==e.name);if(!n)continue;const r=n.getAttribute("headingRows")||0,o=n.getAttribute("headingColumns")||0,s=new H2(n);for(const e of s){const n=e.row<r||e.column<o?"th":"td",s=t.mapper.toViewElement(e.cell);s&&s.is("element")&&s.name!=n&&t.reconvertItem(i?e.cell.parent:e.cell)}}}(t,e.editing),function(e,t){const n=e.document.differ,i=new Set;for(const e of n.getChanges()){const t="attribute"==e.type?e.range.start.parent:e.position.parent;t.is("element","tableCell")&&i.add(t)}for(const e of i.values()){const n=Array.from(e.getChildren()).filter((e=>z5(e,t.mapper)));for(const e of n)t.reconvertItem(e)}}(t,e.editing)}))}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function R5(e){return t=>{const n=parseInt(t.getAttribute(e));return Number.isNaN(n)||n<=0?null:n}}class j5 extends sJ{constructor(e){super(e);const t=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new pU,this.focusTracker=new hU,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",((e,t)=>`${t}  ${e}`)),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":t.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:t.to("label")}]}],on:{mousedown:t.to((e=>{e.preventDefault()})),click:t.to((()=>{this.fire("execute")}))}}),this.on("boxover",((e,t)=>{const{row:n,column:i}=t.target.dataset;this.items.get(10*(parseInt(n,10)-1)+(parseInt(i,10)-1)).focus()})),this.focusTracker.on("change:focusedElement",((e,t,n)=>{if(!n)return;const{row:i,column:r}=n.dataset;this.set({rows:parseInt(i),columns:parseInt(r)})})),this.on("change:columns",(()=>this._highlightGridBoxes())),this.on("change:rows",(()=>this._highlightGridBoxes()))}render(){super.render(),function({keystrokeHandler:e,focusTracker:t,gridItems:n,numberOfColumns:i,uiLanguageDirection:r}){const o="number"==typeof i?()=>i:i;function s(e){return i=>{const r=n.find((e=>e.element===t.focusedElement)),o=n.getIndex(r),s=e(o,n);n.get(s).focus(),i.stopPropagation(),i.preventDefault()}}function a(e,t){return e===t-1?0:e+1}function l(e,t){return 0===e?t-1:e-1}e.set("arrowright",s(((e,t)=>"rtl"===r?l(e,t.length):a(e,t.length)))),e.set("arrowleft",s(((e,t)=>"rtl"===r?a(e,t.length):l(e,t.length)))),e.set("arrowup",s(((e,t)=>{let n=e-o();return n<0&&(n=e+o()*Math.floor(t.length/o()),n>t.length-1&&(n-=o())),n}))),e.set("arrowdown",s(((e,t)=>{let n=e+o();return n>t.length-1&&(n=e%o()),n})))}({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,t=this.columns;this.items.map(((n,i)=>{const r=Math.floor(i/10)<e&&i%10<t;n.set("isOn",r)}))}_createGridButton(e,t,n,i){const r=new gJ(e);return r.set({label:i,class:"ck-insert-table-dropdown-grid-box"}),r.extendTemplate({attributes:{"data-row":t,"data-column":n}}),r}_createGridCollection(){const e=[];for(let t=0;t<100;t++){const n=Math.floor(t/10),i=t%10,r=`${n+1}  ${i+1}`;e.push(this._createGridButton(this.locale,n+1,i+1,r))}return this.createCollection(e)}}class N5 extends _U{static get pluginName(){return"TableUI"}init(){const e=this.editor,t=this.editor.t,n="ltr"===e.locale.contentLanguageDirection;e.ui.componentFactory.add("insertTable",(n=>{const i=e.commands.get("insertTable"),r=WJ(n);let o;return r.bind("isEnabled").to(i),r.buttonView.set({icon:PZ.table,label:t("Insert table"),tooltip:!0}),r.on("change:isOpen",(()=>{o||(o=new j5(n),r.panelView.children.add(o),o.delegate("execute").to(r),r.on("execute",(()=>{e.execute("insertTable",{rows:o.rows,columns:o.columns}),e.editing.view.focus()})))})),r})),e.ui.componentFactory.add("tableColumn",(e=>{const i=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:t("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:n?"insertTableColumnLeft":"insertTableColumnRight",label:t("Insert column left")}},{type:"button",model:{commandName:n?"insertTableColumnRight":"insertTableColumnLeft",label:t("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:t("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:t("Select column")}}];return this._prepareDropdown(t("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',i,e)})),e.ui.componentFactory.add("tableRow",(e=>{const n=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:t("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:t("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:t("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:t("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:t("Select row")}}];return this._prepareDropdown(t("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',n,e)})),e.ui.componentFactory.add("mergeTableCells",(e=>{const i=[{type:"button",model:{commandName:"mergeTableCellUp",label:t("Merge cell up")}},{type:"button",model:{commandName:n?"mergeTableCellRight":"mergeTableCellLeft",label:t("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:t("Merge cell down")}},{type:"button",model:{commandName:n?"mergeTableCellLeft":"mergeTableCellRight",label:t("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:t("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:t("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(t("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',i,e)}))}_prepareDropdown(e,t,n,i){const r=this.editor,o=WJ(i),s=this._fillDropdownWithListOptions(o,n);return o.buttonView.set({label:e,icon:t,tooltip:!0}),o.bind("isEnabled").toMany(s,"isEnabled",((...e)=>e.some((e=>e)))),this.listenTo(o,"execute",(e=>{r.execute(e.source.commandName),e.source instanceof bJ||r.editing.view.focus()})),o}_prepareMergeSplitButtonDropdown(e,t,n,i){const r=this.editor,o=WJ(i,VJ),s="mergeTableCells",a=r.commands.get(s),l=this._fillDropdownWithListOptions(o,n);return o.buttonView.set({label:e,icon:t,tooltip:!0,isEnabled:!0}),o.bind("isEnabled").toMany([a,...l],"isEnabled",((...e)=>e.some((e=>e)))),this.listenTo(o.buttonView,"execute",(()=>{r.execute(s),r.editing.view.focus()})),this.listenTo(o,"execute",(e=>{r.execute(e.source.commandName),r.editing.view.focus()})),o}_fillDropdownWithListOptions(e,t){const n=this.editor,i=[],r=new uU;for(const e of t)F5(e,n,i,r);return qJ(e,r),i}}function F5(e,t,n,i){if("button"===e.type||"switchbutton"===e.type){const i=e.model=new jX(e.model),{commandName:r,bindIsOn:o}=e.model,s=t.commands.get(r);n.push(s),i.set({commandName:r}),i.bind("isEnabled").to(s),o&&i.bind("isOn").to(s,"value"),i.set({withText:!0})}i.add(e)}class Y5 extends _U{static get pluginName(){return"TableSelection"}static get requires(){return[g5,g5]}init(){const e=this.editor,t=e.model,n=e.editing.view;this.listenTo(t,"deleteContent",((e,t)=>this._handleDeleteContent(e,t)),{priority:"high"}),this.listenTo(n.document,"insertText",((e,t)=>this._handleInsertTextEvent(e,t)),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(g5),t=this.editor.model.document.selection,n=e.getSelectedTableCells(t);return 0==n.length?null:n}getSelectionAsFragment(){const e=this.editor.plugins.get(g5),t=this.getSelectedTableCells();return t?this.editor.model.change((n=>{const i=n.createDocumentFragment(),{first:r,last:o}=e.getColumnIndexes(t),{first:s,last:a}=e.getRowIndexes(t),l=t[0].findAncestor("table");let c=a,u=o;if(e.isSelectionRectangular(t)){const e={firstColumn:r,lastColumn:o,firstRow:s,lastRow:a};c=a5(l,e),u=l5(l,e)}const d=X2(l,{startRow:s,startColumn:r,endRow:c,endColumn:u},n);return n.insert(d,i,0),i})):null}setCellSelection(e,t){const n=this._getCellsToSelect(e,t);this.editor.model.change((e=>{e.setSelection(n.cells.map((t=>e.createRangeOn(t))),{backward:n.backward})}))}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=dU(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,t=new Set;e.conversion.for("editingDowncast").add((e=>e.on("selection",((e,n,i)=>{const r=i.writer;!function(e){for(const n of t)e.removeClass("ck-editor__editable_selected",n);t.clear()}(r);const o=this.getSelectedTableCells();if(!o)return;for(const e of o){const n=i.mapper.toViewElement(e);r.addClass("ck-editor__editable_selected",n),t.add(n)}const s=i.mapper.toViewElement(o[o.length-1]);r.setSelection(s,0)}),{priority:"lowest"})))}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",(()=>{if(!this.isEnabled){const t=this.getSelectedTableCells();if(!t)return;e.model.change((n=>{const i=n.createPositionAt(t[0],0),r=e.model.schema.getNearestSelectionRange(i);n.setSelection(r)}))}}))}_handleDeleteContent(e,t){const n=this.editor.plugins.get(g5),i=t[0],r=t[1],o=this.editor.model,s=!r||"backward"==r.direction,a=n.getSelectedTableCells(i);a.length&&(e.stop(),o.change((e=>{const t=a[s?a.length-1:0];o.change((e=>{for(const t of a)o.deleteContent(e.createSelection(t,"in"))}));const n=o.schema.getNearestSelectionRange(e.createPositionAt(t,0));i.is("documentSelection")?e.setSelection(n):i.setTo(n)})))}_handleInsertTextEvent(e,t){const n=this.editor,i=this.getSelectedTableCells();if(!i)return;const r=n.editing.view,o=n.editing.mapper,s=i.map((e=>r.createRangeOn(o.toViewElement(e))));t.selection=r.createSelection(s)}_getCellsToSelect(e,t){const n=this.editor.plugins.get("TableUtils"),i=n.getCellLocation(e),r=n.getCellLocation(t),o=Math.min(i.row,r.row),s=Math.max(i.row,r.row),a=Math.min(i.column,r.column),l=Math.max(i.column,r.column),c=new Array(s-o+1).fill(null).map((()=>[])),u={startRow:o,endRow:s,startColumn:a,endColumn:l};for(const{row:t,cell:n}of new H2(e.findAncestor("table"),u))c[t-o].push(n);const d=r.row<i.row,h=r.column<i.column;return d&&c.reverse(),h&&c.forEach((e=>e.reverse())),{cells:c.flat(),backward:d||h}}}class B5 extends _U{static get pluginName(){return"TableClipboard"}static get requires(){return[EQ,xQ,Y5,g5]}init(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"copy",((e,t)=>this._onCopyCut(e,t))),this.listenTo(t,"cut",((e,t)=>this._onCopyCut(e,t))),this.listenTo(e.model,"insertContent",((e,[t,n])=>this._onInsertContent(e,t,n)),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,t){const n=this.editor.editing.view,i=this.editor.plugins.get(Y5),r=this.editor.plugins.get(EQ);if(!i.getSelectedTableCells())return;if("cut"==e.name&&!this.editor.model.canEditAt(this.editor.model.document.selection))return;t.preventDefault(),e.stop();const o=r._copySelectedFragmentWithMarkers(e.name,this.editor.model.document.selection,(()=>i.getSelectionAsFragment()));n.document.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:this.editor.data.toView(o),method:e.name})}_onInsertContent(e,t,n){if(n&&!n.is("documentSelection"))return;const i=this.editor.model,r=this.editor.plugins.get(g5),o=this.editor.plugins.get(EQ),s=this.getTableIfOnlyTableInContent(t,i);if(!s)return;const a=r.getSelectionAffectedTableCells(i.document.selection);a.length?(e.stop(),t.is("documentFragment")?o._pasteMarkersIntoTransformedElement(t.markers,(e=>this._replaceSelectedCells(s,a,e))):this.editor.model.change((e=>{this._replaceSelectedCells(s,a,e)}))):s5(s,r)}_replaceSelectedCells(e,t,n){const i=this.editor.plugins.get(g5),r={width:i.getColumns(e),height:i.getRows(e)},o=function(e,t,n,i){const r=e[0].findAncestor("table"),o=i.getColumnIndexes(e),s=i.getRowIndexes(e),a={firstColumn:o.first,lastColumn:o.last,firstRow:s.first,lastRow:s.last},l=1===e.length;return l&&(a.lastRow+=t.height-1,a.lastColumn+=t.width-1,function(e,t,n,i){const r=i.getColumns(e),o=i.getRows(e);n>r&&i.insertColumns(e,{at:r,columns:n-r}),t>o&&i.insertRows(e,{at:o,rows:t-o})}(r,a.lastRow+1,a.lastColumn+1,i)),l||!i.isSelectionRectangular(e)?function(e,t,n){const{firstRow:i,lastRow:r,firstColumn:o,lastColumn:s}=t,a={first:i,last:r},l={first:o,last:s};V5(e,o,a,n),V5(e,s+1,a,n),H5(e,i,l,n),H5(e,r+1,l,n,i)}(r,a,n):(a.lastRow=a5(r,a),a.lastColumn=l5(r,a)),a}(t,r,n,i),s=o.lastRow-o.firstRow+1,a=o.lastColumn-o.firstColumn+1;e=X2(e,{startRow:0,startColumn:0,endRow:Math.min(s,r.height)-1,endColumn:Math.min(a,r.width)-1},n);const l=t[0].findAncestor("table"),c=this._replaceSelectedCellsWithPasted(e,r,l,o,n);if(this.editor.plugins.get("TableSelection").isEnabled){const e=i.sortRanges(c.map((e=>n.createRangeOn(e))));n.setSelection(e)}else n.setSelection(c[0],0);return l}_replaceSelectedCellsWithPasted(e,t,n,i,r){const{width:o,height:s}=t,a=function(e,t,n){const i=new Array(n).fill(null).map((()=>new Array(t).fill(null)));for(const{column:t,row:n,cell:r}of new H2(e))i[n][t]=r;return i}(e,o,s),l=[...new H2(n,{startRow:i.firstRow,endRow:i.lastRow,startColumn:i.firstColumn,endColumn:i.lastColumn,includeAllSlots:!0})],c=[];let u;for(const e of l){const{row:t,column:n}=e;n===i.firstColumn&&(u=e.getPositionBefore());const l=t-i.firstRow,d=n-i.firstColumn,h=a[l%s][d%o],p=h?r.cloneElement(h):null,f=this._replaceTableSlotCell(e,p,u,r);f&&(i5(f,t,n,i.lastRow,i.lastColumn,r),c.push(f),u=r.createPositionAfter(f))}const d=parseInt(n.getAttribute("headingRows")||"0"),h=parseInt(n.getAttribute("headingColumns")||"0"),p=i.firstRow<d&&d<=i.lastRow,f=i.firstColumn<h&&h<=i.lastColumn;if(p){const e=H5(n,d,{first:i.firstColumn,last:i.lastColumn},r,i.firstRow);c.push(...e)}if(f){const e=V5(n,h,{first:i.firstRow,last:i.lastRow},r);c.push(...e)}return c}_replaceTableSlotCell(e,t,n,i){const{cell:r,isAnchor:o}=e;return o&&i.remove(r),t?(i.insert(t,n),t):null}getTableIfOnlyTableInContent(e,t){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(1==e.childCount&&e.getChild(0).is("element","table"))return e.getChild(0);const n=t.createRangeIn(e);for(const e of n.getItems())if(e.is("element","table")){const i=t.createRange(n.start,t.createPositionBefore(e));if(t.hasContent(i,{ignoreWhitespaces:!0}))return null;const r=t.createRange(t.createPositionAfter(e),n.end);return t.hasContent(r,{ignoreWhitespaces:!0})?null:e}return null}}function H5(e,t,n,i,r=0){if(t<1)return;return Q2(e,t,r).filter((({column:e,cellWidth:t})=>W5(e,t,n))).map((({cell:e})=>e5(e,t,i)))}function V5(e,t,n,i){if(t<1)return;return t5(e,t).filter((({row:e,cellHeight:t})=>W5(e,t,n))).map((({cell:e,column:n})=>n5(e,n,t,i)))}function W5(e,t,n){const i=e+t-1,{first:r,last:o}=n;return e>=r&&e<=o||e<r&&i>=r}class U5 extends _U{static get pluginName(){return"TableKeyboard"}static get requires(){return[Y5,g5]}init(){const e=this.editor,t=e.editing.view.document,n=e.t;this.listenTo(t,"arrowKey",((...e)=>this._onArrowKey(...e)),{context:"table"}),this.listenTo(t,"tab",((...e)=>this._handleTabOnSelectedTable(...e)),{context:"figure"}),this.listenTo(t,"tab",((...e)=>this._handleTab(...e)),{context:["th","td"]}),e.accessibility.addKeystrokeInfoGroup({id:"table",label:n("Keystrokes that can be used in a table cell"),keystrokes:[{label:n("Move the selection to the next cell"),keystroke:"Tab"},{label:n("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:n("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:n("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(e,t){const n=this.editor,i=n.model.document.selection.getSelectedElement();i&&i.is("element","table")&&(t.preventDefault(),t.stopPropagation(),e.stop(),n.model.change((e=>{e.setSelection(e.createRangeIn(i.getChild(0).getChild(0)))})))}_handleTab(e,t){const n=this.editor,i=this.editor.plugins.get(g5),r=this.editor.plugins.get("TableSelection"),o=n.model.document.selection,s=!t.shiftKey;let a=i.getTableCellsContainingSelection(o)[0];if(a||(a=r.getFocusCell()),!a)return;t.preventDefault(),t.stopPropagation(),e.stop();const l=a.parent,c=l.parent,u=c.getChildIndex(l),d=l.getChildIndex(a),h=0===d;if(!s&&h&&0===u)return void n.model.change((e=>{e.setSelection(e.createRangeOn(c))}));const p=d===l.childCount-1,f=u===i.getRows(c)-1;if(s&&f&&p&&(n.execute("insertTableRowBelow"),u===i.getRows(c)-1))return void n.model.change((e=>{e.setSelection(e.createRangeOn(c))}));let m;if(s&&p){const e=c.getChild(u+1);m=e.getChild(0)}else if(!s&&h){const e=c.getChild(u-1);m=e.getChild(e.childCount-1)}else m=l.getChild(d+(s?1:-1));n.model.change((e=>{e.setSelection(e.createRangeIn(m))}))}_onArrowKey(e,t){const n=this.editor,i=oU(t.keyCode,n.locale.contentLanguageDirection);this._handleArrowKeys(i,t.shiftKey)&&(t.preventDefault(),t.stopPropagation(),e.stop())}_handleArrowKeys(e,t){const n=this.editor.plugins.get(g5),i=this.editor.plugins.get("TableSelection"),r=this.editor.model,o=r.document.selection,s=["right","down"].includes(e),a=n.getSelectedTableCells(o);if(a.length){let n;return n=t?i.getFocusCell():s?a[a.length-1]:a[0],this._navigateFromCellInDirection(n,e,t),!0}const l=o.focus.findAncestor("tableCell");if(!l)return!1;if(!o.isCollapsed)if(t){if(o.isBackward==s&&!o.containsEntireContent(l))return!1}else{const e=o.getSelectedElement();if(!e||!r.schema.isObject(e))return!1}return!!this._isSelectionAtCellEdge(o,l,s)&&(this._navigateFromCellInDirection(l,e,t),!0)}_isSelectionAtCellEdge(e,t,n){const i=this.editor.model,r=this.editor.model.schema,o=n?e.getLastPosition():e.getFirstPosition();if(!r.getLimitElement(o).is("element","tableCell"))return i.createPositionAt(t,n?"end":0).isTouching(o);const s=i.createSelection(o);return i.modifySelection(s,{direction:n?"forward":"backward"}),o.isEqual(s.focus)}_navigateFromCellInDirection(e,t,n=!1){const i=this.editor.model,r=e.findAncestor("table"),o=[...new H2(r,{includeAllSlots:!0})],{row:s,column:a}=o[o.length-1],l=o.find((({cell:t})=>t==e));let{row:c,column:u}=l;switch(t){case"left":u--;break;case"up":c--;break;case"right":u+=l.cellWidth;break;case"down":c+=l.cellHeight}if(c<0||c>s||u<0&&c<=0||u>a&&c>=s)return void i.change((e=>{e.setSelection(e.createRangeOn(r))}));u<0?(u=n?0:a,c--):u>a&&(u=n?a:0,c++);const d=o.find((e=>e.row==c&&e.column==u)).cell,h=["right","down"].includes(t),p=this.editor.plugins.get("TableSelection");if(n&&p.isEnabled){const t=p.getAnchorCell()||e;p.setCellSelection(t,d)}else{const e=i.createPositionAt(d,h?0:"end");i.change((t=>{t.setSelection(e)}))}}}class $5 extends lq{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class q5 extends _U{static get pluginName(){return"TableMouse"}static get requires(){return[Y5,g5]}init(){this.editor.editing.view.addObserver($5),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,t=e.plugins.get(g5);let n=!1;const i=e.plugins.get(Y5);this.listenTo(e.editing.view.document,"mousedown",((r,o)=>{const s=e.model.document.selection;if(!this.isEnabled||!i.isEnabled)return;if(!o.domEvent.shiftKey)return;const a=i.getAnchorCell()||t.getTableCellsContainingSelection(s)[0];if(!a)return;const l=this._getModelTableCellFromDomEvent(o);l&&K5(a,l)&&(n=!0,i.setCellSelection(a,l),o.preventDefault())})),this.listenTo(e.editing.view.document,"mouseup",(()=>{n=!1})),this.listenTo(e.editing.view.document,"selectionChange",(e=>{n&&e.stop()}),{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let t,n,i=!1,r=!1;const o=e.plugins.get(Y5);this.listenTo(e.editing.view.document,"mousedown",((e,n)=>{this.isEnabled&&o.isEnabled&&(n.domEvent.shiftKey||n.domEvent.ctrlKey||n.domEvent.altKey||(t=this._getModelTableCellFromDomEvent(n)))})),this.listenTo(e.editing.view.document,"mousemove",((e,s)=>{if(!s.domEvent.buttons)return;if(!t)return;const a=this._getModelTableCellFromDomEvent(s);a&&K5(t,a)&&(n=a,i||n==t||(i=!0)),i&&(r=!0,o.setCellSelection(t,n),s.preventDefault())})),this.listenTo(e.editing.view.document,"mouseup",(()=>{i=!1,r=!1,t=null,n=null})),this.listenTo(e.editing.view.document,"selectionChange",(e=>{r&&e.stop()}),{priority:"highest"})}_getModelTableCellFromDomEvent(e){const t=e.target,n=this.editor.editing.view.createPositionAt(t,0);return this.editor.editing.mapper.toModelPosition(n).parent.findAncestor("tableCell",{includeSelf:!0})}}function K5(e,t){return e.parent.parent==t.parent.parent}class G5 extends _U{static get requires(){return[I5,N5,Y5,q5,U5,B5,O0]}static get pluginName(){return"Table"}}function Z5(e){const t=e.getSelectedElement();return t&&X5(t)?t:null}function J5(e){const t=e.getFirstPosition();if(!t)return null;let n=t.parent;for(;n;){if(n.is("element")&&X5(n))return n;n=n.parent}return null}function X5(e){return!!e.getCustomProperty("table")&&h0(e)}class Q5 extends _U{static get requires(){return[T0]}static get pluginName(){return"TableToolbar"}afterInit(){const e=this.editor,t=e.t,n=e.plugins.get(T0),i=e.config.get("table.contentToolbar"),r=e.config.get("table.tableToolbar");i&&n.register("tableContent",{ariaLabel:t("Table toolbar"),items:i,getRelatedElement:J5}),r&&n.register("table",{ariaLabel:t("Table toolbar"),items:r,getRelatedElement:Z5})}}function e3(e,t,n,i){e.model.schema.extend("$text",{allowAttributes:n}),e.conversion.for("upcast").elementToAttribute({view:{name:t,attributes:{[i]:!0}},model:{key:n,value:e=>e.getAttribute(i)}}),e.conversion.for("downcast").attributeToElement({model:n,view:(e,{writer:n})=>n.createAttributeElement(t,{[i]:e})})}function t3(e){const t=e.model.document.selection.getFirstPosition();return t.textNode||t.nodeBefore}function n3(e,t){return e.editing.view.document.selection.getFirstPosition().getAncestors().find((e=>e.is("attributeElement")&&e.name===t))}var i3,r3,o3,s3,a3,l3,c3,u3,d3,h3;class p3 extends sJ{constructor(e,t=!1){super(e);const n=[];if(t){const e=new gJ(this.locale);e.set({class:"ck-preview-button",withText:!0}),e.extendTemplate({attributes:{href:this.bindTemplate.to("href"),target:"_blank"}}),e.bind("label").to(this,"href"),e.template.tag="a",e.template.eventListeners={},n.push(e)}const i=new gJ(this.locale);i.set({icon:'<?xml version="1.0" encoding="UTF-8"?><svg width="27px" height="27px" viewBox="0 0 27 27" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="pen" transform="translate(-3.000000, -2.000000)" fill="#000000" fill-rule="nonzero"><path d="M12.7356565,24.678557 C12.6564021,24.7643303 12.5599684,24.8380498 12.4472136,24.8944272 L4.4472136,28.8944272 C3.58765807,29.324205 2.67579505,28.4123419 3.10557281,27.5527864 L7.10557281,19.5527864 C7.16195019,19.4400316 7.23566968,19.3435979 7.32144295,19.2643435 L22.2928932,4.29289322 L23.2928932,3.29289322 C24.4833224,2.10246408 26.0333553,2.61914173 27.7071068,4.29289322 C29.3808583,5.96664471 29.8975359,7.51667765 28.7071068,8.70710678 L27.7071068,9.70710678 L12.7356565,24.678557 Z M12,22.5857864 L24.5857864,10 L22,7.41421356 L9.41421356,20 L12,22.5857864 Z M26,8.58578644 L26.2928932,8.29289322 L27.2928932,7.29289322 C27.3484564,7.23732999 27.3521668,7.21877812 27.3013167,7.06622777 C27.1925639,6.73996948 26.859584,6.27379756 26.2928932,5.70710678 C25.7262024,5.140416 25.2600305,4.80743606 24.9337722,4.6986833 C24.7812219,4.64783318 24.76267,4.65154356 24.7071068,4.70710678 L23.7071068,5.70710678 L23.4142136,6 L26,8.58578644 Z M6.23606798,25.763932 L10.311835,23.7260485 L8.27395147,21.688165 L6.23606798,25.763932 Z" id="Combined-Shape"></path></g></g></svg>\n'}),i.delegate("execute").to(this,"link"),n.push(i);const r=new gJ(this.locale);r.set({icon:'<?xml version="1.0" encoding="UTF-8"?><svg width="22px" height="30px" viewBox="0 0 22 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="trash" transform="translate(-5.000000, -1.000000)" fill="#000000" fill-rule="nonzero"><g><path d="M7,8 L6,8 C5.44771525,8 5,7.55228475 5,7 C5,6.44771525 5.44771525,6 6,6 L10.0505138,6 C10.3924592,2.75301644 12.461971,1 16,1 C19.538029,1 21.6075408,2.75301644 21.9494862,6 L26,6 C26.5522847,6 27,6.44771525 27,7 C27,7.55228475 26.5522847,8 26,8 L25,8 L25,29 C25,30.1045695 24.1045695,31 23,31 L9,31 C7.8954305,31 7,30.1045695 7,29 L7,8 Z M9,8 L9,29 L23,29 L23,8 L9,8 Z M12.0617224,6 L19.9382776,6 C19.6591254,3.92445489 18.4219113,3 16,3 C13.5780887,3 12.3408746,3.92445489 12.0617224,6 Z M15,12 C15,11.4477153 15.4477153,11 16,11 C16.5522847,11 17,11.4477153 17,12 L17,25 C17,25.5522847 16.5522847,26 16,26 C15.4477153,26 15,25.5522847 15,25 L15,12 Z M11,12 C11,11.4477153 11.4477153,11 12,11 C12.5522847,11 13,11.4477153 13,12 L13,25 C13,25.5522847 12.5522847,26 12,26 C11.4477153,26 11,25.5522847 11,25 L11,12 Z M19,12 C19,11.4477153 19.4477153,11 20,11 C20.5522847,11 21,11.4477153 21,12 L21,25 C21,25.5522847 20.5522847,26 20,26 C19.4477153,26 19,25.5522847 19,25 L19,12 Z"></path></g></g></g></svg>\n'}),r.delegate("execute").to(this,"unlink"),n.push(r),this.setTemplate({tag:"div",children:n})}}class f3 extends kU{constructor(e,t,n){super(e),this.isEnabled=!0,this.attributeMap=t,this.titleProperty=n,this.set("buttonEnabled",!0)}execute(e){this.editor.model.change((t=>{const n=Object.keys(this.attributeMap).reduce(((t,n)=>{const i=e[this.attributeMap[n]];return i?(t[n]=i,t):t}),{});n.provider=e.provider;const{selection:i}=e,r=i?i.getFirstPosition():void 0,o=r?r.textNode||r.nodeBefore:void 0;if(i&&!i.isCollapsed)for(const e of i.getRanges())t.setAttributes(n,e);else if(this.hasLinkAttribute(o))t.setAttributes(n,o);else{const i=t.createText(e[this.titleProperty],n);this.editor.model.insertContent(i)}}))}refresh(){const e=this.editor.model.document.selection,t=e.getFirstPosition();if(t&&t.textNode&&this.hasLinkAttribute(t.textNode))return void(this.buttonEnabled=!1);const n=e.getFirstRange();for(const e of n.getItems()){const t=e.textNode;if(t&&this.hasLinkAttribute(t))return void(this.buttonEnabled=!1)}this.buttonEnabled=!0}hasLinkAttribute(e){return!(!e||!e.hasAttribute)&&Object.keys(this.attributeMap).some((t=>e&&e.hasAttribute(t)))}}class m3 extends kU{constructor(e,t){super(e),this.attributesToRemove=t}execute(){this.editor.model.change((e=>{const t=this.editor.model.document.selection.getFirstPosition(),n=t.textNode||t.nodeBefore;this.attributesToRemove.forEach((t=>{e.removeAttribute(t,n)}))}))}}class g3 extends u.Component{render(){const{query:e,anchor:t,href:n,locale:i,onQueryChange:r,onAnchorChange:o,onCancel:s,onConfirm:a,onTargetChange:l,onTitleChange:c,onHrefChange:d,open:h,options:p,target:f,title:m}=this.props;if(!p)throw new Error("The LinkTypeOverlay needs some options in order to work!");const{displayProperties:g,emptyText:b="",icon:y="",listAdapter:v="",overlayTitle:_="",resourceKey:w}=p;return u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmText:Xs("sulu_admin.confirm"),onCancel:s,onConfirm:a,open:h,title:Xs("sulu_admin.link")},u.createElement(hh,null,u.createElement(hh.Field,{label:Xs("sulu_admin.link_url"),required:!0},u.createElement(Fx,{adapter:v,displayProperties:g,emptyText:b,icon:y,listKey:w,locale:i,onChange:d,overlayTitle:_,resourceKey:w,value:n})),r&&u.createElement(hh.Field,{label:Xs("sulu_admin.link_query")},u.createElement(kl,{onChange:r,value:e})),o&&u.createElement(hh.Field,{label:Xs("sulu_admin.link_anchor")},u.createElement(kl,{onChange:o,value:t})),l&&u.createElement(hh.Field,{label:Xs("sulu_admin.link_target"),required:!0},u.createElement(zp,{onChange:l,value:f},u.createElement(zp.Option,{value:"_blank"},"_blank"),u.createElement(zp.Option,{value:"_self"},"_self"),u.createElement(zp.Option,{value:"_parent"},"_parent"),u.createElement(zp.Option,{value:"_top"},"_top"))),c&&u.createElement(hh.Field,{label:Xs("sulu_admin.link_title")},u.createElement(kl,{onChange:c,value:m}))))}}function b3(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function y3(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let v3=Br((r3=class extends u.Component{constructor(e){super(e),b3(this,"protocol",o3,this),b3(this,"href",s3,this),b3(this,"mailSubject",a3,this),b3(this,"mailBody",l3,this),this.callUrlChange=()=>{const{onTargetChange:e,onHrefChange:t}=this.props,{mailBody:n,mailSubject:i,href:r}=this;if(!r)return void t(void 0);const o=new URLSearchParams;r.startsWith("mailto:")&&(e&&e("_self"),i&&o.set("subject",i),n&&o.set("body",n)),t(r+(Array.from(o).length>0?"?"+o.toString().replace(/\+/g,"%20"):""))},this.handleUrlBlur=this.callUrlChange,b3(this,"handleHrefChange",c3,this),this.handleMailSubjectBlur=this.callUrlChange,b3(this,"handleProtocolChange",u3,this),b3(this,"handleMailSubjectChange",d3,this),this.handleMailBodyBlur=this.callUrlChange,b3(this,"handleMailBodyChange",h3,this),this.handleRelNoFollowChange=e=>{const{onRelChange:t,rel:n}=this.props;if(!t)return;let i=(n||"").toLowerCase().trim().split(" ").map((e=>e.trim())).filter((e=>!!e));e&&!i.includes("nofollow")?i=[...i,"nofollow"]:!e&&i.includes("nofollow")&&(i=i.filter((e=>"nofollow"!==e)));const r=i.join(" ")||void 0;n!==r&&t(r)},this.updateUrl()}componentDidUpdate(e){!1===e.open&&!0===this.props.open&&this.updateUrl()}updateUrl(){const{href:e}=this.props;if(e){if("string"==typeof e&&e.startsWith("mailto:")){const t=e.split("?"),n=new URLSearchParams(t[1]),i=n.get("subject"),r=n.get("body");return this.href=t[0],this.mailSubject=i||void 0,void(this.mailBody=r||void 0)}this.href=String(e),this.mailSubject=void 0,this.mailBody=void 0}else this.href=void 0}get isRelNoFollow(){const{rel:e}=this.props;return!!e&&e.toLowerCase().includes("nofollow")}render(){const{onCancel:e,onConfirm:t,onTargetChange:n,onTitleChange:i,onRelChange:r,open:o,target:s,title:a,href:l}=this.props;return u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmDisabled:!l,confirmText:Xs("sulu_admin.confirm"),onCancel:e,onConfirm:t,open:o,title:Xs("sulu_admin.link")},u.createElement(hh,null,u.createElement(hh.Field,{label:Xs("sulu_admin.link_url"),required:!0},u.createElement(aj,{defaultProtocol:"https://",onBlur:this.handleUrlBlur,onChange:this.handleHrefChange,onProtocolChange:this.handleProtocolChange,valid:!0,value:this.href})),this.protocol&&"mailto:"!==this.protocol&&n&&u.createElement(hh.Field,{label:Xs("sulu_admin.link_target"),required:!0},u.createElement(zp,{onChange:n,value:s},u.createElement(zp.Option,{value:"_blank"},"_blank"),u.createElement(zp.Option,{value:"_self"},"_self"),u.createElement(zp.Option,{value:"_parent"},"_parent"),u.createElement(zp.Option,{value:"_top"},"_top"))),this.protocol&&"mailto:"===this.protocol&&u.createElement(u.Fragment,null,u.createElement(hh.Field,{label:Xs("sulu_admin.mail_subject")},u.createElement(kl,{onBlur:this.handleMailSubjectBlur,onChange:this.handleMailSubjectChange,value:this.mailSubject})),u.createElement(hh.Field,{label:Xs("sulu_admin.mail_body")},u.createElement(WR,{onBlur:this.handleMailBodyBlur,onChange:this.handleMailBodyChange,value:this.mailBody}))),i&&u.createElement(hh.Field,{label:Xs("sulu_admin.link_title")},u.createElement(kl,{onChange:i,value:a})),r&&u.createElement(hh.Field,null,u.createElement(Nv,{checked:this.isRelNoFollow,onChange:this.handleRelNoFollowChange},Xs("sulu_admin.no_follow")))))}},o3=y3(r3.prototype,"protocol",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),s3=y3(r3.prototype,"href",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),a3=y3(r3.prototype,"mailSubject",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),l3=y3(r3.prototype,"mailBody",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),y3(r3.prototype,"componentDidUpdate",[ht],Object.getOwnPropertyDescriptor(r3.prototype,"componentDidUpdate"),r3.prototype),c3=y3(r3.prototype,"handleHrefChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.href=e}}}),u3=y3(r3.prototype,"handleProtocolChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.protocol=e}}}),d3=y3(r3.prototype,"handleMailSubjectChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.mailSubject=e}}}),h3=y3(r3.prototype,"handleMailBodyChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.mailBody=e}}}),y3(r3.prototype,"isRelNoFollow",[ge],Object.getOwnPropertyDescriptor(r3.prototype,"isRelNoFollow"),r3.prototype),i3=r3))||i3;var _3,w3,k3,C3,E3,x3,S3,O3,T3,M3,P3,D3,L3=v3;function A3(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function z3(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const I3="_self",R3="target",j3="title",N3="url",F3="externalLinkHref",Y3="externalLinkTarget",B3="externalLinkTitle",H3="externalLinkRel",V3="a";let W3=(w3=z3((_3=class extends _U{constructor(...e){super(...e),A3(this,"open",w3,this),A3(this,"target",k3,this),A3(this,"title",C3,this),A3(this,"rel",E3,this),A3(this,"url",x3,this),A3(this,"handleOverlayConfirm",S3,this),A3(this,"handleOverlayClose",O3,this),A3(this,"handleTargetChange",T3,this),A3(this,"handleTitleChange",M3,this),A3(this,"handleRelChange",P3,this),A3(this,"handleHrefChange",D3,this)}init(){this.externalLinkOverlayElement=document.createElement("div"),this.editor.sourceElement.appendChild(this.externalLinkOverlayElement),this.balloon=this.editor.plugins.get(FX),this.balloonView=new p3(this.editor.locale,!0),this.balloonView.bind("href").to(this,"href"),this.listenTo(this.balloonView,"unlink",(()=>{this.editor.execute("externalUnlink"),this.hideBalloon()})),this.listenTo(this.balloonView,"link",ht((()=>{this.selection=this.editor.model.document.selection;const e=t3(this.editor);this.target=e.getAttribute(Y3),this.title=e.getAttribute(B3),this.url=e.getAttribute(F3),this.rel=e.getAttribute(H3),this.open=!0,this.hideBalloon()})));const e=this.editor.config.get("sulu.locale");(0,d.render)(u.createElement(Hr,null,(()=>u.createElement(L3,{href:this.url,locale:e,onCancel:this.handleOverlayClose,onConfirm:this.handleOverlayConfirm,onHrefChange:this.handleHrefChange,onRelChange:this.handleRelChange,onTargetChange:this.handleTargetChange,onTitleChange:this.handleTitleChange,open:this.open,options:void 0,rel:this.rel,target:this.target,title:this.title}))),this.externalLinkOverlayElement),this.editor.commands.add("externalLink",new f3(this.editor,{[F3]:N3,[Y3]:R3,[B3]:j3,[H3]:"rel"},N3)),this.editor.commands.add("externalUnlink",new m3(this.editor,[F3,Y3,B3,H3])),this.editor.ui.componentFactory.add("externalLink",(e=>{const t=new gJ(e);return t.bind("isEnabled").to(this.editor.commands.get("internalLink"),"buttonEnabled",this.editor.commands.get("externalLink"),"buttonEnabled",((e,t)=>e&&t)),t.set({icon:'<?xml version="1.0" encoding="UTF-8"?><svg width="32px" height="32px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="link" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><path d="M10,19 C10.5522847,19 11,19.4477153 11,20 C11,20.5522847 10.5522847,21 10,21 L6,21 C3.790861,21 2,19.209139 2,17 L2,15 C2,12.790861 3.790861,11 6,11 L16,11 C18.209139,11 20,12.790861 20,15 L20,16 C20,16.5522847 19.5522847,17 19,17 C18.4477153,17 18,16.5522847 18,16 L18,15 C18,13.8954305 17.1045695,13 16,13 L6,13 C4.8954305,13 4,13.8954305 4,15 L4,17 C4,18.1045695 4.8954305,19 6,19 L10,19 Z M22,13 C21.4477153,13 21,12.5522847 21,12 C21,11.4477153 21.4477153,11 22,11 L26,11 C28.209139,11 30,12.790861 30,15 L30,17 C30,19.209139 28.209139,21 26,21 L16,21 C13.790861,21 12,19.209139 12,17 L12,16 C12,15.4477153 12.4477153,15 13,15 C13.5522847,15 14,15.4477153 14,16 L14,17 C14,18.1045695 14.8954305,19 16,19 L26,19 C27.1045695,19 28,18.1045695 28,17 L28,15 C28,13.8954305 27.1045695,13 26,13 L22,13 Z" id="Combined-Shape" fill="#000000" fill-rule="nonzero"></path></g></svg>\n',label:Xs("sulu_admin.external_link"),tooltip:!0}),t.on("execute",ht((()=>{this.selection=this.editor.model.document.selection,this.open=!0,this.target=I3,this.title=void 0,this.url=void 0,this.rel=void 0}))),t})),e3(this.editor,V3,Y3,"target"),e3(this.editor,V3,F3,"href"),e3(this.editor,V3,B3,"title"),e3(this.editor,V3,H3,"rel");const t=this.editor.editing.view;t.addObserver(_Z),this.listenTo(t.document,"click",(()=>{const e=n3(this.editor,V3);this.hideBalloon(),e&&(this.set("href",e.getAttribute("href")),this.balloon.add({position:{target:t.domConverter.mapViewToDom(e)},view:this.balloonView}))})),this.listenTo(t.document,"blur",(()=>{this.hideBalloon()}))}hideBalloon(){this.balloon.hasView(this.balloonView)&&this.balloon.remove(this.balloonView)}destroy(){(0,d.unmountComponentAtNode)(this.externalLinkOverlayElement),this.externalLinkOverlayElement.remove(),this.externalLinkOverlayElement=void 0}}).prototype,"open",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k3=z3(_3.prototype,"target",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I3}}),C3=z3(_3.prototype,"title",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E3=z3(_3.prototype,"rel",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x3=z3(_3.prototype,"url",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S3=z3(_3.prototype,"handleOverlayConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.editor.execute("externalLink",{selection:this.selection,[R3]:this.target,[j3]:this.title,[N3]:this.url,rel:this.rel}),this.open=!1}}}),O3=z3(_3.prototype,"handleOverlayClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.open=!1}}}),T3=z3(_3.prototype,"handleTargetChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.target=e}}}),M3=z3(_3.prototype,"handleTitleChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.title=e}}}),P3=z3(_3.prototype,"handleRelChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.rel=e}}}),D3=z3(_3.prototype,"handleHrefChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.url=String(e)}}}),_3);var U3,$3,q3,K3,G3,Z3,J3,X3,Q3,e4,t4,n4,i4,r4,o4=W3;function s4(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function a4(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const l4="_self",c4="target",u4="href",d4="provider",h4="title",p4="defaultText",f4="internalLinkHref",m4="internalLinkTarget",g4="internalLinkProvider",b4="internalLinkTitle",y4="validationState",v4="sulu-link";let _4=($3=a4((U3=class extends _U{constructor(...e){super(...e),s4(this,"openOverlay",$3,this),s4(this,"target",q3,this),s4(this,"id",K3,this),s4(this,"title",G3,this),s4(this,"query",Z3,this),s4(this,"anchor",J3,this),s4(this,"handleOverlayConfirm",X3,this),s4(this,"handleOverlayClose",Q3,this),s4(this,"handleQueryChange",e4,this),s4(this,"handleAnchorChange",t4,this),s4(this,"handleTargetChange",n4,this),s4(this,"handleTitleChange",i4,this),s4(this,"handleHrefChange",r4,this)}get internalLinkTypes(){return Aj.getKeys().filter((e=>"external"!==e))}get href(){const{id:e,query:t,anchor:n}=this;if(!e)return null;let i="";return t&&(i+="?"+t.replace(/^\?+/g,"")),n&&(i+="#"+n.replace(/^#+/g,"")),e+i}init(){this.internalLinkElement=document.createElement("div"),this.editor.sourceElement.appendChild(this.internalLinkElement),this.balloon=this.editor.plugins.get(FX),this.balloonView=new p3(this.editor.locale),this.listenTo(this.balloonView,"unlink",(()=>{this.editor.execute("internalUnlink"),this.hideBalloon()})),this.listenTo(this.balloonView,"link",ht((()=>{this.selection=this.editor.model.document.selection;const e=t3(this.editor);let t=e.getAttribute(f4).split("#",2);const n=t[1]||null;t=t[0]?.split("?",2);const i=t[0]||null,r=t[1]||null;this.id=isNaN(i)?i:parseInt(i),this.anchor=n,this.query=r,this.target=e.getAttribute(m4),this.title=e.getAttribute(b4),this.openOverlay=e.getAttribute(g4),this.hideBalloon()})));const e=this.editor.config.get("sulu.locale");(0,d.render)(u.createElement(Hr,null,(()=>u.createElement(u.Fragment,null,this.internalLinkTypes.map((t=>{const n=Aj.getOverlay(t);return u.createElement(n,{anchor:this.anchor,href:this.openOverlay===t?this.id:void 0,key:t,locale:ue.box(e),onAnchorChange:this.handleAnchorChange,onCancel:this.handleOverlayClose,onConfirm:this.handleOverlayConfirm,onHrefChange:this.handleHrefChange,onQueryChange:this.handleQueryChange,onTargetChange:this.handleTargetChange,onTitleChange:this.handleTitleChange,open:this.openOverlay===t,options:Aj.getOptions(t),query:this.query,target:this.target,title:this.title})}))))),this.internalLinkElement),this.editor.commands.add("internalLink",new f3(this.editor,{[f4]:u4,[m4]:c4,[b4]:h4,[g4]:d4},p4)),this.editor.commands.add("internalUnlink",new m3(this.editor,[m4,b4,f4,y4,g4])),this.editor.ui.componentFactory.add("internalLink",(e=>{const t=WJ(e),n=new HJ(e);return t.bind("isEnabled").to(this.editor.commands.get("internalLink"),"buttonEnabled",this.editor.commands.get("externalLink"),"buttonEnabled",((e,t)=>e&&t)),t.buttonView.set({icon:'<?xml version="1.0" encoding="UTF-8"?><svg width="32px" height="32px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="link-copy" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><path d="M15,12.7731669 L15,5 C15,4.44771525 15.4477153,4 16,4 C16.5522847,4 17,4.44771525 17,5 L17,12.7731669 L19.8356362,10.2526014 C20.2484189,9.88568338 20.8804913,9.9228641 21.2474093,10.3356469 C21.6143273,10.7484296 21.5771466,11.380502 21.1643638,11.74742 L16.6643638,15.74742 C16.2854778,16.0842076 15.7145222,16.0842076 15.3356362,15.74742 L10.8356362,11.74742 C10.4228534,11.380502 10.3856727,10.7484296 10.7525907,10.3356469 C11.1195087,9.9228641 11.7515811,9.88568338 12.1643638,10.2526014 L15,12.7731669 Z M10,26 C10.5522847,26 11,26.4477153 11,27 C11,27.5522847 10.5522847,28 10,28 L6,28 C3.790861,28 2,26.209139 2,24 L2,22 C2,19.790861 3.790861,18 6,18 L16,18 C18.209139,18 20,19.790861 20,22 L20,23 C20,23.5522847 19.5522847,24 19,24 C18.4477153,24 18,23.5522847 18,23 L18,22 C18,20.8954305 17.1045695,20 16,20 L6,20 C4.8954305,20 4,20.8954305 4,22 L4,24 C4,25.1045695 4.8954305,26 6,26 L10,26 Z M22,20 C21.4477153,20 21,19.5522847 21,19 C21,18.4477153 21.4477153,18 22,18 L26,18 C28.209139,18 30,19.790861 30,22 L30,24 C30,26.209139 28.209139,28 26,28 L16,28 C13.790861,28 12,26.209139 12,24 L12,23 C12,22.4477153 12.4477153,22 13,22 C13.5522847,22 14,22.4477153 14,23 L14,24 C14,25.1045695 14.8954305,26 16,26 L26,26 C27.1045695,26 28,25.1045695 28,24 L28,22 C28,20.8954305 27.1045695,20 26,20 L22,20 Z" id="Combined-Shape" fill="#000000" fill-rule="nonzero"></path></g></svg>\n',label:Xs("sulu_admin.internal_link"),tooltip:!0}),this.internalLinkTypes.forEach((t=>{const i=new gJ(e);i.set({class:"ck-link-button",label:Aj.getTitle(t),withText:!0});const r=new FJ(e);r.children.add(i),i.delegate("execute").to(r),i.on("execute",ht((()=>{this.selection=this.editor.model.document.selection,this.openOverlay=t,this.target=l4,this.title=void 0,this.id=void 0,this.query=void 0,this.anchor=void 0}))),n.items.add(r)})),n.items.delegate("execute").to(t),t.panelView.children.add(n),t})),e3(this.editor,v4,y4,"sulu-validation-state"),e3(this.editor,v4,g4,"provider"),e3(this.editor,v4,m4,"target"),e3(this.editor,v4,b4,"title"),e3(this.editor,v4,f4,"href");const t=this.editor.editing.view;t.addObserver(_Z),this.listenTo(t.document,"click",(()=>{const e=n3(this.editor,v4);this.hideBalloon(),e&&this.balloon.add({position:{target:t.domConverter.mapViewToDom(e)},view:this.balloonView})})),this.listenTo(t.document,"blur",(()=>{this.hideBalloon()}))}hideBalloon(){this.balloon.hasView(this.balloonView)&&this.balloon.remove(this.balloonView)}destroy(){(0,d.unmountComponentAtNode)(this.internalLinkElement),this.internalLinkElement.remove(),this.internalLinkElement=void 0}}).prototype,"openOverlay",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),q3=a4(U3.prototype,"target",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l4}}),K3=a4(U3.prototype,"id",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),G3=a4(U3.prototype,"title",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z3=a4(U3.prototype,"query",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J3=a4(U3.prototype,"anchor",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a4(U3.prototype,"internalLinkTypes",[ge],Object.getOwnPropertyDescriptor(U3.prototype,"internalLinkTypes"),U3.prototype),a4(U3.prototype,"href",[ge],Object.getOwnPropertyDescriptor(U3.prototype,"href"),U3.prototype),X3=a4(U3.prototype,"handleOverlayConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.editor.execute("internalLink",{[u4]:this.href,[d4]:this.openOverlay,selection:this.selection,[c4]:this.target,[h4]:this.title,[p4]:this.defaultText}),this.openOverlay=void 0}}}),Q3=a4(U3.prototype,"handleOverlayClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.openOverlay=void 0}}}),e4=a4(U3.prototype,"handleQueryChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.query=e}}}),t4=a4(U3.prototype,"handleAnchorChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.anchor=e}}}),n4=a4(U3.prototype,"handleTargetChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.target=e}}}),i4=a4(U3.prototype,"handleTitleChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.title=e}}}),r4=a4(U3.prototype,"handleHrefChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{this.id=e,this.defaultText=t?t.title:void 0}}}),U3);var w4=_4,k4=new class{constructor(){this.clear()}clear(){this.configs=[]}add(e){this.configs.push(e)}},C4=new class{constructor(){this.clear()}clear(){this.plugins=[]}add(e){this.plugins.push(e)}};class E4 extends u.Component{constructor(e){super(e),this.setContainerRef=e=>{this.containerRef=e},this.editorInstance=null}componentDidUpdate(){if(this.editorInstance){const{value:e,disabled:t}=this.props;t?(this.editorInstance.ui.element.classList.add("disabled"),this.editorInstance.enableReadOnlyMode("disabled")):(this.editorInstance.ui.element.classList.remove("disabled"),this.editorInstance.disableReadOnlyMode("disabled"));const n=this.getEditorData();n===e||""===e&&void 0===n||this.editorInstance.setData(e)}}componentDidMount(){const{formats:e,locale:t}=this.props,n={toolbar:["heading","bold","italic","underline","strikethrough","subscript","superscript","bulletedlist","numberedlist","externalLink","internalLink","alignment","insertTable","code"],heading:{options:[{model:"paragraph",title:Xs("sulu_admin.paragraph"),class:"ck-heading_paragraph"},e.includes("h1")?{model:"heading1",view:"h1",title:Xs("sulu_admin.heading1"),class:"ck-heading_heading1"}:void 0,e.includes("h2")?{model:"heading2",view:"h2",title:Xs("sulu_admin.heading2"),class:"ck-heading_heading2"}:void 0,e.includes("h3")?{model:"heading3",view:"h3",title:Xs("sulu_admin.heading3"),class:"ck-heading_heading3"}:void 0,e.includes("h4")?{model:"heading4",view:"h4",title:Xs("sulu_admin.heading4"),class:"ck-heading_heading4"}:void 0,e.includes("h5")?{model:"heading5",view:"h5",title:Xs("sulu_admin.heading5"),class:"ck-heading_heading5"}:void 0,e.includes("h6")?{model:"heading6",view:"h6",title:Xs("sulu_admin.heading6"),class:"ck-heading_heading6"}:void 0].filter((e=>void 0!==e))},sulu:{locale:t&&t.get()},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},ui:{poweredBy:{position:"inside",side:"right",label:"",verticalOffset:2,horizontalOffset:3}}};yQ.create(this.containerRef,{plugins:[QX,oQ,s1,o4,b1,w4,k1,d2,d1,g2,w2,S2,D2,R2,G5,Q5,...C4.plugins],...k4.configs.reduce(((e,t)=>({...e,...t(e)})),n)}).then((e=>{this.editorInstance=e,this.editorInstance.setData(this.props.value);const{disabled:t,onBlur:n,onChange:i}=this.props,{model:{document:r},editing:{view:{document:o}}}=this.editorInstance;t&&(this.editorInstance.enableReadOnlyMode("disabled"),this.editorInstance.ui.element.classList.add("disabled")),n&&o.on("blur",(()=>{n()})),i&&r.on("change",(()=>{r.differ.getChanges().length>0&&i(this.getEditorData())}))})).catch((e=>{c().error(e)}))}componentWillUnmount(){this.editorInstance&&this.editorInstance.destroy().then((()=>this.editorInstance=null))}getEditorData(){const e=this.editorInstance.getData();return""===e?void 0:e}render(){return u.createElement("div",{ref:this.setContainerRef})}}E4.defaultProps={disabled:!1,formats:["h2","h3","h4","h5","h6"],value:""};var x4,S4,O4,T4=E4;class M4 extends u.Component{render(){const{disabled:e,locale:t,onBlur:n,onChange:i,options:r,value:o}=this.props,s=r&&r.formats?r.formats.value:[];if(!O(s))throw new Error('The passed "formats" must be an array of strings');const a=s,l=a.length?a.map((e=>{if("string"!=typeof e.name)throw new Error('The name property of the passed "formats" must be strings!');return e.name})):void 0;return u.createElement(T4,{disabled:e,formats:l,locale:t,onBlur:n,onChange:i,value:o})}}function P4(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function D4(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var L4,A4,z4,I4,R4,j4,N4,F4=new(S4=D4((x4=class{constructor(){P4(this,"blockPreviewTransformers",S4,this),P4(this,"priority",O4,this),this.clear()}clear(){this.blockPreviewTransformers={},this.priority={}}has(e){return!!this.blockPreviewTransformers[e]}add(e,t,n=0){if(e in this.blockPreviewTransformers)throw new Error('The key "'+e+'" has already been used for another BlockPreviewTransformer');this.blockPreviewTransformers[e]=t,this.priority[e]=n}get(e){if(!(e in this.blockPreviewTransformers))throw new Error('The BlockPreviewTransformer with the key "'+e+'" is not defined. You probably forgot to add it to the registry using the "add" method.\n\nRegistered keys: '+Object.keys(this.blockPreviewTransformers).sort().join(", "));return this.blockPreviewTransformers[e]}get blockPreviewTransformerKeysByPriority(){return Object.keys(this.priority).sort(((e,t)=>this.priority[t]-this.priority[e]))}}).prototype,"blockPreviewTransformers",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O4=D4(x4.prototype,"priority",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D4(x4.prototype,"blockPreviewTransformerKeysByPriority",[ge],Object.getOwnPropertyDescriptor(x4.prototype,"blockPreviewTransformerKeysByPriority"),x4.prototype),x4),Y4={tooltipContainer:"tooltipContainer--GqRRm6DNeZ",tooltip:"tooltip--y5LC3vFK2K",top:"top--k7_1zVRNGZ",bottom:"bottom--q2FvTilVYl"};function B4(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function H4(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var V4=Br((A4=class extends u.Component{constructor(e){super(e),B4(this,"tooltipOpen",z4,this),B4(this,"tooltipRef",I4,this),B4(this,"setTooltipRef",R4,this),B4(this,"handleEnter",j4,this),B4(this,"handleLeave",N4,this)}render(){const{children:e,label:t}=this.props;return u.createElement("span",{className:Y4.tooltipContainer,onBlur:this.handleLeave,onFocus:this.handleEnter,onMouseEnter:this.handleEnter,onMouseLeave:this.handleLeave,ref:this.setTooltipRef},this.tooltipRef&&u.createElement(jd,{anchorElement:this.tooltipRef,backdrop:!1,horizontalAnchorMode:"center",open:this.tooltipOpen,verticalOffset:10},((e,n,i)=>u.createElement("span",{"aria-hidden":!0,className:eo()(Y4.tooltip,Y4[i]),ref:e,style:n},t))),e)}},z4=H4(A4.prototype,"tooltipOpen",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I4=H4(A4.prototype,"tooltipRef",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R4=H4(A4.prototype,"setTooltipRef",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.tooltipRef=e}}}),j4=H4(A4.prototype,"handleEnter",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.tooltipOpen=!0}}}),N4=H4(A4.prototype,"handleLeave",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.tooltipOpen=!1}}}),L4=A4))||L4,W4={container:"container--st1XGEqquI",sticky:"sticky--qemnNR7fer",divide:"divide--qeEg1YQYHf",selected:"selected--dM1nwp4ZPG",cancelButton:"cancelButton--ndvoRDieEl",cancelButtonIcon:"cancelButtonIcon--hIMjxbP2WI",actionList:"actionList--fMJSAXZ1Hg",actionButton:"actionButton--IqBRGmnSYi",actionButtonDisabled:"actionButtonDisabled--DILjqzXcBy",actionButtonIcon:"actionButtonIcon--bJaJwAbuj0"};class U4 extends u.Component{constructor(e){super(e),this.handleChangeSelectAll=()=>{const{onSelectAll:e,onUnselectAll:t,allSelected:n}=this.props;e&&!n?e():t&&n&&t()},this.handleCancel=()=>{const{onCancel:e}=this.props;e&&e()}}render(){const{actions:e,allSelected:t,selectedCount:n,mode:i}=this.props;return u.createElement("section",{className:eo()(W4.container,W4[i])},u.createElement("div",{className:W4.divide},u.createElement("div",{className:W4.selected},Xs("sulu_admin.%count%_selected",{count:n})),u.createElement("div",null,u.createElement(mu,{checked:t,onChange:this.handleChangeSelectAll,size:"small"},Xs("sulu_admin.select_all")))),u.createElement("div",{className:W4.divide},u.createElement("div",{className:W4.actionList},e.map((e=>u.createElement(V4,{key:e.label,label:e.label},u.createElement("button",{"aria-label":e.label,className:eo()(W4.actionButton,{[W4.actionButtonDisabled]:0===n}),disabled:0===n,onClick:e.handleClick,type:"button"},u.createElement(ro,{className:W4.actionButtonIcon,name:e.icon})))))),u.createElement("div",null,u.createElement("button",{className:W4.cancelButton,onClick:this.handleCancel,type:"button"},u.createElement(ro,{className:W4.cancelButtonIcon,name:"su-cancel"}),Xs("sulu_admin.cancel")))))}}U4.defaultProps={actions:[],allSelected:!1,mode:"static",selectedCount:0};var $4,q4,K4,G4,Z4,J4=U4;function X4(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Q4(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var e6=Br(((Z4=class extends u.Component{constructor(e){super(e),X4(this,"isSticky",K4,this),X4(this,"stickySentinelRef",G4,this),this.setStickySentinelRef=e=>{this.stickySentinelRef=e,this.stickySentinelRef&&this.intersectionObserver&&this.intersectionObserver.observe(this.stickySentinelRef)},"undefined"!=typeof IntersectionObserver&&(this.intersectionObserver=new IntersectionObserver((e=>{for(const t of e)ht((()=>{this.isSticky=!t.isIntersecting}))()}),{}))}componentWillUnmount(){this.intersectionObserver&&this.intersectionObserver.disconnect()}render(){const{children:e,top:t}=this.props;return u.createElement(u.Fragment,null,u.createElement("div",{className:"stickySentinel--WX3AfpyKaC",ref:this.setStickySentinelRef,style:{top:0-t-1}}),u.createElement("div",{className:"sticky--mAdahytG3Z",style:{top:t}},e(this.isSticky)))}}).defaultProps={top:0},K4=Q4((q4=Z4).prototype,"isSticky",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),G4=Q4(q4.prototype,"stickySentinelRef",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$4=q4))||$4,t6="icons--ZeKZX8p4O8";class n6 extends u.PureComponent{constructor(...e){super(...e),this.handleClick=()=>{const{value:e,onClick:t}=this.props;t&&t(e)}}render(){const{onClick:e,children:t}=this.props;return u.createElement("button",{className:"item--TxGUmyZA1z",disabled:!e,onClick:this.handleClick,type:"button"},t)}}class i6 extends u.PureComponent{constructor(...e){super(...e),this.handleItemClick=e=>{const{onItemClick:t}=this.props;t&&t(e)}}createItems(e){const t=u.Children.count(e);return u.Children.map(e,((e,n)=>{const i=n===t-1;return u.createElement("li",null,u.cloneElement(e,{value:e.props.value,onClick:i?void 0:this.handleItemClick}),!i&&u.createElement(ro,{className:"arrow--Ntr7BGo1Yw",name:"su-angle-right"}))}))}render(){const{children:e}=this.props,t=this.createItems(e);return u.createElement("ul",{className:"breadcrumb--ViZvbqBh5f"},t)}}i6.Item=n6;var r6=i6;function o6(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function s6(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var a6,l6,c6,u6,d6,h6,p6,f6,m6,g6,b6,y6=function(e,t="container--sjOeyZKXWp"){var n,i,r,o;let s=Br((i=class extends u.Component{constructor(...e){super(...e),o6(this,"containerWidth",r,this),o6(this,"containerHeight",o,this),this.readContainerDimensions=e=>{Hu(ht((()=>{e&&(this.container=e,this.containerWidth=e.clientWidth,this.containerHeight=e.clientHeight)})))},this.setComponent=e=>{this.component=e},this.handleWindowResize=()=>this.readContainerDimensions(this.container)}componentDidMount(){window.addEventListener("resize",this.handleWindowResize),"function"==typeof this.component.containerDidMount&&Hu(this.component.containerDidMount)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const n={...this.props,containerWidth:this.containerWidth,containerHeight:this.containerHeight,ref:this.setComponent};return u.createElement("div",{className:t,ref:this.readContainerDimensions},u.createElement(e,n))}},r=s6(i.prototype,"containerWidth",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),o=s6(i.prototype,"containerHeight",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),n=i))||n;return s.displayName=dN("withContainerSize",e),s};function v6(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function _6(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var w6=Br(((b6=class extends u.Component{constructor(...e){super(...e),v6(this,"moveMode",c6,this),v6(this,"resizeMode",u6,this),v6(this,"resizeAngle",d6,this),v6(this,"clickAnchor",h6,this),this.setCircleRef=e=>{this.circleRef=e},v6(this,"handleMoveMouseDown",p6,this),v6(this,"handleResizeMouseDown",f6,this),v6(this,"handleMouseUp",m6,this),v6(this,"handleMouseMove",g6,this),this.handleDoubleClick=this.props.onDoubleClick}componentDidMount(){window.addEventListener("mouseup",this.handleMouseUp),window.addEventListener("mousemove",this.handleMouseMove)}componentWillUnmount(){window.removeEventListener("mouseup",this.handleMouseUp),window.removeEventListener("mousemove",this.handleMouseMove)}setClickAnchor(e){this.clickAnchor.pageY=e.pageY,this.clickAnchor.pageX=e.pageX}render(){const{disabled:e,resizable:t,label:n,radius:i,left:r,skin:o,top:s}=this.props,a=t||0!==i?2*i:30,l=0===i?14:5*Math.sqrt(i),c=eo()("circle--vF5HAc8jys",{"disabled--GL2dubya9d":e,"filled--znX656VjV7":"filled"===o});return u.createElement("div",{className:c,onDoubleClick:e?void 0:this.handleDoubleClick,onMouseDown:e?void 0:this.handleMoveMouseDown,ref:this.setCircleRef,role:"button",style:{left:r+"px",top:s+"px",width:a+"px",height:a+"px"}},!!n&&u.createElement("div",{className:"label--M08QGOEonD",style:{fontSize:`${l}px`}},n),!!t&&!e&&u.createElement("div",{className:"resize-handle--jWhVNRKk4_",onMouseDown:this.handleResizeMouseDown,role:"slider",style:{transformOrigin:`calc(50% + ${-1*i}px) 50%`,transform:`translate(calc(-50% + ${i}px), -50%) rotate(${this.resizeAngle}deg)`}}))}}).defaultProps={disabled:!1,left:0,radius:0,resizable:!0,skin:"outlined",top:0},c6=_6((l6=b6).prototype,"moveMode",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u6=_6(l6.prototype,"resizeMode",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d6=_6(l6.prototype,"resizeAngle",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h6=_6(l6.prototype,"clickAnchor",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{pageY:0,pageX:0}}}),_6(l6.prototype,"setClickAnchor",[ht],Object.getOwnPropertyDescriptor(l6.prototype,"setClickAnchor"),l6.prototype),p6=_6(l6.prototype,"handleMoveMouseDown",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{e.stopPropagation(),this.setClickAnchor(e),this.moveMode=!0}}}),f6=_6(l6.prototype,"handleResizeMouseDown",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{e.stopPropagation(),this.setClickAnchor(e),this.resizeMode=!0}}}),m6=_6(l6.prototype,"handleMouseUp",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{onFinish:e}=this.props;(this.moveMode||this.resizeMode)&&(this.moveMode=!1,this.resizeMode=!1,e&&e())}}}),g6=_6(l6.prototype,"handleMouseMove",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{onChange:t,radius:n}=this.props;let i=0,r=0,o=0;if(this.moveMode&&(i=e.pageX-this.clickAnchor.pageX,r=e.pageY-this.clickAnchor.pageY,this.setClickAnchor(e)),this.resizeMode&&this.circleRef){const t=this.circleRef.getBoundingClientRect(),i=t.left+t.width/2,r=t.top+t.height/2,{clientX:s,clientY:a}=e,l=s-i,c=a-r;this.resizeAngle=180*Math.atan2(c,l)/Math.PI,o=Math.sqrt(l**2+c**2)-n}(this.moveMode||this.resizeMode)&&t&&t({left:i,top:r,radius:o})}}}),a6=l6))||a6;class k6{constructor(e,t){this.containerWidth=e,this.containerHeight=t}normalize(e){let{left:t,top:n}=e;return t=Math.max(0,t),t=Math.min(t,this.containerWidth),n=Math.max(0,n),n=Math.min(n,this.containerHeight),{...e,left:t,top:n}}}class C6{normalize(e){const{left:t,top:n,radius:i=0}=e;return{left:Math.round(t),top:Math.round(n),radius:Math.round(i)}}}class E6{constructor(e,t,n=void 0,i=void 0){this.maxRadius=this.getComputedMaxRadius(n,e,t),this.minRadius=this.getComputedMinRadius(i,this.maxRadius)}getComputedMaxRadius(e,t,n){const i=Math.sqrt(t**2+n**2);return void 0===e?i:Math.min(e,i)}getComputedMinRadius(e,t){return void 0===e?0:Math.min(e,t)}normalize(e){let{radius:t=0}=e;return t=Math.min(this.maxRadius,t),t=Math.max(this.minRadius,t),{...e,radius:t}}}function x6(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var S6,O6,T6;function M6(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let P6=Br((T6=class e extends u.Component{constructor(...e){super(...e),this.setInitialValue=()=>{const{containerHeight:e,containerWidth:t,onChange:n,value:i}=this.props;e&&t&&(i||n(this.value))},this.handleCircleDoubleClick=()=>{const{onChange:e,resizable:t}=this.props;e(t?this.maximumSelection:this.normalize(this.centerSelection(this.value)))},this.handleCircleChange=e=>{const{value:t}=this,{onChange:n}=this.props;n(this.normalize({left:t.left+e.left,top:t.top+e.top,radius:t.radius+e.radius}))}}get value(){const{value:e}=this.props;return e||this.maximumSelection}componentDidMount(){this.setInitialValue()}static createNormalizers(e){const{containerWidth:t,containerHeight:n,maxRadius:i,minRadius:r,round:o,resizable:s}=e;if(!t||!n)return[];const a=[new k6(t,n)];return s&&a.push(new E6(t,n,i,r)),o&&a.push(new C6),a}get normalizers(){return e.createNormalizers(this.props)}normalize(e){return this.normalizers.reduce(((e,t)=>t.normalize(e)),e)}get maximumSelection(){const{containerWidth:e,containerHeight:t,resizable:n,value:i}=this.props,r=n?Math.min(e,t)/2:i&&i.radius||0;return this.normalize(this.centerSelection({left:0,top:0,radius:r}))}centerSelection(e){const{containerWidth:t,containerHeight:n}=this.props;return{...e,left:t/2,top:n/2}}render(){const{children:e,disabled:t,label:n,onFinish:i,resizable:r,skin:o}=this.props,{left:s,top:a,radius:l}=this.value,c=u.createElement(w6,{disabled:t,label:n,left:s,onChange:this.handleCircleChange,onDoubleClick:this.handleCircleDoubleClick,onFinish:i,radius:l,resizable:r,skin:o,top:a});return e?u.createElement("div",{className:"selection--GurEsVL45H"},e,c):c}},T6.defaultProps={disabled:!1,maxRadius:void 0,minRadius:void 0,resizable:!0,round:!0,skin:"outlined",usePercentageValues:!1},M6((O6=T6).prototype,"value",[ge],Object.getOwnPropertyDescriptor(O6.prototype,"value"),O6.prototype),M6(O6.prototype,"normalizers",[ge],Object.getOwnPropertyDescriptor(O6.prototype,"normalizers"),O6.prototype),M6(O6.prototype,"maximumSelection",[ge],Object.getOwnPropertyDescriptor(O6.prototype,"maximumSelection"),O6.prototype),S6=O6))||S6;const D6=function(e){var t,n,i;let r=Br(((i=class extends u.Component{constructor(...t){super(...t),this.wrappedComponent=e,this.handleChange=e=>{const{containerHeight:t,containerWidth:n,onChange:i}=this.props;i(e?{...e,left:e.left/n,top:e.top/t,radius:e.radius/n}:e)}}get transformedMaxRadius(){const{containerWidth:e,maxRadius:t}=this.props;return t?t*e:t}get transformedMinRadius(){const{containerWidth:e,minRadius:t}=this.props;return t?t*e:t}get transformedValue(){const{containerHeight:e,containerWidth:t,value:n}=this.props;return n?{...n,left:n.left*t,top:n.top*e,radius:n.radius*t}:n}render(){const{usePercentageValues:t}=this.props;if(!t)return u.createElement(e,this.props);const n={...this.props,maxRadius:this.transformedMaxRadius,minRadius:this.transformedMinRadius,onChange:this.handleChange,value:this.transformedValue};return u.createElement(e,n)}}).defaultProps={maxRadius:void 0,minRadius:void 0,usePercentageValues:!1},x6((n=i).prototype,"transformedMaxRadius",[ge],Object.getOwnPropertyDescriptor(n.prototype,"transformedMaxRadius"),n.prototype),x6(n.prototype,"transformedMinRadius",[ge],Object.getOwnPropertyDescriptor(n.prototype,"transformedMinRadius"),n.prototype),x6(n.prototype,"transformedValue",[ge],Object.getOwnPropertyDescriptor(n.prototype,"transformedValue"),n.prototype),t=n))||t;return r.displayName=dN("withPercentageValues",e),r}(P6);class L6 extends u.Component{render(){const{usePercentageValues:e}=this.props;return e?u.createElement(D6,this.props):u.createElement(P6,this.props)}}const A6=y6(L6,"container--DVZiUz3yPp");class z6 extends u.Component{render(){const{children:e}=this.props;return e?u.createElement(A6,this.props):u.createElement(L6,this.props)}}z6.defaultProps={containerHeight:0,containerWidth:0,disabled:!1,maxRadius:void 0,minRadius:void 0,resizable:!0,round:!0,skin:"outlined",usePercentageValues:!1};var I6=z6,R6=function(e,t){return R6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},R6(e,t)},j6=50,N6=50;function F6(e){var t=e.className,n=e.counterClockwise,i=e.dashRatio,r=e.pathRadius,o=e.strokeWidth,s=e.style;return(0,u.createElement)("path",{className:t,style:Object.assign({},s,B6({pathRadius:r,dashRatio:i,counterClockwise:n})),d:Y6({pathRadius:r,counterClockwise:n}),strokeWidth:o,fillOpacity:0})}function Y6(e){var t=e.pathRadius,n=e.counterClockwise?1:0;return"\n      M "+j6+","+N6+"\n      m 0,-"+t+"\n      a "+t+","+t+" "+n+" 1 1 0,"+2*t+"\n      a "+t+","+t+" "+n+" 1 1 0,-"+2*t+"\n    "}function B6(e){var t=e.counterClockwise,n=e.dashRatio,i=e.pathRadius,r=2*Math.PI*i,o=(1-n)*r;return{strokeDasharray:r+"px "+r+"px",strokeDashoffset:(t?-o:o)+"px"}}var H6=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){function n(){this.constructor=e}R6(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},t.prototype.getPathRadius=function(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()},t.prototype.getPathRatio=function(){var e=this.props,t=e.value,n=e.minValue,i=e.maxValue;return(Math.min(Math.max(t,n),i)-n)/(i-n)},t.prototype.render=function(){var e=this.props,t=e.circleRatio,n=e.className,i=e.classes,r=e.counterClockwise,o=e.styles,s=e.strokeWidth,a=e.text,l=this.getPathRadius(),c=this.getPathRatio();return(0,u.createElement)("svg",{className:i.root+" "+n,style:o.root,viewBox:"0 0 100 100","data-test-id":"CircularProgressbar"},this.props.background?(0,u.createElement)("circle",{className:i.background,style:o.background,cx:j6,cy:N6,r:50}):null,(0,u.createElement)(F6,{className:i.trail,counterClockwise:r,dashRatio:t,pathRadius:l,strokeWidth:s,style:o.trail}),(0,u.createElement)(F6,{className:i.path,counterClockwise:r,dashRatio:c*t,pathRadius:l,strokeWidth:s,style:o.path}),a?(0,u.createElement)("text",{className:i.text,style:o.text,x:j6,y:N6},a):null)},t.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},t}(u.Component),V6={root:"root--oe15IaCalF",path:"path--xAeG8sZvKS",trail:"trail--wiXFm5jaTX",text:"text--KucHc_kiSM",background:"background--Gf79CAcX4r"};class W6 extends u.PureComponent{constructor(...e){super(...e),this.handlePercentageText=e=>{const{hidePercentageText:t}=this.props;return t?null:`${e}%`}}render(){const{size:e,percentage:t}=this.props,n={width:e,height:e};return u.createElement("div",{style:n},u.createElement(H6,{background:!0,classes:{root:V6.root,path:V6.path,tail:V6.tail,text:V6.text,background:V6.background},percentage:t,textForPercentage:this.handlePercentageText}))}}W6.defaultProps={hidePercentageText:!1,percentage:0,size:100};var U6=W6;class $6 extends u.Component{constructor(...e){super(...e),this.handleDrop=e=>{const t=e[0];this.props.onUpload(t)}}render(){const{children:e,disabled:t,icon:n,skin:i,accept:r}=this.props;return u.createElement(HH,{accept:r?{[r]:[]}:void 0,onDrop:this.handleDrop,style:{}},(({getInputProps:r,getRootProps:o})=>u.createElement("div",o(),u.createElement(uo,{disabled:t,icon:n,skin:i},e),u.createElement("input",r()))))}}$6.defaultProps={accept:void 0,disabled:!1,icon:void 0,skin:void 0};var q6,K6,G6,Z6,J6,X6,Q6,e7,t7,n7,i7=$6;function r7(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function o7(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var s7=Br(((n7=class extends u.Component{constructor(...e){super(...e),r7(this,"moveMode",G6,this),r7(this,"resizeMode",Z6,this),r7(this,"clickAnchor",J6,this),r7(this,"handleMoveMouseDown",X6,this),r7(this,"handleResizeMouseDown",Q6,this),r7(this,"handleMouseUp",e7,this),r7(this,"handleMouseMove",t7,this),this.handleDoubleClick=this.props.onDoubleClick}componentDidMount(){window.addEventListener("mouseup",this.handleMouseUp),window.addEventListener("mousemove",this.handleMouseMove)}componentWillUnmount(){window.removeEventListener("mouseup",this.handleMouseUp),window.removeEventListener("mousemove",this.handleMouseMove)}setClickAnchor(e){this.clickAnchor.pageY=e.pageY,this.clickAnchor.pageX=e.pageX}render(){const{backdropSize:e,disabled:t,height:n,label:i,left:r,minSizeReached:o,top:s,width:a}=this.props,l=eo()("rectangle--n4E1JbZrze",{"disabled--tC9H6bfXuF":t,"has-backdrop--BxK8cmquJ4":!!e});return u.createElement(u.Fragment,null,u.createElement("div",{className:l,onDoubleClick:!t&&this.handleDoubleClick||void 0,onMouseDown:!t&&this.handleMoveMouseDown||void 0,role:"button",style:{left:r+"px",top:s+"px",width:a+"px",height:n+"px"}},!!e&&u.createElement("div",{className:"backdrop--TxYX708W8G",style:{outlineWidth:e+"px"}}),!!i&&u.createElement("div",{className:"label--i5TW2q1hgB",style:{fontSize:5*Math.sqrt(n/2)+"px"}},i),!t&&u.createElement("div",{className:"resize-handle--UOSrB61OLv",onMouseDown:this.handleResizeMouseDown,role:"slider"})),o&&u.createElement("div",{className:"min-size-notification--g5dTln2IEj",style:{left:r+"px",top:s+n+"px",width:a+"px"}},Xs("sulu_media.min_size_notification")))}}).defaultProps={backdropSize:0,left:0,top:0},G6=o7((K6=n7).prototype,"moveMode",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Z6=o7(K6.prototype,"resizeMode",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),J6=o7(K6.prototype,"clickAnchor",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{pageY:0,pageX:0}}}),o7(K6.prototype,"setClickAnchor",[ht],Object.getOwnPropertyDescriptor(K6.prototype,"setClickAnchor"),K6.prototype),X6=o7(K6.prototype,"handleMoveMouseDown",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{e.stopPropagation(),this.setClickAnchor(e),this.moveMode=!0}}}),Q6=o7(K6.prototype,"handleResizeMouseDown",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{e.stopPropagation(),this.setClickAnchor(e),this.resizeMode=!0}}}),e7=o7(K6.prototype,"handleMouseUp",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{onFinish:e}=this.props;(this.moveMode||this.resizeMode)&&(this.moveMode=!1,this.resizeMode=!1,e&&e())}}}),t7=o7(K6.prototype,"handleMouseMove",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{onChange:t}=this.props;let n=0,i=0,r=0,o=0;this.moveMode&&(n=e.pageY-this.clickAnchor.pageY,i=e.pageX-this.clickAnchor.pageX),this.resizeMode&&(o=e.pageY-this.clickAnchor.pageY,r=e.pageX-this.clickAnchor.pageX),(this.moveMode||this.resizeMode)&&(this.setClickAnchor(e),t&&t({top:n,left:i,width:r,height:o}))}}}),q6=K6))||q6;class a7{constructor(e,t){this.containerWidth=e,this.containerHeight=t}normalize(e){let t=Math.max(0,e.left),n=Math.max(0,e.top);return t=Math.min(t,this.containerWidth-e.width),n=Math.min(n,this.containerHeight-e.height),{...e,left:t,top:n}}}class l7{constructor(e,t,n,i){this.containerWidth=e,this.containerHeight=t,this.minWidth=n,this.minHeight=i}normalize(e){let t,n=e.height;const i=n*(this.minWidth/this.minHeight);return i>this.containerWidth?(t=this.containerWidth,n=t*(this.minHeight/this.minWidth)):t=i,{...e,width:t,height:n}}}class c7{normalize(e){return{width:Math.round(e.width),height:Math.round(e.height),top:Math.round(e.top),left:Math.round(e.left)}}}class u7{constructor(e,t,n=0,i=0){this.containerWidth=e,this.containerHeight=t,this.minWidth=n,this.minHeight=i}normalize(e){let t=Math.max(this.minWidth,e.width),n=Math.max(this.minHeight,e.height);return t=Math.min(this.containerWidth,t),n=Math.min(this.containerHeight,n),{...e,width:t,height:n}}}function d7(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var h7,p7,f7;function m7(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let g7=Br((f7=class e extends u.Component{constructor(...e){super(...e),this.setInitialValue=()=>{const{containerHeight:e,containerWidth:t,onChange:n,value:i}=this.props;e&&t&&(i||n(this.value))},this.handleRectangleDoubleClick=()=>{const{onChange:e}=this.props;e(this.maximumSelection)},this.handleRectangleChange=e=>{const{value:t}=this,{onChange:n}=this.props;n(this.normalize({left:t.left+e.left,top:t.top+e.top,height:t.height+e.height,width:t.width+e.width}))}}get value(){const{value:e}=this.props;return e||this.maximumSelection}componentDidMount(){this.setInitialValue()}static createNormalizers(e){const{containerWidth:t,containerHeight:n,minWidth:i,minHeight:r,round:o}=e;if(!t||!n)return[];const s=[new u7(t,n,i,r)];return i&&r&&s.push(new l7(t,n,i,r)),s.push(new a7(t,n)),o&&s.push(new c7),s}get normalizers(){return e.createNormalizers(this.props)}normalize(e){return this.normalizers.reduce(((e,t)=>t.normalize(e)),e)}get maximumSelection(){const{containerWidth:e,containerHeight:t}=this.props;return this.normalize(this.centerSelection(this.normalize({width:e,height:t,left:0,top:0})))}centerSelection(e){const{containerWidth:t,containerHeight:n}=this.props;return e.width<t&&(e.left=t/2-e.width/2),e.height<n&&(e.top=n/2-e.height/2),e}render(){const{backdrop:e,children:t,containerHeight:n,containerWidth:i,disabled:r,label:o,minHeight:s,minSizeNotification:a,minWidth:l,onFinish:c}=this.props,{height:d,left:h,top:p,width:f}=this.value;let m=0;e&&n&&i&&(m=Math.max(n,i));const g=a&&d<=(s||0)&&f<=(l||0),b=u.createElement(s7,{backdropSize:m,disabled:r,height:d,label:o,left:h,minSizeReached:g,onChange:this.handleRectangleChange,onDoubleClick:this.handleRectangleDoubleClick,onFinish:c,top:p,width:f});return t?u.createElement("div",{className:"selection--IfaQvRAsDP"},t,b):b}},f7.defaultProps={backdrop:!0,disabled:!1,minHeight:void 0,minSizeNotification:!0,minWidth:void 0,round:!0,usePercentageValues:!1},m7((p7=f7).prototype,"value",[ge],Object.getOwnPropertyDescriptor(p7.prototype,"value"),p7.prototype),m7(p7.prototype,"normalizers",[ge],Object.getOwnPropertyDescriptor(p7.prototype,"normalizers"),p7.prototype),m7(p7.prototype,"maximumSelection",[ge],Object.getOwnPropertyDescriptor(p7.prototype,"maximumSelection"),p7.prototype),h7=p7))||h7;const b7=function(e){var t,n,i;let r=Br(((i=class extends u.Component{constructor(...e){super(...e),this.handleChange=e=>{const{onChange:t,containerHeight:n,containerWidth:i}=this.props;t(e?{...e,left:e.left/i,top:e.top/n,width:e.width/i,height:e.height/n}:e)}}get transformedMinHeight(){const{containerHeight:e,minHeight:t}=this.props;return t?t*e:t}get transformedMinWidth(){const{containerWidth:e,minWidth:t}=this.props;return t?t*e:t}get transformedValue(){const{containerHeight:e,containerWidth:t,value:n}=this.props;return n?{...n,left:n.left*t,top:n.top*e,width:n.width*t,height:n.height*e}:n}render(){const t={...this.props,minHeight:this.transformedMinHeight,minWidth:this.transformedMinWidth,onChange:this.handleChange,value:this.transformedValue};return u.createElement(e,t)}}).defaultProps={minHeight:void 0,minWidth:void 0},d7((n=i).prototype,"transformedMinHeight",[ge],Object.getOwnPropertyDescriptor(n.prototype,"transformedMinHeight"),n.prototype),d7(n.prototype,"transformedMinWidth",[ge],Object.getOwnPropertyDescriptor(n.prototype,"transformedMinWidth"),n.prototype),d7(n.prototype,"transformedValue",[ge],Object.getOwnPropertyDescriptor(n.prototype,"transformedValue"),n.prototype),t=n))||t;return r.displayName=dN("withPercentageValues",e),r}(g7);class y7 extends u.Component{render(){const{usePercentageValues:e}=this.props;return e?u.createElement(b7,this.props):u.createElement(g7,this.props)}}const v7=y6(y7,"container--ZToLP2Jilo");class _7 extends u.Component{render(){const{children:e}=this.props;return e?u.createElement(v7,this.props):u.createElement(y7,this.props)}}_7.defaultProps={backdrop:!0,containerHeight:0,containerWidth:0,disabled:!1,minHeight:void 0,minSizeNotification:!0,minWidth:void 0,round:!0,usePercentageValues:!1};var w7,k7,C7,E7=_7;function x7(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let S7=Br((k7=class extends u.Component{naturalDataToScaled(e){return{width:this.naturalHorizontalToScaled(e.width),height:this.naturalVerticalToScaled(e.height),left:this.naturalHorizontalToScaled(e.left),top:this.naturalVerticalToScaled(e.top)}}scaledDataToNatural(e){return{width:this.scaledHorizontalToNatural(e.width),height:this.scaledVerticalToNatural(e.height),left:this.scaledHorizontalToNatural(e.left),top:this.scaledVerticalToNatural(e.top)}}constructor(e){super(e),function(e,t,n,i){n&&Object.defineProperty(e,"imageLoaded",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}(this,0,C7,this),this.naturalHorizontalToScaled=e=>Math.max(e*this.scaledImageWidth/this.image.naturalWidth,0),this.scaledHorizontalToNatural=e=>Math.min(e*this.image.naturalWidth/this.scaledImageWidth,this.image.naturalWidth),this.naturalVerticalToScaled=e=>Math.max(e*this.scaledImageHeight/this.image.naturalHeight,0),this.scaledVerticalToNatural=e=>Math.min(e*this.image.naturalHeight/this.scaledImageHeight,this.image.naturalHeight),this.handleRectangleSelectionChange=e=>{const{onChange:t}=this.props;t(e?this.scaledDataToNatural(e):void 0)},this.image=new Image,this.image.onload=ht((()=>this.imageLoaded=!0)),this.image.onerror=()=>c().error('Failed to preload image "'+this.props.image+'"'),this.image.src=this.props.image}get scaledImageHeight(){return this.imageFillsContainerHeight()?Math.min(this.image.naturalHeight,this.props.containerHeight):this.scaledImageWidth*this.image.naturalHeight/this.image.naturalWidth}get scaledImageWidth(){return this.imageFillsContainerHeight()?this.scaledImageHeight*this.image.naturalWidth/this.image.naturalHeight:Math.min(this.image.naturalWidth,this.props.containerWidth)}imageFillsContainerHeight(){return this.image.naturalHeight/this.image.naturalWidth>this.props.containerHeight/this.props.containerWidth}get scaledMinDimensions(){const{minHeight:e,minWidth:t,containerHeight:n,containerWidth:i}=this.props;let r=e?this.naturalVerticalToScaled(e):void 0,o=t?this.naturalHorizontalToScaled(t):void 0;return r&&r>n&&(r=n,o=t&&e?r*t/e:void 0),o&&o>i&&(o=i,r=e&&t?o*e/t:void 0),{width:o,height:r}}get scaledMinWidth(){return this.scaledMinDimensions.width}get scaledMinHeight(){return this.scaledMinDimensions.height}render(){if(!this.imageLoaded||!this.props.containerWidth||!this.props.containerHeight)return null;const e=this.props.value?this.naturalDataToScaled(this.props.value):void 0;return u.createElement(E7,{minHeight:this.scaledMinHeight,minWidth:this.scaledMinWidth,onChange:this.handleRectangleSelectionChange,round:!1,value:e},u.createElement("img",{height:this.scaledImageHeight,src:this.props.image,width:this.scaledImageWidth}))}},C7=x7(k7.prototype,"imageLoaded",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x7(k7.prototype,"scaledImageHeight",[ge],Object.getOwnPropertyDescriptor(k7.prototype,"scaledImageHeight"),k7.prototype),x7(k7.prototype,"scaledImageWidth",[ge],Object.getOwnPropertyDescriptor(k7.prototype,"scaledImageWidth"),k7.prototype),x7(k7.prototype,"scaledMinDimensions",[ge],Object.getOwnPropertyDescriptor(k7.prototype,"scaledMinDimensions"),k7.prototype),x7(k7.prototype,"scaledMinWidth",[ge],Object.getOwnPropertyDescriptor(k7.prototype,"scaledMinWidth"),k7.prototype),x7(k7.prototype,"scaledMinHeight",[ge],Object.getOwnPropertyDescriptor(k7.prototype,"scaledMinHeight"),k7.prototype),w7=k7))||w7;var O7=y6(S7,"container--t2vul9idqd");class T7 extends u.PureComponent{constructor(...e){super(...e),this.setRef=e=>{this.elementRef=e},this.scrollListener=ya()((()=>{const{elementRef:e}=this;if(!e)return;const{onPageChange:t,currentPage:n}=this.props,{bottom:i}=this.scrollContainer.getBoundingClientRect(),{bottom:r}=e.getBoundingClientRect();r-i<100&&(t(n?n+1:1),this.unbindScrollListener())}),200)}componentDidMount(){this.elementRef&&(this.scrollContainer=this.getScrollContainer(this.elementRef.parentNode)),this.bindScrollListener()}componentWillUnmount(){this.unbindScrollListener()}componentDidUpdate(){this.bindScrollListener()}getScrollContainer(e){return e&&e!==window.document?this.isScrollable(e)?e:this.getScrollContainer(e.parentNode):window.document.body}isScrollable(e){const t=window.getComputedStyle(e)["overflow-y"];return"auto"===t||"scroll"===t}bindScrollListener(){const{currentPage:e,totalPages:t}=this.props;!e||!t||e>=t||(this.scrollContainer.addEventListener("resize",this.scrollListener,!1),this.scrollContainer.addEventListener("scroll",this.scrollListener,!1))}unbindScrollListener(){this.scrollContainer.removeEventListener("resize",this.scrollListener,!1),this.scrollContainer.removeEventListener("scroll",this.scrollListener,!1)}render(){const{totalPages:e,currentPage:t,loading:n,children:i}=this.props;let r=null;return n?r=u.createElement(ao,null):t===e&&(r=Xs("sulu_admin.reached_end_of_list")),u.createElement("section",{ref:this.setRef},u.createElement("div",null,i),u.createElement("div",{className:"indicator--J4Q0wQ03Od"},r))}}T7.defaultProps={loading:!1};var M7=T7,P7=r(47943),D7=r.n(P7),L7=r(16994),A7=r.n(L7);const z7={gutter:30,transitionDuration:250};class I7 extends u.PureComponent{constructor(...e){super(...e),this.setMasonryRef=e=>{this.masonryRef=e}}componentDidMount(){this.initMasonryLayout(),this.handleImagesLoading()}componentWillUnmount(){this.layoutedChildNodes=[],this.destroyMasonry()}componentDidUpdate(){this.handleChildrenUpdates(),this.handleImagesLoading()}getChildNodes(){const{masonryRef:e}=this;if(!e)return[];const t=e.children;return Array.from(t)}initMasonryLayout(){this.masonry=new(A7())(this.masonryRef,z7),this.layoutedChildNodes=this.getChildNodes()}destroyMasonry(){this.masonry&&(this.masonry.destroy(),this.masonry=null)}cloneItems(e){const t={marginBottom:z7.gutter};return u.Children.map(e,(e=>u.createElement("li",{style:t},u.cloneElement(e,{key:e.key}))))}handleChildrenUpdates(){const e=this.getChildNodes(),t=e.filter((e=>this.layoutedChildNodes.includes(e))),n=e.filter((e=>!t.includes(e))),i=t.filter((t=>!e.includes(t)));let r=0;const o=n.filter((t=>{const n=r===e.indexOf(t);return n&&r++,n})),s=n.filter((e=>!o.includes(e)));i.length>0&&this.masonry.remove(i),s.length>0&&this.masonry.appended(s),o.length>0&&this.masonry.prepended(o),this.layoutedChildNodes=e,(i.length>0||s.length>0||o.length>0)&&this.masonry.reloadItems(),this.masonry.layout()}handleImagesLoading(){D7()(this.layoutedChildNodes).once("always",(()=>{this.masonry&&this.masonry.layout()}))}render(){const{children:e}=this.props,t=this.cloneItems(e);return u.createElement("ul",{className:"masonry--Bjm0LiokAl",ref:this.setMasonryRef},t)}}var R7=I7;class j7 extends u.PureComponent{constructor(...e){super(...e),this.handleClick=()=>{const{name:e,onChange:t,value:n}=this.props;t&&t(e,!n)}}render(){const{disabled:e,icon:t,name:n,title:i,value:r}=this.props,o=eo()("item--wfMkuGNKEp",{"selected--xbBkwG0YCQ":r,"disabled--xZpLNzjyEV":e}),s=i||n.charAt(0).toUpperCase()+n.slice(1);return u.createElement("button",{className:o,onClick:e?void 0:this.handleClick,title:s,type:"button"},u.createElement(ro,{name:t}))}}j7.defaultProps={disabled:!1,value:!1};var N7,F7,Y7;let B7=Br(((Y7=class extends u.Component{constructor(...e){super(...e),this.handleChange=(e,t)=>{const{name:n,onChange:i,values:r}=this.props;if(!i)return;const o={...r};o[e]=t,i(n,o)},this.cloneItems=e=>{const{disabled:t,values:n}=this.props;return u.Children.map(e,((e,i)=>u.cloneElement(e,{...e.props,disabled:t,key:`matrix-item-${i}`,onChange:this.handleChange,value:n[e.props.name]})))},this.handleAllButtonClick=()=>{const{children:e,name:t,onChange:n}=this.props;if(!n)return;const i={};u.Children.map(e,(e=>{i[e.props.name]=this.allItemsDeactivated})),n(t,i)}}get allItemsDeactivated(){const{values:e}=this.props;for(const t in e)if(!0===e[t])return!1;return!0}renderAllButton(){return u.createElement("button",{className:"row-button--yZArtvNlvT",onClick:this.handleAllButtonClick,type:"button"},Xs(this.allItemsDeactivated?"sulu_admin.activate_all":"sulu_admin.deactivate_all"))}render(){const{disabled:e,children:t,name:n,title:i}=this.props;return u.createElement("tr",{className:"row--XQylKLJCwC"},u.createElement("td",{className:"name--mCAlyU6lAf"},i||n),u.createElement("td",{className:"items--EBaKVa5VSM"},this.cloneItems(t),!e&&this.renderAllButton()))}}).defaultProps={disabled:!1,values:{}},function(e,t,n,i,r){var o={};Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}((F7=Y7).prototype,"allItemsDeactivated",[ge],Object.getOwnPropertyDescriptor(F7.prototype,"allItemsDeactivated"),F7.prototype),N7=F7))||N7;var H7=B7;class V7 extends u.PureComponent{constructor(...e){super(...e),this.handleChange=(e,t)=>{const{onChange:n,values:i}=this.props,r={...i};r[e]=t,n(r)},this.cloneRows=e=>{const{disabled:t,values:n}=this.props;return u.Children.map(e,((e,i)=>u.cloneElement(e,{...e.props,disabled:t,key:`matrix-row-${i}`,onChange:this.handleChange,values:n.hasOwnProperty(e.props.name)?n[e.props.name]:{}})))}}render(){const{children:e,className:t,disabled:n}=this.props,i=eo()("matrix--CC5IuR0SbK",t,{"disabled--GnNGuRb0WL":n});return u.createElement("table",{className:i},u.createElement("tbody",null,this.cloneRows(e)))}}V7.defaultProps={disabled:!1,values:{}},V7.Row=H7,V7.Item=j7;var W7,U7,$7,q7,K7,G7,Z7,J7,X7=V7;class Q7 extends u.PureComponent{constructor(...e){super(...e),this.handleClick=()=>{const{index:e,onClick:t}=this.props;t(e)}}render(){const{icon:e,index:t,label:n}=this.props;return u.createElement("li",{key:t},u.createElement("button",{className:"action--qJtV0UgCqK",onClick:this.handleClick,type:"button"},u.createElement(ro,{className:"icon--p4PzLYI41L",name:e}),n))}}class e9 extends u.PureComponent{constructor(...e){super(...e),this.handleActionClick=e=>{const{actions:t,onClose:n}=this.props,i=t[e];if("divider"===i.type)throw new Error("Divider actions cannot be clicked! This should not happen and is likely a bug.");i.onClick(),n()}}render(){const{open:e,onClose:t,anchorElement:n}=this.props;return u.createElement(jd,{anchorElement:n,onClose:t,open:e,verticalOffset:5},((e,t)=>u.createElement(tp,{menuRef:e,style:t},this.props.actions.map(((e,t)=>"divider"===e.type?u.createElement(tp.Divider,{key:t}):u.createElement(Q7,{icon:e.icon,index:t,key:t,label:e.label,onClick:this.handleActionClick}))))))}}function t9(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function n9(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let i9=Br((J7=class extends u.Component{constructor(...e){super(...e),t9(this,"actionsButtonRef",$7,this),t9(this,"showActionsPopover",q7,this),t9(this,"setActionsButtonRef",K7,this),t9(this,"handleActionsButtonClick",G7,this),t9(this,"handleActionsPopoverClose",Z7,this),this.handleCollapse=()=>{const{expanded:e,onCollapse:t}=this.props;e&&t&&t()},this.handleExpand=()=>{const{expanded:e,onExpand:t}=this.props;!e&&t&&t()},this.handleTypeChange=e=>{const{onTypeChange:t}=this.props;t&&t(e)}}get actions(){const{onRemove:e,actions:t}=this.props;return e?(c().warn('The "onRemove" prop of the "Block" component is deprecated since 2.5 and will be removed. Use the "actions" prop with an appropriate callback instead.'),[...t,{type:"button",icon:"su-trash-alt",label:Xs("sulu_admin.delete"),onClick:e}]):t}render(){const{activeType:e,children:t,handle:n,icons:i,onCollapse:r,onExpand:o,onSettingsClick:s,selected:a,types:l}=this.props,c=this.props.expanded||!r&&!o,d=eo()("block--YEv2Yh6pyV",{"expanded--u_520qGto1":c,"selected--yWKeb45cVW":a});return u.createElement("section",{className:d,onClick:this.handleExpand,role:"switch"},n&&u.createElement("div",{className:"handle--GDDRn7ixDr"},n),u.createElement("div",{className:"content--WlEKk76pyY"},u.createElement("header",{className:"header--KMLqXvPkif"},c?u.createElement(u.Fragment,null,l&&Object.keys(l).length>1&&u.createElement("div",{className:"types--oCGMPP3Wdk"},u.createElement(zp,{onChange:this.handleTypeChange,value:e},Object.keys(l).map((e=>u.createElement(zp.Option,{key:e,value:e},l[e]))))),i&&u.createElement("div",{className:t6},i.map((e=>u.createElement(ro,{key:e,name:e})))),u.createElement("div",{className:"icon-buttons--HpjU8WVcTH"},this.actions.length>0&&u.createElement("button",{onClick:this.handleActionsButtonClick,ref:this.setActionsButtonRef,type:"button"},u.createElement(ro,{name:"su-more-circle"})),s&&u.createElement("button",{onClick:s,type:"button"},u.createElement(ro,{name:"su-cog"})),r&&o&&u.createElement("button",{onClick:this.handleCollapse,type:"button"},u.createElement(ro,{name:"su-collapse-vertical"}))),u.createElement(e9,{actions:this.actions,anchorElement:this.actionsButtonRef,onClose:this.handleActionsPopoverClose,open:this.showActionsPopover})):u.createElement(u.Fragment,null,i&&u.createElement("div",{className:t6},i.map((e=>u.createElement(ro,{key:e,name:e})))),l&&e&&u.createElement("div",{className:"type--_4jUxQGjbV"},l[e]),r&&o&&u.createElement(ro,{name:"su-expand-vertical"}))),u.createElement("article",{className:"children--Vtx6YJOglH"},t)))}},J7.defaultProps={actions:[],expanded:!1,selected:!1},$7=n9((U7=J7).prototype,"actionsButtonRef",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q7=n9(U7.prototype,"showActionsPopover",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n9(U7.prototype,"actions",[ge],Object.getOwnPropertyDescriptor(U7.prototype,"actions"),U7.prototype),K7=n9(U7.prototype,"setActionsButtonRef",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.actionsButtonRef=e}}}),G7=n9(U7.prototype,"handleActionsButtonClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showActionsPopover=!0}}}),Z7=n9(U7.prototype,"handleActionsPopoverClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showActionsPopover=!1}}}),W7=U7))||W7;var r9=i9,o9=Ib((()=>u.createElement(ro,{className:"sortableHandle--SLWvrp5V3J",name:"su-more"})));class s9 extends u.Component{constructor(...e){super(...e),this.handleChange=()=>{const{onChange:e}=this.props;e&&e()},this.handleContainerClick=e=>{e.stopPropagation(),this.handleChange()}}render(){const{checked:e}=this.props;return u.createElement("div",{className:"container--fhmuJnt48m",onClick:this.handleContainerClick},u.createElement(mu,{checked:e,onChange:this.handleChange,skin:e?"light":"dark"}))}}var a9,l9,c9,u9=s9;let d9=Br((c9=class extends u.Component{constructor(e){super(e),this.handleCollapse=()=>{const{sortIndex:e,onCollapse:t}=this.props;t&&t(e)},this.handleExpand=()=>{const{sortIndex:e,onExpand:t}=this.props;t&&t(e)},this.handleSelectionChanged=()=>{const{sortIndex:e,onSelect:t,onUnselect:n,selected:i}=this.props;i&&n&&n(e),!i&&t&&t(e)},this.handleSettingsClick=()=>{const{sortIndex:e,onSettingsClick:t}=this.props;t&&t(e)},this.handleTypeChange=e=>{const{sortIndex:t,onTypeChange:n}=this.props;n&&n(e,t)},this.renderHandle=()=>{const{mode:e,movable:t,selected:n}=this.props;return"sortable"===e&&!1!==t?u.createElement(o9,null):"selectable"===e?u.createElement(u9,{checked:n,onChange:this.handleSelectionChanged}):null},!1===e.movable&&c().warn('The "movable" prop of the "SortableBlock" component is deprecated since 2.5 and will be removed. Use the "mode" prop with "static" or "sortable" instead.')}get actions(){const{onRemove:e,actions:t,sortIndex:n}=this.props,i=t.map((e=>"divider"!==e.type?{...e,onClick:()=>e.onClick(n)}:e));return e?(c().warn('The "onRemove" prop of the "SortableBlock" component is deprecated since 2.5 and will be removed. Use the "actions" prop with an appropriate callback instead.'),[...i,{type:"button",icon:"su-trash-alt",label:Xs("sulu_admin.delete"),onClick:()=>e(n)}]):i}render(){const{activeType:e,expanded:t,icons:n,onCollapse:i,onExpand:r,onSettingsClick:o,renderBlockContent:s,selected:a,sortIndex:l,types:c,value:d}=this.props;return u.createElement(r9,{actions:this.actions,activeType:e,expanded:t,handle:this.renderHandle(),icons:n,onCollapse:i?this.handleCollapse:void 0,onExpand:r?this.handleExpand:void 0,onSettingsClick:o&&this.handleSettingsClick,onTypeChange:this.handleTypeChange,selected:a,types:c},s(d,e,l,t))}},c9.defaultProps={actions:[],mode:"sortable",movable:!0,selected:!1},function(e,t,n,i,r){var o={};Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}((l9=c9).prototype,"actions",[ge],Object.getOwnPropertyDescriptor(l9.prototype,"actions"),l9.prototype),a9=l9))||a9;var h9,p9,f9,m9=$b(d9);let g9=Br((f9=class extends u.Component{constructor(e){super(e),this.handleExpand=e=>{const{onExpand:t}=this.props;t&&t(e)},this.handleSelect=e=>{const{onSelect:t}=this.props;t&&t(e)},this.handleUnselect=e=>{const{onUnselect:t}=this.props;t&&t(e)},this.handleCollapse=e=>{const{onCollapse:t}=this.props;t&&t(e)},this.handleSettingsClick=e=>{const{onSettingsClick:t}=this.props;t&&t(e)},this.handleTypeChange=(e,t)=>{const{onTypeChange:n}=this.props;n&&n(e,t)},!1===e.movable&&c().warn('The "movable" prop of the "SortableBlockList" component is deprecated since 2.5 and will be removed. Use the "mode" prop with "static" or "sortable" instead.')}get blockActions(){const{onRemove:e,blockActions:t}=this.props;return e?(c().warn('The "onRemove" prop of the "SortableBlockList" component is deprecated since 2.5 and will be removed. Use the "blockActions" prop with an appropriate callback instead.'),[...t,{type:"button",icon:"su-trash-alt",label:Xs("sulu_admin.delete"),onClick:e}]):t}render(){const{disabled:e,expandedBlocks:t,generatedBlockIds:n,icons:i,mode:r,movable:o,onCollapse:s,onExpand:a,onSelect:l,onSettingsClick:c,onUnselect:d,renderBlockContent:h,renderDivider:p,selectedBlocks:f,types:m,value:g}=this.props,b=eo()("sortableBlockList--lZLnSpkMe5",{"disabled--MkIUiJOR9y":e});return u.createElement("div",{className:b},g&&g.map(((b,y)=>u.createElement(u.Fragment,{key:y},u.createElement(m9,{actions:this.blockActions,activeType:b.type,expanded:!e&&t[y],icons:i&&i[y],index:y,key:n[y],mode:"sortable"===r&&!1!==o?"sortable":r,onCollapse:s?this.handleCollapse:void 0,onExpand:a?this.handleExpand:void 0,onSelect:l?this.handleSelect:void 0,onSettingsClick:c?this.handleSettingsClick:void 0,onTypeChange:this.handleTypeChange,onUnselect:d?this.handleUnselect:void 0,renderBlockContent:h,selected:f[y],sortIndex:y,types:m,value:b}),p&&y<g.length-1&&p(y)))))}},f9.defaultProps={blockActions:[],disabled:!1,mode:"sortable",movable:null},function(e,t,n,i,r){var o={};Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}((p9=f9).prototype,"blockActions",[ge],Object.getOwnPropertyDescriptor(p9.prototype,"blockActions"),p9.prototype),h9=p9))||h9;var b9,y9,v9,_9,w9,k9,C9,E9,x9,S9,O9,T9,M9,P9,D9,L9,A9,z9,I9,R9,j9,N9,F9=Vb(g9),Y9="addButton--eXzcHPMTco";function B9(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function H9(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const V9="blocks";let W9=Br((N9=class e extends u.Component{constructor(t){super(t),B9(this,"pasteableBlocks",v9,this),B9(this,"generatedBlockIds",_9,this),B9(this,"expandedBlocks",w9,this),B9(this,"selectedBlocks",k9,this),B9(this,"mode",C9,this),this.fillArrays=()=>{const{collapsable:t,defaultType:n,onChange:i,minOccurs:r,value:o}=this.props,{expandedBlocks:s,generatedBlockIds:a,selectedBlocks:l}=this;if(!o)return;s.length>o.length&&s.splice(o.length),l.length>o.length&&l.splice(o.length),a.length>o.length&&a.splice(o.length);const c=!t;s.push(...new Array(o.length-s.length).fill(c)),l.push(...new Array(o.length-l.length).fill(!1)),a.push(...new Array(o.length-a.length).fill(!1).map((()=>++e.idCounter))),r&&o.length<r&&(s.push(...new Array(r-o.length).fill(!0)),l.push(...new Array(r-o.length).fill(!1)),a.push(...new Array(r-o.length).fill(!1).map((()=>++e.idCounter))),i([...o,...Array.from({length:r-o.length},(()=>({type:n})))]))},B9(this,"handleAddBlock",E9,this),B9(this,"handlePasteBlocks",x9,this),this.handleRemoveBlock=e=>{this.removeBlocks([e])},this.handleRemoveSelectedBlocks=()=>{this.removeBlocks(this.selectedBlockIndexes)},B9(this,"removeBlocks",S9,this),this.handleDuplicateSelectedBlocks=()=>{const{value:e}=this.props;this.duplicateBlocks(this.selectedBlockIndexes,e.length)},this.handleDuplicateBlock=e=>{this.duplicateBlocks([e],e)},B9(this,"duplicateBlocks",O9,this),this.handleCopySelectedBlocks=()=>{this.copyBlocks(this.selectedBlockIndexes)},this.handleCopyBlock=e=>{this.copyBlocks([e])},this.copyBlocks=(e,t=!0)=>{const{onDisplaySnackbar:n,value:i}=this.props;if(!i)return;const r=[];e.forEach((e=>{r.push({...Mt(i[e])})})),oa.set(V9,r),t&&n&&n({type:"info",text:Xs("sulu_admin.%count%_blocks_copied",{count:e.length}),icon:"su-copy"})},this.handleCutSelectedBlocks=()=>{this.cutBlocks(this.selectedBlockIndexes)},this.handleCutBlock=e=>{this.cutBlocks([e])},this.cutBlocks=e=>{const{onDisplaySnackbar:t}=this.props;this.copyBlocks(e,!1),this.removeBlocks(e,!1),t&&t({type:"info",text:Xs("sulu_admin.%count%_blocks_cut",{count:e.length}),icon:"su-cut"})},B9(this,"handleSortEnd",T9,this),B9(this,"handleCollapse",M9,this),B9(this,"handleExpand",P9,this),B9(this,"handleSelect",D9,this),B9(this,"handleUnselect",L9,this),this.handleSettingsClick=e=>{const{onSettingsClick:t}=this.props;t&&t(e)},B9(this,"handleTypeChange",A9,this),this.renderAddButton=e=>{const{addButtonText:t,pasteButtonText:n,disabled:i,value:r}=this.props,o=e<r.length-1,s=eo()("addButtonContainer--MjLfPxh6n8",{"addButtonDivider--YXoyf5uf8e":o});return u.createElement("div",{className:s},u.createElement(uo,{className:Y9,disabled:i||this.hasMaximumReached,icon:"su-plus",onClick:this.handleAddBlock,skin:"secondary",value:e+1},t||Xs("sulu_admin.add_block")),this.pasteableBlocks.length>0&&u.createElement(uo,{className:Y9,disabled:i||this.hasMaximumReached,icon:"su-copy",onClick:this.handlePasteBlocks,skin:"secondary",value:e+1},n||Xs("sulu_admin.paste_blocks",{count:this.pasteableBlocks.length})))},B9(this,"handleBlockToolbarCancel",z9,this),B9(this,"handleClickSelectMultiple",I9,this),B9(this,"handleBlockToolbarSelectAll",R9,this),B9(this,"handleBlockToolbarUnselectAll",j9,this),this.renderBlockToolbar=e=>{const{value:t}=this.props,n=this.selectedBlocks.filter((e=>e)).length;return u.createElement(J4,{actions:[{label:Xs("sulu_admin.copy"),icon:"su-copy",handleClick:this.handleCopySelectedBlocks},{label:Xs("sulu_admin.duplicate"),icon:"su-duplicate",handleClick:this.handleDuplicateSelectedBlocks},{label:Xs("sulu_admin.cut"),icon:"su-cut",handleClick:this.handleCutSelectedBlocks},{label:Xs("sulu_admin.delete"),icon:"su-trash-alt",handleClick:this.handleRemoveSelectedBlocks}],allSelected:n===t.length,mode:e?"sticky":"static",onCancel:this.handleBlockToolbarCancel,onSelectAll:this.handleBlockToolbarSelectAll,onUnselectAll:this.handleBlockToolbarUnselectAll,selectedCount:n})},this.renderBlockToolbarButton=()=>u.createElement("div",{className:"selectMultipleButtonContainer--H8YbMAAUdz"},u.createElement("button",{className:"selectMultipleButton--Utn6vSq6NY",onClick:this.handleClickSelectMultiple,type:"button"},u.createElement(ro,{"aria-hidden":!0,className:"selectMultipleButtonIcon--OAKfrcVMTm",name:"su-check-circle"}),u.createElement("span",{className:"selectMultipleButtonText--DejnWcEcPW"},Xs("sulu_admin.select_multiple_blocks")))),this.fillArraysDisposer=bt((()=>this.props.value.length),this.fillArrays,{fireImmediately:!0}),this.setPasteableBlocksDisposer=oa.observe(V9,ht((e=>{this.pasteableBlocks=e||[]})),!0),!1===t.movable&&(this.mode="static")}componentWillUnmount(){this.fillArraysDisposer?.(),this.setPasteableBlocksDisposer?.()}get selectedBlockIndexes(){const e=[];return this.selectedBlocks.forEach(((t,n)=>{t&&e.push(n)})),e}get hasMaximumReached(){const{maxOccurs:e,value:t}=this.props;return!!e&&t.length>=e}get hasMinimumReached(){const{minOccurs:e,value:t}=this.props;return!!e&&t.length<=e}get blockActions(){const e=[];return e.push({type:"button",icon:"su-copy",label:Xs("sulu_admin.copy"),onClick:this.handleCopyBlock}),this.hasMinimumReached||e.push({type:"button",icon:"su-scissors",label:Xs("sulu_admin.cut"),onClick:this.handleCutBlock}),this.hasMaximumReached||e.push({type:"button",icon:"su-duplicate",label:Xs("sulu_admin.duplicate"),onClick:this.handleDuplicateBlock}),this.hasMinimumReached||(e.length>0&&e.push({type:"divider"}),e.push({type:"button",icon:"su-trash-alt",label:Xs("sulu_admin.delete"),onClick:this.handleRemoveBlock})),e}render(){const{collapsable:e,disabled:t,icons:n,onSettingsClick:i,renderBlockContent:r,types:o,value:s}=this.props;return u.createElement("section",{className:"blocks--SWWRs8MBEX"},s.length>1?"selectable"===this.mode?u.createElement(e6,{top:10},this.renderBlockToolbar):this.renderBlockToolbarButton():null,u.createElement("div",{className:"spacer--wBtMl5itZ9"}),u.createElement(F9,{blockActions:this.blockActions,disabled:t,expandedBlocks:this.expandedBlocks,generatedBlockIds:this.generatedBlockIds,icons:n,lockAxis:"y",mode:this.mode,onCollapse:e?this.handleCollapse:void 0,onExpand:e?this.handleExpand:void 0,onSelect:this.handleSelect,onSettingsClick:i?this.handleSettingsClick:void 0,onSortEnd:this.handleSortEnd,onTypeChange:this.handleTypeChange,onUnselect:this.handleUnselect,renderBlockContent:r,renderDivider:this.renderAddButton,selectedBlocks:this.selectedBlocks,types:o,useDragHandle:!0,value:s}),this.renderAddButton(s.length-1))}},N9.idCounter=0,N9.defaultProps={collapsable:!0,disabled:!1,movable:!0,value:[]},v9=H9((y9=N9).prototype,"pasteableBlocks",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_9=H9(y9.prototype,"generatedBlockIds",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w9=H9(y9.prototype,"expandedBlocks",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k9=H9(y9.prototype,"selectedBlocks",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C9=H9(y9.prototype,"mode",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"sortable"}}),H9(y9.prototype,"selectedBlockIndexes",[ge],Object.getOwnPropertyDescriptor(y9.prototype,"selectedBlockIndexes"),y9.prototype),E9=H9(y9.prototype,"handleAddBlock",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{defaultType:t,onChange:n,value:i}=this.props;if(this.hasMaximumReached)throw new Error("The maximum amount of blocks has already been reached!");i&&(this.expandedBlocks.splice(e,0,!0),this.selectedBlocks.splice(e,0,!1),this.generatedBlockIds.splice(e,0,++W9.idCounter),n([...i.slice(0,e),{type:t},...i.slice(e)]))}}}),x9=H9(y9.prototype,"handlePasteBlocks",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{onChange:t,onDisplaySnackbar:n,value:i}=this.props;if(this.hasMaximumReached)throw new Error("The maximum amount of blocks has already been reached!");if(!i)return;this.expandedBlocks.splice(e,0,...this.pasteableBlocks.map((()=>!0))),this.selectedBlocks.splice(e,0,...this.pasteableBlocks.map((()=>!1))),this.generatedBlockIds.splice(e,0,...this.pasteableBlocks.map((()=>++W9.idCounter)));const r=this.pasteableBlocks.map((e=>this.props.types?.[e.type]?e:{...e,type:this.props.defaultType})),o=i.slice(0,e),s=i.slice(e);t([...o,...r,...s]),oa.set(V9,void 0),n&&n({type:"info",text:Xs("sulu_admin.%count%_blocks_pasted",{count:r.length}),icon:"su-copy"})}}}),S9=H9(y9.prototype,"removeBlocks",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t=!0)=>{const{onChange:n,onDisplaySnackbar:i,movable:r,value:o}=this.props;o&&(e.forEach(((e,t)=>{if(this.hasMinimumReached)throw new Error("The minimum amount of blocks has already been reached!");const n=e-t;this.expandedBlocks.splice(n,1),this.selectedBlocks.splice(n,1),this.generatedBlockIds.splice(n,1)})),this.generatedBlockIds.length<2&&"selectable"===this.mode&&(this.mode=r?"sortable":"static"),n(o.filter(((t,n)=>-1===e.indexOf(n)))),t&&i&&i({type:"info",text:Xs("sulu_admin.%count%_blocks_removed",{count:e.length}),icon:"su-trash-alt"}))}}}),O9=H9(y9.prototype,"duplicateBlocks",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{const{onChange:n,onDisplaySnackbar:i,value:r}=this.props;if(!r)return;let o=[...r];e.forEach(((e,n)=>{if(this.hasMaximumReached)throw new Error("The maximum amount of blocks has already been reached!");const i=t+n;this.expandedBlocks.splice(i,0,!0),this.selectedBlocks.splice(i,0,!1),this.generatedBlockIds.splice(i,0,++W9.idCounter);const r=o.slice(0,i),s=o.slice(i);o=[...r,{...Mt(o[e])},...s]})),n(o),i&&i({type:"info",text:Xs("sulu_admin.%count%_blocks_duplicated",{count:e.length}),icon:"su-duplicate"})}}}),T9=H9(y9.prototype,"handleSortEnd",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return({newIndex:e,oldIndex:t})=>{const{onChange:n,onSortEnd:i,value:r}=this.props;this.expandedBlocks=ho(this.expandedBlocks,t,e),this.selectedBlocks=ho(this.selectedBlocks,t,e),this.generatedBlockIds=ho(this.generatedBlockIds,t,e),n(ho(r,t,e)),i&&i(t,e)}}}),M9=H9(y9.prototype,"handleCollapse",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.expandedBlocks[e]=!1}}}),P9=H9(y9.prototype,"handleExpand",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.expandedBlocks[e]=!0}}}),D9=H9(y9.prototype,"handleSelect",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.selectedBlocks[e]=!0}}}),L9=H9(y9.prototype,"handleUnselect",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.selectedBlocks[e]=!1}}}),A9=H9(y9.prototype,"handleTypeChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{const{onChange:n,value:i}=this.props,r=Mt(i);r[t].type=e,n(r)}}}),H9(y9.prototype,"hasMaximumReached",[ge],Object.getOwnPropertyDescriptor(y9.prototype,"hasMaximumReached"),y9.prototype),H9(y9.prototype,"hasMinimumReached",[ge],Object.getOwnPropertyDescriptor(y9.prototype,"hasMinimumReached"),y9.prototype),H9(y9.prototype,"blockActions",[ge],Object.getOwnPropertyDescriptor(y9.prototype,"blockActions"),y9.prototype),z9=H9(y9.prototype,"handleBlockToolbarCancel",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{movable:e}=this.props;this.mode=e?"sortable":"static",this.selectedBlocks.forEach(((e,t)=>{this.selectedBlocks[t]=!1}))}}}),I9=H9(y9.prototype,"handleClickSelectMultiple",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.mode="selectable"}}}),R9=H9(y9.prototype,"handleBlockToolbarSelectAll",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.selectedBlocks.forEach(((e,t)=>{this.selectedBlocks[t]=!0}))}}}),j9=H9(y9.prototype,"handleBlockToolbarUnselectAll",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.selectedBlocks.forEach(((e,t)=>{this.selectedBlocks[t]=!1}))}}}),b9=y9))||b9;var U9,$9,q9,K9,G9,Z9,J9,X9,Q9=W9;class e8 extends u.Component{constructor(...e){super(...e),this.handleChange=(e,t)=>{const{index:n,onChange:i}=this.props;i(n,e,t)}}render(){const{data:e,dataPath:t,errors:n,formInspector:i,onFieldFinish:r,onSuccess:o,router:s,schema:a,schemaPath:l,showAllErrors:c,value:d}=this.props;return u.createElement(Kh,{data:e,dataPath:t,errors:n,formInspector:i,onChange:this.handleChange,onFieldFinish:r,onSuccess:o,router:s,schema:a,schemaPath:l,showAllErrors:c,value:d})}}function t8(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function n8(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}e8.defaultProps={showAllErrors:!1};const i8='The "block" field type needs at least one type to be configured!',r8="sulu.block_preview",o8="settings";let s8=Br(($9=class extends u.Component{constructor(e){super(e),t8(this,"openedBlockSettingsIndex",q9,this),t8(this,"blockSettingsFormStore",K9,this),t8(this,"value",G9,this),t8(this,"setValue",Z9,this),this.handleBlockChange=(e,t,n)=>{const{onChange:i}=this.props,r=this.value;if(!r)return;const o=Mt(r);Pc().set(o[e],"/"+t,n),this.setValue(o),i(o)},this.handleBlocksChange=e=>{const{onChange:t}=this.props;this.setValue(e),t(e)},this.handleSortEnd=()=>{const{onFinish:e}=this.props;e()},this.getBlockSchemaType=e=>{const{defaultType:t,schemaPath:n,types:i}=this.props;if(!e)throw new Error("It is impossible that a block has no type. This should not happen and is likely a bug.");if(!i)throw new Error(i8);if(i[e])return i[e];if(!t)throw new Error("It is impossible that a block has no defaultType. This should not happen and is likely a bug.");if(!i[t])throw new Error('The default type should exist in block "'+n+'".');return i[t]},this.renderBlockContent=(e,t,n,i)=>i?this.renderExpandedBlockContent(e,t,n):this.renderCollapsedBlockContent(e,t,n),this.renderExpandedBlockContent=(e,t,n)=>{const{data:i,dataPath:r,error:o,formInspector:s,onFinish:a,onSuccess:l,router:c,schemaPath:d,showAllErrors:h}=this.props,p=this.getBlockSchemaType(t),f=Mt(o);return u.createElement(e8,{data:i,dataPath:r+"/"+n,errors:f&&f.length>n&&f[n]?f[n]:void 0,formInspector:s,index:n,onChange:this.handleBlockChange,onFieldFinish:a,onSuccess:l,router:c,schema:p.form,schemaPath:d+"/types/"+t+"/form",showAllErrors:h,value:e})},this.renderCollapsedBlockContent=(e,t,n)=>{const i=this.getBlockSchemaType(t),r=this.removeSections(i.form),o=Object.keys(r).filter((t=>{const n=r[t].tags;return n&&e[t]&&n.some((e=>e.name===r8))})).sort(((e,t)=>{const n=r[e].tags,i=r[t].tags;if(!n||!i)throw new Error("All properties without any tag should have been filtered before. This should not happen and is likely a bug.");const o=n.find((e=>e.name===r8)),s=i.find((e=>e.name===r8));if(!o||!s)throw new Error('All properties not having the "sulu.block_preview" tag should have been filtered before. This should not happen and is likely a bug.');return(s.priority||0)-(o.priority||0)}));if(0===o.length)for(const t of F4.blockPreviewTransformerKeysByPriority){for(const n of Object.keys(r))if(r[n].type===t&&e[n]){o.push(n);break}if(o.length>=3)break}return u.createElement(u.Fragment,null,o.map((t=>F4.has(r[t].type)&&e[t]&&u.createElement(u.Fragment,{key:t},F4.get(r[t].type).transform(e[t],r[t])))))},t8(this,"handleSettingsClick",J9,this),this.handleSettingsOverlayClose=()=>{this.closeSettingsOverlay()},this.handleSettingsOverlayConfirm=()=>{this.applySettingsFromOverlay(),this.closeSettingsOverlay()},this.handleDisplaySnackbar=e=>{YF.add(e,2500)},t8(this,"closeSettingsOverlay",X9,this),this.applySettingsFromOverlay=()=>{const{onChange:e}=this.props,t=this.value||[],{blockSettingsFormStore:n,openedBlockSettingsIndex:i}=this;if(!n||null==i||!t)return;const r=[...t.slice(0,i),{...t[i],[o8]:n.data},...t.slice(i+1)];this.setValue(r),e(r)},this.setValue(this.props.value)}componentDidMount(){this.settingsFormKey&&(this.blockSettingsFormStore=Vf.createFromFormKey(this.settingsFormKey,{},this.props.formInspector.locale,void 0,this.props.formInspector.options))}componentDidUpdate(e){const{defaultType:t,onChange:n,types:i,value:r}=this.props,{types:o}=e;if(si()(Mt(e.value),Mt(r))||this.setValue(r),!i||!o)throw new Error(i8);let s=Mt(r);if(s&&i!==o){if(!t)throw new Error("It is impossible that a block has no defaultType. This should not happen and is likely a bug.");s=s.map((e=>i[e.type]?e:{...e,type:t}))}si()(Mt(r),s)||n(s)}componentWillUnmount(){this.blockSettingsFormStore?.destroy()}get settingsFormKey(){const{schemaOptions:{settings_form_key:{value:e}={}}}=this.props;if(void 0!==e&&"string"!=typeof e)throw new Error('The "block" field types only accepts strings as "settings_form_key" schema option!');return e}get addButtonText(){const{schemaOptions:{add_button_text:{title:e}={}}}=this.props;if(void 0!==e&&"string"!=typeof e)throw new Error('The "block" field types only accepts strings as "add_button_text" schema option!');return e}get pasteButtonText(){const{schemaOptions:{paste_button_text:{title:e}={}}}=this.props;if(void 0!==e&&"string"!=typeof e)throw new Error('The "block" field types only accepts strings as "paste_button_text" schema option!');return e}get collapsable(){const{schemaOptions:{collapsable:{value:e}={}}}=this.props;if(void 0!==e&&"boolean"!=typeof e)throw new Error('The "block" field types only accepts booleans as "collapsable" schema option!');return e}get movable(){const{schemaOptions:{movable:{value:e}={}}}=this.props;if(void 0!==e&&"boolean"!=typeof e)throw new Error('The "block" field types only accepts booleans as "collapsable" schema option!');return e}get iconsMapping(){const e=this.blockSettingsFormStore?.schema;if(!e)return{};const t=(n="")=>(i,r)=>{const o="/"+n+r;if(!Pc().has(e,o))return i;const s=Pc().get(e,o);if(s.items)return Object.keys(s.items).reduce(t(r+"/items/"),i);const a=s.tags.find((e=>"sulu.block_setting_icon"===e.name));return a&&(i["/settings/"+r]=a.attributes.icon),i};return Object.keys(e).reduce(t(),{})}get icons(){return this.value?this.value.map((e=>Object.keys(this.iconsMapping).reduce(((t,n)=>(Pc().has(e,n)&&Pc().get(e,n)&&t.push(this.iconsMapping[n]),t)),[]))):[]}removeSections(e){let t={};return Object.keys(e).forEach((n=>{if("section"===e[n].type)return t={...t,...this.removeSections(e[n].items)},!1;t[n]=e[n]})),t}render(){const{defaultType:e,disabled:t,maxOccurs:n,minOccurs:i,types:r}=this.props,o=this.value||[],s=this.blockSettingsFormStore;if(!e)throw new Error('The "block" field type needs a defaultType!');if(!r)throw new Error(i8);const a=Object.keys(r).reduce(((e,t)=>(e[t]=r[t].title,e)),{});return u.createElement(u.Fragment,null,u.createElement(Q9,{addButtonText:this.addButtonText,collapsable:this.collapsable,defaultType:e,disabled:!!t,icons:this.icons,maxOccurs:n,minOccurs:i,movable:this.movable,onChange:this.handleBlocksChange,onDisplaySnackbar:this.handleDisplaySnackbar,onSettingsClick:this.settingsFormKey?this.handleSettingsClick:void 0,onSortEnd:this.handleSortEnd,pasteButtonText:this.pasteButtonText,renderBlockContent:this.renderBlockContent,types:a,value:o}),void 0!==this.openedBlockSettingsIndex&&s&&u.createElement(Jj,{confirmDisabled:!s.dirty,confirmText:Xs("sulu_admin.apply"),formStore:s,onClose:this.handleSettingsOverlayClose,onConfirm:this.handleSettingsOverlayConfirm,open:!!s,size:"small",title:Xs("sulu_admin.block_settings")}))}},q9=n8($9.prototype,"openedBlockSettingsIndex",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K9=n8($9.prototype,"blockSettingsFormStore",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G9=n8($9.prototype,"value",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n8($9.prototype,"componentDidMount",[ht],Object.getOwnPropertyDescriptor($9.prototype,"componentDidMount"),$9.prototype),n8($9.prototype,"settingsFormKey",[ge],Object.getOwnPropertyDescriptor($9.prototype,"settingsFormKey"),$9.prototype),n8($9.prototype,"addButtonText",[ge],Object.getOwnPropertyDescriptor($9.prototype,"addButtonText"),$9.prototype),n8($9.prototype,"pasteButtonText",[ge],Object.getOwnPropertyDescriptor($9.prototype,"pasteButtonText"),$9.prototype),n8($9.prototype,"collapsable",[ge],Object.getOwnPropertyDescriptor($9.prototype,"collapsable"),$9.prototype),n8($9.prototype,"movable",[ge],Object.getOwnPropertyDescriptor($9.prototype,"movable"),$9.prototype),n8($9.prototype,"iconsMapping",[ge],Object.getOwnPropertyDescriptor($9.prototype,"iconsMapping"),$9.prototype),n8($9.prototype,"icons",[ge],Object.getOwnPropertyDescriptor($9.prototype,"icons"),$9.prototype),Z9=n8($9.prototype,"setValue",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.value=e}}}),J9=n8($9.prototype,"handleSettingsClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const t=this.settingsFormKey;t&&this.value&&(this.blockSettingsFormStore?.destroy(),this.blockSettingsFormStore=Vf.createFromFormKey(t,{...this.value[e][o8]},this.props.formInspector.locale,void 0,this.props.formInspector.options),this.openedBlockSettingsIndex=e)}}}),X9=n8($9.prototype,"closeSettingsOverlay",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.openedBlockSettingsIndex=void 0}}}),U9=$9))||U9;var a8=s8;const l8="YYYY-MM-DD";class c8{transform(e){if("string"!=typeof e)return null;const t=wa()(e,l8);return t.isValid()?u.createElement("p",null,t.format("L")):(c().error('Invalid date given: "'+e+'". Format needs to be "'+l8+'"'),null)}}class u8{transform(e,t){if(!O(e))return null;if(!t.options||!t.options.values)throw new Error('The "Select" field type must have a "values" schema option!');const n=t.options.values.value;if(!O(n))throw new Error('The "SingleSelect" field type must have a "values" option defined being an array!');const i=n.filter((t=>e.includes(t.name)));return i?u.createElement("p",null,i.map((e=>e.title)).join(", ")):null}}class d8{transform(e,t){if(!t.options||!t.options.values)throw new Error('The "SingleSelect" field type must have a "values" schema option!');const n=t.options.values.value;if(!O(n))throw new Error('The "SingleSelect" field type must have a "values" option defined being an array!');const i=n.find((t=>t.name===e));return i?u.createElement("p",null,i.title):null}}class h8{transform(e){return u.createElement("p",null,u.createElement("em",null,Xs("sulu_admin.smart_content_block_preview",{limit:e.limitResult?e.limitResult:"undefined"})))}}class p8{transform(e){return"number"==typeof e&&(e=String(e)),"string"!=typeof e?null:u.createElement("p",null,e.length>50?e.substring(0,50)+"...":e)}}var f8=r(66741),m8=r.n(f8);class g8{transform(e){if("string"!=typeof e)return null;const t=m8()(e,{headingStyle:"linebreak",listStyle:"linebreak"});return u.createElement("p",null,t.length>50?t.substring(0,50)+"...":t)}}const b8="HH:mm:ss";class y8{transform(e){if("string"!=typeof e)return null;const t=wa()(e,b8);return t.isValid()?u.createElement("p",null,t.format("LT")):(c().error('Invalid time given: "'+e+'". Format needs to be "'+b8+'"'),null)}}var v8,_8=a8;let w8=(v8=class{get conditionData(){const e=this.resourceFormStore.data,t=this.formInspector;return mh.getAll().reduce((function(e,n){return{...e,...n(e,void 0,t)}}),{...Mt(e)})}constructor(e,t,n,i,r,o){this.resourceFormStore=e,this.formInspector=new _h(this.resourceFormStore),this.form=t,this.router=n,this.locales=i,this.options=r,this.parentResourceStore=o}setLocales(e){this.locales=e}getNode(e){return null}getToolbarItemConfig(){throw new Error("The getToolbarItemConfig method must be implemented by the sub class!")}destroy(){}},function(e,t,n,i,r){var o={};Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}(v8.prototype,"conditionData",[ge],Object.getOwnPropertyDescriptor(v8.prototype,"conditionData"),v8.prototype),v8);var k8,C8,E8,x8,S8,O8,T8,M8,P8,D8,L8,A8,z8,I8,R8,j8=new class{constructor(){this.toolbarActions={},this.clear()}clear(){this.toolbarActions={}}add(e,t){if(e in this.toolbarActions)throw new Error('The key "'+e+'" has already been used for another ToolbarAction!');this.toolbarActions[e]=t}get(e){if(!(e in this.toolbarActions))throw new Error('There is no toolbar item with key "'+e+'" registered!\n\nRegistered keys: '+Object.keys(this.toolbarActions).sort().join(", "));return this.toolbarActions[e]}};function N8(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function F8(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let Y8=(k8=ge.struct,Br((E8=class extends u.Component{get hasOwnResourceStore(){const{resourceStore:e}=this.props;return this.resourceKey&&e.resourceKey!==this.resourceKey}get locales(){const{locales:e,route:{options:{locales:t}}}=this.props;return t||e}get id(){const{router:{attributes:{id:e}}}=this.props;if(void 0!==e&&"string"!=typeof e&&"number"!=typeof e)throw new Error('The "id" router attribute must be a string or a number if given!');return e}get resourceKey(){const{route:{options:{resourceKey:e}}}=this.props;return e}get formKey(){const{route:{options:{formKey:e}}}=this.props;if(!e)throw new Error('The route does not define the mandatory "formKey" option');return e}get formStoreOptions(){const{attributes:e,route:{options:{requestParameters:t={},routerAttributesToFormRequest:n={}}}}=this.props.router,i=t||{};return Object.keys(Mt(n)).forEach((t=>{const r=n[t],o=isNaN(t)?t:Mt(n[t]);i[r]=e[o]})),i}get metadataOptions(){const{attributes:e,route:{options:{routerAttributesToFormMetadata:t={},metadataRequestParameters:n={}}}}=this.props.router,i={...n};return Object.keys(Mt(t)).forEach((n=>{const r=t[n],o=isNaN(n)?n:Mt(t[n]);i[r]=e[o]})),i}constructor(e){super(e),N8(this,"errors",x8,this),this.showSuccess=ue.box(!1),N8(this,"toolbarActions",S8,this),N8(this,"showDirtyWarning",O8,this),N8(this,"showHasChangedWarning",T8,this),this.createResourceFormStore=()=>{const{resourceStore:e,router:t}=this.props,{route:{options:{idQueryParameter:n}}}=t;if(!e)throw new Error('The view "Form" needs a resourceStore to work properly.Did you maybe forget to make this view a child of a "ResourceTabs" view?');if(this.hasOwnResourceStore){let t=e.locale;!t&&this.locales&&(t=ue.box()),this.resourceStore=n?new Rc(this.resourceKey,this.id,{locale:t},this.formStoreOptions,n):new Rc(this.resourceKey,this.id,{locale:t},this.formStoreOptions)}else this.resourceStore=e;this.resourceFormStore=nm.createFromResourceStore(this.resourceStore,this.formKey,this.formStoreOptions,this.metadataOptions),this.resourceStore.locale&&t.bind("locale",this.resourceStore.locale)},this.createCollaborationStore=()=>{this.resourceKey&&this.id&&(this.collaborationStore=new JF(this.resourceKey,this.id))},N8(this,"checkFormStoreDirtyStateBeforeNavigation",M8,this),N8(this,"showSuccessSnackbar",P8,this),N8(this,"submit",D8,this),this.handleSubmit=e=>("string"==typeof e&&(c().warn('Passing a string to the "submit" method is deprecated since 2.2 and will be removed. Pass an object with an "action" property instead.'),e={action:e}),this.save(e)),this.handleSuccess=()=>{this.showSuccessSnackbar()},this.save=e=>{const{resourceStore:t,router:n}=this.props,{attributes:i,route:{options:{editView:r,routerAttributesToEditView:o}}}=n;r&&t.destroy();const s={...e},a={};return o&&Object.keys(Mt(o)).forEach((e=>{const t=o[e],n=isNaN(e)?e:o[e];a[t]=i[n]})),this.resourceFormStore.save(s).then((e=>(this.showSuccessSnackbar(),this.clearErrors(),r&&n.navigate(r,{id:t.id,locale:t.locale,...a}),e))).catch(ht((t=>{if(1102===t.code)return this.showHasChangedWarning=!0,void(this.postponedSaveOptions=e);this.errors.push(t.detail||t.title||Xs("sulu_admin.form_save_server_error"))})))},this.navigateBack=()=>{const{router:e}=this.props,{attributes:t,route:{options:{backView:n,routerAttributesToBackView:i}}}=e;if(!n)return;const r={};i&&Object.keys(Mt(i)).forEach((e=>{const n=i[e],o=isNaN(e)?e:i[e];r[n]=t[o]})),this.resourceStore.locale&&(r.locale=this.resourceStore.locale.get()),e.restore(n,r)},this.handleError=()=>{this.errors.push(Xs("sulu_admin.form_contains_invalid_values"))},N8(this,"clearErrors",L8,this),this.handleMissingTypeCancel=()=>{this.navigateBack()},N8(this,"handleDirtyWarningCancelClick",A8,this),N8(this,"handleDirtyWarningConfirmClick",z8,this),N8(this,"handleHasChangedWarningCancelClick",I8,this),N8(this,"handleHasChangedWarningConfirmClick",R8,this),this.setFormRef=e=>{this.form=e};const{router:t}=this.props;this.createResourceFormStore(),this.createCollaborationStore(),this.checkFormStoreDirtyStateBeforeNavigationDisposer=t.addUpdateRouteHook(this.checkFormStoreDirtyStateBeforeNavigation,2048)}componentDidMount(){const{resourceStore:e,router:t}=this.props,{route:{options:{toolbarActions:n}}}=t;if(!O(n))throw new Error('The view "Form" needs some defined toolbarActions to work properly!');const i=Mt(n);i.forEach((e=>{if("object"!=typeof e)throw new Error("The value of a toolbarAction entry must be an object, but "+typeof e+" was given!")})),this.toolbarActions=i.map((n=>new(j8.get(n.type))(this.resourceFormStore,this,t,this.locales,n.options,e)))}componentDidUpdate(e){si()(this.props.locales,e.locales)||this.toolbarActions.forEach((e=>{e.setLocales(this.locales)}))}componentWillUnmount(){this.checkFormStoreDirtyStateBeforeNavigationDisposer(),this.resourceFormStore.destroy(),this.collaborationStore&&this.collaborationStore.destroy(),this.hasOwnResourceStore&&this.resourceStore.destroy(),this.toolbarActions.forEach((e=>e.destroy()))}render(){const{route:{options:{titleVisible:e=!1}},router:t,title:n}=this.props;return u.createElement("div",{className:"form--VaSruwzZWz"},e&&n&&u.createElement("h1",null,n),u.createElement(Uj,{onError:this.handleError,onMissingTypeCancel:this.handleMissingTypeCancel,onSubmit:this.handleSubmit,onSuccess:this.handleSuccess,ref:this.setFormRef,router:t,store:this.resourceFormStore}),this.toolbarActions.map(((e,t)=>e.getNode(t))),u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmText:Xs("sulu_admin.confirm"),onCancel:this.handleDirtyWarningCancelClick,onConfirm:this.handleDirtyWarningConfirmClick,open:this.showDirtyWarning,title:Xs("sulu_admin.dirty_warning_dialog_title")},Xs("sulu_admin.dirty_warning_dialog_text")),u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmText:Xs("sulu_admin.confirm"),onCancel:this.handleHasChangedWarningCancelClick,onConfirm:this.handleHasChangedWarningConfirmClick,open:this.showHasChangedWarning,title:Xs("sulu_admin.has_changed_warning_dialog_title")},Xs("sulu_admin.has_changed_warning_dialog_text")))}},x8=F8(E8.prototype,"errors",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S8=F8(E8.prototype,"toolbarActions",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O8=F8(E8.prototype,"showDirtyWarning",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T8=F8(E8.prototype,"showHasChangedWarning",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F8(E8.prototype,"hasOwnResourceStore",[ge],Object.getOwnPropertyDescriptor(E8.prototype,"hasOwnResourceStore"),E8.prototype),F8(E8.prototype,"locales",[k8],Object.getOwnPropertyDescriptor(E8.prototype,"locales"),E8.prototype),F8(E8.prototype,"id",[ge],Object.getOwnPropertyDescriptor(E8.prototype,"id"),E8.prototype),F8(E8.prototype,"resourceKey",[ge],Object.getOwnPropertyDescriptor(E8.prototype,"resourceKey"),E8.prototype),F8(E8.prototype,"formKey",[ge],Object.getOwnPropertyDescriptor(E8.prototype,"formKey"),E8.prototype),F8(E8.prototype,"formStoreOptions",[ge],Object.getOwnPropertyDescriptor(E8.prototype,"formStoreOptions"),E8.prototype),F8(E8.prototype,"metadataOptions",[ge],Object.getOwnPropertyDescriptor(E8.prototype,"metadataOptions"),E8.prototype),M8=F8(E8.prototype,"checkFormStoreDirtyStateBeforeNavigation",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t,n)=>{if(!this.resourceFormStore.dirty)return!0;const{route:i,router:r}=this.props;return r.route!==i||!(!0!==this.showDirtyWarning||this.postponedRoute!==e||!si()(this.postponedRouteAttributes,t)||this.postponedUpdateRouteMethod!==n)||!!(e||t||n)&&(this.showDirtyWarning=!0,this.postponedUpdateRouteMethod=n,this.postponedRoute=e,this.postponedRouteAttributes=t,!1)}}}),F8(E8.prototype,"componentDidMount",[ht],Object.getOwnPropertyDescriptor(E8.prototype,"componentDidMount"),E8.prototype),P8=F8(E8.prototype,"showSuccessSnackbar",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showSuccess.set(!0)}}}),D8=F8(E8.prototype,"submit",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{if("string"==typeof e&&c().warn('Passing a string to the "submit" method is deprecated since 2.2 and will be removed. Pass an object with an "action" property instead.'),!this.form)throw new Error("The form ref has not been set! This should not happen and is likely a bug.");this.form.submit(e)}}}),L8=F8(E8.prototype,"clearErrors",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.errors.splice(0,this.errors.length)}}}),A8=F8(E8.prototype,"handleDirtyWarningCancelClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showDirtyWarning=!1,this.postponedUpdateRouteMethod=void 0,this.postponedRoute=void 0,this.postponedRouteAttributes=void 0}}}),z8=F8(E8.prototype,"handleDirtyWarningConfirmClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{if(!this.postponedUpdateRouteMethod||!this.postponedRoute||!this.postponedRouteAttributes)throw new Error("Some routing information is missing. This should not happen and is likely a bug.");this.postponedUpdateRouteMethod(this.postponedRoute.name,this.postponedRouteAttributes),this.postponedUpdateRouteMethod=void 0,this.postponedRoute=void 0,this.postponedRouteAttributes=void 0,this.showDirtyWarning=!1}}}),I8=F8(E8.prototype,"handleHasChangedWarningCancelClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showHasChangedWarning=!1,this.postponedSaveOptions=void 0}}}),R8=F8(E8.prototype,"handleHasChangedWarningConfirmClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.save({...this.postponedSaveOptions,force:!0}),this.showHasChangedWarning=!1,this.postponedSaveOptions=void 0}}}),C8=E8))||C8);var B8,H8,V8,W8,U8,$8=bF(Y8,(function(){const{router:e}=this.props,{route:{options:{backView:t}}}=e,{errors:n,resourceStore:i,showSuccess:r}=this,o=t?{onClick:this.navigateBack}:void 0,s=this.locales?{value:i.locale.get(),onChange:t=>{e.navigate(e.route.name,{...e.attributes,locale:t})},options:this.locales.map((e=>({value:e,label:e})))}:void 0,a=this.toolbarActions.map((e=>e.getToolbarItemConfig())).filter((e=>null!=e)),l=[],c=this.resourceFormStore.data;if(c.hasOwnProperty("publishedState")||c.hasOwnProperty("published")){const{publishedState:e,published:t}=c;l.push(u.createElement(vk,{draft:void 0!==e&&!e,key:"publish",published:void 0!==t&&!!t}))}const d=[];return this.collaborationStore&&this.collaborationStore.collaborations.length>0&&d.push([Xs("sulu_admin.form_used_by"),this.collaborationStore.collaborations.map((e=>e.fullName)).join(", ")].join(" ")),{backButton:o,errors:n,locale:s,items:a,icons:l,showSuccess:r,warnings:d}}));function q8(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function K8(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let G8=(H8=K8((B8=class extends w8{constructor(...e){super(...e),q8(this,"showCopyDialog",H8,this),q8(this,"copying",V8,this),q8(this,"handleCopyDialogConfirm",W8,this),q8(this,"handleCopyDialogClose",U8,this)}getNode(){return u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmLoading:this.copying,confirmText:Xs("sulu_admin.ok"),key:"sulu_admin.copy",onCancel:this.handleCopyDialogClose,onConfirm:this.handleCopyDialogConfirm,open:this.showCopyDialog,title:Xs("sulu_admin.create_copy")},Xs("sulu_admin.copy_dialog_description"))}getToolbarItemConfig(){const{visible_condition:e}=this.options,{id:t}=this.resourceFormStore;if(!e||fh().evalSync(e,this.conditionData))return{disabled:!t,icon:"su-copy",label:Xs("sulu_admin.create_copy"),onClick:ht((()=>{this.showCopyDialog=!0})),type:"button"}}}).prototype,"showCopyDialog",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V8=K8(B8.prototype,"copying",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W8=K8(B8.prototype,"handleCopyDialogConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{id:e,options:{webspace:t},resourceKey:n}=this.resourceFormStore;this.copying=!0,La.post(n,void 0,{action:"copy",id:e,webspace:t}).then(ht((e=>{this.copying=!1,this.showCopyDialog=!1,this.form.showSuccessSnackbar();const{id:t,webspace:n}=e;this.router.navigate(this.router.route.name,{id:t,webspace:n})})))}}}),U8=K8(B8.prototype,"handleCopyDialogClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showCopyDialog=!1}}}),B8);var Z8,J8,X8,Q8,eee,tee,nee,iee;function ree(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function oee(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let see=(Z8=class extends w8{constructor(e,t,n,i,r,o){const{display_condition:s,visible_condition:a}=r;s&&(c().warn('The "display_condition" option is deprecated since version 2.0 and will be removed. Use the "visible_condition" option instead.'),a||(r.visible_condition=s)),super(e,t,n,i,r,o),ree(this,"showCopyLocaleDialog",J8,this),ree(this,"selectedLocales",X8,this),ree(this,"copying",Q8,this),ree(this,"handleConfirm",eee,this),ree(this,"handleClose",tee,this),ree(this,"handleCheckboxChange",nee,this),ree(this,"clearSelectedLocales",iee,this)}getNode(){const{resourceFormStore:{data:{availableLocales:e},id:t,locale:n},locales:i}=this;if(!t)return null;if(!i||!n)throw new Error("The CopyLocaleToolbarAction for pages only works with locales!");return u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmLoading:this.copying,confirmText:Xs("sulu_admin.ok"),key:"sulu_admin.copy_locale",onCancel:this.handleClose,onConfirm:this.handleConfirm,open:this.showCopyLocaleDialog,title:Xs("sulu_admin.copy_locale")},u.createElement("div",{className:"dialog--ekF4vm1fD_"},u.createElement("p",null,Xs("sulu_admin.choose_target_locale"),":"),i.map((t=>n.get()===t?null:u.createElement(mu,{checked:this.selectedLocales.includes(t),key:t,onChange:this.handleCheckboxChange,value:t},t,e&&!e.includes(t)&&"*"))),u.createElement("p",null,Xs("sulu_admin.copy_locale_dialog_description"))))}getToolbarItemConfig(){const{visible_condition:e}=this.options,{id:t}=this.resourceFormStore;if(!e||fh().evalSync(e,this.conditionData))return{disabled:!t,icon:"su-copy",label:Xs("sulu_admin.copy_locale"),onClick:ht((()=>{this.showCopyLocaleDialog=!0})),type:"button"}}},J8=oee(Z8.prototype,"showCopyLocaleDialog",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),X8=oee(Z8.prototype,"selectedLocales",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q8=oee(Z8.prototype,"copying",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),eee=oee(Z8.prototype,"handleConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.copying=!0;const{resourceFormStore:{id:e,locale:t,options:{webspace:n},resourceKey:i}}=this;La.post(i,void 0,{id:e,locale:t,dest:this.selectedLocales,action:"copy-locale",webspace:n}).then(ht((()=>{this.copying=!1,this.showCopyLocaleDialog=!1,this.form.showSuccessSnackbar(),this.clearSelectedLocales()})))}}}),tee=oee(Z8.prototype,"handleClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showCopyLocaleDialog=!1,this.clearSelectedLocales()}}}),nee=oee(Z8.prototype,"handleCheckboxChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{e&&"string"==typeof t&&!this.selectedLocales.includes(t)?this.selectedLocales.push(t):this.selectedLocales.splice(this.selectedLocales.findIndex((e=>e===t)),1)}}}),iee=oee(Z8.prototype,"clearSelectedLocales",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.selectedLocales.splice(0,this.selectedLocales.length)}}}),Z8);var aee,lee,cee,uee,dee;function hee(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function pee(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let fee=(aee=class extends w8{constructor(e,t,n,i,r,o){const{display_condition:s,visible_condition:a}=r;s&&(c().warn('The "display_condition" option is deprecated since version 2.0 and will be removed. Use the "visible_condition" option instead.'),a||(r.visible_condition=s)),super(e,t,n,i,r,o),hee(this,"showDeleteDraftDialog",lee,this),hee(this,"deletingDraft",cee,this),hee(this,"handleDeleteDraftDialogConfirm",uee,this),hee(this,"handleDeleteDraftDialogClose",dee,this)}getNode(){const{resourceFormStore:{id:e}}=this;return e?u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmLoading:this.deletingDraft,confirmText:Xs("sulu_admin.ok"),key:"sulu_admin.delete_draft",onCancel:this.handleDeleteDraftDialogClose,onConfirm:this.handleDeleteDraftDialogConfirm,open:this.showDeleteDraftDialog,title:Xs("sulu_page.delete_draft_warning_title")},Xs("sulu_page.delete_draft_warning_text")):null}getToolbarItemConfig(){const{visible_condition:e}=this.options,{id:t,data:n}=this.resourceFormStore,{published:i,publishedState:r}=n;if(!e||fh().evalSync(e,this.conditionData))return{disabled:!t||!i||r,label:Xs("sulu_page.delete_draft"),onClick:ht((()=>{this.showDeleteDraftDialog=!0})),type:"button"}}},lee=pee(aee.prototype,"showDeleteDraftDialog",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cee=pee(aee.prototype,"deletingDraft",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),uee=pee(aee.prototype,"handleDeleteDraftDialogConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{id:e,locale:t,options:{webspace:n},resourceKey:i}=this.resourceFormStore;if(!e)throw new Error("The draft can only be deleted if an ID is given! This should not happen and is likely a bug.");this.deletingDraft=!0,La.post(i,void 0,{action:"remove-draft",locale:t,id:e,webspace:n}).then(ht((e=>{this.deletingDraft=!1,this.showDeleteDraftDialog=!1,this.form.showSuccessSnackbar(),this.resourceFormStore.changeMultiple(e,{isServerValue:!0}),this.resourceFormStore.dirty=!1})))}}}),dee=pee(aee.prototype,"handleDeleteDraftDialogClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showDeleteDraftDialog=!1}}}),aee);var mee,gee,bee,yee,vee,_ee,wee,kee,Cee;function Eee(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function xee(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let See=(mee=class extends w8{get allowConflictDeletion(){const{allow_conflict_deletion:e=!0}=this.options;return!!e}constructor(e,t,n,i,r,o){const{display_condition:s,visible_condition:a,delete_locale:l=!1}=r;if(s&&(c().warn('The "display_condition" option is deprecated since version 2.0 and will be removed. Use the "visible_condition" option instead.'),a||(r.visible_condition=s)),"boolean"!=typeof l)throw new Error('The "delete_locale" option must be a boolean, but received '+typeof l+"!");super(e,t,n,i,r,o),Eee(this,"showDialog",gee,this),Eee(this,"referencingResourcesData",bee,this),Eee(this,"dependantResourcesData",yee,this),this.handleDeleteReferencedResourcesDialogCancel=()=>{this.closeDeleteReferencedResourceDialog()},Eee(this,"handleDeleteReferencedResourcesDialogConfirm",vee,this),Eee(this,"closeDeleteReferencedResourceDialog",_ee,this),this.handleDeleteDependantResourcesDialogFinish=()=>{this.delete()},this.handleDeleteDependantResourcesDialogCancel=()=>{this.closeDeleteDependantResourcesDialog()},Eee(this,"closeDeleteDependantResourcesDialog",wee,this),this.handleDialogCancel=()=>{this.closeDialog()},this.handleDialogConfirm=()=>{this.delete()},Eee(this,"closeDialog",kee,this),this.navigateBack=()=>{const{attributes:e,route:t}=this.router,{backView:n}=t.options,{locale:i}=this.resourceFormStore,{router_attributes_to_back_view:r}=this.options,o={locale:i?i.get():void 0};if(r){if("object"!=typeof r)throw new Error('The "router_attributes_to_back_view" option must be an object!');Object.keys(r).forEach((t=>{const n=r[t],i=isNaN(t)?t:r[t];if("string"!=typeof n||"string"!=typeof i)throw new Error('The value of the "router_attributes_to_back_view" option must be a string!');o[n]=e[i]}))}this.router.restore(n,o)},Eee(this,"delete",Cee,this)}renderDeleteReferencedResourceDialog(){return this.referencingResourcesData?u.createElement(fg,{allowDeletion:this.allowConflictDeletion,confirmLoading:this.resourceFormStore.deleting,onCancel:this.handleDeleteReferencedResourcesDialogCancel,onConfirm:this.handleDeleteReferencedResourcesDialogConfirm,referencingResourcesData:this.referencingResourcesData}):null}get deleteDependantResourcesDialogRequestOptions(){const{locale:e,options:t={}}=this.resourceFormStore,n=t;return e&&(n.locale=e.get()),n}renderDeleteDependantResourcesDialog(){return this.dependantResourcesData?u.createElement(Dg,{dependantResourcesData:this.dependantResourcesData,onCancel:this.handleDeleteDependantResourcesDialogCancel,onFinish:this.handleDeleteDependantResourcesDialogFinish,requestOptions:this.deleteDependantResourcesDialogRequestOptions}):null}renderDialog(e){return u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmLoading:this.resourceFormStore.deleting,confirmText:Xs("sulu_admin.ok"),onCancel:this.handleDialogCancel,onConfirm:this.handleDialogConfirm,open:this.showDialog,title:Xs("sulu_admin.delete"+e+"_warning_title")},Xs("sulu_admin.delete"+e+"_warning_text"))}getNode(){const{delete_locale:e=!1}=this.options,t=e?"_locale":"";return u.createElement(u.Fragment,{key:"sulu_admin.delete"+t},this.renderDialog(t),this.renderDeleteReferencedResourceDialog(),this.renderDeleteDependantResourcesDialog())}getToolbarItemConfig(){const{visible_condition:e,delete_locale:t=!1}=this.options,{id:n}=this.resourceFormStore,i=!e||fh().evalSync(e,this.conditionData),r=!n||t&&fh().evalSync("contentLocales && contentLocales|length == 1",this.conditionData);if(i)return{disabled:!!r,icon:"su-trash-alt",label:Xs("sulu_admin.delete"+(t?"_locale":"")),onClick:ht((()=>{this.showDialog=!0})),type:"button"}}},gee=xee(mee.prototype,"showDialog",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bee=xee(mee.prototype,"referencingResourcesData",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),yee=xee(mee.prototype,"dependantResourcesData",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),xee(mee.prototype,"allowConflictDeletion",[ge],Object.getOwnPropertyDescriptor(mee.prototype,"allowConflictDeletion"),mee.prototype),vee=xee(mee.prototype,"handleDeleteReferencedResourcesDialogConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.delete(!0)}}}),_ee=xee(mee.prototype,"closeDeleteReferencedResourceDialog",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.referencingResourcesData=void 0}}}),wee=xee(mee.prototype,"closeDeleteDependantResourcesDialog",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.dependantResourcesData=void 0}}}),xee(mee.prototype,"deleteDependantResourcesDialogRequestOptions",[ge],Object.getOwnPropertyDescriptor(mee.prototype,"deleteDependantResourcesDialogRequestOptions"),mee.prototype),kee=xee(mee.prototype,"closeDialog",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showDialog=!1}}}),Cee=xee(mee.prototype,"delete",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e=!1)=>{const{delete_locale:t=!1}=this.options,n={deleteLocale:t};return e&&(n.force=!0),this.resourceFormStore.delete(n).then((()=>{this.closeDialog(),this.closeDeleteDependantResourcesDialog(),this.closeDeleteReferencedResourceDialog(),this.navigateBack()})).catch(ht((e=>{e.json().then(ht((t=>{if(this.closeDialog(),this.closeDeleteDependantResourcesDialog(),this.closeDeleteReferencedResourceDialog(),409===e.status&&t.code===Lg)return void(this.dependantResourcesData={dependantResourceBatches:t.dependantResourceBatches,dependantResourcesCount:t.dependantResourcesCount,detail:t.detail,title:t.title});if(409===e.status&&1106===t.code)return void(this.referencingResourcesData={resource:t.resource,referencingResources:t.referencingResources,referencingResourcesCount:t.referencingResourcesCount});const n=t.detail||t.title||Xs("sulu_admin.unexpected_delete_server_error");n&&this.form.errors.push(n)})))})))}}}),mee);class Oee extends w8{constructor(e,t,n,i,r,o){super(e,t,n,i,r,o),this.toolbarActions=[];const{toolbarActions:s}=this.options;if(!O(s))throw new Error('The passed "toolbarActions" option must be of type object or array');this.toolbarActions=s.map((e=>{if(null===e||"object"!=typeof e)throw new Error('The passed entries in the "actions" option must be objects');const{type:t,options:i}=e;if("string"!=typeof t)throw new Error('The "type" of each entry in the "actions" options must be a string');if(null===i||"object"!=typeof i)throw new Error('The "options" of each entry in the "actions" options must be a string');return new(j8.get(t))(this.resourceFormStore,this.form,n,this.locales,i,o)}))}getNode(e){return u.createElement(u.Fragment,{key:"sulu_admin.dropdown"+(e||"")},this.toolbarActions.map(((e,t)=>e.getNode(t))))}getToolbarItemConfig(){const{icon:e,label:t}=this.options;if("string"!=typeof t)throw new Error('The "label" option must be a string!');if("string"!=typeof e)throw new Error('The "icon" option must be a string!');const n=this.toolbarActions.map((e=>e.getToolbarItemConfig())).filter(Boolean);if(0===n.length)return;const i=n.map((e=>{if(e.options)throw new Error("This ToolbarAction only supports child ToolbarActions not being a dropdown");const{disabled:t,label:n,onClick:i}=e;if(!n)throw new Error('Child ToolbarActions must return a "label"');if(!i)throw new Error('Child ToolbarActions must return a "onClick" handler');return{disabled:t,label:n,onClick:i}}));return{type:"dropdown",label:t,icon:e,loading:n.some((e=>e.loading)),options:i}}}class Tee extends w8{constructor(e,t,n,i,r,o){const{publish_display_condition:s,save_display_condition:a,publish_visible_condition:l,save_visible_condition:u}=r;c().warn('The "SaveWithPublishingToolbarAction" is deprecated since 2.3 and will be removed. Use a "DropdownToolbarAction" with a "SaveToolbarAction" and "PublishToolbarAction" instead.'),s&&(c().warn('The "publish_display_condition" option is deprecated since version 2.0 and will be removed. Use the "publish_visible_condition" option instead.'),l||(r.publish_visible_condition=s)),a&&(c().warn('The "save_display_condition" option is deprecated since version 2.0 and will be removed. Use the "save_visible_condition" option instead.'),u||(r.save_visible_condition=a)),super(e,t,n,i,r,o)}getToolbarItemConfig(){const{publish_visible_condition:e,save_visible_condition:t}=this.options,{dirty:n,data:i,saving:r}=this.resourceFormStore,o=!e||fh().evalSync(e,this.conditionData),s=!t||fh().evalSync(t,this.conditionData),a=[];if(s&&a.push({label:Xs("sulu_admin.save_draft"),disabled:!n,onClick:()=>{this.form.submit({action:"draft"})}}),s&&o&&a.push({label:Xs("sulu_admin.save_publish"),disabled:!n,onClick:()=>{this.form.submit({action:"publish"})}}),o&&a.push({label:Xs("sulu_admin.publish"),disabled:n||void 0===i.publishedState||!!i.publishedState,onClick:()=>{this.form.submit({action:"publish"})}}),0!==a.length)return{type:"dropdown",label:Xs("sulu_admin.save"),icon:"su-save",loading:r,options:a}}}var Mee,Pee,Dee,Lee;function Aee(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function zee(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let Iee=(Mee=class extends w8{constructor(e,t,n,i,r,o){super(e,t,n,i,r,o),Aee(this,"showDialog",Pee,this),this.handleConfirm=()=>{if(!this.dialogForm)throw new Error("The dialog form was not initialized. This should not happen and is likely a bug.");this.dialogForm.submit()},Aee(this,"handleCancel",Dee,this),Aee(this,"handleSubmit",Lee,this),this.setDialogFormRef=e=>{this.dialogForm=e};const{formKey:s}=r;if("string"!=typeof s)throw new Error('The "formKey" option of the SaveWithFormDialogToolbarAction must be a string!');this.dialogFormStore=Vf.createFromFormKey(s)}getNode(){const{title:e}=this.options;if("string"!=typeof e)throw new Error('The "title" option of the SaveWithFormDialogToolbarAction must be a string!');return u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmText:Xs("sulu_admin.ok"),key:"sulu_admin.save_with_form_dialog",onCancel:this.handleCancel,onConfirm:this.handleConfirm,open:this.showDialog,title:e},u.createElement(Uj,{onSubmit:this.handleSubmit,ref:this.setDialogFormRef,store:this.dialogFormStore}))}getToolbarItemConfig(){return{disabled:!this.resourceFormStore.dirty,icon:"su-save",label:Xs("sulu_admin.save"),loading:this.resourceFormStore.saving,onClick:ht((()=>{fh().evalSync(this.options.condition,{...this.conditionData,__parent:this.parentResourceStore.data})?this.showDialog=!0:this.form.submit()})),type:"button"}}destroy(){this.dialogFormStore.destroy()}},Pee=zee(Mee.prototype,"showDialog",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Dee=zee(Mee.prototype,"handleCancel",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showDialog=!1}}}),Lee=zee(Mee.prototype,"handleSubmit",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.form.submit(this.dialogFormStore.data),this.showDialog=!1}}}),Mee);class Ree extends w8{getToolbarItemConfig(){const{label:e="sulu_admin.save",visible_condition:t,options:n}=this.options,{dirty:i,saving:r}=this.resourceFormStore;if("string"!=typeof e)throw new Error('The "label" option must be a string!');if(n&&"object"!=typeof n)throw new Error('The "options" option must be an object!');if(!t||fh().evalSync(t,this.conditionData))return{disabled:!i,icon:"su-save",label:Xs(e),loading:r,onClick:()=>{this.form.submit(n)},type:"button"}}}class jee extends w8{getToolbarItemConfig(){const{visible_condition:e}=this.options,{dirty:t,data:n}=this.resourceFormStore;if(!e||fh().evalSync(e,this.conditionData))return{label:Xs("sulu_admin.publish"),disabled:t||void 0===n.publishedState||!!n.publishedState,onClick:()=>{this.form.submit({action:"publish"})},type:"button"}}}var Nee,Fee,Yee,Bee,Hee;function Vee(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Wee(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let Uee=(Nee=class extends w8{constructor(e,t,n,i,r,o){const{display_condition:s,visible_condition:a}=r;s&&(c().warn('The "display_condition" option is deprecated since version 2.0 and will be removed. Use the "visible_condition" option instead.'),a||(r.visible_condition=s)),super(e,t,n,i,r,o),Vee(this,"showUnpublishDialog",Fee,this),Vee(this,"unpublishing",Yee,this),Vee(this,"handleUnpublishDialogConfirm",Bee,this),Vee(this,"handleUnpublishDialogClose",Hee,this)}getNode(){const{resourceFormStore:{id:e}}=this;return e?u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmLoading:this.unpublishing,confirmText:Xs("sulu_admin.ok"),key:"sulu_admin.set_unpublished",onCancel:this.handleUnpublishDialogClose,onConfirm:this.handleUnpublishDialogConfirm,open:this.showUnpublishDialog,title:Xs("sulu_page.unpublish_warning_title")},Xs("sulu_page.unpublish_warning_text")):null}getToolbarItemConfig(){const{visible_condition:e}=this.options,{id:t,data:n}=this.resourceFormStore,{published:i}=n;if(!e||fh().evalSync(e,this.conditionData))return{disabled:!t||!i,label:Xs("sulu_page.unpublish"),onClick:ht((()=>{this.showUnpublishDialog=!0})),type:"button"}}},Fee=Wee(Nee.prototype,"showUnpublishDialog",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yee=Wee(Nee.prototype,"unpublishing",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bee=Wee(Nee.prototype,"handleUnpublishDialogConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{id:e,locale:t,options:{webspace:n},resourceKey:i}=this.resourceFormStore;if(!e)throw new Error("The page can only be unpublished if an ID is given! This should not happen and is likely a bug.");this.unpublishing=!0,La.post(i,void 0,{action:"unpublish",locale:t,id:e,webspace:n}).then(ht((e=>{this.unpublishing=!1,this.showUnpublishDialog=!1,this.form.showSuccessSnackbar(),this.resourceFormStore.changeMultiple(e,{isServerValue:!0}),this.resourceFormStore.dirty=!1})))}}}),Hee=Wee(Nee.prototype,"handleUnpublishDialogClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showUnpublishDialog=!1}}}),Nee);var $ee,qee,Kee,Gee;function Zee(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Jee(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let Xee=(qee=Jee(($ee=class extends w8{constructor(...e){super(...e),Zee(this,"selectedTypeForUnsavedChangesDialog",qee,this),Zee(this,"handleUnsavedChangesDialogClose",Kee,this),Zee(this,"handleUnsavedChangesDialogConfirm",Gee,this)}getToolbarItemConfig(){const e=Object.keys(this.resourceFormStore.types).map((e=>this.resourceFormStore.types[e]));if(!this.resourceFormStore.typesLoading&&0===e.length)throw new Error("The ToolbarAction for types only works with entities actually supporting types!");const{disabled_condition:t,sort_by:n}=this.options;if(void 0!==n&&"string"!=typeof n)throw new Error('The "sort_by" option must be a string if given!');const i=!!t&&fh().evalSync(t,this.conditionData),r=n?e.sort(((e,t)=>String(e[n]).localeCompare(String(t[n])))):e;return{type:"select",icon:"su-brush",onChange:ht((e=>{if("string"!=typeof e)throw new Error("Only strings are valid as a form type!");this.resourceFormStore.dirty?this.selectedTypeForUnsavedChangesDialog=e:this.resourceFormStore.changeType(e)})),loading:this.resourceFormStore.typesLoading,value:this.resourceFormStore.type,disabled:i,options:r.map((e=>({value:e.key,label:e.title})))}}getNode(){return u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmText:Xs("sulu_admin.ok"),key:"sulu_admin.type",onCancel:this.handleUnsavedChangesDialogClose,onConfirm:this.handleUnsavedChangesDialogConfirm,open:!!this.selectedTypeForUnsavedChangesDialog,title:Xs("sulu_admin.change_type_dirty_warning_dialog_title")},Xs("sulu_admin.dirty_warning_dialog_text"))}}).prototype,"selectedTypeForUnsavedChangesDialog",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Kee=Jee($ee.prototype,"handleUnsavedChangesDialogClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.selectedTypeForUnsavedChangesDialog=void 0}}}),Gee=Jee($ee.prototype,"handleUnsavedChangesDialogConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.selectedTypeForUnsavedChangesDialog&&this.resourceFormStore.changeType(this.selectedTypeForUnsavedChangesDialog),this.selectedTypeForUnsavedChangesDialog=void 0}}}),$ee);var Qee,ete,tte;function nte(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function ite(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let rte=(Qee=class extends w8{constructor(...e){super(...e),nte(this,"loading",ete,this),nte(this,"handleTogglerClick",tte,this)}get property(){const{property:e}=this.options;if("string"!=typeof e)throw new Error('The "property" option must be a string value!');return e}get label(){const{label:e}=this.options;if("string"!=typeof e)throw new Error('The "label" option must be a string value!');return e}get activateAction(){const{activate:e}=this.options;if("string"!=typeof e)throw new Error('The "activate" option must be a string value!');return e}get deactivateAction(){const{deactivate:e}=this.options;if("string"!=typeof e)throw new Error('The "deactivate" option must be a string value!');return e}get isActive(){return this.resourceFormStore.data[this.property]}getToolbarItemConfig(){return this.resourceFormStore.loading||!this.resourceFormStore.data.id?null:{type:"toggler",onClick:this.handleTogglerClick,label:this.label,loading:this.loading,value:this.isActive}}},ete=ite(Qee.prototype,"loading",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ite(Qee.prototype,"property",[ge],Object.getOwnPropertyDescriptor(Qee.prototype,"property"),Qee.prototype),ite(Qee.prototype,"label",[ge],Object.getOwnPropertyDescriptor(Qee.prototype,"label"),Qee.prototype),ite(Qee.prototype,"activateAction",[ge],Object.getOwnPropertyDescriptor(Qee.prototype,"activateAction"),Qee.prototype),ite(Qee.prototype,"deactivateAction",[ge],Object.getOwnPropertyDescriptor(Qee.prototype,"deactivateAction"),Qee.prototype),ite(Qee.prototype,"isActive",[ge],Object.getOwnPropertyDescriptor(Qee.prototype,"isActive"),Qee.prototype),tte=ite(Qee.prototype,"handleTogglerClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{resourceKey:e,locale:t,data:{id:n}}=this.resourceFormStore;this.loading=!0,La.post(e,void 0,{action:this.isActive?this.deactivateAction:this.activateAction,locale:t,id:n}).then(ht((e=>{this.resourceFormStore.change(this.property,e[this.property],{isServerValue:!0}),this.loading=!1,this.form.showSuccessSnackbar()}))).catch(ht((e=>{this.form.errors.push(e),this.loading=!1})))}}}),Qee);var ote,ste,ate,lte,cte,ute,dte=$8,hte=function(e,t){const n=class extends e{componentDidMount(){super.componentDidMount&&super.componentDidMount();const{router:e}=this.props,i=ft((()=>{const e=t.call(this);e?(cN.setConfig(e),c().info((n.displayName||"")+" configured sidebar",e)):cN.clearConfig()}));this.updateRouteHookDisposer=e.addUpdateRouteHook(((t,n)=>{const{attributes:r,route:o}=e;return Li(t,n)!==Li(o,r)&&i(),!0}),1024)}componentWillUnmount(){super.componentWillUnmount&&super.componentWillUnmount(),this.updateRouteHookDisposer(),cN.clearConfig()}};return n.displayName=dN("withSidebar",e),n}(dte,(function(){const{router:{route:{options:{previewCondition:e}}}}=this.props,t={__routeAttributes:this.props.router.attributes,...Mt(this.resourceFormStore.data)},n=!e||fh().evalSync(e,t),{resourceFormStore:{resourceKey:i}}=this;return n?{view:"sulu_preview.preview",sizes:["medium","large"],props:{router:this.props.router,formStore:this.resourceFormStore,key:i}}:null})),pte=hte;function fte(){return fte=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},fte.apply(this,arguments)}function mte(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function gte(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var bte=Br(((ute=class extends u.Component{constructor(...e){super(...e),this.locale=ue.box(),mte(this,"formStore",ate,this),this.handleItemAdd=()=>{this.createFormOverlay(void 0)},this.handleItemClick=e=>{this.createFormOverlay(e)},this.handleFormOverlayConfirm=()=>{this.destroyFormStore(),this.listRef&&this.listRef.reload()},this.handleFormOverlayClose=()=>{this.destroyFormStore()},mte(this,"createFormOverlay",lte,this),mte(this,"destroyFormStore",cte,this),this.setListRef=e=>{this.listRef=e}}buildFormStoreOptions(e,t,n,i){const r=e||{};return n=Mt(n),Object.keys(n).forEach((e=>{const i=n[e],o=isNaN(e)?e:n[e];r[i]=t[o]})),i=Mt(i),Object.keys(i).forEach((e=>{const t=i[e],n=isNaN(e)?e:i[e];this.props.resourceStore&&(r[t]=this.props.resourceStore.data[n])})),r}buildFormStoreMetadataOptions(e,t,n){const i=e||{};return Object.keys(Mt(n)).forEach((e=>{const r=n[e],o=isNaN(e)?e:Mt(n[e]);i[r]=t[o]})),i}componentWillUnmount(){this.destroyFormStore()}render(){const{formStore:e,props:{router:{route:{options:{addOverlayTitle:t,editOverlayTitle:n,formKey:i,overlaySize:r}}}}}=this,o=e&&e.id?Xs(n||"sulu_admin.edit"):Xs(t||"sulu_admin.create");return u.createElement(u.Fragment,null,u.createElement(ZH,fte({},this.props,{locale:this.locale,onItemAdd:i&&this.handleItemAdd,onItemClick:i&&this.handleItemClick,ref:this.setListRef})),!!e&&u.createElement(Jj,{confirmDisabled:!e.dirty,confirmText:Xs("sulu_admin.save"),formStore:e,onClose:this.handleFormOverlayClose,onConfirm:this.handleFormOverlayConfirm,open:!!e,size:r||"small",title:o}))}}).getDerivedRouteAttributes=ZH.getDerivedRouteAttributes,ate=gte((ste=ute).prototype,"formStore",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lte=gte(ste.prototype,"createFormOverlay",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{router:{attributes:t,route:{options:{requestParameters:n={},formKey:i,resourceKey:r,routerAttributesToFormRequest:o={},resourceStorePropertiesToFormRequest:s={},routerAttributesToFormMetadata:a={},metadataRequestParameters:l={}}}}}=this.props;this.formStore&&this.formStore.destroy();const c={};this.locale.get()&&(c.locale=this.locale);const u=this.buildFormStoreOptions(n,t,o,s),d=this.buildFormStoreMetadataOptions(l,t,a),h=new Rc(r,e,c,u);this.formStore=nm.createFromResourceStore(h,i,u,d)}}}),cte=gte(ste.prototype,"destroyFormStore",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.formStore&&(this.formStore.destroy(),this.formStore=void 0)}}}),ote=ste))||ote;const yte=(e,t)=>e.eval().then((e=>e?t.eval():e)),vte=(e,t)=>e.eval().then((e=>e||t.eval()));_t({enforceActions:"observed"}),window.ResizeObserver||(window.ResizeObserver=Wn),window.log=c(),c().setDefaultLevel(c().levels.WARN),ri.handleResponseHooks.push((function(e){401===e.status&&il.setLoggedIn(!1)})),fh().addBinaryOp("AND",10,yte,!0),fh().addBinaryOp("and",10,yte,!0),fh().addBinaryOp("OR",10,vte,!0),fh().addBinaryOp("or",10,vte,!0),fh().addTransform("length",(e=>e.length)),fh().addTransform("includes",((e,t)=>e.includes(t))),fh().addTransform("values",(e=>Object.values(e)));const _te="color",wte="date",kte="datetime",Cte="email",Ete="number",xte="phone",Ste="select",Ote="single_select",Tte="smart_content",Mte="text_area",Pte="text_editor",Dte="text_line",Lte="time";function Ate(e,t){if(e)for(const n in e)gh.add(n,t,e[n])}var zte,Ite,Rte,jte,Nte;function Fte(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Yte(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Na.addUpdateConfigHook("sulu_admin",((e,t)=>{var n;t||(F4.add(_te,new p8),F4.add(wte,new c8),F4.add(kte,new c8),F4.add(Cte,new p8),F4.add(Ete,new p8),F4.add(xte,new p8),F4.add(Ste,new u8),F4.add(Ote,new d8),F4.add(Tte,new h8),F4.add(Mte,new p8,512),F4.add(Pte,new g8,512),F4.add(Dte,new p8,1024),F4.add(Lte,new y8),F4.add("url",new p8),Yg.add("column_list",zk),Yg.add("folder",BC),Yg.add("table",zC),Yg.add("table_light",zC,{skin:"light"}),Yg.add("tree_table",TC),Yg.add("tree_table_slim",TC,{showHeader:!1}),wy.add("boolean",Fv),wy.add("date",p_,{timeFormat:!1}),wy.add("datetime",p_,{timeFormat:!0}),wy.add("select",y_),wy.add("number",C_),wy.add("selection",_w),wy.add("text",Lv),Dv.add("array",new Av),Dv.add("bytes",new Wv),Dv.add("date",new $v),Dv.add("time",new kw),Dv.add("datetime",new m_),Dv.add("number",new E_),Dv.add("string",new Rv),Dv.add("thumbnails",new Iv),Dv.add("bool",new Yv),Dv.add("color",new Bv),Dv.add("icon",new Vv),Dv.add("html",new Sw),Dv.add("translation",new Cw),Dv.add("title",new Rv),aB.add("link",bB),aB.add("detail_link",yB),n=e.fieldTypeOptions,gh.add("block",_8),gh.add("changelog_line",om),gh.add("checkbox",eS),gh.add(_te,ZA),gh.add(wte,QA,{dateFormat:!0,timeFormat:!1}),gh.add(kte,QA,{dateFormat:!0,timeFormat:!0}),gh.add(Cte,nz),gh.add("heading",Zx),gh.add(Ste,Rz),gh.add(Ete,yz),gh.add("password_confirmation",Ez),gh.add(xte,Oz),gh.add("qrcode",Dz),gh.add(Tte,HR),gh.add(Ote,Lz),gh.add(Mte,UR),gh.add(Pte,GR),gh.add(Dte,iz),gh.add(Lte,QA,{dateFormat:!1,timeFormat:!0}),gh.add("url",lj),gh.add("link",Fj),Ate(n.selection,ME),Ate(n.single_selection,Hx),$R.add("ckeditor5",M4),function(e){for(const t in e){const n=e[t];Aj.add(t,g3,n.title,{displayProperties:n.displayProperties,emptyText:n.emptyText,icon:n.icon,listAdapter:n.listAdapter,overlayTitle:n.overlayTitle,resourceKey:n.resourceKey})}Aj.add("external",L3,"Link",void 0)}(e.internalLinkTypes),j8.add("sulu_admin.copy",G8),j8.add("sulu_admin.copy_locale",see),j8.add("sulu_admin.delete",See),j8.add("sulu_admin.delete_draft",fee),j8.add("sulu_admin.dropdown",Oee),j8.add("sulu_admin.save_with_publishing",Tee),j8.add("sulu_admin.save",Ree),j8.add("sulu_admin.publish",jee),j8.add("sulu_admin.save_with_form_dialog",Iee),j8.add("sulu_admin.set_unpublished",Uee),j8.add("sulu_admin.type",Xee),j8.add("sulu_admin.toggler",rte),XY.add("sulu_admin.add",vB),XY.add("sulu_admin.delete",_B),XY.add("sulu_admin.move",CB),XY.add("sulu_admin.export",NB),XY.add("sulu_admin.upload",GH),vF.add("sulu_admin.form",dte),vF.add("sulu_admin.preview_form",pte),vF.add("sulu_admin.list",ZH),vF.add("sulu_admin.form_overlay_list",bte),vF.add("sulu_admin.resource_tabs",ZY,{disableDefaultSpacing:!0}),vF.add("sulu_admin.tabs",qY,{disableDefaultSpacing:!0}),mh.add(lf),mh.add(cf),mh.add(uf),mh.add(df)),function(e){ki.clear(),Ci.clear(),ul.clear(),Da.clear(),ki.addCollection(e.routes),Ci.addResourceViews(e.resources),Qa.setLocalizations(e.localizations),ul.set(e.navigation),Da.setEndpoints(e.resources),zI.setConfig(e.smartContent),JF.enabled=e.collaborationEnabled,JF.interval=e.collaborationInterval}(e),sl.setUser(e.user),sl.setContact(e.contact),sl.setLoggedIn(!0)}));let Bte=Br((Nte=class extends u.Component{constructor(e){super(e),Fte(this,"resourceListStore",Rte,this),Fte(this,"createResourceListStore",jte,this),this.handleChange=e=>{const{onChange:t,idProperty:n}=this.props,i=this.resourceListStore.data.filter((t=>e.includes(t[n])));t(e,i)},this.createResourceListStore()}componentDidUpdate(e){const{resourceKey:t,requestParameters:n}=this.props;si()(e.requestParameters,n)&&e.resourceKey===t||this.createResourceListStore()}render(){const{allSelectedText:e,disabled:t,displayProperty:n,idProperty:i,noneSelectedText:r,onClose:o,values:s}=this.props;return this.resourceListStore.loading||!this.resourceListStore.data?u.createElement(ao,{size:30}):u.createElement(Iz,{allSelectedText:e,disabled:t,noneSelectedText:r,onChange:this.handleChange,onClose:o,values:s},this.resourceListStore.data.map(((e,t)=>u.createElement(Iz.Option,{key:t,value:e[i]},e[n]))))}},Nte.defaultProps={disabled:!1,idProperty:"id",requestParameters:{},values:[]},Rte=Yte((Ite=Nte).prototype,"resourceListStore",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jte=Yte(Ite.prototype,"createResourceListStore",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{idProperty:e,resourceKey:t,requestParameters:n}=this.props,i={limit:"",...n};this.resourceListStore=new Tc(t,i,e)}}}),zte=Ite))||zte;var Hte=Bte,Vte=new class{constructor(){this.clear()}clear(){this.rules={}}setRules(e){this.rules=e}get(e){if(!(e in this.rules))throw new Error('There is no rule with key "'+e+'" registered.\n\nRegistered keys: '+Object.keys(this.rules).sort().join(", "));return this.rules[e]}getAll(){return this.rules}},Wte=new class{constructor(){this.clear()}clear(){this.ruleTypes={}}add(e,t){if(e in this.ruleTypes)throw new Error('The key "'+e+'" has already been used for another rule type');this.ruleTypes[e]=t}get(e){if(!(e in this.ruleTypes))throw new Error('There is no rule type with key "'+e+'" registered');return this.ruleTypes[e]}has(e){return e in this.ruleTypes}};class Ute extends u.Component{constructor(...e){super(...e),this.handleRuleTypeChange=e=>{const{index:t,onChange:n,value:i}=this.props;n({...i,type:e},t)},this.handleRuleChange=e=>{const{index:t,onChange:n,value:i}=this.props;n({...i,condition:e},t)},this.handleRemove=()=>{const{index:e,onRemove:t}=this.props;t(e)}}render(){const{value:e}=this.props,t=e.type?Vte.get(e.type).type:void 0,n=t?Wte.get(t.name):void 0;return u.createElement("div",{className:"condition-container--nWuOaEQa5H"},u.createElement("div",{className:"condition--vWj4tGwWWs"},u.createElement("div",{className:"select--VUK54z6V3z"},u.createElement(zp,{onChange:this.handleRuleTypeChange,value:e.type},Object.keys(Vte.getAll()).map((e=>u.createElement(zp.Option,{key:e,value:e},Vte.get(e).name))))),u.createElement("div",{className:"type--J9KooGMYrv"},!!n&&u.createElement(n,{onChange:this.handleRuleChange,options:t&&t.options,value:e.condition}))),u.createElement(uo,{className:"icon--errnu_87Xe",icon:"su-trash-alt",onClick:this.handleRemove,skin:"icon"}))}}var $te,qte,Kte,Gte,Zte,Jte,Xte,Qte,ene,tne,nne,ine,rne,one,sne,ane=Ute;class lne extends u.Component{constructor(...e){super(...e),this.handleAddClick=()=>{const{onChange:e,value:t}=this.props;e([...t,{condition:{},type:void 0}])},this.handleChange=(e,t)=>{const{onChange:n,value:i}=this.props,r=[...i];r[t]=e,n(r)},this.handleRemove=e=>{const{onChange:t,value:n}=this.props;t(n.filter(((t,n)=>n!==e)))}}render(){const{value:e}=this.props;return u.createElement(u.Fragment,null,e.map(((t,n)=>u.createElement(ane,{index:n,key:n,onChange:this.handleChange,onRemove:this.handleRemove,value:e[n]}))),u.createElement(uo,{icon:"su-plus",onClick:this.handleAddClick,skin:"secondary"},Xs("sulu_audience_targeting.add_condition")))}}function cne(e){return 1===e?Xs("sulu_audience_targeting.each_page_visit"):2===e?Xs("sulu_audience_targeting.each_session"):3===e?Xs("sulu_audience_targeting.first_visit"):void 0}function une(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function dne(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var hne,pne,fne,mne,gne,bne,yne,vne,_ne,wne,kne,Cne,Ene=Br((qte=class extends u.Component{constructor(...e){super(...e),une(this,"title",Kte,this),une(this,"frequency",Gte,this),une(this,"conditions",Zte,this),une(this,"showTitleError",Jte,this),une(this,"showFrequencyError",Xte,this),une(this,"handleTitleChange",Qte,this),une(this,"handleTitleBlur",ene,this),une(this,"handleFrequencyChange",tne,this),une(this,"handleConditionChange",nne,this),une(this,"handleConfirm",ine,this),une(this,"validateTitle",rne,this),une(this,"validateFrequency",one,this),une(this,"validate",sne,this)}componentDidUpdate(e){if(!1===e.open&&!0===this.props.open){const{value:e}=this.props;this.showTitleError=!1,this.showFrequencyError=!1,e?(this.title=e.title,this.frequency=e.frequency,this.conditions=e.conditions):(this.title=void 0,this.frequency=void 0,this.conditions=void 0)}}render(){const{onClose:e,open:t}=this.props;return u.createElement(fd,{confirmText:Xs("sulu_admin.ok"),onClose:e,onConfirm:this.handleConfirm,open:t,size:"small",title:Xs("sulu_audience_targeting.configure_rule")},u.createElement("div",{className:"overlay--zk93cG5lCU"},u.createElement(hh,null,u.createElement(hh.Field,{error:this.showTitleError?Xs("sulu_admin.error_required"):void 0,label:Xs("sulu_admin.title"),required:!0},u.createElement(kl,{onBlur:this.handleTitleBlur,onChange:this.handleTitleChange,value:this.title})),u.createElement(hh.Field,{error:this.showFrequencyError?Xs("sulu_admin.error_required"):void 0,label:Xs("sulu_audience_targeting.assigned_at"),required:!0},u.createElement(zp,{onChange:this.handleFrequencyChange,value:this.frequency},u.createElement(zp.Option,{value:1},cne(1)),u.createElement(zp.Option,{value:2},cne(2)),u.createElement(zp.Option,{value:3},cne(3)))),u.createElement(hh.Field,{description:Xs("sulu_audience_targeting.conditions_info_text"),label:Xs("sulu_audience_targeting.conditions")},u.createElement(lne,{onChange:this.handleConditionChange,value:this.conditions||[]})))))}},Kte=dne(qte.prototype,"title",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Gte=dne(qte.prototype,"frequency",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Zte=dne(qte.prototype,"conditions",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Jte=dne(qte.prototype,"showTitleError",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xte=dne(qte.prototype,"showFrequencyError",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),dne(qte.prototype,"componentDidUpdate",[ht],Object.getOwnPropertyDescriptor(qte.prototype,"componentDidUpdate"),qte.prototype),Qte=dne(qte.prototype,"handleTitleChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.title=e}}}),ene=dne(qte.prototype,"handleTitleBlur",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.validateTitle()}}}),tne=dne(qte.prototype,"handleFrequencyChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.frequency=e,this.validateFrequency()}}}),nne=dne(qte.prototype,"handleConditionChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.conditions=e}}}),ine=dne(qte.prototype,"handleConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{if(!this.validate()||!this.title||!this.frequency)return;const{onConfirm:e}=this.props;e({conditions:this.conditions||[],frequency:this.frequency,title:this.title})}}}),rne=dne(qte.prototype,"validateTitle",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showTitleError=!this.title}}}),one=dne(qte.prototype,"validateFrequency",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showFrequencyError=!this.frequency}}}),sne=dne(qte.prototype,"validate",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>(this.validateTitle(),this.validateFrequency(),!this.showTitleError&&!this.showFrequencyError)}}),$te=qte))||$te;function xne(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Sne(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var One=Br((pne=class extends u.Component{constructor(...e){super(...e),xne(this,"showOverlay",fne,this),xne(this,"ruleIndex",mne,this),xne(this,"selectedIndices",gne,this),xne(this,"handlePlusButtonClick",bne,this),xne(this,"handleOverlayClose",yne,this),xne(this,"handleOverlayConfirm",vne,this),xne(this,"handleRemoveButtonClick",_ne,this),xne(this,"handleAllSelectionChange",wne,this),xne(this,"handleSelectionChange",kne,this),xne(this,"handleEditClick",Cne,this)}render(){const{ruleIndex:e}=this,{value:t}=this.props;return u.createElement(u.Fragment,null,u.createElement("div",{className:"buttons--BLoZRz3S30"},u.createElement(Gg,null,u.createElement(uo,{icon:"su-plus",onClick:this.handlePlusButtonClick}),u.createElement(uo,{disabled:0===this.selectedIndices.length,icon:"su-trash-alt",onClick:this.handleRemoveButtonClick}))),u.createElement(Gk,{buttons:[{icon:"su-pen",onClick:this.handleEditClick}],onAllSelectionChange:this.handleAllSelectionChange,onRowSelectionChange:this.handleSelectionChange,selectMode:"multiple"},u.createElement(Gk.Header,null,u.createElement(Gk.HeaderCell,null,Xs("sulu_admin.title")),u.createElement(Gk.HeaderCell,null,Xs("sulu_audience_targeting.assigned_at")),u.createElement(Gk.HeaderCell,null,Xs("sulu_audience_targeting.conditions"))),u.createElement(Gk.Body,null,t.map(((e,t)=>u.createElement(Gk.Row,{key:t,selected:this.selectedIndices.includes(t)},u.createElement(Gk.Cell,null,e.title),u.createElement(Gk.Cell,null,cne(e.frequency)),u.createElement(Gk.Cell,null,e.conditions.map((e=>e.type?Vte.get(e.type).name:void 0)).filter((e=>e)).join(" & "))))))),u.createElement(Ene,{onClose:this.handleOverlayClose,onConfirm:this.handleOverlayConfirm,open:this.showOverlay,value:void 0!==e?t[e]:void 0}))}},fne=Sne(pne.prototype,"showOverlay",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mne=Sne(pne.prototype,"ruleIndex",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),gne=Sne(pne.prototype,"selectedIndices",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bne=Sne(pne.prototype,"handlePlusButtonClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showOverlay=!0,this.ruleIndex=void 0}}}),yne=Sne(pne.prototype,"handleOverlayClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showOverlay=!1,this.ruleIndex=void 0}}}),vne=Sne(pne.prototype,"handleOverlayConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{onChange:t,value:n=[]}=this.props;if(void 0===this.ruleIndex)t([...n,e]);else{const i=[...n];i.splice(this.ruleIndex,1,e),t(i)}this.showOverlay=!1,this.ruleIndex=void 0}}}),_ne=Sne(pne.prototype,"handleRemoveButtonClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{onChange:e,value:t=[]}=this.props;e(t.filter(((e,t)=>!this.selectedIndices.includes(t)))),this.selectedIndices.splice(0,this.selectedIndices.length)}}}),wne=Sne(pne.prototype,"handleAllSelectionChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{if(e){const{value:e}=this.props;e.forEach(((e,t)=>{this.selectedIndices.includes(t)||this.selectedIndices.push(t)}))}else this.selectedIndices.splice(0,this.selectedIndices.length)}}}),kne=Sne(pne.prototype,"handleSelectionChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{t&&!this.selectedIndices.includes(e)&&this.selectedIndices.push(e),!t&&this.selectedIndices.includes(e)&&this.selectedIndices.splice(this.selectedIndices.findIndex((t=>t===e)),1)}}}),Cne=Sne(pne.prototype,"handleEditClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{this.ruleIndex=t,this.showOverlay=!0}}}),hne=pne))||hne;class Tne extends u.Component{constructor(...e){super(...e),this.handleChange=e=>{const{onChange:t,onFinish:n}=this.props;t(e),n()}}render(){const{value:e}=this.props;return u.createElement(One,{onChange:this.handleChange,value:e||[]})}}var Mne=Tne;class Pne extends u.Component{constructor(...e){super(...e),this.handleParameterChange=e=>{const{onChange:t,options:n}=this.props;t({...this.props.value,[n.keyName]:e})},this.handleValueChange=e=>{const{onChange:t,options:n}=this.props;t({...this.props.value,[n.valueName]:e})}}render(){const{options:e,value:t}=this.props,{keyName:n,keyPlaceholder:i,valueName:r,valuePlaceholder:o}=e;return u.createElement("div",{className:"inputs--mWyvcQ8NnV"},u.createElement(kl,{onChange:this.handleParameterChange,placeholder:i,value:t[n]}),u.createElement(kl,{onChange:this.handleValueChange,placeholder:o,value:t[r]}))}}class Dne extends u.Component{constructor(...e){super(...e),this.handleChange=e=>{const{onChange:t,options:{name:n}}=this.props;t({[n]:e})}}render(){const{options:{name:e},value:t}=this.props;return u.createElement(kl,{onChange:this.handleChange,value:t[e]})}}class Lne extends u.Component{constructor(...e){super(...e),this.handleChange=e=>{const{onChange:t,options:{name:n}}=this.props;t({[n]:e})}}render(){const{options:{name:e,options:t},value:n}=this.props;return u.createElement(zp,{onChange:this.handleChange,value:n[e]},t.map((e=>u.createElement(zp.Option,{key:e.id,value:e.id},e.name))))}}class Ane extends u.Component{constructor(...e){super(...e),this.handleChange=e=>{const{onChange:t,options:{name:n}}=this.props;t({[n]:e})}}render(){const{options:{adapter:e,displayProperties:t,emptyText:n,icon:i,name:r,overlayTitle:o,resourceKey:s},value:a}=this.props;return u.createElement(Fx,{adapter:e,displayProperties:t,emptyText:n,icon:i,listKey:s,locale:ue.box(sl.contentLocale),onChange:this.handleChange,overlayTitle:o,resourceKey:s,value:a[r]})}}Na.addUpdateConfigHook("sulu_audience_targeting",((e,t)=>{!t&&e&&(Vte.setRules(e.targetGroupRules),gh.add("target_group_rules",Mne),Wte.add("key_value",Pne),Wte.add("input",Dne),Wte.add("single_select",Lne),Wte.add("single_selection",Ane))})),Dv.add("category_keywords_multiple_usage",new class{transform(e){return u.createElement(mu,{checked:e>1,disabled:!0})}});class zne extends u.Component{render(){const{billingAddress:e,country:t,city:n,deliveryAddress:i,number:r,primaryAddress:o,state:s,street:a,title:l,type:c,zip:d}=this.props,h=[c,o?Xs("sulu_contact.primary_address"):null,e?Xs("sulu_contact.billing_address"):null,i?Xs("sulu_contact.delivery_address"):null].filter((e=>null!==e));return u.createElement("section",{className:"address-card-preview--dyjoyDUFc7"},u.createElement("div",{className:"title--wm22jeasIp"},u.createElement("strong",null,l||"")),u.createElement("div",{className:"flags--m6CtLbHffk"},h.join("")),(a||r)&&u.createElement(u.Fragment,null,a," ",r,u.createElement("br",null)),(n||d)&&u.createElement(u.Fragment,null,d," ",n,u.createElement("br",null)),s&&u.createElement(u.Fragment,null,s,u.createElement("br",null)),t)}}var Ine=zne;class Rne extends u.Component{render(){const{bankName:e,bic:t,iban:n}=this.props;return u.createElement("section",{className:"bank-card-preview--ajhdszU7kH"},u.createElement("div",{className:"bank-name--JnKABdtnCm"},u.createElement("strong",null,e||"")),n,u.createElement("br",null),t)}}var jne=Rne;class Nne extends u.Component{constructor(...e){super(...e),this.handleRemove=()=>{const{index:e,onRemove:t}=this.props;t(e)},this.handleTypeChange=e=>{const{index:t,onTypeChange:n}=this.props;n(t,e)}}render(){const{children:e,label:t,type:n,types:i}=this.props;return u.createElement(hh.Field,{colSpan:6,label:t,onTypeChange:this.handleTypeChange,type:n,types:i},u.createElement("div",{className:"field--Ov9BeW9jXG"},e,u.createElement(ro,{className:"remove-icon--ae2WTM1_pW",name:"su-trash-alt",onClick:this.handleRemove})))}}class Fne extends u.Component{constructor(...e){super(...e),this.handleEmailChange=e=>{const{index:t,onEmailChange:n}=this.props;n(t,e)}}render(){const{email:e,index:t,onBlur:n,onRemove:i,onTypeChange:r,type:o}=this.props;return u.createElement(Nne,{index:t,label:Xs("sulu_contact.email"),onRemove:i,onTypeChange:r,type:o,types:Fne.types},u.createElement(tz,{onBlur:n,onChange:this.handleEmailChange,value:e}))}}class Yne extends u.Component{constructor(...e){super(...e),this.handleFaxChange=e=>{const{index:t,onFaxChange:n}=this.props;n(t,e)}}render(){const{fax:e,index:t,onBlur:n,onRemove:i,onTypeChange:r,type:o}=this.props;return u.createElement(Nne,{index:t,label:Xs("sulu_contact.fax"),onRemove:i,onTypeChange:r,type:o,types:Yne.types},u.createElement(Sz,{onBlur:n,onChange:this.handleFaxChange,value:e}))}}class Bne extends u.Component{constructor(...e){super(...e),this.handlePhoneChange=e=>{const{index:t,onPhoneChange:n}=this.props;n(t,e)}}render(){const{index:e,onBlur:t,onRemove:n,onTypeChange:i,phone:r,type:o}=this.props;return u.createElement(Nne,{index:e,label:Xs("sulu_contact.phone"),onRemove:n,onTypeChange:i,type:o,types:Bne.types},u.createElement(Sz,{onBlur:t,onChange:this.handlePhoneChange,value:r}))}}class Hne extends u.Component{constructor(...e){super(...e),this.handleInputChange=e=>{const{index:t,onUsernameChange:n}=this.props;n(t,e)}}render(){const{index:e,onBlur:t,onRemove:n,onTypeChange:i,type:r,username:o}=this.props;return u.createElement(Nne,{index:e,label:Xs("sulu_contact.social_media"),onRemove:n,onTypeChange:i,type:r,types:Hne.types},u.createElement(kl,{icon:"su-user",onBlur:t,onChange:this.handleInputChange,value:o}))}}class Vne extends u.Component{constructor(...e){super(...e),this.handleUrlChange=e=>{const{index:t,onWebsiteChange:n}=this.props;n(t,e)}}render(){const{index:e,onBlur:t,onRemove:n,onTypeChange:i,type:r,website:o}=this.props;return u.createElement(Nne,{index:e,label:Xs("sulu_contact.website"),onRemove:n,onTypeChange:i,type:r,types:Vne.types},u.createElement(aj,{onBlur:t,onChange:this.handleUrlChange,value:o}))}}class Wne extends u.PureComponent{constructor(...e){super(...e),this.handleBlur=()=>{const{onBlur:e}=this.props;e&&e()},this.handleChange=e=>{const{onChange:t}=this.props;t(e)}}render(){const{id:e,valid:t,disabled:n,name:i,placeholder:r,value:o}=this.props;return u.createElement(kl,{disabled:n,icon:"su-earth",id:e,name:i,onBlur:this.handleBlur,onChange:this.handleChange,placeholder:r,type:"text",valid:t,value:o})}}Wne.defaultProps={disabled:!1,valid:!0};var Une,$ne,qne,Kne,Gne=Wne;class Zne extends u.Component{render(){const{dataPath:e,disabled:t,error:n,onChange:i,onFinish:r,value:o}=this.props;return u.createElement(Gne,{disabled:!!t,id:e,onBlur:r,onChange:i,valid:!n,value:o})}}function Jne(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Xne(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let Qne=(Kne=class e{constructor(){Jne(this,"items",$ne,this),Jne(this,"loading",qne,this)}get contactItems(){return this.items.filter((t=>t.id.startsWith(e.contactPrefix))).map((t=>({...t,id:parseInt(t.id.substring(e.contactPrefix.length))})))}get accountItems(){return this.items.filter((t=>t.id.startsWith(e.accountPrefix))).map((t=>({...t,id:parseInt(t.id.substring(e.contactPrefix.length))})))}loadItems(t){this.setLoading(!0);const n=[],i=[];t.forEach((t=>{t.startsWith(e.contactPrefix)&&i.push(t.substring(e.contactPrefix.length)),t.startsWith(e.accountPrefix)&&n.push(t.substring(e.accountPrefix.length))}));const r=i.length>0?La.getList("contacts",{ids:i.join(","),limit:void 0,page:1}):Promise.resolve({_embedded:{contacts:[]}}),o=n.length>0?La.getList("accounts",{ids:n.join(","),limit:void 0,page:1}):Promise.resolve({_embedded:{accounts:[]}});Promise.all([r,o]).then(ht((([n,i])=>{const r=n._embedded.contacts,o=i._embedded.accounts;this.items=t.reduce(((t,n)=>{if(n.startsWith(e.contactPrefix)){const i=r.find((t=>t.id==n.substring(e.contactPrefix.length)));i&&t.push({...i,id:e.contactPrefix+i.id})}if(n.startsWith(e.accountPrefix)){const i=o.find((t=>t.id==n.substring(e.accountPrefix.length)));i&&t.push({...i,id:e.accountPrefix+i.id})}return t}),[]),this.setLoading(!1)})))}remove(e){this.items=this.items.filter((t=>t.id!==e))}move(e,t){this.items=ho(this.items,e,t)}setLoading(e){this.loading=e}},Kne.contactPrefix="c",Kne.accountPrefix="a",$ne=Xne((Une=Kne).prototype,"items",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qne=Xne(Une.prototype,"loading",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xne(Une.prototype,"contactItems",[ge],Object.getOwnPropertyDescriptor(Une.prototype,"contactItems"),Une.prototype),Xne(Une.prototype,"accountItems",[ge],Object.getOwnPropertyDescriptor(Une.prototype,"accountItems"),Une.prototype),Xne(Une.prototype,"remove",[ht],Object.getOwnPropertyDescriptor(Une.prototype,"remove"),Une.prototype),Xne(Une.prototype,"move",[ht],Object.getOwnPropertyDescriptor(Une.prototype,"move"),Une.prototype),Xne(Une.prototype,"setLoading",[ht],Object.getOwnPropertyDescriptor(Une.prototype,"setLoading"),Une.prototype),Une);var eie,tie,nie,iie,rie,oie,sie,aie;function lie(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function cie(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let uie=Br((aie=class extends u.Component{constructor(e){super(e),lie(this,"openedOverlayType",nie,this),lie(this,"handleAddButtonClick",iie,this),lie(this,"handleOverlayClose",rie,this),lie(this,"handleContactConfirm",oie,this),lie(this,"handleAccountConfirm",sie,this),this.handleRemove=e=>{this.store.remove(e),this.callChange()},this.handleSorted=(e,t)=>{this.store.move(e,t),this.callChange()},this.handleItemClick=(e,t)=>{const{onItemClick:n}=this.props;n&&n(e,t)};const{value:t}=this.props;this.store=new Qne,this.store.loadItems(t)}componentDidUpdate(e){const{value:t}=this.props,n=Mt(e.value),i=Mt(t);si()(n,i)||this.store.loading||this.store.loadItems(t)}get loadedIds(){return Mt(this.store.items.map((e=>e.id)))}handleConfirm(e,t){const{onChange:n,value:i}=this.props,r=e.map((e=>t+e.id));n([...i.filter((e=>!e.startsWith(t)||r.includes(e))),...r.filter((e=>!i.includes(e)))]),this.openedOverlayType=void 0}callChange(){const{onChange:e}=this.props;e(this.loadedIds)}render(){const{disabled:e,value:t}=this.props;return u.createElement(u.Fragment,null,u.createElement(yE,{disabled:e||!1,label:Xs("sulu_contact.contact_account_selection_label",{count:t?t.length:0}),leftButton:{icon:"su-plus-circle",onClick:this.handleAddButtonClick,options:[{label:Xs("sulu_contact.people"),value:"contacts"},{label:Xs("sulu_contact.organizations"),value:"accounts"}]},loading:this.store.loading,onItemClick:this.handleItemClick,onItemsSorted:this.handleSorted},this.store.items.map(((e,t)=>u.createElement(yE.Item,{id:e.id,index:t+1,key:e.id,onRemove:this.handleRemove,value:e},u.createElement("div",{className:"item--LYO4lFbsVx"},e.fullName||e.name))))),u.createElement(vE,{adapter:"table",listKey:"contacts",onClose:this.handleOverlayClose,onConfirm:this.handleContactConfirm,open:"contacts"===this.openedOverlayType,preloadSelectedItems:!1,preSelectedItems:this.store.contactItems,resourceKey:"contacts",title:Xs("sulu_contact.contact_selection_overlay_title")}),u.createElement(vE,{adapter:"table",listKey:"accounts",onClose:this.handleOverlayClose,onConfirm:this.handleAccountConfirm,open:"accounts"===this.openedOverlayType,preloadSelectedItems:!1,preSelectedItems:this.store.accountItems,resourceKey:"accounts",title:Xs("sulu_contact.account_selection_overlay_title")}))}},aie.defaultProps={disabled:!1,value:[]},nie=cie((tie=aie).prototype,"openedOverlayType",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),cie(tie.prototype,"loadedIds",[ge],Object.getOwnPropertyDescriptor(tie.prototype,"loadedIds"),tie.prototype),iie=cie(tie.prototype,"handleAddButtonClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.openedOverlayType=e}}}),rie=cie(tie.prototype,"handleOverlayClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.openedOverlayType=void 0}}}),cie(tie.prototype,"handleConfirm",[ht],Object.getOwnPropertyDescriptor(tie.prototype,"handleConfirm"),tie.prototype),oie=cie(tie.prototype,"handleContactConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.handleConfirm(e,Qne.contactPrefix)}}}),sie=cie(tie.prototype,"handleAccountConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.handleConfirm(e,Qne.accountPrefix)}}}),eie=tie))||eie;var die=uie;class hie extends u.Component{constructor(...e){super(...e),this.handleChange=e=>{const{onChange:t,onFinish:n}=this.props;t(e),n()},this.handleItemClick=e=>{const{router:t}=this.props;t&&e&&t.navigate(e.startsWith("c")?"sulu_contact.contact_edit_form":"sulu_contact.account_edit_form",{id:e.substr(1)})}}render(){const{disabled:e,value:t}=this.props;return u.createElement(die,{disabled:null===e?void 0:e,onChange:this.handleChange,onItemClick:this.handleItemClick,value:null===t?void 0:t})}}var pie,fie,mie,gie=hie;function bie(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let yie=Br((mie=class extends u.Component{constructor(...e){super(...e),this.addEntry=e=>{const{onBlur:t,onChange:n,value:i}=this.props;n({...i,[e]:i[e].concat(this.getEmptyEntry(e))}),t()},this.handleEmailAddClick=()=>{this.addEntry("emails")},this.handlePhoneAddClick=()=>{this.addEntry("phones")},this.handleWebsiteAddClick=()=>{this.addEntry("websites")},this.handleFaxAddClick=()=>{this.addEntry("faxes")},this.handleSocialMediaAddClick=()=>{this.addEntry("socialMedia")},this.updateValue=(e,t,n,i)=>{const{onChange:r,value:o}=this.props,s=Mt(o),a=s[e];void 0===a[t]&&(a[t]=this.getEmptyEntry(e)),a[t][n]=i,r(s)},this.handleEmailChange=(e,t)=>{this.updateValue("emails",e,"email",t)},this.handlePhoneChange=(e,t)=>{this.updateValue("phones",e,"phone",t)},this.handleWebsiteChange=(e,t)=>{this.updateValue("websites",e,"website",t)},this.handleFaxChange=(e,t)=>{this.updateValue("faxes",e,"fax",t)},this.handleUsernameChange=(e,t)=>{this.updateValue("socialMedia",e,"username",t)},this.removeEntry=(e,t)=>{const{onBlur:n,onChange:i,value:r}=this.props;i({...r,[e]:r[e].filter(((e,n)=>n!==t))}),n()},this.handleEmailRemove=e=>{this.removeEntry("emails",e)},this.handlePhoneRemove=e=>{this.removeEntry("phones",e)},this.handleWebsiteRemove=e=>{this.removeEntry("websites",e)},this.handleFaxRemove=e=>{this.removeEntry("faxes",e)},this.handleSocialMediaRemove=e=>{this.removeEntry("socialMedia",e)},this.handleEmailTypeChange=(e,t)=>{this.updateValue("emails",e,"emailType",t),this.props.onBlur()},this.handlePhoneTypeChange=(e,t)=>{this.updateValue("phones",e,"phoneType",t),this.props.onBlur()},this.handleWebsiteTypeChange=(e,t)=>{this.updateValue("websites",e,"websiteType",t),this.props.onBlur()},this.handleFaxTypeChange=(e,t)=>{this.updateValue("faxes",e,"faxType",t),this.props.onBlur()},this.handleSocialMediaTypeChange=(e,t)=>{this.updateValue("socialMedia",e,"socialMediaType",t),this.props.onBlur()}}getEmptyEntry(e){switch(e){case"emails":return{email:void 0,emailType:Fne.types[0].value};case"phones":return{phone:void 0,phoneType:Bne.types[0].value};case"websites":return{website:void 0,websiteType:Vne.types[0].value};case"faxes":return{fax:void 0,faxType:Yne.types[0].value};case"socialMedia":return{socialMediaType:Hne.types[0].value,username:void 0}}}get emails(){const{value:{emails:e}}=this.props;return 0===e.length?[this.getEmptyEntry("emails")]:e}get phones(){const{value:{phones:e}}=this.props;return 0===e.length?[this.getEmptyEntry("phones")]:e}render(){const{onBlur:e,value:t}=this.props,{faxes:n,socialMedia:i,websites:r}=t;return u.createElement(hh,null,this.emails.map(((t,n)=>u.createElement(Fne,{email:t.email,index:n,key:n,onBlur:e,onEmailChange:this.handleEmailChange,onRemove:this.handleEmailRemove,onTypeChange:this.handleEmailTypeChange,type:t.emailType}))),this.phones.map(((t,n)=>u.createElement(Bne,{index:n,key:n,onBlur:e,onPhoneChange:this.handlePhoneChange,onRemove:this.handlePhoneRemove,onTypeChange:this.handlePhoneTypeChange,phone:t.phone,type:t.phoneType}))),n.map(((t,n)=>u.createElement(Yne,{fax:t.fax,index:n,key:n,onBlur:e,onFaxChange:this.handleFaxChange,onRemove:this.handleFaxRemove,onTypeChange:this.handleFaxTypeChange,type:t.faxType}))),r.map(((t,n)=>u.createElement(Vne,{index:n,key:n,onBlur:e,onRemove:this.handleWebsiteRemove,onTypeChange:this.handleWebsiteTypeChange,onWebsiteChange:this.handleWebsiteChange,type:t.websiteType,website:t.website}))),i.map(((t,n)=>u.createElement(Hne,{index:n,key:n,onBlur:e,onRemove:this.handleSocialMediaRemove,onTypeChange:this.handleSocialMediaTypeChange,onUsernameChange:this.handleUsernameChange,type:t.socialMediaType,username:t.username}))),u.createElement(hh.Field,{colSpan:6,label:Xs("sulu_contact.contact_details")},u.createElement(Vg,{icon:"su-plus",label:Xs("sulu_admin.add")},u.createElement(Vg.Item,{onClick:this.handleEmailAddClick},Xs("sulu_contact.email")),u.createElement(Vg.Item,{onClick:this.handlePhoneAddClick},Xs("sulu_contact.phone")),u.createElement(Vg.Item,{onClick:this.handleFaxAddClick},Xs("sulu_contact.fax")),u.createElement(Vg.Item,{onClick:this.handleWebsiteAddClick},Xs("sulu_contact.website")),u.createElement(Vg.Item,{onClick:this.handleSocialMediaAddClick},Xs("sulu_contact.social_media")))))}},mie.defaultProps={value:{emails:[],faxes:[],phones:[],socialMedia:[],websites:[]}},bie((fie=mie).prototype,"emails",[ge],Object.getOwnPropertyDescriptor(fie.prototype,"emails"),fie.prototype),bie(fie.prototype,"phones",[ge],Object.getOwnPropertyDescriptor(fie.prototype,"phones"),fie.prototype),pie=fie))||pie;var vie=yie;class _ie extends u.Component{render(){const{onChange:e,onFinish:t,value:n}=this.props;return u.createElement(vie,{onBlur:t,onChange:e,value:null!==n?n:void 0})}}class wie extends u.PureComponent{constructor(...e){super(...e),this.handleBlur=()=>{const{onBlur:e}=this.props;e&&e()},this.handleChange=e=>{const{onChange:t}=this.props;t(e)}}render(){const{id:e,valid:t,disabled:n,name:i,placeholder:r,value:o}=this.props;return u.createElement(kl,{disabled:n,icon:"su-credit-card",id:e,name:i,onBlur:this.handleBlur,onChange:this.handleChange,placeholder:r,type:"text",valid:t,value:o})}}wie.defaultProps={disabled:!1,valid:!0};var kie=wie;class Cie extends u.Component{render(){const{dataPath:e,disabled:t,error:n,onChange:i,onFinish:r,value:o}=this.props;return u.createElement(kie,{disabled:!!t,id:e,onBlur:r,onChange:i,valid:!n,value:o})}}var Eie,xie,Sie,Oie;function Tie(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Mie(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Pie,Die,Lie,Aie,zie,Iie,Rie,jie,Nie=(Oie=class e extends fy{constructor(...e){super(...e),Tie(this,"searchValue",xie,this),Tie(this,"handleSearchChange",Sie,this)}getFormNode(){const{countries:t}=e,{onChange:n,searchValue:i,value:r}=this;return u.createElement(u.Fragment,null,u.createElement(kl,{icon:"su-search",onChange:this.handleSearchChange,value:this.searchValue}),u.createElement(ou,{className:"checkbox-group--FmkMqhPxS7",onChange:n,values:r||[]},Object.keys(t).filter((e=>!i||t[e].toLowerCase().startsWith(i.toLowerCase()))).map((e=>u.createElement(mu,{key:e,value:e},t[e])))))}getValueNode(t){const{countries:n}=e;return Promise.resolve(t?t.map((e=>n[e])).join(", "):null)}},Oie.countries={},xie=Mie((Eie=Oie).prototype,"searchValue",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sie=Mie(Eie.prototype,"handleSearchChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.searchValue=e}}}),Eie);function Fie(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Yie(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let Bie=(Pie=class extends JY{constructor(e,t,n,i,r,o){super(e,t,n,i,r,o),Fie(this,"showOverlay",Die,this),Fie(this,"saving",Lie,this),Fie(this,"position",Aie,this),Fie(this,"handlePositionChange",zie,this),Fie(this,"handleConfirm",Iie,this),Fie(this,"handleClose",Rie,this),Fie(this,"resetFields",jie,this),this.contactSelectionStore=new Zc("contacts")}getNode(){return u.createElement(fd,{confirmDisabled:!this.contactSelectionStore.item,confirmLoading:this.saving,confirmText:Xs("sulu_admin.add"),key:"sulu_contact.add_media",onClose:this.handleClose,onConfirm:this.handleConfirm,open:this.showOverlay,size:"small",title:Xs("sulu_contact.add_contact_to_organization")},u.createElement("div",{className:"overlay--EaH1xpz3uP"},u.createElement(hh,null,u.createElement(hh.Field,{label:Xs("sulu_contact.people")},u.createElement(_x,{displayProperty:"fullName",options:{excludedAccountId:this.listStore.options.accountId,flat:!1},searchProperties:["fullName"],selectionStore:this.contactSelectionStore})),u.createElement(hh.Field,{label:Xs("sulu_contact.position")},u.createElement(lx,{displayProperty:"position",editable:!0,idProperty:"id",onChange:this.handlePositionChange,resourceKey:"contact_positions",value:this.position})))))}getToolbarItemConfig(){return{icon:"su-plus-circle",label:Xs("sulu_admin.add"),onClick:ht((()=>{this.showOverlay=!0})),type:"button"}}},Die=Yie(Pie.prototype,"showOverlay",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Lie=Yie(Pie.prototype,"saving",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Aie=Yie(Pie.prototype,"position",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),zie=Yie(Pie.prototype,"handlePositionChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.position=e}}}),Iie=Yie(Pie.prototype,"handleConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{if(!this.contactSelectionStore.item)throw new Error("The contact must be selected in order to confirm the dialog!");this.saving=!0,La.put("account_contacts",{position:this.position},{accountId:this.listStore.options.accountId,id:this.contactSelectionStore.item.id}).then(ht((()=>{this.saving=!1,this.showOverlay=!1,this.resetFields(),this.listStore.reload()})))}}}),Rie=Yie(Pie.prototype,"handleClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showOverlay=!1,this.resetFields()}}}),jie=Yie(Pie.prototype,"resetFields",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.contactSelectionStore.loadItem(void 0),this.position=void 0}}}),Pie);var Hie,Vie=Bie;function Wie(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Uie,$ie,qie,Kie,Gie,Zie,Jie,Xie=(Wie((Hie=class{constructor(e,t){this.collectionId=e,this.locale=t,this.resourceStore=new Rc("collections",e,{locale:t},{depth:1,breadcrumb:!0,parent:!0})}destroy(){this.resourceStore.destroy()}get loading(){return!!this.resourceStore&&this.resourceStore.loading}get id(){return this.resourceStore.id}get locked(){return!this.loading&&this.resourceStore.data.locked}get permissions(){return this.resourceStore.loading||!this.resourceStore.id?{}:this.resourceStore.data._permissions||{}}get parentId(){const{data:e}=this.resourceStore;if(!e._embedded)return null;const{_embedded:{parent:t}}=e;return t?t.id:null}}).prototype,"loading",[ge],Object.getOwnPropertyDescriptor(Hie.prototype,"loading"),Hie.prototype),Wie(Hie.prototype,"id",[ge],Object.getOwnPropertyDescriptor(Hie.prototype,"id"),Hie.prototype),Wie(Hie.prototype,"locked",[ge],Object.getOwnPropertyDescriptor(Hie.prototype,"locked"),Hie.prototype),Wie(Hie.prototype,"permissions",[ge],Object.getOwnPropertyDescriptor(Hie.prototype,"permissions"),Hie.prototype),Wie(Hie.prototype,"parentId",[ge],Object.getOwnPropertyDescriptor(Hie.prototype,"parentId"),Hie.prototype),Hie);function Qie(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function ere(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const tre="media",nre="media_preview",ire="fileVersion";var rre,ore,sre,are=($ie=ere((Uie=class{constructor(e,t){Qie(this,"uploading",$ie,this),Qie(this,"progress",qie,this),Qie(this,"media",Kie,this),Qie(this,"error",Gie,this),Qie(this,"handleResponse",Zie,this),Qie(this,"handleError",Jie,this),this.media=e,this.locale=t}get id(){const{media:e}=this;if(e)return e.id}get downloadUrl(){const{media:e}=this;if(e)return e.adminUrl?e.adminUrl:e.url}getThumbnail(e){const{media:t}=this;if(!t)return;const{thumbnails:n}=t;return n&&n[e]?n[e]:void 0}get mimeType(){const{media:e}=this;if(e)return e.mimeType}setUploading(e){this.uploading=e}setProgress(e){this.progress=Math.ceil(e)}delete(){if(!this.id)throw new Error('The "id" property must be available for deleting a media');return La.delete(tre,{id:this.id}).then(ht((()=>{this.media=void 0,this.error=void 0}))).catch(this.handleError)}update(e){const t=this.media?this.media.id:void 0;if(!t)throw new Error('The "id" property must be available for updating a media');const n=Da.getUrl("detail",tre,{action:"new-version",id:t,locale:this.locale.get()});return this.setUploading(!0),this.upload(e,n,ire).then(this.handleResponse).catch(this.handleError)}create(e,t){const n=Da.getUrl("detail",tre,{collection:e,locale:this.locale.get()});return this.setUploading(!0),this.upload(t,n,ire).then(this.handleResponse).catch(this.handleError)}updatePreviewImage(e){const t=this.media?this.media.id:void 0;if(!t)throw new Error('The "id" property must be available for updating a media');const n=Da.getUrl("detail",nre,{id:t,locale:this.locale.get()});return this.setUploading(!0),this.upload(e,n,"previewImage").then(this.handleResponse).catch(this.handleError)}deletePreviewImage(){if(!this.id)throw new Error('The "id" property must be available for deleting a preview media');return La.delete(nre,{id:this.id}).then(ht((e=>{Object.assign(this.media,e),this.error=void 0}))).catch(this.handleError)}upload(e,t,n){return new Promise(((i,r)=>{const o=new XMLHttpRequest,s=new FormData;o.open("POST",t),o.onload=e=>{if(e.target.status>=200&&e.target.status<=299)i(JSON.parse(e.target.response));else try{r(JSON.parse(e.target.response))}catch(t){r(e.target)}},o.onerror=e=>r(e.target),o.upload&&(o.upload.onprogress=e=>this.setProgress(e.loaded/e.total*100)),s.append(n,e),o.send(s)}))}}).prototype,"uploading",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qie=ere(Uie.prototype,"progress",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kie=ere(Uie.prototype,"media",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gie=ere(Uie.prototype,"error",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ere(Uie.prototype,"id",[ge],Object.getOwnPropertyDescriptor(Uie.prototype,"id"),Uie.prototype),ere(Uie.prototype,"downloadUrl",[ge],Object.getOwnPropertyDescriptor(Uie.prototype,"downloadUrl"),Uie.prototype),ere(Uie.prototype,"mimeType",[ge],Object.getOwnPropertyDescriptor(Uie.prototype,"mimeType"),Uie.prototype),ere(Uie.prototype,"setUploading",[ht],Object.getOwnPropertyDescriptor(Uie.prototype,"setUploading"),Uie.prototype),ere(Uie.prototype,"setProgress",[ht],Object.getOwnPropertyDescriptor(Uie.prototype,"setProgress"),Uie.prototype),ere(Uie.prototype,"delete",[ht],Object.getOwnPropertyDescriptor(Uie.prototype,"delete"),Uie.prototype),Zie=ere(Uie.prototype,"handleResponse",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>(this.setUploading(!1),this.setProgress(0),this.media=Object.assign(this.media||{},e),this.error=void 0,e)}}),Jie=ere(Uie.prototype,"handleError",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{throw this.setUploading(!1),this.setProgress(0),this.error=e,e}}}),Uie),lre=Br(rre=class extends u.Component{render(){const{store:e}=this.props;return u.createElement("div",{className:"media-item--rpRQ5s_w_m"},e.uploading&&u.createElement("div",{className:"progressbar-container--E0nldx4cQR"},u.createElement(U6,{hidePercentageText:!0,percentage:e.progress,size:50})),u.createElement("img",{src:e.getThumbnail("sulu-100x100")}))}})||rre;const cre="esc";var ure,dre,hre,pre,fre,mre,gre,bre,yre=Br(((sre=class extends u.Component{constructor(e){super(e),this.handleClose=()=>{this.props.onClose()},this.handleClick=e=>{e.stopPropagation(),this.props.onClick()};const{onClose:t,open:n}=this.props;n&&Du().bind(cre,t)}componentWillUnmount(){this.props.open&&Du().unbind(cre)}componentDidUpdate(e){const{onClose:t,open:n}=this.props;e.open!==n&&(this.props.open?Du().bind(cre,t):Du().unbind(cre))}render(){const{onDragLeave:e,open:t,children:n}=this.props;return t?u.createElement(Bu,null,u.createElement("div",{className:"dropzone-overlay--t9PJvGtlZ9",onClick:this.handleClose,onDragLeave:e,role:"button"},u.createElement("div",{className:"drop-area--UG539odfl2",onClick:this.handleClick,role:"button",tabIndex:"0"},u.createElement("div",{className:"upload-info-container--ovGIn_2qfE"},n&&u.createElement("div",{className:"upload-info--wi4b6aHvDE"},u.createElement(ro,{className:"upload-icon--d6iQDudi4W",name:"su-upload"}),u.createElement("div",{className:"upload-info-headline--m51tWQSxkG"},Xs("sulu_media.drop_files_to_upload")),u.createElement("div",{className:"upload-info-subline--CsZEypBNXs"},Xs("sulu_media.click_here_to_upload")))),u.createElement("ul",{className:"media-items--XvTEl5bAiV"},n&&u.Children.map(n,((e,t)=>u.createElement("li",{key:t},e))))),u.createElement(ro,{className:"close-icon--C98MSsCzq9",name:"su-times",onClick:this.handleClose}))):null}}).defaultProps={open:!1},ore=sre))||ore;function vre(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function _re(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const wre="collections";var kre,Cre,Ere,xre,Sre=Br(((bre=class extends u.Component{constructor(...e){super(...e),vre(this,"filesScheduledForUpload",hre,this),vre(this,"mediaUploadStores",pre,this),this.setDropzoneRef=e=>{this.dropzoneRef=e},this.uploadFiles=(e,t)=>{const{locale:n,onClose:i,onUpload:r,onUploadError:o}=this.props,s=[];return e.forEach((e=>{const i=new are(void 0,n),r=i.create(t,e);s.push(r),this.addMediaUploadStore(i)})),Promise.allSettled(s).then((e=>{const t=[],n=[];e.forEach((e=>{"fulfilled"===e.status?t.push(e.value):n.push(e.reason)})),0===n.length?r(t):o(n),setTimeout((()=>{i(),this.destroyMediaUploadStores()}),1e3)}))},this.handleDragEnter=()=>{this.props.onOpen()},this.handleDragLeave=()=>{this.props.onClose()},this.handleDropzoneOverlayClose=()=>{this.props.onClose()},vre(this,"handleDrop",fre,this),this.handleDropzoneOverlayClick=()=>{this.dropzoneRef.open()},vre(this,"handleSelectCollectionOverlayClose",mre,this),vre(this,"handleSelectCollectionOverlayConfirm",gre,this)}addMediaUploadStore(e){this.mediaUploadStores.push(e)}destroyMediaUploadStores(){this.mediaUploadStores=[]}createMediaItems(){return this.mediaUploadStores.map(((e,t)=>u.createElement(lre,{key:t,store:e})))}render(){const{accept:e,children:t,className:n,disabled:i,locale:r,open:o}=this.props,s=eo()("dropzone--w4aRzVExty",n);return u.createElement(u.Fragment,null,u.createElement(HH,{accept:e?{[e]:[]}:void 0,disabled:i,noClick:!0,onDragEnter:this.handleDragEnter,onDrop:this.handleDrop,ref:this.setDropzoneRef,style:{}},(({getInputProps:e,getRootProps:n})=>u.createElement(Hr,null,(()=>u.createElement("div",n({className:s}),t,u.createElement("input",e()),u.createElement(yre,{onClick:this.handleDropzoneOverlayClick,onClose:this.handleDropzoneOverlayClose,onDragLeave:this.handleDragLeave,open:o},this.createMediaItems())))))),u.createElement(hg,{adapter:"column_list",clearSelectionOnClose:!0,itemDisabledCondition:"!!locked || (_permissions && !_permissions.add)",listKey:wre,locale:r,onClose:this.handleSelectCollectionOverlayClose,onConfirm:this.handleSelectCollectionOverlayConfirm,open:this.filesScheduledForUpload.length>0,resourceKey:wre,title:Xs("sulu_media.select_collection_for_upload")}))}}).defaultProps={accept:void 0,disabled:!1},hre=_re((dre=bre).prototype,"filesScheduledForUpload",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pre=_re(dre.prototype,"mediaUploadStores",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_re(dre.prototype,"addMediaUploadStore",[ht],Object.getOwnPropertyDescriptor(dre.prototype,"addMediaUploadStore"),dre.prototype),_re(dre.prototype,"destroyMediaUploadStores",[ht],Object.getOwnPropertyDescriptor(dre.prototype,"destroyMediaUploadStores"),dre.prototype),fre=_re(dre.prototype,"handleDrop",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{collectionId:t}=this.props;t?this.uploadFiles(e,t):this.filesScheduledForUpload=e}}}),mre=_re(dre.prototype,"handleSelectCollectionOverlayClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.filesScheduledForUpload=[],this.props.onClose()}}}),gre=_re(dre.prototype,"handleSelectCollectionOverlayConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.uploadFiles(this.filesScheduledForUpload,e.id),this.filesScheduledForUpload=[]}}}),ure=dre))||ure;function Ore(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Tre(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const Mre="collection_details";var Pre,Dre,Lre=Br((Cre=class extends u.Component{constructor(e){super(e),Ore(this,"title",Ere,this),Ore(this,"formStore",xre,this),this.setFormRef=e=>{this.formRef=e},this.handleConfirm=()=>{this.formRef&&this.formRef.submit()},this.handleClose=()=>{this.props.onClose()},this.handleSubmit=()=>{const{onConfirm:e,resourceStore:t}=this.props;e(t)};const{resourceStore:t}=this.props;this.formStore=nm.createFromResourceStore(t,Mre)}componentDidUpdate(e){const{operationType:t}=this.props;t&&(this.title=Xs("create"===t?"sulu_media.add_collection":"sulu_media.edit_collection")),this.props.resourceStore!==e.resourceStore&&(this.formStore.destroy(),this.formStore=nm.createFromResourceStore(this.props.resourceStore,Mre))}componentWillUnmount(){this.formStore.destroy()}render(){const{operationType:e,overlayType:t,resourceStore:n}=this.props,i="create"===e||"update"===e,r=Xs("sulu_admin.ok"),o=Xs("sulu_admin.cancel"),s=u.createElement(Uj,{onSubmit:this.handleSubmit,ref:this.setFormRef,store:this.formStore});return"dialog"===t?u.createElement(Xh,{cancelText:o,confirmLoading:n.saving,confirmText:r,onCancel:this.handleClose,onConfirm:this.handleConfirm,open:i,title:this.title},s):u.createElement(fd,{confirmLoading:n.saving,confirmText:r,onClose:this.handleClose,onConfirm:this.handleConfirm,open:i,title:this.title},u.createElement("div",{className:"overlay--kAqRjI3BSz"},s))}},Ere=Tre(Cre.prototype,"title",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xre=Tre(Cre.prototype,"formStore",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tre(Cre.prototype,"componentDidUpdate",[ht],Object.getOwnPropertyDescriptor(Cre.prototype,"componentDidUpdate"),Cre.prototype),kre=Cre))||kre;let Are=Br((Dre=class e extends u.Component{constructor(...e){super(...e),this.handleNavigate=e=>{this.props.onNavigate(e)}}static getCurrentCollectionItem(e){return{id:e.id,title:e.title}}get breadcrumb(){const{resourceStore:t}=this.props,{data:n}=t;if(!n._embedded)return null;const{_embedded:{breadcrumb:i}}=n,r=e.getCurrentCollectionItem(n);return i?[...i,r]:[r]}render(){const e=r6.Item,t=this.breadcrumb,n=Xs("sulu_media.all_media");if(!t||!t.length)return u.createElement(r6,null,u.createElement(e,null,n));if(1===t.length){const i=t[0];return u.createElement(r6,{onItemClick:this.handleNavigate},u.createElement(e,null,n),u.createElement(e,null,i.title))}const i=t[t.length-1],r=t[t.length-2];return u.createElement(r6,{onItemClick:this.handleNavigate},u.createElement(e,null,n),u.createElement(e,{value:r.id},"..."),u.createElement(e,null,i.title))}},function(e,t,n,i,r){var o={};Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}(Dre.prototype,"breadcrumb",[ge],Object.getOwnPropertyDescriptor(Dre.prototype,"breadcrumb"),Dre.prototype),Pre=Dre))||Pre;var zre,Ire,Rre,jre,Nre,Fre,Yre,Bre,Hre,Vre,Wre=Are;function Ure(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function $re(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const qre={resourceKey:"media"};var Kre,Gre,Zre,Jre,Xre,Qre,eoe,toe,noe,ioe=Br((Ire=class extends u.Component{constructor(e){super(e),Ure(this,"showInheritDialog",Rre,this),Ure(this,"error",jre,this),this.setPermissionFormRef=e=>{this.permissionFormRef=e},this.setInheritDialogFormRef=e=>{this.inheritDialogFormRef=e},Ure(this,"handleConfirm",Nre,this),Ure(this,"handleConfirmInherit",Fre,this),Ure(this,"handleSubmitInherit",Yre,this),Ure(this,"handleCancelInherit",Bre,this),this.handleSubmitPermission=e=>{const{onConfirm:t}=this.props;if("string"==typeof e)throw new Error("The passed options should not be a string. This should not happen and is likely a bug.");this.resourceStore.save({...e,...qre}).then((()=>t())).catch((e=>{e.json().then(ht((e=>{const t=e.detail||e.title||Xs("sulu_admin.form_save_server_error");t&&(this.error=t)})))}))},Ure(this,"handleSnackbarCloseClick",Hre,this),Ure(this,"handleClose",Vre,this),this.createFormStores()}componentDidUpdate(e){const{collectionId:t}=this.props;t!==e.collectionId&&(this.error=void 0,this.destroyFormStores(),this.createFormStores())}componentWillUnmount(){this.destroyFormStores()}createFormStores(){const{collectionId:e}=this.props;this.resourceStore=new Rc("permissions",e,{},qre),this.formStore=nm.createFromResourceStore(this.resourceStore,"permission_details",qre),this.inheritDialogFormStore=Vf.createFromFormKey("permission_inheritance")}destroyFormStores(){this.resourceStore.destroy(),this.formStore.destroy(),this.inheritDialogFormStore.destroy()}render(){const{open:e}=this.props;return u.createElement(u.Fragment,null,u.createElement(fd,{cancelText:Xs("sulu_admin.cancel"),confirmLoading:this.resourceStore&&this.resourceStore.saving,confirmText:Xs("sulu_admin.ok"),onClose:this.handleClose,onConfirm:this.handleConfirm,onSnackbarCloseClick:this.handleSnackbarCloseClick,open:e,size:"small",snackbarMessage:this.error||void 0,snackbarType:"error",title:Xs("sulu_security.permissions")},u.createElement("div",{className:"overlay--U5AfnmmjjC"},u.createElement(Uj,{onSubmit:this.handleSubmitPermission,ref:this.setPermissionFormRef,store:this.formStore}))),u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmText:Xs("sulu_admin.ok"),onCancel:this.handleCancelInherit,onConfirm:this.handleConfirmInherit,open:this.showInheritDialog,title:Xs("sulu_security.inherit_permissions_title")},u.createElement(Uj,{onSubmit:this.handleSubmitInherit,ref:this.setInheritDialogFormRef,store:this.inheritDialogFormStore})))}},Rre=$re(Ire.prototype,"showInheritDialog",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jre=$re(Ire.prototype,"error",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),$re(Ire.prototype,"componentDidUpdate",[ht],Object.getOwnPropertyDescriptor(Ire.prototype,"componentDidUpdate"),Ire.prototype),Nre=$re(Ire.prototype,"handleConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{hasChildren:e}=this.props;e?this.showInheritDialog=!0:this.permissionFormRef&&this.permissionFormRef.submit()}}}),Fre=$re(Ire.prototype,"handleConfirmInherit",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showInheritDialog=!1,this.inheritDialogFormRef&&this.inheritDialogFormRef.submit()}}}),Yre=$re(Ire.prototype,"handleSubmitInherit",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.permissionFormRef&&this.permissionFormRef.submit(this.inheritDialogFormStore.data)}}}),Bre=$re(Ire.prototype,"handleCancelInherit",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showInheritDialog=!1}}}),Hre=$re(Ire.prototype,"handleSnackbarCloseClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.error=void 0}}}),Vre=$re(Ire.prototype,"handleClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{onClose:e}=this.props;this.error=void 0,e()}}}),zre=Ire))||zre;function roe(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function ooe(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const soe="collections";var aoe,loe,coe,uoe,doe,hoe=Br((Gre=class extends u.Component{constructor(...e){super(...e),roe(this,"openedCollectionOperationOverlayType",Zre,this),roe(this,"movingRestrictedTargetCollection",Jre,this),roe(this,"dependantResourcesData",Xre,this),this.handleCollectionClick=e=>{this.props.onCollectionNavigate(e)},this.handleBreadcrumbNavigate=e=>{this.props.onCollectionNavigate(e)},this.handleAddCollectionClick=()=>{this.openCollectionOperationOverlay("create")},this.handleEditCollectionClick=()=>{this.openCollectionOperationOverlay("update")},this.handleRemoveCollectionClick=()=>{this.openCollectionOperationOverlay("remove")},this.handleMoveCollectionClick=()=>{this.openCollectionOperationOverlay("move")},this.handlePermissionCollectionClick=()=>{this.openCollectionOperationOverlay("permissions")},this.handleCollectionOverlayConfirm=e=>{e.save({breadcrumb:!0}).then((()=>this.handleSaveResponse(e)))},this.handleSaveResponse=e=>{const t=this.openedCollectionOperationOverlayType;this.closeCollectionOperationOverlay(),"update"===t?this.props.resourceStore.setMultiple(e.data):this.props.onCollectionNavigate(e.id),e.destroy()},this.handleCollectionOverlayClose=()=>{this.closeCollectionOperationOverlay()},this.handlePermissionOverlayClose=()=>{this.closeCollectionOperationOverlay()},this.handlePermissionOverlayConfirm=()=>{const{resourceStore:e}=this.props;e.reload(),this.closeCollectionOperationOverlay()},this.handleRemoveCollectionConfirm=()=>{this.delete()},this.delete=()=>{const{onDeleteError:e,resourceStore:t}=this.props,{data:n}=t,i=n._embedded&&n._embedded.parent&&n._embedded.parent.id?n._embedded.parent.id:void 0;t.delete().then((()=>{this.closeCollectionOperationOverlay(),this.closeDeleteDependantResourcesDialog(),this.props.onCollectionNavigate(i)})).catch((t=>{this.closeCollectionOperationOverlay(),t.json().then(ht((n=>{409!==t.status||n.code!==Lg?e&&e(n):this.dependantResourcesData={dependantResourceBatches:n.dependantResourceBatches,dependantResourcesCount:n.dependantResourcesCount,detail:n.detail,title:n.title}})))}))},this.handleRemoveCollectionCancel=()=>{this.closeCollectionOperationOverlay()},roe(this,"handleMoveCollectionConfirm",Qre,this),roe(this,"handleMovePermissionWarningConfirm",eoe,this),roe(this,"handleMovePermissionWarningCancel",toe,this),this.moveCollection=e=>{const{resourceStore:t}=this.props;t.move(e.id).then((()=>{t.reload(),this.closeCollectionOperationOverlay()}))},this.handleMoveCollectionClose=()=>{this.closeCollectionOperationOverlay()},this.handleDeleteDependantResourcesDialogFinish=()=>{this.delete()},this.handleDeleteDependantResourcesDialogCancel=()=>{this.closeDeleteDependantResourcesDialog()},roe(this,"closeDeleteDependantResourcesDialog",noe,this)}openCollectionOperationOverlay(e){this.openedCollectionOperationOverlayType=e}closeCollectionOperationOverlay(){this.openedCollectionOperationOverlayType=null}get collectionId(){const{resourceStore:e}=this.props;return e.id}get hasChildren(){const{resourceStore:e}=this.props;return xt(e.data,"hasChildren")}get resourceStoreByOperationType(){const{resourceStore:e,locale:t}=this.props,{data:n}=e;if("update"===this.openedCollectionOperationOverlayType)return e.clone();const i=new Rc(soe,null,{locale:t},{depth:1,breadcrumb:!0,parent:n.parent});return this.collectionId&&"create"===this.openedCollectionOperationOverlayType&&i.set("parent",this.collectionId),i}get deleteDependantResourcesDialogRequestOptions(){const{locale:e}=this.props;return e?{locale:e.get()}:{}}renderDeleteDependantResourcesDialog(){return this.dependantResourcesData?u.createElement(Dg,{dependantResourcesData:this.dependantResourcesData,onCancel:this.handleDeleteDependantResourcesDialogCancel,onFinish:this.handleDeleteDependantResourcesDialogFinish,requestOptions:this.deleteDependantResourcesDialogRequestOptions}):null}render(){const{addable:e,deletable:t,editable:n,listStore:i,locale:r,overlayType:o,resourceStore:s,securable:a}=this.props,l=this.openedCollectionOperationOverlayType;return u.createElement("div",null,!s.loading&&u.createElement("div",{className:"collection-section--Z52NVynrwW"},u.createElement("div",{className:"left--rvba8HFOvP"},u.createElement(Wre,{onNavigate:this.handleBreadcrumbNavigate,resourceStore:s})),u.createElement("div",{className:"right--VusVtqc9SP"},u.createElement(Gg,null,e&&u.createElement(uo,{icon:"su-plus",onClick:this.handleAddCollectionClick},Xs("sulu_media.add_collection")),!!s.id&&(n||t||n||a)&&u.createElement(Vg,{icon:"su-cog"},n&&u.createElement(Vg.Item,{onClick:this.handleEditCollectionClick},Xs("sulu_admin.edit")),t&&u.createElement(Vg.Item,{onClick:this.handleRemoveCollectionClick},Xs("sulu_admin.delete")),n&&u.createElement(Vg.Item,{onClick:this.handleMoveCollectionClick},Xs("sulu_admin.move")),a&&u.createElement(Vg.Item,{onClick:this.handlePermissionCollectionClick},Xs("sulu_security.permissions")))))),u.createElement(GC,{adapters:["folder"],onItemClick:this.handleCollectionClick,searchable:!1,store:i}),u.createElement(Lre,{onClose:this.handleCollectionOverlayClose,onConfirm:this.handleCollectionOverlayConfirm,operationType:l,overlayType:o,resourceStore:this.resourceStoreByOperationType}),u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmLoading:s.deleting,confirmText:Xs("sulu_admin.ok"),onCancel:this.handleRemoveCollectionCancel,onConfirm:this.handleRemoveCollectionConfirm,open:"remove"===l,title:Xs("sulu_media.remove_collection")},Xs("sulu_media.remove_collection_warning")),this.renderDeleteDependantResourcesDialog(),u.createElement(ioe,{collectionId:this.collectionId,hasChildren:this.hasChildren,onClose:this.handlePermissionOverlayClose,onConfirm:this.handlePermissionOverlayConfirm,open:"permissions"===l}),u.createElement(hg,{adapter:"column_list",allowActivateForDisabledItems:!1,clearSelectionOnClose:!0,confirmLoading:s.moving,disabledIds:s.id?[s.id]:[],itemDisabledCondition:"!!locked",listKey:soe,locale:r,onClose:this.handleMoveCollectionClose,onConfirm:this.handleMoveCollectionConfirm,open:"move"===l,options:{includeRoot:!0},reloadOnOpen:!0,resourceKey:soe,title:Xs("sulu_media.move_collection")}),u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmText:Xs("sulu_admin.confirm"),onCancel:this.handleMovePermissionWarningCancel,onConfirm:this.handleMovePermissionWarningConfirm,open:!!this.movingRestrictedTargetCollection,title:Xs("sulu_security.move_permission_title")},Xs("sulu_security.move_permission_warning")))}},Zre=ooe(Gre.prototype,"openedCollectionOperationOverlayType",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jre=ooe(Gre.prototype,"movingRestrictedTargetCollection",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Xre=ooe(Gre.prototype,"dependantResourcesData",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),ooe(Gre.prototype,"openCollectionOperationOverlay",[ht],Object.getOwnPropertyDescriptor(Gre.prototype,"openCollectionOperationOverlay"),Gre.prototype),ooe(Gre.prototype,"closeCollectionOperationOverlay",[ht],Object.getOwnPropertyDescriptor(Gre.prototype,"closeCollectionOperationOverlay"),Gre.prototype),ooe(Gre.prototype,"collectionId",[ge],Object.getOwnPropertyDescriptor(Gre.prototype,"collectionId"),Gre.prototype),ooe(Gre.prototype,"hasChildren",[ge],Object.getOwnPropertyDescriptor(Gre.prototype,"hasChildren"),Gre.prototype),ooe(Gre.prototype,"resourceStoreByOperationType",[ge],Object.getOwnPropertyDescriptor(Gre.prototype,"resourceStoreByOperationType"),Gre.prototype),Qre=ooe(Gre.prototype,"handleMoveCollectionConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{resourceStore:t}=this.props;t.data._hasPermissions||e._hasPermissions?this.movingRestrictedTargetCollection=e:this.moveCollection(e)}}}),eoe=ooe(Gre.prototype,"handleMovePermissionWarningConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.moveCollection(this.movingRestrictedTargetCollection),this.movingRestrictedTargetCollection=void 0}}}),toe=ooe(Gre.prototype,"handleMovePermissionWarningCancel",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.movingRestrictedTargetCollection=void 0}}}),noe=ooe(Gre.prototype,"closeDeleteDependantResourcesDialog",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.dependantResourcesData=void 0}}}),ooe(Gre.prototype,"deleteDependantResourcesDialogRequestOptions",[ge],Object.getOwnPropertyDescriptor(Gre.prototype,"deleteDependantResourcesDialogRequestOptions"),Gre.prototype),Kre=Gre))||Kre;function poe(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function foe(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var moe,goe,boe,yoe,voe,_oe,woe,koe,Coe=Br((doe=class e extends u.Component{constructor(...e){super(...e),this.handleCollectionNavigate=e=>{this.props.onCollectionNavigate(e)},poe(this,"handleUpload",coe,this),poe(this,"handleUploadError",uoe,this)}render(){const{onDeleteError:t,className:n,collectionListStore:i,collectionStore:r,hideUploadAction:o,locale:s,overlayType:a,mediaListAdapters:l,mediaListRef:c,mediaListStore:d,onMediaNavigate:h,onUploadOverlayClose:p,onUploadOverlayOpen:f,uploadOverlayOpen:m}=this.props,{locked:g,permissions:b}=r,y=[],v=!g&&(void 0!==b.add?b.add:e.addable),_=!g&&(void 0!==b.edit?b.edit:e.editable),w=!g&&(void 0!==b.delete?b.delete:e.deletable),k=!g&&(void 0!==b.security?b.security:e.securable);return v&&!o&&y.push({disabled:r.loading,icon:"su-upload",label:Xs("sulu_media.upload_file"),onClick:f}),u.createElement(Sre,{className:n,collectionId:r.id,disabled:r.loading||!v,locale:s,onClose:p,onOpen:f,onUpload:this.handleUpload,onUploadError:this.handleUploadError,open:m},u.createElement(hoe,{addable:v,deletable:w,editable:_,listStore:i,locale:s,onCollectionNavigate:this.handleCollectionNavigate,onDeleteError:t,overlayType:a,resourceStore:r.resourceStore,securable:k}),u.createElement(lh,null),u.createElement(GC,{actions:y,adapters:l,onDeleteError:t,onItemClick:h,ref:c,store:d}))}},doe.defaultProps={hideUploadAction:!1,overlayType:"overlay"},doe.addable=!0,doe.deletable=!0,doe.editable=!0,doe.securable=!0,coe=foe((loe=doe).prototype,"handleUpload",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{mediaListStore:t}=this.props;t.reload(),Dt((()=>!t.loading),(()=>e.forEach((e=>t.select(e)))))}}}),uoe=foe(loe.prototype,"handleUploadError",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{mediaListStore:t,onUploadError:n}=this.props;n&&n(e),t.reload()}}}),aoe=loe))||aoe;function Eoe(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function xoe(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const Soe="media",Ooe="collections",Toe="media_selection_overlay";var Moe,Poe,Doe,Loe,Aoe=Br(((koe=class extends u.Component{static createCollectionListStore(e,t){return new ig(Ooe,Ooe,Toe,{page:ue.box(1),locale:t,parentId:e})}static createMediaListStore(e,t,n,i){const r={limit:50,fields:["id","type","name","size","title","mimeType","subVersion","thumbnails"]};return O(i)&&i.length>0&&(r.types=i.join(",")),new ig(Soe,Soe,Toe,{page:ue.box(1),collection:e,excludedIds:t,locale:n},r)}constructor(e){super(e),Eoe(this,"collectionStore",boe,this),Eoe(this,"showMediaUploadOverlay",yoe,this),Eoe(this,"handleCollectionNavigate",voe,this),Eoe(this,"handleUploadOverlayOpen",_oe,this),Eoe(this,"handleUploadOverlayClose",woe,this),this.handleClose=()=>{this.props.onClose()},this.handleSelectionReset=()=>{this.props.mediaListStore.clearSelection()},this.handleConfirm=()=>{this.props.onConfirm(this.props.mediaListStore.selections)},this.updateCollectionStoreDisposer=ft((()=>this.updateCollectionStore(this.props.collectionId.get())))}componentDidUpdate(e){const{mediaListStore:t,open:n}=this.props;!0===e.open&&!1===n&&t.clearSelection()}componentWillUnmount(){this.collectionStore&&this.collectionStore.destroy(),this.updateCollectionStoreDisposer&&this.updateCollectionStoreDisposer()}updateCollectionStore(e){this.collectionStore&&this.collectionStore.destroy(),this.collectionStore=new Xie(e,this.props.locale)}render(){const{collectionListStore:e,confirmLoading:t,mediaListStore:n,open:i,locale:r}=this.props,o=[{title:Xs("sulu_media.reset_selection"),onClick:this.handleSelectionReset}];return u.createElement(fd,{actions:o,confirmDisabled:!n.selections.length,confirmLoading:t,confirmText:Xs("sulu_admin.confirm"),onClose:this.handleClose,onConfirm:this.handleConfirm,open:i,title:Xs("sulu_media.select_media_plural")},u.createElement("div",{className:"overlay--U0TasLLc3B"},u.createElement(Coe,{collectionListStore:e,collectionStore:this.collectionStore,locale:r,mediaListAdapters:["media_card_selection","table"],mediaListStore:n,onCollectionNavigate:this.handleCollectionNavigate,onUploadOverlayClose:this.handleUploadOverlayClose,onUploadOverlayOpen:this.handleUploadOverlayOpen,overlayType:"dialog",uploadOverlayOpen:this.showMediaUploadOverlay})))}}).defaultProps={confirmLoading:!1},boe=xoe((goe=koe).prototype,"collectionStore",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yoe=xoe(goe.prototype,"showMediaUploadOverlay",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xoe(goe.prototype,"updateCollectionStore",[ht],Object.getOwnPropertyDescriptor(goe.prototype,"updateCollectionStore"),goe.prototype),voe=xoe(goe.prototype,"handleCollectionNavigate",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.props.collectionId.set(e),this.props.collectionListStore.clear(),this.props.collectionListStore.setPage(1),this.props.mediaListStore.clear(),this.props.mediaListStore.setPage(1)}}}),_oe=xoe(goe.prototype,"handleUploadOverlayOpen",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showMediaUploadOverlay=!0}}}),woe=xoe(goe.prototype,"handleUploadOverlayClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showMediaUploadOverlay=!1}}}),moe=goe))||moe,zoe=Br(((Poe=class extends u.Component{constructor(e){super(e),this.collectionId=ue.box();const t=ge((()=>this.props.excludedIds.length?this.props.excludedIds:void 0),{equals:V.structural});this.excludedIdsDisposer=t.observe((()=>this.mediaListStore.clear())),this.mediaListStore=Aoe.createMediaListStore(this.collectionId,t,e.locale,e.types),this.collectionListStore=Aoe.createCollectionListStore(this.collectionId,e.locale)}componentWillUnmount(){this.mediaListStore.destroy(),this.collectionListStore.destroy(),this.excludedIdsDisposer()}render(){const{confirmLoading:e,onClose:t,onConfirm:n,open:i,locale:r}=this.props;return u.createElement(Aoe,{collectionId:this.collectionId,collectionListStore:this.collectionListStore,confirmLoading:e,locale:r,mediaListStore:this.mediaListStore,onClose:t,onConfirm:n,open:i})}}).defaultProps={confirmLoading:!1,excludedIds:[],types:[]},Moe=Poe))||Moe;var Ioe,Roe,joe,Noe,Foe,Yoe=Br(((Loe=class extends u.Component{constructor(e){super(e),this.collectionId=ue.box(),this.handleConfirm=()=>{if(this.mediaListStore.selections.length>1)throw new Error("The SingleMediaSelectionOverlay can only handle single selection.This should not happen and is likely a bug.");this.props.onConfirm(this.mediaListStore.selections[0])};const t=ge((()=>this.props.excludedIds.length?this.props.excludedIds:void 0),{equals:V.structural});this.excludedIdsDisposer=t.observe((()=>this.mediaListStore.clear())),this.mediaListStore=Aoe.createMediaListStore(this.collectionId,t,this.props.locale,this.props.types),this.collectionListStore=Aoe.createCollectionListStore(this.collectionId,this.props.locale),this.mediaSelectionDisposer=ft((()=>{const{selections:e}=this.mediaListStore;if(e.length<=1)return;const t=e[e.length-1];t&&(this.mediaListStore.clearSelection(),this.mediaListStore.select(t))}))}componentWillUnmount(){this.mediaListStore.destroy(),this.collectionListStore.destroy(),this.excludedIdsDisposer(),this.mediaSelectionDisposer()}render(){const{onClose:e,open:t,locale:n}=this.props;return u.createElement(Aoe,{collectionId:this.collectionId,collectionListStore:this.collectionListStore,locale:n,mediaListStore:this.mediaListStore,onClose:e,onConfirm:this.handleConfirm,open:t})}}).defaultProps={excludedIds:[],types:[]},Doe=Loe))||Doe;function Boe(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Hoe(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Voe,Woe,Uoe,$oe,qoe=(Roe=Hoe((Ioe=class extends JY{constructor(...e){super(...e),Boe(this,"showOverlay",Roe,this),Boe(this,"patching",joe,this),Boe(this,"handleConfirm",Noe,this),Boe(this,"handleClose",Foe,this)}getNode(){return u.createElement(zoe,{confirmLoading:this.patching,excludedIds:this.resourceStore?this.resourceStore.data.medias:[],key:"sulu_contact.add_media",locale:ue.box(sl.contentLocale),onClose:this.handleClose,onConfirm:this.handleConfirm,open:this.showOverlay})}getToolbarItemConfig(){return{icon:"su-plus-circle",label:Xs("sulu_admin.add"),onClick:ht((()=>{this.showOverlay=!0})),type:"button"}}}).prototype,"showOverlay",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),joe=Hoe(Ioe.prototype,"patching",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Noe=Hoe(Ioe.prototype,"handleConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{if(!this.resourceStore)throw new Error("The resourceStore needs to be available in order to update the media!");const{data:t,resourceKey:n}=this.resourceStore;this.patching=!0,La.patch(n,{medias:t.medias.concat(e.map((e=>e.id)))},{id:this.listStore.options.contactId}).then(ht((e=>{this.patching=!1,this.showOverlay=!1,this.listStore.reload(),this.resourceStore&&this.resourceStore.setMultiple(e)})))}}}),Foe=Hoe(Ioe.prototype,"handleClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showOverlay=!1}}}),Ioe);function Koe(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Goe(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Zoe=(Woe=Goe((Voe=class extends JY{constructor(...e){super(...e),Koe(this,"showDialog",Woe,this),Koe(this,"handleConfirm",Uoe,this),Koe(this,"handleCancel",$oe,this)}getNode(){return u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmLoading:this.listStore.deletingSelection,confirmText:Xs("sulu_admin.ok"),key:"sulu_contact.delete_media",onCancel:this.handleCancel,onConfirm:this.handleConfirm,open:this.showDialog,title:Xs("sulu_contact.delete_media_warning_title")},Xs("sulu_contact.delete_media_warning_text"))}getToolbarItemConfig(){return{disabled:0===this.listStore.selectionIds.length,icon:"su-trash-alt",label:Xs("sulu_admin.delete"),onClick:ht((()=>{this.showDialog=!0})),type:"button"}}}).prototype,"showDialog",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Uoe=Goe(Voe.prototype,"handleConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{resourceStore:e}=this;if(!e)throw new Error("The resourceStore needs to be available in order to update the media!");const t=this.listStore.selectionIds;this.listStore.deleteSelection().then(ht((()=>{this.showDialog=!1,e.set("medias",e.data.medias.filter((e=>!t.includes(e))))})))}}}),$oe=Goe(Voe.prototype,"handleCancel",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showDialog=!1}}}),Voe);gh.add("contact_details",_ie),gh.add("iban",Cie),gh.add("bic",Zne),gh.add("contact_account_selection",gie),wy.add("country",Nie),XY.add("sulu_contact.add_contact",Vie),XY.add("sulu_contact.add_media",qoe),XY.add("sulu_contact.delete_media",Zoe),Na.addUpdateConfigHook("sulu_contact",((e,t)=>{t||Dt((()=>!!Na.initializedTranslationsLocale),(()=>{Nie.countries=e.countries,Fne.types=e.emailTypes.map((e=>({label:Xs(e.name),value:e.id}))),Yne.types=e.faxTypes.map((e=>({label:Xs(e.name),value:e.id}))),Bne.types=e.phoneTypes.map((e=>({label:Xs(e.name),value:e.id}))),Hne.types=e.socialMediaTypes.map((e=>({label:e.name,value:e.id}))),Vne.types=e.websiteTypes.map((e=>({label:Xs(e.name),value:e.id}))),gh.add("addresses",wm,{addOverlayTitle:"sulu_contact.add_address",editOverlayTitle:"sulu_contact.edit_address",renderCardContent:function(t){const n=e.addressTypes.find((e=>t.addressType===e.id));return u.createElement(Ine,{billingAddress:t.billingAddress,city:t.city,country:t.countryCode?e.countries[t.countryCode]:void 0,deliveryAddress:t.deliveryAddress,number:t.number,primaryAddress:t.primaryAddress,state:t.state,street:t.street,title:t.title,type:Xs(n.name),zip:t.zip})},schema:{title:{label:Xs("sulu_admin.title"),type:"text_line"},addresTypeInformation:{items:{addressType:{options:{default_value:{value:e.addressTypes[0].id},values:{value:e.addressTypes.map((e=>({name:e.id,title:Xs(e.name)})))}},colSpan:6,type:"single_select"},primaryAddress:{options:{label:{title:Xs("sulu_contact.primary_address")}},colSpan:6,type:"checkbox"},deliveryAddress:{options:{label:{title:Xs("sulu_contact.delivery_address")}},colSpan:6,type:"checkbox"},billingAddress:{options:{label:{title:Xs("sulu_contact.billing_address")}},colSpan:6,type:"checkbox"}},type:"section"},address:{items:{street:{label:Xs("sulu_contact.street"),colSpan:8,type:"text_line"},number:{label:Xs("sulu_contact.number"),colSpan:4,type:"text_line"},addition:{label:Xs("sulu_contact.address_line"),type:"text_line"},zip:{label:Xs("sulu_contact.zip"),colSpan:4,type:"text_line"},city:{label:Xs("sulu_contact.city"),colSpan:8,type:"text_line"},state:{label:Xs("sulu_contact.state"),type:"text_line"},countryCode:{label:Xs("sulu_contact.country"),options:{values:{value:Object.keys(e.countries).map((t=>({name:t,title:e.countries[t]})))}},type:"single_select"}},type:"section"},postbox:{items:{postboxNumber:{label:Xs("sulu_contact.postbox_number"),type:"text_line"},postboxPostcode:{label:Xs("sulu_contact.postbox_zip"),colSpan:4,type:"text_line"},postboxCity:{label:Xs("sulu_contact.postbox_city"),colSpan:8,type:"text_line"}},type:"section"},coordinates:{items:{latitude:{label:Xs("sulu_contact.latitude"),colSpan:6,type:"number"},longitude:{label:Xs("sulu_contact.longitude"),colSpan:6,type:"number"}},type:"section"},note:{items:{note:{label:Xs("sulu_contact.note"),type:"text_area"}},type:"section"}}}),gh.add("bankAccounts",wm,{addOverlayTitle:"sulu_contact.add_bank_account",editOverlayTitle:"sulu_contact.edit_bank_account",jsonSchema:{type:"object",properties:{iban:{type:"string",pattern:"^([A-Z]{2}[ \\-]?[0-9]{2})(?=(?:[ \\-]?[A-Z0-9]){9,30}$)((?:[ \\-]?[A-Z0-9]{3,5}){2,7})([ \\-]?[A-Z0-9]{1,3})?$"},bic:{type:"string",pattern:"^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$"}},required:["iban"]},renderCardContent:function(e){return u.createElement(jne,{bankName:e.bankName,bic:e.bic,iban:e.iban})},schema:{bankName:{label:Xs("sulu_contact.bank"),type:"text_line"},iban:{label:Xs("sulu_contact.iban"),required:!0,type:"iban"},bic:{label:Xs("sulu_contact.bic"),type:"bic"}}})}))}));class Joe extends u.Component{constructor(...e){super(...e),this.handleChange=e=>{const{index:t,onChange:n}=this.props;n(e,t)}}render(){const{onBlur:e,value:t}=this.props;return u.createElement(kl,{onBlur:e,onChange:this.handleChange,value:t})}}class Xoe extends u.Component{constructor(...e){super(...e),this.handleChange=(e,t)=>{const{onChange:n}=this.props,i=[...this.props.value];i[t]=e,n(i)}}render(){const{baseDomain:e,onBlur:t,value:n}=this.props;return u.createElement("div",{className:"custom-url--LZmzYY6DgL"},e.split("*").map(((e,i)=>u.createElement(u.Fragment,{key:i},0!==i&&u.createElement(Joe,{index:i-1,onBlur:t,onChange:this.handleChange,value:i<=n.length?n[i-1]:void 0}),e&&u.createElement("span",null,e)))))}}var Qoe,ese,tse,nse=Xoe,ise=Br(Qoe=class extends u.Component{constructor(...e){super(...e),this.handleChange=e=>{const{onChange:t}=this.props;t(e)},this.handleBlur=()=>{const{onFinish:e}=this.props;e()}}render(){const{formInspector:e,value:t}=this.props,n=e.getValueByPath("/baseDomain");if("string"!=typeof n)throw new Error("The baseDomain should be a string. This should not happen and is likely a bug.");return u.createElement("div",{className:"custom-url-container--ksYqnwXYTR"},u.createElement("div",{className:"custom-url--auP7ceywM6"},u.createElement(nse,{baseDomain:n,onBlur:this.handleBlur,onChange:this.handleChange,value:t||[]})),e.id&&u.createElement("div",{className:"resource-locator-history--jMxDGf4eFD"},u.createElement(dI,{id:e.id,options:{webspace:e.options.webspace},resourceKey:"custom_url_routes"})))}})||Qoe;function rse(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let ose=(ese=class{constructor(){!function(e,t,n,i){n&&Object.defineProperty(e,"allWebspaces",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}(this,0,tse,this)}setWebspaces(e){this.allWebspaces=e}get grantedWebspaces(){return this.allWebspaces.filter((e=>!0===e._permissions.view))}hasWebspace(e){return!!this.allWebspaces.find((t=>t.key===e))}getWebspace(e){const t=this.allWebspaces.find((t=>t.key===e));if(!t)throw new Error('Webspace "'+e+'" not found');return t}loadWebspaces(){return c().warn('The "loadWebspaces" method is deprecated since 2.1 and will be removed. Use the "grantedWebspaces" property instead.'),Promise.resolve(this.grantedWebspaces)}loadWebspace(e){return c().warn('The "loadWebspace" method is deprecated since 2.1 and will be removed. Use the "getWebspace" method instead.'),Promise.resolve(this.getWebspace(e))}},tse=rse(ese.prototype,"allWebspaces",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rse(ese.prototype,"setWebspaces",[ht],Object.getOwnPropertyDescriptor(ese.prototype,"setWebspaces"),ese.prototype),rse(ese.prototype,"grantedWebspaces",[ge],Object.getOwnPropertyDescriptor(ese.prototype,"grantedWebspaces"),ese.prototype),ese);var sse,ase,lse=new ose;let cse=Br((function(e,t,n,i,r){var o={};Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}((ase=class extends u.Component{constructor(...e){super(...e),this.handleChange=e=>{const{onChange:t,onFinish:n}=this.props;t(e),n()}}get webspace(){const{formInspector:e}=this.props;return lse.getWebspace(e.options.webspace)}render(){const{disabled:e,value:t}=this.props;return u.createElement(zp,{disabled:!!e,onChange:this.handleChange,value:t},this.webspace.customUrls.map((({url:e})=>u.createElement(zp.Option,{key:e,value:e},e))))}}).prototype,"webspace",[ge],Object.getOwnPropertyDescriptor(ase.prototype,"webspace"),ase.prototype),sse=ase))||sse;var use,dse,hse=cse;let pse=Br((function(e,t,n,i,r){var o={};Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}((dse=class extends u.Component{constructor(...e){super(...e),this.handleChange=e=>{const{onChange:t,onFinish:n}=this.props;t(e),n()}}get webspace(){const{formInspector:e}=this.props;return lse.getWebspace(e.options.webspace)}render(){const{disabled:e,value:t}=this.props;return u.createElement(zp,{disabled:!!e,onChange:this.handleChange,value:t},this.webspace.allLocalizations.map((({localization:e})=>u.createElement(zp.Option,{key:e,value:e},e))))}}).prototype,"webspace",[ge],Object.getOwnPropertyDescriptor(dse.prototype,"webspace"),dse.prototype),use=dse))||use;var fse=pse;gh.add("custom_url",ise),gh.add("custom_urls_domain_select",hse),gh.add("custom_urls_locale_select",fse);var mse=r(53481),gse=r.n(mse),bse=r.p+"images/marker-icon.2b3e1faf89f94a483539.png",yse=r.p+"images/marker-icon-2x.680f69f3c2e6b90c1812.png",vse=r.p+"images/marker-shadow.a0c6cc1401c107b501ef.png";const _se=(0,u.createContext)(null),wse=_se.Provider;function kse(){const e=(0,u.useContext)(_se);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Cse(){return Cse=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Cse.apply(this,arguments)}function Ese(e){let{children:t,className:n,id:i,placeholder:r,style:o,whenCreated:s,...a}=e;const l=(0,u.useRef)(null),c=function(e,t){const[n,i]=(0,u.useState)(null);return(0,u.useEffect)((()=>{if(null!==e.current&&null===n){const n=new mse.Map(e.current,t);null!=t.center&&null!=t.zoom?n.setView(t.center,t.zoom):null!=t.bounds&&n.fitBounds(t.bounds,t.boundsOptions),null!=t.whenReady&&n.whenReady(t.whenReady),i(n)}}),[e,n,t]),n}(l,a),d=(0,u.useRef)(!1);(0,u.useEffect)((()=>{null!=c&&!1===d.current&&null!=s&&(d.current=!0,s(c))}),[c,s]),(0,u.useEffect)((()=>()=>{null==c||c.remove()}),[c]);const[h]=(0,u.useState)({className:n,id:i,style:o}),p=(0,u.useMemo)((()=>c?{__version:1,map:c}:null),[c]),f=p?u.createElement(wse,{value:p},t):r??null;return u.createElement("div",Cse({},h,{ref:l}),f)}function xse(e,t){return null==t?function(t,n){return(0,u.useRef)(e(t,n))}:function(n,i){const r=(0,u.useRef)(e(n,i)),o=(0,u.useRef)(n),{instance:s}=r.current;return(0,u.useEffect)((function(){o.current!==n&&(t(s,n,o.current),o.current=n)}),[s,n,i]),r}}function Sse(e,t){const n=(0,u.useRef)(t);(0,u.useEffect)((function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t}),[e,t])}function Ose(e,t){const n=(0,u.useRef)();(0,u.useEffect)((function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}}),[e,t])}function Tse(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function Mse(e){return function(t){const n=kse(),i=e(Tse(t,n),n);return Sse(n.map,t.attribution),Ose(i.current,t.eventHandlers),function(e,t){(0,u.useEffect)((function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var n;null==(n=t.layerContainer)||n.removeLayer(e.instance),t.map.removeLayer(e.instance)}}),[t,e])}(i.current,n),i}}const Pse=function(e){function t(t,n){const{instance:i}=e(t).current;return(0,u.useImperativeHandle)(n,(()=>i)),null}return(0,u.forwardRef)(t)}(Mse(xse((function(e,t){let{url:n,...i}=e;return{instance:new mse.TileLayer(n,Tse(i,t)),context:t}}),(function(e,t,n){const{opacity:i,zIndex:r}=t;null!=i&&i!==n.opacity&&e.setOpacity(i),null!=r&&r!==n.zIndex&&e.setZIndex(r)})))),Dse=function(e){function t(t,n){const{instance:i,context:r}=e(t).current;return(0,u.useImperativeHandle)(n,(()=>i)),null==t.children?null:u.createElement(wse,{value:r},t.children)}return(0,u.forwardRef)(t)}(Mse(xse((function(e,t){let{position:n,...i}=e;const r=new mse.Marker(n,i);return{instance:r,context:{...t,overlayContainer:r}}}),(function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())})))),Lse=function(e){function t(t,n){const[i,r]=(0,u.useState)(!1),{instance:o}=e(t,r).current;(0,u.useImperativeHandle)(n,(()=>o)),(0,u.useEffect)((function(){i&&o.update()}),[o,i,t.children]);const s=o._contentNode;return s?(0,d.createPortal)(t.children,s):null}return(0,u.forwardRef)(t)}((Ase=xse((function(e,t){return{instance:new mse.Tooltip(e,t.overlayContainer),context:t}})),zse=function(e,t,n,i){const{onClose:r,onOpen:o,position:s}=n;(0,u.useEffect)((function(){const n=t.overlayContainer;if(null==n)return;const{instance:a}=e,l=e=>{e.tooltip===a&&(s&&a.setLatLng(s),a.update(),i(!0),null==o||o())},c=e=>{e.tooltip===a&&(i(!1),null==r||r())};return n.on({tooltipopen:l,tooltipclose:c}),n.bindTooltip(a),function(){n.off({tooltipopen:l,tooltipclose:c}),null!=n._map&&n.unbindTooltip()}}),[e,t,i,r,o,s])},function(e,t){const n=kse(),i=Ase(Tse(e,n),n);return Sse(n.map,e.attribution),Ose(i.current,e.eventHandlers),zse(i.current,n,e,t),i}));var Ase,zse,Ise,Rse,jse,Nse,Fse,Yse,Bse,Hse,Vse,Wse,Use,$se,qse,Kse,Gse,Zse,Jse,Xse,Qse,eae,tae,nae,iae,rae,oae;function sae(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function aae(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var lae,cae,uae,dae,hae,pae,fae=Br((Rse=class extends u.Component{constructor(e){super(e),sae(this,"lat",jse,this),sae(this,"long",Nse,this),sae(this,"zoom",Fse,this),sae(this,"title",Yse,this),sae(this,"street",Bse,this),sae(this,"number",Hse,this),sae(this,"code",Vse,this),sae(this,"town",Wse,this),sae(this,"country",Use,this),this.setLeafletMap=e=>{e.on("zoomanim",this.handleMapZoom),this.map=e},this.updateMapToData=()=>{this.map&&this.map.setView([this.lat||0,this.long||0],this.zoom||1)},this.handleConfirm=()=>{const{onConfirm:e}=this.props,{title:t,street:n,number:i,code:r,town:o,country:s,lat:a,long:l,zoom:c}=this;e(null!=a&&null!=l?{title:t,street:n,number:i,code:r,town:o,country:s,lat:a,long:l,zoom:c}:null)},sae(this,"handleAutoCompleteChange",$se,this),sae(this,"handleMapZoom",qse,this),sae(this,"handleMarkerDrag",Kse,this),sae(this,"handleMarkerDragEnd",Gse,this),sae(this,"handleResetLocation",Zse,this),sae(this,"handleTitleChange",Jse,this),sae(this,"handleStreetChange",Xse,this),sae(this,"handleNumberChange",Qse,this),sae(this,"handleCodeChange",eae,this),sae(this,"handleTownChange",tae,this),sae(this,"handleCountryChange",nae,this),sae(this,"handleLatChange",iae,this),sae(this,"handleLongChange",rae,this),sae(this,"handleZoomChange",oae,this),this.geolocatorSelectionStore=new Zc("geolocator_locations"),this.updateDataOnGeolocatorSelectDisposer=bt((()=>this.geolocatorSelectionStore.item),this.handleAutoCompleteChange),this.updateDataOnOpenDisposer=bt((()=>this.props.open),(e=>{!0===e&&(this.lat=this.props.value?this.props.value.lat:null,this.long=this.props.value?this.props.value.long:null,this.zoom=this.props.value?this.props.value.zoom:1,this.updateMapToData(),this.title=this.props.value?this.props.value.title:null,this.street=this.props.value?this.props.value.street:null,this.number=this.props.value?this.props.value.number:null,this.code=this.props.value?this.props.value.code:null,this.town=this.props.value?this.props.value.town:null,this.country=this.props.value?this.props.value.country:null)}),{fireImmediately:!0})}componentWillUnmount(){this.updateDataOnGeolocatorSelectDisposer(),this.updateDataOnOpenDisposer()}render(){const{onClose:e,open:t}=this.props,n=null!==this.lat&&null!==this.long||null===this.lat&&null===this.long;return u.createElement(fd,{actions:[{title:Xs("sulu_admin.reset"),onClick:this.handleResetLocation}],confirmDisabled:!n,confirmText:Xs("sulu_admin.confirm"),onClose:e,onConfirm:this.handleConfirm,open:t,size:"small",title:Xs("sulu_location.select_location")},u.createElement("div",{className:"container--ofDIAcDZL0"},u.createElement(hh,null,u.createElement(hh.Field,null,u.createElement(_x,{displayProperty:"displayTitle",searchProperties:["displayTitle"],selectionStore:this.geolocatorSelectionStore})),u.createElement(hh.Field,null,u.createElement(Ese,{attributionControl:!1,center:[this.lat||0,this.long||0],className:"map--mI1jEtScpT",whenCreated:this.setLeafletMap,zoom:this.zoom},u.createElement(Pse,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),u.createElement(Dse,{draggable:!0,eventHandlers:{drag:this.handleMarkerDrag,dragend:this.handleMarkerDragEnd},position:[this.lat||0,this.long||0]}))),u.createElement(hh.Field,{colSpan:4,label:Xs("sulu_location.latitude"),required:!0},u.createElement(az,{onChange:this.handleLatChange,step:.001,value:this.lat})),u.createElement(hh.Field,{colSpan:4,label:Xs("sulu_location.longitude"),required:!0},u.createElement(az,{onChange:this.handleLongChange,step:.001,value:this.long})),u.createElement(hh.Field,{colSpan:4,label:Xs("sulu_location.zoom"),required:!0},u.createElement(az,{max:18,min:0,onChange:this.handleZoomChange,value:this.zoom})),u.createElement(hh.Section,{label:Xs("sulu_location.additional_information")},u.createElement(hh.Field,{label:Xs("sulu_location.title")},u.createElement(kl,{onChange:this.handleTitleChange,value:this.title})),u.createElement(hh.Field,{colSpan:6,label:Xs("sulu_location.street")},u.createElement(kl,{onChange:this.handleStreetChange,value:this.street})),u.createElement(hh.Field,{colSpan:6,label:Xs("sulu_location.number")},u.createElement(kl,{onChange:this.handleNumberChange,value:this.number})),u.createElement(hh.Field,{colSpan:6,label:Xs("sulu_location.code")},u.createElement(kl,{onChange:this.handleCodeChange,value:this.code})),u.createElement(hh.Field,{colSpan:6,label:Xs("sulu_location.town")},u.createElement(kl,{onChange:this.handleTownChange,value:this.town})),u.createElement(hh.Field,{label:Xs("sulu_location.country")},u.createElement(kl,{onChange:this.handleCountryChange,value:this.country}))))))}},jse=aae(Rse.prototype,"lat",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nse=aae(Rse.prototype,"long",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fse=aae(Rse.prototype,"zoom",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yse=aae(Rse.prototype,"title",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bse=aae(Rse.prototype,"street",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hse=aae(Rse.prototype,"number",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vse=aae(Rse.prototype,"code",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wse=aae(Rse.prototype,"town",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Use=aae(Rse.prototype,"country",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$se=aae(Rse.prototype,"handleAutoCompleteChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{e&&(this.lat=e.latitude,this.long=e.longitude,this.updateMapToData(),this.title=e.displayTitle,this.street=e.street,this.number=e.number,this.code=e.code,this.town=e.town,this.country=e.country)}}}),qse=aae(Rse.prototype,"handleMapZoom",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.zoom=e.zoom}}}),Kse=aae(Rse.prototype,"handleMarkerDrag",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.long=e.latlng.lng,this.lat=e.latlng.lat}}}),Gse=aae(Rse.prototype,"handleMarkerDragEnd",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.updateMapToData()}}}),Zse=aae(Rse.prototype,"handleResetLocation",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.long=null,this.lat=null,this.zoom=1,this.updateMapToData(),this.title=null,this.street=null,this.number=null,this.code=null,this.town=null,this.country=null}}}),Jse=aae(Rse.prototype,"handleTitleChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.title=e}}}),Xse=aae(Rse.prototype,"handleStreetChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.street=e}}}),Qse=aae(Rse.prototype,"handleNumberChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.number=e}}}),eae=aae(Rse.prototype,"handleCodeChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.code=e}}}),tae=aae(Rse.prototype,"handleTownChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.town=e}}}),nae=aae(Rse.prototype,"handleCountryChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.country=e}}}),iae=aae(Rse.prototype,"handleLatChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.lat=e,this.updateMapToData()}}}),rae=aae(Rse.prototype,"handleLongChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.long=e,this.updateMapToData()}}}),oae=aae(Rse.prototype,"handleZoomChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.zoom=e||1,this.updateMapToData()}}}),Ise=Rse))||Ise;function mae(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function gae(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var bae,yae,vae,_ae,wae=Br((cae=class extends u.Component{constructor(...e){super(...e),mae(this,"overlayOpen",uae,this),this.setLeafletMap=e=>{this.map=e},mae(this,"handleEditButtonClick",dae,this),mae(this,"handleOverlayConfirm",hae,this),mae(this,"handleOverlayClose",pae,this)}get label(){const{value:e}=this.props;return e?Xs("sulu_location.latitude")+": "+e.lat+", "+Xs("sulu_location.longitude")+": "+e.long+", "+Xs("sulu_location.zoom")+": "+e.zoom:Xs("sulu_location.select_location")}get hasAdditionalInformation(){const{value:e}=this.props;return!!e&&(e.code||e.country||e.number||e.street||e.title||e.town)}componentDidUpdate(e){const t=Mt(e.value),n=Mt(this.props.value);!si()(t,n)&&n&&this.map&&this.map.setView([n.lat||0,n.long||0],n.zoom||1)}render(){const{disabled:e,value:t}=this.props,n=eo()("location-container--_XxL8ZJacg",{"disabled--aTDQYhPabC":e});return u.createElement("div",{className:n},u.createElement("div",{className:"location-header--YFtluFlAT0"},u.createElement("button",{className:"location-header-button--o2ddfmeIoI",onClick:this.handleEditButtonClick,type:"button"},u.createElement(ro,{name:"su-map-pin"})),u.createElement("div",{className:"location-header-label--Nd2xRJDuxp"},u.createElement(sp,null,this.label))),t&&u.createElement(Ese,{attributionControl:!1,center:[t.lat,t.long],className:"location-map--Cu3wUh_6e_",doubleClickZoom:!1,dragging:!1,keyboard:!1,scrollWheelZoom:!1,tap:!1,whenCreated:this.setLeafletMap,zoom:t.zoom,zoomControl:!1},u.createElement(Pse,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),u.createElement(Dse,{interactive:!1,position:[t.lat,t.long]},this.hasAdditionalInformation&&u.createElement(Lse,{className:"location-map-tooltip--zYgosBqRhq",permanent:!0},u.createElement("div",null,u.createElement("b",null,t.title)),u.createElement("div",null,t.street," ",t.number),u.createElement("div",null,t.code," ",t.town),u.createElement("div",null,t.country)))),u.createElement(fae,{onClose:this.handleOverlayClose,onConfirm:this.handleOverlayConfirm,open:this.overlayOpen,value:t}))}},uae=gae(cae.prototype,"overlayOpen",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gae(cae.prototype,"label",[ge],Object.getOwnPropertyDescriptor(cae.prototype,"label"),cae.prototype),gae(cae.prototype,"hasAdditionalInformation",[ge],Object.getOwnPropertyDescriptor(cae.prototype,"hasAdditionalInformation"),cae.prototype),dae=gae(cae.prototype,"handleEditButtonClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.overlayOpen=!0}}}),hae=gae(cae.prototype,"handleOverlayConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.overlayOpen=!1,this.props.onChange(e)}}}),pae=gae(cae.prototype,"handleOverlayClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.overlayOpen=!1}}}),lae=cae))||lae;class kae extends u.Component{constructor(...e){super(...e),this.handleChange=e=>{const{onChange:t,onFinish:n}=this.props;t(e),n()}}render(){const{disabled:e,value:t}=this.props;return u.createElement(wae,{disabled:!!e,onChange:this.handleChange,value:t})}}function Cae(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Eae(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}delete gse().Icon.Default.prototype._getIconUrl,gse().Icon.Default.mergeOptions({iconUrl:bse,iconRetinaUrl:yse,shadowUrl:vse}),gh.add("location",kae);let xae=(yae=Eae((bae=class{constructor(e){Cae(this,"teaserItemIds",yae,this),Cae(this,"teaserItems",vae,this),Cae(this,"loading",_ae,this),this.loadTeasers=()=>{this.setLoading(!0),La.getList("teasers",{ids:this.teaserItemIds.map((e=>e.type+";"+e.id)),locale:this.locale.get()}).then(ht((e=>{this.teaserItems.splice(0,this.teaserItems.length,...e._embedded.teasers),this.setLoading(!1)})))},this.locale=e,this.teaserDisposer=ft(this.loadTeasers)}destroy(){this.teaserDisposer()}add(e,t){this.teaserItemIds.find((n=>n.type===e&&n.id===t))||this.teaserItemIds.push({type:e,id:t})}findById(e,t){return this.teaserItems.find((n=>n.type===e&&n.id===t))}setLoading(e){this.loading=e}}).prototype,"teaserItemIds",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),vae=Eae(bae.prototype,"teaserItems",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_ae=Eae(bae.prototype,"loading",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Eae(bae.prototype,"setLoading",[ht],Object.getOwnPropertyDescriptor(bae.prototype,"setLoading"),bae.prototype),bae);const Sae={image:{icon:"fa-file-image-o",backgroundColor:"#f67e00"},audio:{icon:"fa-file-audio-o",backgroundColor:"#f67e00"},video:{icon:"fa-file-video-o",backgroundColor:"#f67e00"},text:{icon:"fa-file-text-o",backgroundColor:"#585858"},"application/pdf":{icon:"fa-file-pdf-o",backgroundColor:"#bb0806"},"text/plain":{icon:"fa-file-text-o",backgroundColor:"#585858"},"text/rtf":{icon:"fa-file-text-o",backgroundColor:"#585858"},"application/rtf":{icon:"fa-file-text-o",backgroundColor:"#585858"},"text/html":{icon:"fa-file-code-o",backgroundColor:"#67217a"},"application/json":{icon:"fa-file-code-o",backgroundColor:"#585858"},"application/msword":{icon:"fa-file-word-o",backgroundColor:"#2c5897"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{icon:"fa-file-word-o",backgroundColor:"#2c5897"},"application/vnd.ms-excel":{icon:"fa-file-excel-o",backgroundColor:"#00723a"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{icon:"fa-file-excel-o",backgroundColor:"#00723a"},"application/vnd.ms-powerpoint":{icon:"fa-file-powerpoint-o",backgroundColor:"#d14628"},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{icon:"fa-file-powerpoint-o",backgroundColor:"#d14628"},"application/gzip":{icon:"fa-file-archive-o",backgroundColor:"#585858"},"application/zip":{icon:"fa-file-archive-o",backgroundColor:"#585858"},"application/octet-stream":{icon:"fa-file-o",backgroundColor:"#585858"}};class Oae{static get(e){const t=e.split("/")[0];return Sae[e]?Sae[e]:Sae[t]?Sae[t]:{icon:"fa-file-o",backgroundColor:"#585858"}}}class Tae extends u.PureComponent{render(){const{width:e,height:t,iconSize:n,mimeType:i}=this.props,{icon:r,backgroundColor:o}=Oae.get(i),s={color:"#fff"};return s.fontSize=n,s.backgroundColor=o,e&&(s.width=e),t&&(s.height=t),u.createElement("div",{className:"mime-type-indicator--jUgdZPbAWs",style:s},u.createElement(ro,{name:r}))}}Tae.defaultProps={iconSize:52};var Mae,Pae,Dae,Lae,Aae=Tae,zae=r(82765),Iae=r.n(zae);function Rae(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let jae=Br((Lae=class extends u.Component{constructor(...e){super(...e),function(e,t,n,i){n&&Object.defineProperty(e,"copying",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}(this,0,Dae,this),this.handleCopySuccess=()=>{this.copyUrl()},this.handleClick=()=>{const{url:e,onClick:t}=this.props;t&&t(e)}}copyUrl(){this.copying=!0}render(){const{url:e,children:t,copyText:n,copyUrlOnClick:i}=this.props,r=eo()("item--KusDDzprHs",{"copying--bxtGG1kwn0":this.copying}),o=u.createElement("span",{className:"content--kBdYgvCLS0"},t,u.createElement("span",{className:"copy-text--C7hF17qzHX"},n));return u.createElement("li",{className:r,onAnimationEnd:this.handleClick},i?u.createElement(Iae(),{"data-clipboard-text":e,onSuccess:this.handleCopySuccess},o):u.createElement("button",{onClick:this.handleClick,type:"button"},o))}},Lae.defaultProps={copyUrlOnClick:!1},Dae=Rae((Pae=Lae).prototype,"copying",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Rae(Pae.prototype,"copyUrl",[ht],Object.getOwnPropertyDescriptor(Pae.prototype,"copyUrl"),Pae.prototype),Mae=Pae))||Mae;var Nae=jae;class Fae extends u.PureComponent{constructor(...e){super(...e),this.handleClose=()=>{this.props.onClose()},this.handleItemDownload=e=>{e&&this.props.onDownload(e)},this.handleItemCopy=()=>{this.props.onClose()}}createItems(){const{copyText:e,imageSizes:t,downloadUrl:n,downloadText:i}=this.props;return[u.createElement(Nae,{key:"downloadlist-direct-download-item",onClick:this.handleItemDownload,url:n},i),u.createElement(tp.Divider,{key:"downloadlist-divider"}),t.map(((t,n)=>u.createElement(Nae,{copyText:e,copyUrlOnClick:!0,key:n,onClick:this.handleItemCopy,url:t.url},t.label)))]}render(){const{open:e,buttonRef:t}=this.props,n=this.createItems();return u.createElement(jd,{anchorElement:t,onClose:this.handleClose,open:e},((e,t)=>u.createElement(tp,{menuRef:e,style:t},n)))}}var Yae,Bae,Hae,Vae,Wae,Uae,$ae,qae,Kae,Gae;function Zae(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Jae(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Xae,Qae=Br(((Gae=class extends u.Component{constructor(e){super(e),Zae(this,"downloadButtonRef",Hae,this),Zae(this,"downloadListOpen",Vae,this),Zae(this,"imageLoading",Wae,this),Zae(this,"imageError",Uae,this),Zae(this,"setDownloadButtonRef",$ae,this),this.handleClick=()=>{const{id:e,onClick:t,selected:n}=this.props;t&&t(e,!n)},this.handleKeypress=e=>{const{id:t,onClick:n,selected:i}=this.props;n&&("Enter"!==e.key&&" "!==e.key||(e.stopPropagation(),n(t,!i)))},this.handleHeaderClick=()=>{const{id:e,selected:t,onSelectionChange:n}=this.props;n&&n(e,!t)},this.handleHeaderKeypress=e=>{const{id:t,selected:n,onSelectionChange:i}=this.props;i&&("Enter"!==e.key&&" "!==e.key||(e.stopPropagation(),i(t,!n)))},this.handleDownloadButtonClick=()=>{this.openDownloadList()},this.handleDownloadListClose=()=>{this.closeDownloadList()},this.handleDownload=e=>{const{onDownload:t}=this.props;t&&(t(e),this.closeDownloadList())},Zae(this,"handleImageLoad",qae,this),Zae(this,"handleImageError",Kae,this);const{image:t}=this.props;t?(this.image=new Image,this.image.onload=this.handleImageLoad,this.image.onerror=this.handleImageError,this.image.src=t):this.handleImageLoad()}openDownloadList(){this.downloadListOpen=!0}closeDownloadList(){this.downloadListOpen=!1}render(){const{downloadCopyText:e,downloadText:t,downloadUrl:n,ghostLocale:i,icon:r,id:o,image:s,imageSizes:a,meta:l,mimeType:c,onSelectionChange:d,selected:h,title:p,showCover:f}=this.props,m=eo()("media-card--ubhs51LDko",{"selected--lwK6oY27VJ":!!h,"show-cover--QMex8SdRan":!!f,"no-download-list--Io86RMue1y":!a.length}),g=eo()("download-button--drsMnZA7qV",{"active--taN3wp_JZ5":!!this.downloadListOpen}),b=u.createElement("div",{className:"title-text--r4BDTabQFF"},i&&u.createElement(mk,{className:"ghost-indicator--aUtZwD7dlB",locale:i}),u.createElement(sp,null,p));return u.createElement("div",{className:m},u.createElement("div",{className:"header--RlpckABI6L"},u.createElement("div",{className:"description--HiNFKcytpH",onClick:this.handleHeaderClick,onKeyPress:this.handleHeaderKeypress,role:"button",tabIndex:"0"},u.createElement("div",{className:"title--LOqcYveORG"},d?u.createElement(mu,{checked:!!h,className:"checkbox--F4RiR4Pim3",value:o},b):b),l&&u.createElement("div",{className:"meta--cIK3hYc1gT"},u.createElement(sp,null,l))),!!a.length&&!!n&&!!t&&u.createElement("div",null,u.createElement("button",{className:g,onClick:this.handleDownloadButtonClick,ref:this.setDownloadButtonRef,type:"button"},u.createElement(ro,{name:"su-download"})),u.createElement(Fae,{buttonRef:this.downloadButtonRef,copyText:e,downloadText:t,downloadUrl:n,imageSizes:a,onClose:this.handleDownloadListClose,onDownload:this.handleDownload,open:this.downloadListOpen}))),u.createElement("div",{className:"media--gdFmQvM7cn",onClick:this.handleClick,onKeyPress:this.handleKeypress,role:"button",tabIndex:"0"},s&&!this.imageError?u.createElement(u.Fragment,null,u.createElement("img",{alt:p,src:this.image.src}),this.imageLoading&&u.createElement(ao,null)):u.createElement(Aae,{height:200,mimeType:c}),u.createElement("div",{className:"cover--i3P1qfKGpq"},!!r&&u.createElement(ro,{className:"media-icon--OvZnrmcVNr",name:r}))))}}).defaultProps={downloadCopyText:"",imageSizes:[],selected:!1,showCover:!1},Hae=Jae((Bae=Gae).prototype,"downloadButtonRef",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vae=Jae(Bae.prototype,"downloadListOpen",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wae=Jae(Bae.prototype,"imageLoading",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Uae=Jae(Bae.prototype,"imageError",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$ae=Jae(Bae.prototype,"setDownloadButtonRef",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.downloadButtonRef=e}}}),Jae(Bae.prototype,"openDownloadList",[ht],Object.getOwnPropertyDescriptor(Bae.prototype,"openDownloadList"),Bae.prototype),Jae(Bae.prototype,"closeDownloadList",[ht],Object.getOwnPropertyDescriptor(Bae.prototype,"closeDownloadList"),Bae.prototype),qae=Jae(Bae.prototype,"handleImageLoad",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.imageLoading=!1}}}),Kae=Jae(Bae.prototype,"handleImageError",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.imageError=!0}}}),Yae=Bae))||Yae;let ele=(function(e,t,n,i,r){var o={};Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}((Xae=class{constructor(){this.clear()}clear(){this.teaserProviders={}}get keys(){return Object.keys(this.teaserProviders)}add(e,t){if(e in this.teaserProviders)throw new Error('The key "'+e+'" has already been used for another TeaserProvider');this.teaserProviders[e]=t}get(e){if(!(e in this.teaserProviders))throw new Error('There is no TeaserProvider with key "'+e+'" registered');return this.teaserProviders[e]}}).prototype,"keys",[ge],Object.getOwnPropertyDescriptor(Xae.prototype,"keys"),Xae.prototype),Xae);var tle,nle,ile,rle,ole,sle,ale,lle,cle,ule,dle,hle,ple=new ele,fle={"edit-form":"edit-form--sejQk_ett7",editForm:"edit-form--sejQk_ett7",form:"form--ycsa67XJQB","media-column":"media-column--cfiHSz30oU",mediaColumn:"media-column--cfiHSz30oU","media-button":"media-button--CGQFGkNHnV",mediaButton:"media-button--CGQFGkNHnV","media-button-edit-icon":"media-button-edit-icon--HLxrklUL3a",mediaButtonEditIcon:"media-button-edit-icon--HLxrklUL3a","media-button-icon":"media-button-icon--tUeg_yHC0c",mediaButtonIcon:"media-button-icon--tUeg_yHC0c","title-input":"title-input--GHPSx2zWHp",titleInput:"title-input--GHPSx2zWHp","description-text-area":"description-text-area--jLXYLUzSuR",descriptionTextArea:"description-text-area--jLXYLUzSuR",buttons:"buttons--CELnIQ_F4R",item:"item--OVCZDw0jiw",media:"media--s1xqD1EQvt",title:"title--mqEYrTzjv7",content:"content--PluxNEyTY0",description:"description--NHwShbWICP",type:"type--WyglXfUN3H"};function mle(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function gle(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let ble=Br((hle=class e extends u.Component{constructor(...e){super(...e),mle(this,"title",ile,this),mle(this,"description",rle,this),mle(this,"mediaId",ole,this),mle(this,"mediaOverlayOpen",sle,this),mle(this,"handleMediaClick",ale,this),mle(this,"handleMediaConfirm",lle,this),mle(this,"handleMediaOverlayClose",cle,this),mle(this,"handleTitleChange",ule,this),mle(this,"handleDescriptionChange",dle,this),this.handleCancel=()=>{const{id:e,onCancel:t,type:n}=this.props;t(n,e)},this.handleReset=()=>{const{id:e,onApply:t,type:n}=this.props;t({id:e,type:n})},this.handleApply=()=>{const{id:e,onApply:t,type:n}=this.props;t({description:this.description,id:e,mediaId:this.mediaId,title:this.title,type:n})}}componentDidMount(){this.setStateFromProps()}componentDidUpdate(e){e.title===this.props.title&&e.description===this.props.description&&e.mediaId===this.props.mediaId||this.setStateFromProps(),!0===e.editing&&!1===this.props.editing&&this.setStateFromProps()}setStateFromProps(){const{description:e,mediaId:t,title:n}=this.props;this.title=n,this.description=e,this.mediaId=t}render(){const{edited:t,editing:n,locale:i,type:r}=this.props,{mediaUrl:o}=e;return n?u.createElement(u.Fragment,null,u.createElement("div",{className:fle.editForm},u.createElement("div",{className:fle.form},u.createElement("div",{className:fle.mediaColumn},o&&u.createElement("button",{className:fle.mediaButton,onClick:this.handleMediaClick,type:"button"},this.mediaId?u.createElement("img",{src:o.replace(":id",this.mediaId.toString())}):u.createElement(Aae,{iconSize:16,mimeType:"image"}),u.createElement(ro,{className:fle.mediaButtonIcon,name:"su-pen"}))),u.createElement("div",{className:fle.formColumn},u.createElement("div",{className:fle.titleInput},u.createElement(kl,{onChange:this.handleTitleChange,value:this.title})),u.createElement("div",{className:fle.descriptionTextArea},u.createElement(KR,{adapter:"ckeditor5",locale:i,onChange:this.handleDescriptionChange,value:this.description})))),u.createElement("div",{className:fle.buttons},u.createElement(uo,{onClick:this.handleCancel},Xs("sulu_admin.cancel")),u.createElement(uo,{onClick:this.handleReset,skin:"link"},Xs("sulu_admin.reset")),u.createElement(uo,{onClick:this.handleApply,skin:"primary"},Xs("sulu_admin.apply")))),u.createElement(Yoe,{locale:i,onClose:this.handleMediaOverlayClose,onConfirm:this.handleMediaConfirm,open:this.mediaOverlayOpen})):u.createElement("div",{className:fle.item},u.createElement("div",{className:fle.media},o&&this.mediaId&&u.createElement("img",{src:o.replace(":id",this.mediaId.toString())})),u.createElement("div",{className:fle.content},u.createElement("p",{className:fle.title},this.title),u.createElement("p",{className:fle.description},this.description&&m8()(this.description))),u.createElement("p",{className:fle.type},ple.get(r).title,t&&" ("+Xs("sulu_page.edited")+")"))}},hle.mediaUrl=void 0,ile=gle((nle=hle).prototype,"title",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),rle=gle(nle.prototype,"description",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),ole=gle(nle.prototype,"mediaId",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),sle=gle(nle.prototype,"mediaOverlayOpen",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gle(nle.prototype,"setStateFromProps",[ht],Object.getOwnPropertyDescriptor(nle.prototype,"setStateFromProps"),nle.prototype),ale=gle(nle.prototype,"handleMediaClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.mediaOverlayOpen=!0}}}),lle=gle(nle.prototype,"handleMediaConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.mediaId=e.id,this.mediaOverlayOpen=!1}}}),cle=gle(nle.prototype,"handleMediaOverlayClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.mediaOverlayOpen=!1}}}),ule=gle(nle.prototype,"handleTitleChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.title=e}}}),dle=gle(nle.prototype,"handleDescriptionChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.description=e}}}),tle=nle))||tle;var yle,vle,_le,wle,kle,Cle,Ele,xle,Sle,Ole,Tle,Mle,Ple=ble;function Dle(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Lle(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function Ale(e){return e.type+";"+e.id}let zle=Br(((Mle=class extends u.Component{constructor(e){super(e),Dle(this,"editIds",_le,this),Dle(this,"openedOverlay",wle,this),Dle(this,"handleCancel",kle,this),Dle(this,"handleEdit",Cle,this),Dle(this,"handleApply",Ele,this),this.handleRemove=e=>{const{onChange:t,value:n}=this.props,i=function(e){const t=e.split(";");return{id:t[1],type:t[0]}}(e);t({...n,items:n.items.filter((e=>e.id.toString()!==i.id||e.type!==i.type))})},this.handleSorted=(e,t)=>{const{onChange:n,value:i}=this.props;n({...i,items:ho(i.items,e,t)})},Dle(this,"handleClose",xle,this),Dle(this,"handleConfirm",Sle,this),Dle(this,"handleAddClick",Ole,this),Dle(this,"handlePresentationClick",Tle,this),ht((()=>{const{locale:e,value:t}=this.props;this.teaserStore=new xae(e),t.items.forEach((e=>{this.teaserStore.add(e.type,e.id)}))}))()}componentWillUnmount(){this.teaserStore.destroy()}get teaserItems(){return this.props.value.items.map((e=>({...this.teaserStore.findById(e.type,e.id),...Object.keys(e).reduce(((t,n)=>(void 0!==e[n]&&(t[n]=e[n]),t)),{}),edited:!!(e.description||e.mediaId||e.title)})))}get presentationOptions(){const{presentations:e}=this.props;if(e)return e.map((e=>({label:e.label,value:e.value})))}get selectedPresentation(){const{presentations:e,value:t}=this.props;if(e)return e.find((e=>e.value===t.presentAs))}openItemEdit(e){this.editIds.push(e)}closeItemEdit(e){this.editIds.splice(this.editIds.findIndex((t=>t===e)),1)}render(){const{disabled:e,locale:t,onItemClick:n,value:i}=this.props,r=ple.keys.map((e=>({label:ple.get(e).title,value:e}))),o=this.presentationOptions?{icon:"su-eye",label:this.selectedPresentation&&this.selectedPresentation.label,onClick:this.handlePresentationClick,options:this.presentationOptions}:void 0;return u.createElement(u.Fragment,null,u.createElement(yE,{disabled:e,leftButton:{icon:"su-plus-circle",onClick:this.handleAddClick,options:r},loading:this.teaserStore.loading,onItemsSorted:this.handleSorted,rightButton:o},this.teaserItems.map(((e,i)=>{const r=Ale(e);return u.createElement(yE.Item,{id:r,index:i+1,key:r,onClick:this.editIds.includes(r)?void 0:n,onEdit:this.editIds.includes(r)?void 0:this.handleEdit,onRemove:this.handleRemove,value:e},u.createElement(Ple,{description:e.description,edited:e.edited,editing:this.editIds.includes(r),id:e.id,locale:t,mediaId:e.mediaId,onApply:this.handleApply,onCancel:this.handleCancel,title:e.title,type:e.type}))}))),ple.keys.map((e=>u.createElement(vE,{adapter:ple.get(e).listAdapter,key:e,listKey:e,locale:t,onClose:this.handleClose,onConfirm:this.handleConfirm,open:this.openedOverlay===e,preloadSelectedItems:!1,preSelectedItems:i.items.filter((t=>t.type===e)),resourceKey:e,title:ple.get(e).overlayTitle}))))}}).defaultProps={disabled:!1,value:{presentAs:void 0,items:[]}},Mle.Item=Ple,_le=Lle((vle=Mle).prototype,"editIds",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),wle=Lle(vle.prototype,"openedOverlay",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Lle(vle.prototype,"teaserItems",[ge],Object.getOwnPropertyDescriptor(vle.prototype,"teaserItems"),vle.prototype),Lle(vle.prototype,"presentationOptions",[ge],Object.getOwnPropertyDescriptor(vle.prototype,"presentationOptions"),vle.prototype),Lle(vle.prototype,"selectedPresentation",[ge],Object.getOwnPropertyDescriptor(vle.prototype,"selectedPresentation"),vle.prototype),kle=Lle(vle.prototype,"handleCancel",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{this.closeItemEdit(Ale({id:t,type:e}))}}}),Cle=Lle(vle.prototype,"handleEdit",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.openItemEdit(e)}}}),Ele=Lle(vle.prototype,"handleApply",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{onChange:t}=this.props,n={...this.props.value},i=n.items.findIndex((t=>t.id===e.id));n.items[i]=e,t(n),this.closeItemEdit(Ale(e))}}}),xle=Lle(vle.prototype,"handleClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.openedOverlay=void 0}}}),Sle=Lle(vle.prototype,"handleConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{openedOverlay:t}=this;if(!t)throw new Error("There was no opened overlay defined! This should not happen and is likely a bug.");const{onChange:n,value:i}=this.props,r=i.items.filter((n=>n.type!==t||e.find((e=>e.id===n.id)))),o=e.filter((e=>!r.find((n=>n.id===e.id&&n.type===t)))).map((e=>({id:e.id,type:t})));n({...i,items:[...r,...o]}),e.forEach((e=>{this.teaserStore.add(t,e.id)})),this.openedOverlay=void 0}}}),Ole=Lle(vle.prototype,"handleAddClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.openedOverlay=e}}}),Tle=Lle(vle.prototype,"handlePresentationClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{onChange:t,value:n}=this.props;t({...n,presentAs:e})}}}),yle=vle))||yle;var Ile,Rle=zle;function jle(){return jle=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},jle.apply(this,arguments)}var Nle,Fle,Yle=Br(Ile=class e extends u.Component{constructor(...e){super(...e),this.handleDownload=e=>{window.location.href=e}}static formatFileSize(e){return e>1e6?`${(e/1e6).toFixed(2)} MB`:`${(e/1e3).toFixed(2)} KB`}getDownloadDropdownProps(e){const t=window.location.origin,{thumbnails:n}=e,i=[],r=e.adminUrl||e.url;return i.push({url:t+r,label:Xs("sulu_media.copy_masterfile_url")}),i.push({url:t+e.url,label:Xs("sulu_media.copy_masterfile_url_website")}),n&&i.push(...Object.keys(n).map((n=>({url:t+e.thumbnails[n],label:n})))),{imageSizes:i,onDownload:this.handleDownload,downloadCopyText:Xs("sulu_media.copy_url"),downloadUrl:t+r,downloadText:Xs("sulu_media.download_masterfile")}}render(){const{data:t,icon:n,loading:i,onItemClick:r,onItemSelectionChange:o,onPageChange:s,page:a,pageCount:l,selections:c,showCoverWhenSelected:d}=this.props;return u.createElement(M7,{currentPage:a,loading:i,onPageChange:s,totalPages:l},u.createElement(R7,null,t.map((t=>{const i=`${t.mimeType} ${e.formatFileSize(t.size)}`,s=this.getDownloadDropdownProps(t),a=c.includes(t.id),l=t.thumbnails?t.thumbnails["sulu-240x"]:null;return u.createElement(Qae,jle({},s,{ghostLocale:t.ghostLocale,icon:n,id:t.id,image:l,key:t.id,meta:i,mimeType:t.mimeType,onClick:r,onSelectionChange:o,selected:a,showCover:d&&a,title:t.title}))}))))}})||Ile;function Ble(){return Ble=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ble.apply(this,arguments)}var Hle,Vle,Wle=Br(((Fle=class extends Ag{render(){return u.createElement(Yle,Ble({},this.props,{icon:"su-pen"}))}}).LoadingStrategy=HC,Fle.StructureStrategy=PC,Fle.icon="su-th-large",Nle=Fle))||Nle;function Ule(){return Ule=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ule.apply(this,arguments)}var $le=Br(((Vle=class extends Ag{constructor(...e){super(...e),this.handleItemClick=(e,t)=>{const{onItemSelectionChange:n}=this.props;n&&n(e,t)}}render(){const{onItemSelectionChange:e}=this.props;return u.createElement(Yle,Ule({},this.props,{icon:"su-check",onItemClick:e,showCoverWhenSelected:!0}))}}).LoadingStrategy=HC,Vle.StructureStrategy=PC,Vle.icon="su-th-large",Hle=Vle))||Hle;function qle(e){return"leftTop"===e||"top"===e||"rightTop"===e||"left"===e||"middle"===e||"right"===e||"leftBottom"===e||"bottom"===e||"rightBottom"===e}function Kle(e){return e?e.filter((e=>!0===e.value)).map((({name:e})=>{if(!qle(e))throw new Error('The children of "displayOptions" contains the invalid value "'+(e||"")+'".');return e})):[]}function Gle(e){return e?e.split(",").map((e=>e.trim())):[]}function Zle(e){switch(e){case"leftTop":return"su-display-top-left";case"top":return"su-display-top-center";case"rightTop":return"su-display-top-right";case"left":return"su-display-center-left";case"middle":return"su-display-center-center";case"right":return"su-display-center-right";case"leftBottom":return"su-display-bottom-left";case"bottom":return"su-display-bottom-center";case"rightBottom":return"su-display-bottom-right";default:return"su-display-default"}}function Jle(e){switch(e){case"leftTop":return Xs("sulu_media.left_top");case"top":return Xs("sulu_media.top");case"rightTop":return Xs("sulu_media.right_top");case"left":return Xs("sulu_media.left");case"middle":return Xs("sulu_media.middle");case"right":return Xs("sulu_media.right");case"leftBottom":return Xs("sulu_media.left_bottom");case"bottom":return Xs("sulu_media.bottom");case"rightBottom":return Xs("sulu_media.right_bottom");default:return""}}var Xle,Qle,ece,tce;function nce(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const ice="sulu-25x25";let rce=Br((tce=class extends u.Component{constructor(e){super(e),function(e,t,n,i){n&&Object.defineProperty(e,"overlayOpen",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}(this,0,ece,this),this.handleRemove=e=>{this.mediaSelectionStore.removeById(e)},this.handleSorted=(e,t)=>{this.mediaSelectionStore.move(e,t)},this.handleOverlayOpen=()=>{this.openMediaOverlay()},this.handleOverlayClose=()=>{this.closeMediaOverlay()},this.handleOverlayConfirm=e=>{this.mediaSelectionStore.set([...this.mediaSelectionStore.items,...e]),this.closeMediaOverlay()},this.handleDisplayOptionClick=e=>{const{onChange:t,value:n}=this.props;t({...n,displayOption:e})},this.handleItemClick=(e,t)=>{const{onItemClick:n}=this.props;n&&n(e,t)};const{locale:t,value:n}=this.props;this.mediaSelectionStore=new uc("media",n.ids,t),this.changeDisposer=bt((()=>this.mediaSelectionStore.items.map((e=>e.id))),(e=>{const{onChange:t,value:n}=this.props;si()(Mt(n.ids),Mt(e))||t({...n,ids:e})}))}componentDidUpdate(){const e=Mt(this.props.value.ids),t=Mt(this.mediaSelectionStore.items.map((e=>e.id)));e.sort(),t.sort(),si()(e,t)||this.mediaSelectionStore.loadItems(e)}componentWillUnmount(){this.changeDisposer()}openMediaOverlay(){this.overlayOpen=!0}closeMediaOverlay(){this.overlayOpen=!1}getLabel(e){return 1===e?`1 ${Xs("sulu_media.media_selected_singular")}`:e>1?`${e} ${Xs("sulu_media.media_selected_plural")}`:Xs("sulu_media.select_media_plural")}render(){const{locale:e,disabled:t,displayOptions:n,sortable:i,types:r,value:o}=this.props,{loading:s,items:a}=this.mediaSelectionStore,l=s?"":this.getLabel(a.length),c=n.length>0?{icon:Zle(o.displayOption),onClick:this.handleDisplayOptionClick,options:n.map((e=>({icon:Zle(e),label:Jle(e),value:e})))}:void 0;return u.createElement(u.Fragment,null,u.createElement(yE,{disabled:!!t,label:l,leftButton:{icon:"su-image",onClick:this.handleOverlayOpen},loading:s,onItemClick:this.handleItemClick,onItemRemove:this.handleRemove,onItemsSorted:this.handleSorted,rightButton:c,sortable:i},a.map(((e,t)=>u.createElement(yE.Item,{id:e.id,index:t+1,key:e.id,value:e},u.createElement("div",{className:"media-item--LtbAZjuXSt"},e.thumbnails&&e.thumbnails[ice]?u.createElement("img",{alt:e.title,className:"thumbnail-image--LD2oupTCGW",src:e.thumbnails[ice]}):u.createElement(Aae,{height:25,iconSize:16,mimeType:e.mimeType,width:25}),u.createElement("div",{className:"media-title--OrsoPyAFfd"},u.createElement(sp,null,e.title))))))),u.createElement(zoe,{excludedIds:a.map((e=>e.id)),locale:e,onClose:this.handleOverlayClose,onConfirm:this.handleOverlayConfirm,open:this.overlayOpen,types:r}))}},tce.defaultProps={disabled:!1,displayOptions:[],sortable:!0,types:[],value:{displayOption:void 0,ids:[]}},ece=nce((Qle=tce).prototype,"overlayOpen",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),nce(Qle.prototype,"openMediaOverlay",[ht],Object.getOwnPropertyDescriptor(Qle.prototype,"openMediaOverlay"),Qle.prototype),nce(Qle.prototype,"closeMediaOverlay",[ht],Object.getOwnPropertyDescriptor(Qle.prototype,"closeMediaOverlay"),Qle.prototype),Xle=Qle))||Xle;var oce,sce,ace=rce;let lce=Br((sce=class extends u.Component{constructor(e){super(e),this.handleChange=e=>{const{onChange:t,onFinish:n}=this.props;t(e),n()},this.handleItemClick=(e,t)=>{const{router:n}=this.props;if(!n||!t)return;const{id:i,locale:r}=t;n.navigate("sulu_media.form",{id:i,locale:r})};const{onChange:t,schemaOptions:n}=this.props,{defaultDisplayOption:{value:i}={}}=n;if(i){if("string"!=typeof i||!qle(i))throw new Error('The children of "defaultDisplayOption" contains the invalid value "'+i.toString()+'".');void 0===this.value&&t({ids:[],displayOption:i},{isDefaultValue:!0})}}get value(){const{value:e,dataPath:t}=this.props;if(e&&O(e))return c().warn('The "MediaSelection" field with the path "'+t+'" expects an object with an "ids" property as value but received an array instead. Is it possible that your API returns an array of ids or an array serialized objects?\n\nThe Sulu form view expects that your API returns the data in the same format as it is sent to the server when submitting the form. \nSulu will try to extract the required data from the given array heuristically. This decreases performance and might lead to errors or other unexpected behaviour.'),{ids:e.map((e=>e&&"object"==typeof e?e.id:e))};if(e&&("object"!=typeof e||!O(e.ids)))throw new Error('The "MediaSelection" field expects an object with an "ids" property and an optional "displayOption" property as value.');return e}render(){const{disabled:e,formInspector:t,schemaOptions:n}=this.props,{displayOptions:{value:i}={},types:{value:r}={},sortable:{value:o=!0}={}}=n,s=t.locale?t.locale:ue.box(sl.contentLocale);if(null!=i&&!O(i))throw new Error('The "displayOptions" option has to be an Array if set.');const a=Kle(i);if(null!=r&&"string"!=typeof r)throw new Error('The "types" option has to be a string if set.');const l=Gle(r);if(void 0!==o&&"boolean"!=typeof o)throw new Error('The "sortable" schema option must be a boolean if given!');return u.createElement(ace,{disabled:!!e,displayOptions:a,locale:s,onChange:this.handleChange,onItemClick:this.handleItemClick,sortable:o,types:l,value:this.value?this.value:void 0})}},function(e,t,n,i,r){var o={};Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}(sce.prototype,"value",[ge],Object.getOwnPropertyDescriptor(sce.prototype,"value"),sce.prototype),oce=sce))||oce;var cce,uce,dce,hce,pce,fce,mce,gce,bce=lce,yce={"media-container":"media-container--ncV52rTVxx",mediaContainer:"media-container--ncV52rTVxx","upload-indicator":"upload-indicator--UtiMIiNuN6",uploadIndicator:"upload-indicator--UtiMIiNuN6","show-upload-indicator":"show-upload-indicator--MioGe_iaid",showUploadIndicator:"show-upload-indicator--MioGe_iaid",disabled:"disabled--COeGJYKiW4",progressbar:"progressbar--mAyKwfodWB","upload-indicator-container":"upload-indicator-container--dj1uz833eG",uploadIndicatorContainer:"upload-indicator-container--dj1uz833eG","mime-type-indicator":"mime-type-indicator--cEdWRZQsC3",mimeTypeIndicator:"mime-type-indicator--cEdWRZQsC3","empty-indicator":"empty-indicator--DB9QKbu9df",emptyIndicator:"empty-indicator--DB9QKbu9df","upload-icon":"upload-icon--oTZ0BxNDy2",uploadIcon:"upload-icon--oTZ0BxNDy2","upload-info-text":"upload-info-text--xyne1lUmSW",uploadInfoText:"upload-info-text--xyne1lUmSW",thumbnail:"thumbnail--KMeu39ZiYr",round:"round--kDOBpeQzzA","error-text":"error-text--ideRxCG9TI",errorText:"error-text--ideRxCG9TI"};function vce(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function _ce(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var wce,kce,Cce,Ece,xce,Sce,Oce,Tce,Mce,Pce=Br(((gce=class extends u.Component{constructor(...e){super(...e),vce(this,"uploadIndicatorVisibility",dce,this),vce(this,"imageLoading",hce,this),vce(this,"imageError",pce,this),vce(this,"handleImageLoad",fce,this),this.handleDrop=e=>{const t=e[0];this.props.onDrop(t),this.setUploadIndicatorVisibility(!1)},this.handleDragEnter=()=>{this.setUploadIndicatorVisibility(!0)},this.handleDragLeave=()=>{this.setUploadIndicatorVisibility(!1)},vce(this,"handleImageError",mce,this)}componentDidMount(){this.preloadImage()}componentDidUpdate(e){this.props.image!==e.image&&this.preloadImage()}preloadImage(){const{image:e}=this.props;e?(this.imageLoading=!0,this.image=new Image,this.image.onerror=this.handleImageError,this.image.onload=this.handleImageLoad,this.image.src=e):this.handleImageLoad()}setUploadIndicatorVisibility(e){this.uploadIndicatorVisibility=e}render(){const{accept:e,disabled:t,emptyIcon:n,errorText:i,image:r,mimeType:o,progress:s,skin:a,uploading:l,uploadText:c}=this.props,d=eo()(yce.mediaContainer,yce[a],{[yce.showUploadIndicator]:this.uploadIndicatorVisibility,[yce.disabled]:t});return u.createElement(u.Fragment,null,u.createElement(HH,{accept:e?{[e]:[]}:void 0,disabled:t,multiple:!1,noClick:l,onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},(({getInputProps:e,getRootProps:t})=>u.createElement(Hr,null,(()=>u.createElement("div",t({className:d}),r&&!this.imageError&&u.createElement(u.Fragment,null,u.createElement("img",{className:yce.thumbnail,key:r,src:r}),this.imageLoading&&u.createElement(ao,null)),(!r||this.imageError)&&o&&u.createElement("div",{className:yce.mimeTypeIndicator},u.createElement(Aae,{iconSize:100,mimeType:o})),!r&&!o&&u.createElement("div",{className:yce.emptyIndicator},u.createElement(ro,{name:n})),l?u.createElement("div",{className:yce.progressbar},u.createElement(U6,{percentage:s,size:200})):u.createElement("div",{className:yce.uploadIndicatorContainer},u.createElement("div",{className:yce.uploadIndicator},u.createElement("div",null,u.createElement(ro,{className:yce.uploadIcon,name:"su-upload"}),c&&u.createElement("div",{className:yce.uploadInfoText},c)))),u.createElement("input",e())))))),i&&u.createElement("div",{className:yce.errorText},i))}}).defaultProps={accept:void 0,disabled:!1,emptyIcon:"su-image",mimeType:"",progress:0,skin:"default",uploading:!1},dce=_ce((uce=gce).prototype,"uploadIndicatorVisibility",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hce=_ce(uce.prototype,"imageLoading",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pce=_ce(uce.prototype,"imageError",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_ce(uce.prototype,"preloadImage",[ht],Object.getOwnPropertyDescriptor(uce.prototype,"preloadImage"),uce.prototype),fce=_ce(uce.prototype,"handleImageLoad",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.imageLoading=!1,this.imageError=!1}}}),_ce(uce.prototype,"setUploadIndicatorVisibility",[ht],Object.getOwnPropertyDescriptor(uce.prototype,"setUploadIndicatorVisibility"),uce.prototype),mce=_ce(uce.prototype,"handleImageError",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.imageError=!0}}}),cce=uce))||cce;function Dce(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Lce(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Ace,zce,Ice,Rce,jce=Br(((Mce=class extends u.Component{get errorMessage(){const e=this.props.mediaUploadStore.error;if(e)return e.detail||e.title||Xs("sulu_media.upload_server_error")}constructor(e){super(e),Dce(this,"showDeleteDialog",Cce,this),Dce(this,"deleting",Ece,this),this.handleMediaDrop=e=>{const{collectionId:t,mediaUploadStore:n}=this.props;n.id?n.update(e).then(this.callUploadComplete):t&&n.create(t,e).then(this.callUploadComplete)},Dce(this,"handleDownloadMediaClick",xce,this),Dce(this,"handleDeleteMediaClick",Sce,this),Dce(this,"handleDeleteDialogCancelClick",Oce,this),Dce(this,"handleDeleteDialogConfirmClick",Tce,this),this.callUploadComplete=e=>{const{onUploadComplete:t}=this.props;t&&t(e)};const{collectionId:t,mediaUploadStore:n}=this.props;if(!n.media&&!t)throw new Error('If a new item is supposed to be uploaded a "collectionId" is required!')}render(){const{deletable:e,disabled:t,downloadable:n,emptyIcon:i,mediaUploadStore:r,imageSize:o,skin:s,uploadText:a}=this.props,{mimeType:l,progress:c,uploading:d}=r;return u.createElement(u.Fragment,null,u.createElement(Pce,{disabled:t,emptyIcon:i,errorText:this.errorMessage,image:r.getThumbnail(o),mimeType:l,onDrop:this.handleMediaDrop,progress:c,skin:s,uploading:d,uploadText:a}),r.id&&!t&&u.createElement("div",{className:"buttons--L3ot7pGaQt"},n&&u.createElement(uo,{icon:"su-download",onClick:this.handleDownloadMediaClick,skin:"link"},Xs("sulu_media.download_media")),e&&u.createElement(uo,{icon:"su-trash-alt",onClick:this.handleDeleteMediaClick,skin:"link"},Xs("sulu_media.delete_media"))),u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmLoading:this.deleting,confirmText:Xs("sulu_admin.ok"),onCancel:this.handleDeleteDialogCancelClick,onConfirm:this.handleDeleteDialogConfirmClick,open:this.showDeleteDialog,title:Xs("sulu_media.delete_media_warning_title")},Xs("sulu_media.delete_media_warning_text")))}}).defaultProps={deletable:!0,disabled:!1,downloadable:!0,imageSize:"sulu-400x400",skin:"default"},Cce=Lce((kce=Mce).prototype,"showDeleteDialog",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ece=Lce(kce.prototype,"deleting",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Lce(kce.prototype,"errorMessage",[ge],Object.getOwnPropertyDescriptor(kce.prototype,"errorMessage"),kce.prototype),xce=Lce(kce.prototype,"handleDownloadMediaClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{window.location.assign(this.props.mediaUploadStore.downloadUrl)}}}),Sce=Lce(kce.prototype,"handleDeleteMediaClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showDeleteDialog=!0}}}),Oce=Lce(kce.prototype,"handleDeleteDialogCancelClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showDeleteDialog=!1}}}),Tce=Lce(kce.prototype,"handleDeleteDialogConfirmClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.deleting=!0,this.props.mediaUploadStore.delete().then(ht((e=>{this.callUploadComplete(e),this.deleting=!1,this.showDeleteDialog=!1})))}}}),wce=kce))||wce;function Nce(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Fce(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const Yce="media_formats";var Bce,Hce,Vce,Wce,Uce,$ce,qce,Kce,Gce,Zce=(zce=Fce((Ace=class{constructor(e,t){Nce(this,"mediaFormats",zce,this),Nce(this,"loading",Ice,this),Nce(this,"saving",Rce,this),this.id=e,this.locale=t,this.loading=!0,La.getList(Yce,{id:e,locale:t}).then(ht((e=>{this.loading=!1,this.mediaFormats=e})))}getFormatOptions(e){if(this.mediaFormats)return this.mediaFormats[e]}updateFormatOptions(e){return this.saving=!0,La.patch(Yce,e,{id:this.id,locale:this.locale}).then(ht((e=>{this.saving=!1;const t={...this.mediaFormats,...e};this.mediaFormats=Object.keys(t).reduce(((e,n)=>{const i=t[n];return 0===Object.keys(i).length||(e[n]=i),e}),{})})))}}).prototype,"mediaFormats",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ice=Fce(Ace.prototype,"loading",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rce=Fce(Ace.prototype,"saving",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fce(Ace.prototype,"updateFormatOptions",[ht],Object.getOwnPropertyDescriptor(Ace.prototype,"updateFormatOptions"),Ace.prototype),Ace),Jce=new class{sendRequest(){if(!sl.user)throw new Error("A user must be logged in to load the webspaces with the correct locale");return this.formatPromise||(this.formatPromise=La.getList("formats",{locale:sl.user.locale})),this.formatPromise}loadFormats(){return this.sendRequest().then((e=>e._embedded.formats))}};function Xce(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Qce(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let eue=Br((Hce=class extends u.Component{constructor(e){super(e),Xce(this,"rawFormats",Vce,this),Xce(this,"formatKey",Wce,this),Xce(this,"changedFormatCroppings",Uce,this),Xce(this,"dirty",$ce,this),Xce(this,"handleClose",qce,this),this.handleConfirm=()=>{const{onConfirm:e}=this.props,t={};this.changedFormatCroppings.forEach(((e,n)=>{t[n]=this.convertSelectionToFormatOptions(e)})),this.mediaFormatStore.updateFormatOptions(t).then(ht((()=>{e(),this.changedFormatCroppings.clear()})))},Xce(this,"handleFormatChange",Kce,this),Xce(this,"handleSelectionChange",Gce,this);const{id:t,locale:n}=this.props;this.mediaFormatStore=new Zce(t,n)}get currentSelection(){const{formatKey:e}=this;if(e)return this.changedFormatCroppings.has(e)?this.changedFormatCroppings.get(e):this.convertFormatOptionsToSelection(this.mediaFormatStore.getFormatOptions(e))}get availableFormats(){return this.rawFormats?this.rawFormats.filter((e=>!e.internal)):[]}get selectedFormat(){if(!this.availableFormats)throw new Error("Cannot access format as long as formats have not finished loading!");const e=this.availableFormats.find((e=>e.key===this.formatKey));if(e)return e}componentDidMount(){Jce.loadFormats().then(ht((e=>{this.rawFormats=e,this.formatKey=this.availableFormats.length>0?this.availableFormats[0].key:void 0})))}convertSelectionToFormatOptions(e){return e?{cropX:e.left,cropY:e.top,cropWidth:e.width,cropHeight:e.height}:{}}convertFormatOptionsToSelection(e){if(e)return{left:e.cropX,top:e.cropY,width:e.cropWidth,height:e.cropHeight}}render(){const{availableFormats:e,mediaFormatStore:t,selectedFormat:n}=this,{image:i,open:r}=this.props;return u.createElement(fd,{confirmDisabled:this.changedFormatCroppings.size<=0,confirmLoading:this.mediaFormatStore.saving,confirmText:Xs("sulu_admin.save"),onClose:this.handleClose,onConfirm:this.handleConfirm,open:r,size:"large",title:Xs("sulu_media.define_crops")},e?u.createElement("div",{className:"crop-overlay-container--iBOaRU4YH7"},u.createElement("div",{className:"format-select--r2OsZuyJVl"},u.createElement(zp,{onChange:this.handleFormatChange,value:this.formatKey},e.map((e=>u.createElement(zp.Option,{key:e.key,value:e.key},e.title+(t.getFormatOptions(e.key)?" ("+Xs("sulu_media.cropped")+")":"")))))),n&&!t.loading&&u.createElement(u.Fragment,null,u.createElement(O7,{image:i,minHeight:n.scale.y,minWidth:n.scale.x,onChange:this.handleSelectionChange,value:this.currentSelection}),u.createElement("p",null,"(",Xs("sulu_media.double_click_crop_and_maximize"),")"))):u.createElement(ao,null))}},Vce=Qce(Hce.prototype,"rawFormats",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wce=Qce(Hce.prototype,"formatKey",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uce=Qce(Hce.prototype,"changedFormatCroppings",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),$ce=Qce(Hce.prototype,"dirty",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qce(Hce.prototype,"currentSelection",[ge],Object.getOwnPropertyDescriptor(Hce.prototype,"currentSelection"),Hce.prototype),Qce(Hce.prototype,"availableFormats",[ge],Object.getOwnPropertyDescriptor(Hce.prototype,"availableFormats"),Hce.prototype),Qce(Hce.prototype,"selectedFormat",[ge],Object.getOwnPropertyDescriptor(Hce.prototype,"selectedFormat"),Hce.prototype),qce=Qce(Hce.prototype,"handleClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.props.onClose(),this.changedFormatCroppings.clear()}}}),Kce=Qce(Hce.prototype,"handleFormatChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.formatKey=e}}}),Gce=Qce(Hce.prototype,"handleSelectionChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{formatKey:t}=this;if(!t)throw new Error("It is not possible to change the selection without a selected format. This should not happen and is likely a bug.");this.changedFormatCroppings.set(t,e)}}}),Bce=Hce))||Bce;var tue=eue;class nue extends u.PureComponent{constructor(...e){super(...e),this.handleClick=()=>{const{value:e,onClick:t}=this.props;t&&t(e)}}static getDirectionInDegrees(e){switch(e){case"left":return-90;case"top-left":return-45;case"top":return 0;case"top-right":return 45;case"right":return 90;case"bottom-right":return 125;case"bottom":return 180;case"bottom-left":return 225}throw new Error(`Direction with the name "${e}" is undefined.`)}render(){const{size:e,active:t,arrowDirection:n}=this.props,i={width:`${e}%`,height:`${e}%`},r=eo()("image-focus-point-cell--sPSKKiLMUv",{"active--Woq6cVWbOD":t}),o=n?{transform:`rotate(${nue.getDirectionInDegrees(n)}deg)`}:{};return u.createElement("button",{className:r,disabled:t,onClick:this.handleClick,style:i,type:"button"},!!n&&!t&&u.createElement("div",{style:o},u.createElement(ro,{name:"su-angle-up"})))}}nue.defaultProps={active:!1};var iue,rue,oue,sue;function aue(){return aue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},aue.apply(this,arguments)}function lue(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function cue(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var uue,due,hue,pue,fue,mue,gue,bue=Br((rue=class extends u.Component{constructor(...e){super(...e),lue(this,"imageDimension",oue,this),this.handleFocusPointClick=e=>{this.props.onChange(e)},this.setImageRef=e=>{this.imageRef=e},this.handleImageLoad=()=>{this.updateImageDimension()},lue(this,"updateImageDimension",sue,this)}componentDidMount(){window.addEventListener("resize",this.updateImageDimension)}componentWillUnmount(){window.removeEventListener("resize",this.updateImageDimension)}createFocusPoints(e){const t=[];for(let n=0;n<3;n++)for(let i=0;i<3;i++)t.push(this.createFocusPoint(e,i,n));return t}createFocusPoint(e,t,n){const i=`${t}-${n}`,r={size:100/3,value:{x:t,y:n},onClick:this.handleFocusPointClick};return e.x===t&&e.y===n?u.createElement(nue,aue({key:i},r,{active:!0})):this.isLeftOfSelectedPoint(e,n,t)?u.createElement(nue,aue({key:i},r,{arrowDirection:"left"})):this.isRightOfSelectedPoint(e,n,t)?u.createElement(nue,aue({key:i},r,{arrowDirection:"right"})):this.isAboveOfSelectedPoint(e,n,t)?u.createElement(nue,aue({key:i},r,{arrowDirection:"top"})):this.isBeneathOfSelectedPoint(e,n,t)?u.createElement(nue,aue({key:i},r,{arrowDirection:"bottom"})):this.isAboveRightOfSelectedPoint(e,n,t)?u.createElement(nue,aue({key:i},r,{arrowDirection:"top-right"})):this.isAboveLeftOfSelectedPoint(e,n,t)?u.createElement(nue,aue({key:i},r,{arrowDirection:"top-left"})):this.isBeneathRightOfSelectedPoint(e,n,t)?u.createElement(nue,aue({key:i},r,{arrowDirection:"bottom-right"})):this.isBeneathLeftOfSelectedPoint(e,n,t)?u.createElement(nue,aue({key:i},r,{arrowDirection:"bottom-left"})):u.createElement(nue,aue({key:i},r))}isLeftOfSelectedPoint(e,t,n){return e.x-1===n&&e.y===t}isRightOfSelectedPoint(e,t,n){return e.x+1===n&&e.y===t}isAboveOfSelectedPoint(e,t,n){return e.x===n&&e.y-1===t}isAboveLeftOfSelectedPoint(e,t,n){return e.x-1===n&&e.y-1===t}isAboveRightOfSelectedPoint(e,t,n){return e.x+1===n&&e.y-1===t}isBeneathOfSelectedPoint(e,t,n){return e.x===n&&e.y+1===t}isBeneathRightOfSelectedPoint(e,t,n){return e.x+1===n&&e.y+1===t}isBeneathLeftOfSelectedPoint(e,t,n){return e.x-1===n&&e.y+1===t}render(){const{image:e,value:t}=this.props;return u.createElement("div",{className:"image-focus-point--BisJR1XZ8M"},this.imageDimension?u.createElement("div",{className:"focus-points--Xit27NvC4H",style:{height:this.imageDimension.height,width:this.imageDimension.width}},this.createFocusPoints(t)):u.createElement(ao,null),u.createElement("img",{className:"image--Lm8XOYt9ak",onLoad:this.handleImageLoad,ref:this.setImageRef,src:e}))}},oue=cue(rue.prototype,"imageDimension",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sue=cue(rue.prototype,"updateImageDimension",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.imageRef&&(this.imageDimension=this.imageRef.getBoundingClientRect())}}}),iue=rue))||iue;function yue(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function vue(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var _ue,wue,kue,Cue,Eue,xue,Sue,Oue,Tue,Mue,Pue,Due,Lue,Aue,zue,Iue=Br((due=class extends u.Component{get confirmDisabled(){const{resourceStore:{data:{focusPointX:e,focusPointY:t}}}=this.props;return this.focusPointX===e&&this.focusPointY===t}constructor(e){super(e),yue(this,"focusPointX",hue,this),yue(this,"focusPointY",pue,this),yue(this,"resourceStore",fue,this),yue(this,"updateFocusPoint",mue,this),this.handleClose=()=>{this.props.onClose()},this.handleConfirm=()=>{const{resourceStore:e}=this;if(!e)throw new Error("There is no resourceStore defined! This should not happen and is likely a bug.");e.change("focusPointX",this.focusPointX),e.change("focusPointY",this.focusPointY),e.save().then((()=>{this.props.resourceStore.set("focusPointX",this.focusPointX),this.props.resourceStore.set("focusPointY",this.focusPointY),this.props.onConfirm()}))},yue(this,"handleFocusPointChange",gue,this),this.updateFocusPoint()}componentDidUpdate(e){!e.open&&this.props.open&&(this.resourceStore=this.props.resourceStore.clone(),this.updateFocusPoint()),e.open&&!this.props.open&&this.resourceStore&&(this.resourceStore.destroy(),this.resourceStore=void 0)}render(){const{open:e}=this.props;return u.createElement(fd,{confirmDisabled:this.confirmDisabled,confirmLoading:!!this.resourceStore&&this.resourceStore.saving,confirmText:Xs("sulu_admin.save"),onClose:this.handleClose,onConfirm:this.handleConfirm,open:e,size:"large",title:Xs("sulu_media.set_focus_point")},u.createElement("div",{className:"focus-point-container--Ze9ONH2HqK"},!!this.resourceStore&&u.createElement(bue,{image:this.resourceStore.data.adminUrl?this.resourceStore.data.adminUrl:this.resourceStore.data.url,onChange:this.handleFocusPointChange,value:{x:this.focusPointX,y:this.focusPointY}})))}},hue=vue(due.prototype,"focusPointX",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pue=vue(due.prototype,"focusPointY",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fue=vue(due.prototype,"resourceStore",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vue(due.prototype,"confirmDisabled",[ge],Object.getOwnPropertyDescriptor(due.prototype,"confirmDisabled"),due.prototype),vue(due.prototype,"componentDidUpdate",[ht],Object.getOwnPropertyDescriptor(due.prototype,"componentDidUpdate"),due.prototype),mue=vue(due.prototype,"updateFocusPoint",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{resourceStore:e}=this.props,{focusPointX:t=1,focusPointY:n=1}=e.data;this.focusPointX=t,this.focusPointY=n}}}),gue=vue(due.prototype,"handleFocusPointChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.focusPointX=e.x,this.focusPointY=e.y}}}),uue=due))||uue;function Rue(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function jue(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Nue=Br((wue=class extends u.Component{constructor(e){super(e),Rue(this,"showFocusPointOverlay",kue,this),Rue(this,"showCropOverlay",Cue,this),Rue(this,"showDeletePreviewDialog",Eue,this),Rue(this,"deletingPreview",xue,this),this.handleUploadComplete=e=>{this.props.resourceStore.setMultiple(e),this.callSuccess()},this.handlePreviewUploadClick=e=>{this.mediaUploadStore.updatePreviewImage(e).then(this.callSuccess)},Rue(this,"handleDeletePreviewClick",Sue,this),Rue(this,"handleDeletePreviewConfirm",Oue,this),Rue(this,"handleDeletePreviewCancel",Tue,this),this.callSuccess=()=>{const{onSuccess:e}=this.props;e&&e()},Rue(this,"handleCropButtonClick",Mue,this),Rue(this,"handleCropOverlayClose",Pue,this),Rue(this,"handleCropOverlayConfirm",Due,this),Rue(this,"handleFocusPointButtonClick",Lue,this),Rue(this,"handleFocusPointOverlayClose",Aue,this),Rue(this,"handleFocusPointOverlayConfirm",zue,this);const{resourceStore:t}=this.props,n=t.locale;if(!n)throw new Error("The resourceStore for the MediaVersionUpload must have a locale");Dt((()=>!t.loading),(()=>{this.mediaUploadStore=new are(t.data,n)}))}render(){if(!this.mediaUploadStore)return null;const{resourceStore:e}=this.props,{data:{adminUrl:t,previewImageId:n,isImage:i,url:r},id:o,locale:s}=e;if(!o)return null;if(!s)throw new Error('The "MediaVersionUpload" field type only works with a locale!');return u.createElement(u.Fragment,null,u.createElement(jce,{deletable:!1,downloadable:!1,imageSize:"sulu-400x400-inset",mediaUploadStore:this.mediaUploadStore,onUploadComplete:this.handleUploadComplete,uploadText:Xs("sulu_media.upload_new_version")}),u.createElement("div",{className:"buttons--OBHbir3zm7"},i&&u.createElement(u.Fragment,null,u.createElement(uo,{icon:"su-focus",onClick:this.handleFocusPointButtonClick,skin:"link"},Xs("sulu_media.set_focus_point")),u.createElement(uo,{icon:"su-cut",onClick:this.handleCropButtonClick,skin:"link"},Xs("sulu_media.define_crops"))),!i&&u.createElement(u.Fragment,null,u.createElement(i7,{icon:"su-image",onUpload:this.handlePreviewUploadClick,skin:"link"},Xs("sulu_media.upload_preview_image")),u.createElement(uo,{disabled:!n,icon:"su-trash-alt",onClick:this.handleDeletePreviewClick,skin:"link"},Xs("sulu_media.delete_preview_image")))),u.createElement(Iue,{onClose:this.handleFocusPointOverlayClose,onConfirm:this.handleFocusPointOverlayConfirm,open:this.showFocusPointOverlay,resourceStore:e}),u.createElement(tue,{id:o,image:t||r,locale:s.get(),onClose:this.handleCropOverlayClose,onConfirm:this.handleCropOverlayConfirm,open:this.showCropOverlay}),u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmLoading:this.deletingPreview,confirmText:Xs("sulu_admin.ok"),onCancel:this.handleDeletePreviewCancel,onConfirm:this.handleDeletePreviewConfirm,open:this.showDeletePreviewDialog,title:Xs("sulu_media.delete_preview_image_warning_title")},Xs("sulu_media.delete_preview_image_warning_text")))}},kue=jue(wue.prototype,"showFocusPointOverlay",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cue=jue(wue.prototype,"showCropOverlay",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Eue=jue(wue.prototype,"showDeletePreviewDialog",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xue=jue(wue.prototype,"deletingPreview",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Sue=jue(wue.prototype,"handleDeletePreviewClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showDeletePreviewDialog=!0}}}),Oue=jue(wue.prototype,"handleDeletePreviewConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.deletingPreview=!0,this.mediaUploadStore.deletePreviewImage().then(ht((()=>{this.deletingPreview=!1,this.showDeletePreviewDialog=!1,this.callSuccess()})))}}}),Tue=jue(wue.prototype,"handleDeletePreviewCancel",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showDeletePreviewDialog=!1}}}),Mue=jue(wue.prototype,"handleCropButtonClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showCropOverlay=!0}}}),Pue=jue(wue.prototype,"handleCropOverlayClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showCropOverlay=!1}}}),Due=jue(wue.prototype,"handleCropOverlayConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showCropOverlay=!1,this.callSuccess()}}}),Lue=jue(wue.prototype,"handleFocusPointButtonClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showFocusPointOverlay=!0}}}),Aue=jue(wue.prototype,"handleFocusPointOverlayClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showFocusPointOverlay=!1}}}),zue=jue(wue.prototype,"handleFocusPointOverlayConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showFocusPointOverlay=!1,this.callSuccess()}}}),_ue=wue))||_ue;class Fue extends u.Component{constructor(e){super(e);const{formInspector:t}=this.props,n=t.formStore;if(!(n instanceof Gf))throw new Error("The MediaVersionUpload field needs a ResourceFormStore instance!");if(this.resourceStore=n.resourceStore,!this.resourceStore.locale)throw new Error("The resourceStore for the MediaVersionUpload must have a locale")}render(){return u.createElement(Nue,{onSuccess:this.props.onSuccess,resourceStore:this.resourceStore})}}var Yue=Fue;class Bue extends u.Component{constructor(e){super(e),this.handleUploadComplete=e=>{const{onChange:t,onFinish:n}=this.props;t(e),n()};const{formInspector:t,value:n}=this.props,i=t.locale?t.locale:ue.box(sl.contentLocale);this.mediaUploadStore=new are(n,i)}render(){const{disabled:e,schemaOptions:{collection_id:{value:t}={},empty_icon:{value:n}={},image_size:{value:i}={},skin:{value:r}={value:"default"},upload_text:o}={}}=this.props;if("number"!=typeof t)throw new Error('The "collection_id" schema option is mandatory and must a number!');if(void 0!==n&&"string"!=typeof n)throw new Error('The "empty_icon" schema option must be a string!');if(void 0!==i&&"string"!=typeof i)throw new Error('The "image_size" schema option must be a string!');if("default"!==r&&"round"!==r)throw new Error('The "skin" schema option must either be "default" or "round"!');return u.createElement(jce,{collectionId:t,disabled:!!e,emptyIcon:n,imageSize:i,mediaUploadStore:this.mediaUploadStore,onUploadComplete:this.handleUploadComplete,skin:r,uploadText:o&&o.infoText})}}var Hue,Vue,Wue,Uue;function $ue(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const que="sulu-25x25";let Kue=Br((Uue=class extends u.Component{constructor(e){super(e),function(e,t,n,i){n&&Object.defineProperty(e,"overlayOpen",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}(this,0,Wue,this),this.handleRemove=()=>{this.singleMediaSelectionStore.clear()},this.handleOverlayOpen=()=>{this.openOverlay()},this.handleOverlayClose=()=>{this.closeOverlay()},this.handleOverlayConfirm=e=>{this.singleMediaSelectionStore.set(e),this.closeOverlay()},this.handleDisplayOptionClick=e=>{const{onChange:t,value:n}=this.props;t({...n,displayOption:e})},this.handleItemClick=(e,t)=>{const{onItemClick:n}=this.props;n&&n(e,t)};const{locale:t,value:n}=this.props;this.singleMediaSelectionStore=new Zc("media",n.id,t),this.changeDisposer=bt((()=>this.singleMediaSelectionStore.item?this.singleMediaSelectionStore.item.id:void 0),(e=>{const{onChange:t,value:n}=this.props;n.id!==e&&t({...n,id:e},this.singleMediaSelectionStore.item)}))}componentDidUpdate(e){const t=Mt(this.props.value.id),n=Mt(e.value.id),i=this.singleMediaSelectionStore.item?this.singleMediaSelectionStore.item.id:void 0;n!==t&&i!==t&&this.singleMediaSelectionStore.loadItem(t)}componentWillUnmount(){this.changeDisposer()}openOverlay(){this.overlayOpen=!0}closeOverlay(){this.overlayOpen=!1}render(){const{className:e,disabled:t,displayOptions:n,locale:i,types:r,valid:o,value:s}=this.props,{loading:a,item:l}=this.singleMediaSelectionStore,c=n.length>0?{icon:Zle(s.displayOption),onClick:this.handleDisplayOptionClick,options:n.map((e=>({icon:Zle(e),label:Jle(e),value:e})))}:void 0;return u.createElement(u.Fragment,null,u.createElement(Ax,{className:e,disabled:t,emptyText:Xs("sulu_media.select_media_singular"),id:l&&l.id,leftButton:{icon:"su-image",onClick:this.handleOverlayOpen},loading:a,onItemClick:this.handleItemClick,onRemove:l?this.handleRemove:void 0,rightButton:c,valid:o,value:l},l&&u.createElement("div",{className:"media-item--Ly3RG_EXoU"},l.thumbnails&&l.thumbnails[que]?u.createElement("img",{alt:l.title,className:"thumbnail-image--PjKLC9rzZK",src:l.thumbnails[que]}):u.createElement(Aae,{height:19,iconSize:14,mimeType:l.mimeType,width:19}),u.createElement("div",{className:"media-title--pXS1yq_0LE"},l.title))),u.createElement(Yoe,{excludedIds:l?[l.id]:[],locale:i,onClose:this.handleOverlayClose,onConfirm:this.handleOverlayConfirm,open:this.overlayOpen,types:r}))}},Uue.defaultProps={disabled:!1,displayOptions:[],types:[],valid:!0,value:{displayOption:void 0,id:void 0}},Wue=$ue((Vue=Uue).prototype,"overlayOpen",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$ue(Vue.prototype,"openOverlay",[ht],Object.getOwnPropertyDescriptor(Vue.prototype,"openOverlay"),Vue.prototype),$ue(Vue.prototype,"closeOverlay",[ht],Object.getOwnPropertyDescriptor(Vue.prototype,"closeOverlay"),Vue.prototype),Hue=Vue))||Hue;var Gue,Zue,Jue=Kue;let Xue=Br((Zue=class extends u.Component{constructor(e){super(e),this.handleChange=e=>{const{onChange:t,onFinish:n}=this.props;t(e),n()},this.handleItemClick=(e,t)=>{const{router:n}=this.props;if(!n||!t)return;const{id:i,locale:r}=t;n.navigate("sulu_media.form",{id:i,locale:r})};const{onChange:t,schemaOptions:n}=this.props,{defaultDisplayOption:{value:i}={}}=n;if(i){if("string"!=typeof i||!qle(i))throw new Error('The children of "defaultDisplayOption" contains the invalid value "'+i.toString()+'".');void 0===this.value&&t({id:void 0,displayOption:i},{isDefaultValue:!0})}}get value(){const{value:e,dataPath:t}=this.props;if(e&&"object"!=typeof e)throw new Error('The "SingleMediaSelection" field with the path "'+t+'" expects an object with an "id" property and an optional "displayOption" property as value. Is it possible that your API returns something else?\n\nThe Sulu form view expects that your API returns the data in the same format as it is sent to the server when submitting the form.');return e}render(){const{disabled:e,error:t,formInspector:n,schemaOptions:i}=this.props,{displayOptions:{value:r}={},types:{value:o}={}}=i,s=n.locale?n.locale:ue.box(sl.contentLocale);if(null!=r&&!O(r))throw new Error('The "displayOptions" option has to be an Array if set.');const a=Kle(r);if(null!=o&&"string"!=typeof o)throw new Error('The "types" option has to be a string if set.');const l=Gle(o);return u.createElement(Jue,{disabled:!!e,displayOptions:a,locale:s,onChange:this.handleChange,onItemClick:this.handleItemClick,types:l,valid:!t,value:this.value?this.value:void 0})}},function(e,t,n,i,r){var o={};Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}(Zue.prototype,"value",[ge],Object.getOwnPropertyDescriptor(Zue.prototype,"value"),Zue.prototype),Gue=Zue))||Gue;var Que,ede,tde,nde,ide=Xue;function rde(){return rde=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},rde.apply(this,arguments)}function ode(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function sde(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var ade=Br((ede=class extends u.Component{constructor(...e){super(...e),ode(this,"imageWrapperSize",tde,this),ode(this,"setImageWrapperSize",nde,this),this.setImageWrapperRef=e=>{this.imageWrapperRef=e},this.handleSelectionChange=e=>{const{onSelectionChange:t,selectedIndex:n}=this.props;t(n,e)},this.getCommonSelectionProps=(e,t)=>{const{disabled:n,onFinish:i,selectedIndex:r}=this.props,o=Object.entries(e.hotspot).filter((([e])=>"type"!==e)),s=0!==o.length?Object.fromEntries(o):void 0;return{containerHeight:this.imageWrapperSize.height,containerWidth:this.imageWrapperSize.width,disabled:n||t!==r,key:t,label:(t+1).toString(),onChange:this.handleSelectionChange,onFinish:i,usePercentageValues:!0,round:!1,value:s}},this.renderCircleSelection=(e,t)=>u.createElement(I6,rde({},this.getCommonSelectionProps(e,t),{resizable:!0,skin:"outlined"})),this.renderPointSelection=(e,t)=>u.createElement(I6,rde({},this.getCommonSelectionProps(e,t),{resizable:!1,skin:"filled"})),this.renderRectangleSelection=(e,t)=>u.createElement(E7,rde({},this.getCommonSelectionProps(e,t),{backdrop:!1,minSizeNotification:!1}))}componentDidMount(){this.setImageWrapperSize();const e=new ResizeObserver(ya()((()=>{this.setImageWrapperSize()}),200));this.imageWrapperRef&&e.observe(this.imageWrapperRef)}get imageUrl(){const{value:{imageId:e},locale:t}=this.props;if(e)return Ca().generate("sulu_media.redirect",{id:e,locale:t.get()})}get sortedHotspots(){const{value:e,selectedIndex:t}=this.props,n=Array.from(Mt(e.hotspots).entries());return n.sort((([e],[n])=>e===t?1:n===t?-1:0)),n}render(){const{imageUrl:e}=this;return u.createElement("div",{className:"image-renderer--wMdfmt6XLd"},u.createElement("div",{className:"image-renderer-wrapper--kYgUkIiwyb",ref:this.setImageWrapperRef},e&&u.createElement("img",{className:"image--GmfTCxgVlj",key:e,src:e}),this.sortedHotspots.map((([e,t])=>{switch(t.hotspot.type){case"circle":return this.renderCircleSelection(t,e);case"point":return this.renderPointSelection(t,e);case"rectangle":return this.renderRectangleSelection(t,e);default:throw new Error(`Unexpected hotspot type "${t.hotspot.type}".`)}}))))}},tde=sde(ede.prototype,"imageWrapperSize",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{width:0,height:0}}}),sde(ede.prototype,"imageUrl",[ge],Object.getOwnPropertyDescriptor(ede.prototype,"imageUrl"),ede.prototype),nde=sde(ede.prototype,"setImageWrapperSize",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{if(!this.imageWrapperRef)return;const{width:e,height:t}=this.imageWrapperRef.getBoundingClientRect();this.imageWrapperSize={width:e,height:t}}}}),sde(ede.prototype,"sortedHotspots",[ge],Object.getOwnPropertyDescriptor(ede.prototype,"sortedHotspots"),ede.prototype),Que=ede))||Que;class lde extends u.PureComponent{constructor(...e){super(...e),this.handleClick=e=>{const{onClick:t}=this.props;e.preventDefault(),t()}}render(){const{disabled:e,icon:t}=this.props;return u.createElement("button",{className:"button--mYpXSt_8og",disabled:e,onClick:this.handleClick,type:"button"},u.createElement(ro,{name:t}))}}lde.defaultProps={disabled:!1};var cde,ude,dde=lde;const hde={circle:"sulu_media.circle",point:"sulu_media.point",rectangle:"sulu_media.rectangle"};let pde=Br((function(e,t,n,i,r){var o={};Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}((ude=class extends u.Component{constructor(...e){super(...e),this.handleTypeChange=e=>{const{onTypeChange:t,selectedIndex:n}=this.props;t(n,e)},this.handleHotspotTypeChange=e=>{const{onHotspotTypeChange:t,selectedIndex:n}=this.props;t(n,e)},this.handleHotspotRemove=()=>{const{onHotspotRemove:e,selectedIndex:t}=this.props;e(t)}}get selectedHotspot(){const{value:e,selectedIndex:t}=this.props;return e[t]}render(){const{children:e,disabled:t,onHotspotAdd:n,onHotspotSelect:i,selectedIndex:r,types:o,value:s}=this.props;return u.createElement(hh,null,u.createElement(hh.Field,{label:Xs("sulu_media.hotspots")},u.createElement("div",{className:"hotspots-form-renderer--kamltwzc6u"},u.createElement("div",{className:"toolbar--bfZ_ZDl4qd"},u.createElement(dde,{disabled:t,icon:"su-plus-circle",onClick:n}),!s.length&&u.createElement("div",{className:"empty-tabs-label--hLV30m3AWc"},Xs("sulu_media.add_hotspot")),u.createElement(SY,{className:"tabs--ZtCM7HB0_K",onSelect:i,selectedIndex:r,type:"inline"},s.map(((e,t)=>u.createElement(SY.Tab,{key:t},"#"+(t+1)))))),!!s.length&&u.createElement("div",{className:"content--PekxjjNYrJ"},u.createElement("div",{className:"settings--p2Nzgne6us"},u.createElement("div",{className:"form--dcKPsaWzMt"},u.createElement(hh,null,u.createElement(hh.Field,{colSpan:5,label:Xs("sulu_media.hotspot_type"),required:!1,spaceAfter:1},u.createElement(zp,{disabled:t,onChange:this.handleHotspotTypeChange,value:this.selectedHotspot.hotspot&&this.selectedHotspot.hotspot.type},Object.keys(hde).map((e=>u.createElement(zp.Option,{key:e,value:e},Xs(hde[e])))))),Object.keys(o).length>1&&u.createElement(hh.Field,{colSpan:5,label:Xs("sulu_media.form_type"),required:!1,spaceAfter:1},u.createElement(zp,{disabled:t,onChange:this.handleTypeChange,value:this.selectedHotspot.type},Object.entries(o).map((([e,t])=>u.createElement(zp.Option,{key:e,value:e},t))))))),u.createElement("button",{className:"remove-button--oDiiJ5WIxw",disabled:t,onClick:this.handleHotspotRemove,type:"button"},u.createElement(ro,{name:"su-trash-alt"}))),e))))}}).prototype,"selectedHotspot",[ge],Object.getOwnPropertyDescriptor(ude.prototype,"selectedHotspot"),ude.prototype),cde=ude))||cde;var fde,mde,gde,bde,yde,vde,_de,wde,kde=pde;function Cde(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Ede(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const xde=["image"];var Sde,Ode,Tde,Mde,Pde=Br(((wde=class extends u.Component{constructor(...e){super(...e),Cde(this,"selectedIndex",gde,this),Cde(this,"imageValue",bde,this),this.handleFinish=()=>{const{onFinish:e}=this.props;e&&e()},this.handleImageChange=({id:e})=>{const{onChange:t}=this.props;t({imageId:e,hotspots:[]}),this.handleFinish()},this.handleSelectionChange=(e,t)=>{const{onChange:n,value:i}=this.props,r=Mt(i.hotspots);r[e].hotspot={...r[e].hotspot,...t},n({...i,hotspots:r})},this.handleHotspotTypeChange=(e,t)=>{const{onChange:n,value:i}=this.props,r=Mt(i.hotspots);r[e].hotspot={type:t},n({...i,hotspots:r}),this.handleFinish()},this.handleTypeChange=(e,t)=>{const{onChange:n,value:i}=this.props,r=Mt(i.hotspots);r[e].type=t,n({...i,hotspots:r}),this.handleFinish()},Cde(this,"handleHotspotRemove",yde,this),Cde(this,"handleHotspotSelect",vde,this),this.getDefaultHotspotData=()=>{const{defaultFormType:e}=this.props;return{hotspot:{type:"point"},type:e}},Cde(this,"handleHotspotAdd",_de,this)}componentDidMount(){const{value:{imageId:e},types:t}=this.props;if(this.imageValue={displayOption:void 0,id:e},0===Object.keys(t).length)throw new Error("There needs to be at least one form type specified!")}componentDidUpdate(){const{value:{imageId:e}}=this.props;this.imageValue.id!==e&&(this.imageValue={displayOption:void 0,id:e})}get currentHotspot(){const{value:e}=this.props;return e.hotspots.length?e.hotspots[this.selectedIndex]:void 0}render(){const{disabled:e,locale:t,onFinish:n,renderHotspotForm:i,types:r,valid:o,value:s}=this.props,a=eo()("image-map--jRGhlPttFQ",{"error--SY9x2kvzkC":!o});return u.createElement(u.Fragment,null,u.createElement(Jue,{className:!s.imageId?void 0:"single-item-selection--at3wfKvswo",disabled:e,locale:t,onChange:this.handleImageChange,types:xde,valid:o,value:this.imageValue}),!!s.imageId&&u.createElement("div",{className:a},u.createElement(ade,{disabled:e,locale:t,onFinish:n,onSelectionChange:this.handleSelectionChange,selectedIndex:this.selectedIndex,value:s}),u.createElement("div",{className:"form--FWo7JhN67o"},u.createElement(kde,{disabled:e,onHotspotAdd:this.handleHotspotAdd,onHotspotRemove:this.handleHotspotRemove,onHotspotSelect:this.handleHotspotSelect,onHotspotTypeChange:this.handleHotspotTypeChange,onTypeChange:this.handleTypeChange,selectedIndex:this.selectedIndex,types:r,value:s.hotspots},this.currentHotspot?i(this.currentHotspot,this.currentHotspot.type,this.selectedIndex):null))))}}).defaultProps={disabled:!1,valid:!0,value:{imageId:void 0,hotspots:[]}},gde=Ede((mde=wde).prototype,"selectedIndex",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),bde=Ede(mde.prototype,"imageValue",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{displayOption:void 0,id:void 0}}}),Ede(mde.prototype,"componentDidMount",[ht],Object.getOwnPropertyDescriptor(mde.prototype,"componentDidMount"),mde.prototype),Ede(mde.prototype,"componentDidUpdate",[ht],Object.getOwnPropertyDescriptor(mde.prototype,"componentDidUpdate"),mde.prototype),yde=Ede(mde.prototype,"handleHotspotRemove",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{onChange:t,value:n}=this.props;t({...n,hotspots:Mt(n.hotspots).filter(((t,n)=>n!==e))}),this.handleFinish(),this.selectedIndex=Math.max(0,this.selectedIndex-1)}}}),vde=Ede(mde.prototype,"handleHotspotSelect",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.selectedIndex=e}}}),_de=Ede(mde.prototype,"handleHotspotAdd",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{onChange:e,value:t}=this.props;e({...t,hotspots:[...t.hotspots,this.getDefaultHotspotData()]}),this.handleFinish(),this.selectedIndex=t.hotspots.length}}}),Ede(mde.prototype,"currentHotspot",[ge],Object.getOwnPropertyDescriptor(mde.prototype,"currentHotspot"),mde.prototype),fde=mde))||fde;class Dde extends u.Component{constructor(...e){super(...e),this.handleChange=(e,t)=>{const{index:n,onChange:i}=this.props;i(n,e,t)}}render(){const{data:e,dataPath:t,errors:n,formInspector:i,onFieldFinish:r,onSuccess:o,router:s,schema:a,schemaPath:l,showAllErrors:c,value:d}=this.props;return u.createElement(Kh,{data:e,dataPath:t,errors:n,formInspector:i,onChange:this.handleChange,onFieldFinish:r,onSuccess:o,router:s,schema:a,schemaPath:l,showAllErrors:c,value:d})}}function Lde(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Ade(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Dde.defaultProps={showAllErrors:!1};const zde='The "image_map" field type needs at least one type to be configured!';let Ide=Br((Ode=class extends u.Component{constructor(e){super(e),Lde(this,"value",Tde,this),Lde(this,"setValue",Mde,this),this.handleChange=e=>{const{onChange:t}=this.props;this.setValue(e),t(e)},this.getHotspotFormSchemaType=e=>{const{defaultType:t,schemaPath:n,types:i}=this.props;if(!e)throw new Error("It is impossible that a hotspot has no formType. This should not happen and is likely a bug.");if(!i)throw new Error(zde);if(i[e])return i[e];if(!t)throw new Error("It is impossible that a image_map has no defaultType. This should not happen and is likely a bug.");if(!i[t])throw new Error('The default type should exist in image_map "'+n+'". This should not happen and is likely a bug.');return i[t]},this.handleHotspotFormChange=(e,t,n)=>{const{onChange:i}=this.props,r=this.value;if(!r)throw new Error("It is impossible that this ImageMap has no value. This should not happen and is likely a bug.");const o=Mt(r);Pc().set(o.hotspots[e],"/"+t,n),this.setValue(o),i(o)},this.renderHotspotForm=(e,t,n)=>{const{data:i,dataPath:r,error:o,formInspector:s,onFinish:a,onSuccess:l,router:c,schemaPath:d,showAllErrors:h}=this.props,p=this.getHotspotFormSchemaType(t),f=Mt(o);return u.createElement(Dde,{data:i,dataPath:r+"/hotspots/"+n,errors:f&&f.length>n&&f[n]?f[n]:void 0,formInspector:s,index:n,onChange:this.handleHotspotFormChange,onFieldFinish:a,onSuccess:l,router:c,schema:p.form,schemaPath:d+"/types/"+t+"/form",showAllErrors:h,value:e})},this.setValue(this.props.value)}componentDidUpdate(e){const{value:t}=this.props;si()(e.value,t)||this.setValue(t)}render(){const{defaultType:e,disabled:t,error:n,formInspector:i,onFinish:r,types:o}=this.props,s=i.locale?i.locale:ue.box(sl.contentLocale);if(!e)throw new Error('The "image_map" field type needs a defaultType!');if(!o)throw new Error(zde);const a=Object.keys(o).reduce(((e,t)=>(e[t]=o[t].title,e)),{});return u.createElement(Pde,{defaultFormType:e,disabled:!!t,locale:s,onChange:this.handleChange,onFinish:r,renderHotspotForm:this.renderHotspotForm,types:a,valid:!n,value:this.value||void 0})}},Tde=Ade(Ode.prototype,"value",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mde=Ade(Ode.prototype,"setValue",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.value=e}}}),Sde=Ode))||Sde;var Rde=Ide;class jde{constructor(e){this.imageFormatUrl=e}transform(e){const{ids:t}=e;return O(t)&&0!==t.length?u.createElement("div",null,t.slice(0,8).map((e=>u.createElement("img",{className:"image--NzoXRVT4zM",key:e,src:this.imageFormatUrl.replace(":id",e)+"?locale=en&format=sulu-50x50"})))):null}}class Nde{constructor(e){this.imageFormatUrl=e}transform(e){const{id:t}=e;return t?u.createElement("img",{className:"image--S4ocuXyK7V",key:t,src:this.imageFormatUrl.replace(":id",t)+"?locale=en&format=sulu-50x50"}):null}}var Fde,Yde,Bde,Hde,Vde,Wde,Ude,$de,qde,Kde,Gde,Zde,Jde,Xde,Qde,ehe,the;function nhe(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function ihe(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const rhe="collections",ohe="media",she="media_overview";let ahe=Br((the=class extends u.Component{static getDerivedRouteAttributes(){return{collectionLimit:ig.getLimitSetting(rhe,she),mediaFilter:ig.getFilterSetting(ohe,she),mediaLimit:ig.getLimitSetting(ohe,she),mediaSortColumn:ig.getSortColumnSetting(ohe,she),mediaSortOrder:ig.getSortOrderSetting(ohe,she)}}constructor(e){super(e),this.collectionPage=ue.box(),this.mediaPage=ue.box(),this.locale=ue.box(),this.collectionId=ue.box(),nhe(this,"errors",Bde,this),nhe(this,"mediaListStore",Hde,this),nhe(this,"collectionListStore",Vde,this),nhe(this,"collectionStore",Wde,this),nhe(this,"showMediaMoveOverlay",Ude,this),nhe(this,"showMediaUploadOverlay",$de,this),nhe(this,"mediaMoving",qde,this),this.createCollectionStore=()=>{this.setCollectionStore(new Xie(this.collectionId.get(),this.locale))},this.createCollectionListStore=()=>{this.collectionListStore=new ig(rhe,rhe,she,{page:this.collectionPage,locale:this.locale,parentId:this.collectionId}),this.collectionListStore.sort("title","asc")},nhe(this,"handleCollectionNavigate",Kde,this),nhe(this,"handleUploadError",Gde,this),nhe(this,"handleUploadOverlayOpen",Zde,this),nhe(this,"handleUploadOverlayClose",Jde,this),this.handleMediaNavigate=e=>{const{router:t}=this.props;t.navigate("sulu_media.form.details",{id:e,locale:this.locale.get()})},this.setMediaListRef=e=>{this.mediaList=e},nhe(this,"handleMoveMediaOverlayClose",Xde,this),nhe(this,"handleMoveMediaOverlayConfirm",Qde,this),nhe(this,"handleDeleteError",ehe,this);const{router:t}=this.props;this.mediaPage.set(1),t.bind("collectionPage",this.collectionPage,1),t.bind("mediaPage",this.mediaPage,1),t.bind("locale",this.locale),t.bind("id",this.collectionId),this.disposer=ft(this.createCollectionStore),this.createCollectionListStore(),this.createMediaListStore(),t.bind("search",this.mediaListStore.searchTerm),t.bind("collectionLimit",this.collectionListStore.limit,10),t.bind("mediaFilter",this.mediaListStore.filterOptions,{}),t.bind("mediaLimit",this.mediaListStore.limit,10),t.bind("mediaSortColumn",this.mediaListStore.sortColumn),t.bind("mediaSortOrder",this.mediaListStore.sortOrder)}componentWillUnmount(){this.mediaListStore.destroy(),this.collectionListStore.destroy(),this.collectionStore.destroy(),this.disposer()}setCollectionStore(e){this.collectionStore&&this.collectionStore.destroy(),this.collectionStore=e}createMediaListStore(){const e={};e.fields=["id","type","name","size","title","mimeType","subVersion","thumbnails"].join(","),this.mediaListStore=new ig(ohe,ohe,she,{page:this.mediaPage,locale:this.locale,collection:this.collectionId},e)}clearLists(){this.mediaListStore.clear(),this.mediaListStore.clearSelection(),this.collectionListStore.clear(),this.collectionListStore.clearSelection()}render(){return u.createElement(u.Fragment,null,u.createElement(Coe,{className:"media-collection--oMmTIfPgOU",collectionListStore:this.collectionListStore,collectionStore:this.collectionStore,hideUploadAction:!0,locale:this.locale,mediaListAdapters:["media_card_overview","table"],mediaListRef:this.setMediaListRef,mediaListStore:this.mediaListStore,onCollectionNavigate:this.handleCollectionNavigate,onDeleteError:this.handleDeleteError,onMediaNavigate:this.handleMediaNavigate,onUploadError:this.handleUploadError,onUploadOverlayClose:this.handleUploadOverlayClose,onUploadOverlayOpen:this.handleUploadOverlayOpen,uploadOverlayOpen:this.showMediaUploadOverlay}),u.createElement(hg,{adapter:"column_list",clearSelectionOnClose:!0,confirmLoading:this.mediaMoving,disabledIds:this.collectionStore.id?[this.collectionStore.id]:[],itemDisabledCondition:"!!locked",listKey:rhe,locale:this.locale,onClose:this.handleMoveMediaOverlayClose,onConfirm:this.handleMoveMediaOverlayConfirm,open:this.showMediaMoveOverlay,resourceKey:rhe,title:Xs("sulu_media.move_media")}))}},the.remountViewOnLogin=!0,Bde=ihe((Yde=the).prototype,"errors",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Hde=ihe(Yde.prototype,"mediaListStore",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vde=ihe(Yde.prototype,"collectionListStore",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wde=ihe(Yde.prototype,"collectionStore",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ude=ihe(Yde.prototype,"showMediaMoveOverlay",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$de=ihe(Yde.prototype,"showMediaUploadOverlay",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qde=ihe(Yde.prototype,"mediaMoving",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ihe(Yde.prototype,"setCollectionStore",[ht],Object.getOwnPropertyDescriptor(Yde.prototype,"setCollectionStore"),Yde.prototype),Kde=ihe(Yde.prototype,"handleCollectionNavigate",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.clearLists(),this.mediaPage.set(1),this.collectionPage.set(1),this.collectionId.set(e)}}}),Gde=ihe(Yde.prototype,"handleUploadError",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{1===e.length?this.errors.push(e[0].detail||e[0].title||Xs("sulu_media.upload_server_error")):this.errors.push(Xs("sulu_media.upload_server_error"))}}}),Zde=ihe(Yde.prototype,"handleUploadOverlayOpen",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showMediaUploadOverlay=!0}}}),Jde=ihe(Yde.prototype,"handleUploadOverlayClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showMediaUploadOverlay=!1}}}),Xde=ihe(Yde.prototype,"handleMoveMediaOverlayClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showMediaMoveOverlay=!1}}}),Qde=ihe(Yde.prototype,"handleMoveMediaOverlayConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.mediaMoving=!0,this.mediaListStore.moveSelection(e.id).then(ht((()=>{this.collectionListStore.reload(),this.showMediaMoveOverlay=!1,this.mediaMoving=!1})))}}}),ehe=ihe(Yde.prototype,"handleDeleteError",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const t=e?.detail||e?.title||Xs("sulu_admin.unexpected_delete_server_error");this.errors.push(t)}}}),Fde=Yde))||Fde;var lhe,che,uhe,dhe,hhe,phe,fhe,mhe=bF(ahe,(function(){const e=this.errors,t=this.props.router,n=this.collectionListStore.loading||this.mediaListStore.loading,{route:{options:{locales:i,permissions:{add:r,delete:o,edit:s}}}}=this.props.router,a=i?{value:this.locale.get(),onChange:ht((e=>{this.locale.set(e)})),options:i.map((e=>({value:e,label:e})))}:void 0,l=[],{permissions:c={},loading:u,locked:d}=this.collectionStore,h=void 0!==c.add?c.add:r,p=void 0!==c.delete?c.delete:o,f=void 0!==c.edit?c.edit:s;return!d&&h&&l.push({disabled:u,icon:"su-upload",label:Xs("sulu_media.upload_file"),onClick:ht((()=>{this.showMediaUploadOverlay=!0})),type:"button"}),p&&l.push({disabled:0===this.mediaListStore.selectionIds.length,icon:"su-trash-alt",label:Xs("sulu_admin.delete_selected"),loading:this.mediaListStore.deletingSelection,onClick:this.mediaList.requestSelectionDelete,type:"button"}),!d&&f&&l.push({disabled:0===this.mediaListStore.selectionIds.length,icon:"su-arrows-alt",label:Xs("sulu_admin.move_selected"),onClick:ht((()=>{this.showMediaMoveOverlay=!0})),type:"button"}),{locale:a,disableAll:n,backButton:this.collectionId.get()?{onClick:()=>{this.clearLists(),t.restore("sulu_media.overview",{id:this.collectionStore.parentId,locale:this.locale.get(),collectionPage:"1"})}}:void 0,items:l,errors:e}})),ghe=mhe;function bhe(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function yhe(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let vhe=Br((che=class extends u.Component{constructor(e){super(e),bhe(this,"deleteId",uhe,this),bhe(this,"deleting",dhe,this),this.showSuccess=ue.box(!1),this.handleShowClick=e=>{const t=this.versions.find((t=>t.version===e));if(!t)throw new Error('Version "'+e+'" was not found. This should not happen and is likely a bug.');window.open((t.adminUrl?t.adminUrl:t.url)+"&inline=1")},bhe(this,"handleDeleteClick",hhe,this),bhe(this,"handleDeleteCancel",phe,this),bhe(this,"handleDeleteConfirm",fhe,this);const{router:t,resourceStore:n}=this.props,i=n.locale;if(!i)throw new Error("The resourceStore for the MediaHistory must have a locale");t.bind("locale",i)}get versions(){return Object.values(this.props.resourceStore.data.versions)}render(){const{resourceStore:e,title:t}=this.props,n={icon:"su-eye",onClick:this.handleShowClick},i={icon:"su-trash-alt",onClick:this.handleDeleteClick};return u.createElement(u.Fragment,null,u.createElement("div",{className:"media-history--nkDC70a3mV"},t&&u.createElement("h1",null,t),e.loading?u.createElement(ao,null):u.createElement(Gk,null,u.createElement(Gk.Header,{buttons:[n,i]},u.createElement(Gk.HeaderCell,null,Xs("sulu_media.version")),u.createElement(Gk.HeaderCell,null,Xs("sulu_admin.created"))),u.createElement(Gk.Body,null,this.versions.reverse().map((t=>u.createElement(Gk.Row,{buttons:[n,t.version===e.data.version?{...i,icon:"su-lock",disabled:!0}:i],id:t.version,key:t.version},u.createElement(Gk.Cell,null,Xs("sulu_media.version")," ",t.version),u.createElement(Gk.Cell,null,new Date(t.created).toLocaleString()))))))),u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmLoading:this.deleting,confirmText:Xs("sulu_admin.ok"),onCancel:this.handleDeleteCancel,onConfirm:this.handleDeleteConfirm,open:!!this.deleteId,title:Xs("sulu_admin.delete_warning_title")},Xs("sulu_admin.delete_warning_text")))}},uhe=yhe(che.prototype,"deleteId",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),dhe=yhe(che.prototype,"deleting",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yhe(che.prototype,"versions",[ge],Object.getOwnPropertyDescriptor(che.prototype,"versions"),che.prototype),hhe=yhe(che.prototype,"handleDeleteClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.deleteId=e}}}),phe=yhe(che.prototype,"handleDeleteCancel",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.deleteId=void 0}}}),fhe=yhe(che.prototype,"handleDeleteConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{if(!this.deleteId)throw new Error('The "deleteId" is not set. This should not happen and is likely a bug.');const{resourceStore:e}=this.props,{id:t,locale:n}=e;this.deleting=!0,La.delete("media_versions",{id:t,locale:n,version:this.deleteId}).then(ht((()=>{this.deleting=!1,this.deleteId=void 0,this.showSuccess.set(!0),e.reload()})))}}}),lhe=che))||lhe;var _he,whe,khe,Che,Ehe,xhe=bF(vhe,(function(){const{resourceStore:e,router:t}=this.props,{locales:n}=t.route.options;return{locale:n?{value:e.locale.get(),onChange:e=>{t.navigate(t.route.name,{...t.attributes,locale:e})},options:n.map((e=>({value:e,label:e})))}:void 0,backButton:{onClick:()=>{t.restore("sulu_media.overview",{locale:e.locale.get()})}},showSuccess:this.showSuccess}})),She=xhe,Ohe=r(17965),The=r.n(Ohe);function Mhe(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Phe(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let Dhe=Br((whe=class extends u.Component{constructor(e){super(e),Mhe(this,"copySuccessThumbnailKey",khe,this),Mhe(this,"formats",Che,this),this.handleDownloadClick=e=>{window.open(this.thumbnails[e]+"&inline=1")},Mhe(this,"handleCopyClick",Ehe,this);const{router:t,resourceStore:n}=this.props,i=n.locale;if(!i)throw new Error("The resourceStore for the MediaFormats must have a locale");t.bind("locale",i)}componentDidMount(){Jce.loadFormats().then(ht((e=>{this.formats=e})))}get thumbnails(){return this.props.resourceStore.data.thumbnails}render(){const{formats:e}=this,{resourceStore:t,title:n}=this.props,i=[{icon:"su-eye",onClick:this.handleDownloadClick},{icon:"su-copy",onClick:this.handleCopyClick}];return u.createElement("div",{className:"media-formats--GZ3UvfmLmn"},n&&u.createElement("h1",null,n),t.loading||!e?u.createElement(ao,null):u.createElement(Gk,{buttons:i},u.createElement(Gk.Header,null,u.createElement(Gk.HeaderCell,null,Xs("sulu_admin.title")),u.createElement(Gk.HeaderCell,null,Xs("sulu_admin.key"))),u.createElement(Gk.Body,null,e.filter((e=>!e.internal)).map((e=>u.createElement(Gk.Row,{buttons:this.copySuccessThumbnailKey===e.key?[i[0],{icon:"su-check",onClick:void 0}]:i,id:e.key,key:e.key},u.createElement(Gk.Cell,null,e.title),u.createElement(Gk.Cell,null,e.key)))))))}},khe=Phe(whe.prototype,"copySuccessThumbnailKey",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Che=Phe(whe.prototype,"formats",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Phe(whe.prototype,"thumbnails",[ge],Object.getOwnPropertyDescriptor(whe.prototype,"thumbnails"),whe.prototype),Ehe=Phe(whe.prototype,"handleCopyClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{The()(window.location.origin+this.thumbnails[e]),this.copySuccessThumbnailKey=e,setTimeout(ht((()=>this.copySuccessThumbnailKey=void 0)),500)}}}),_he=whe))||_he;var Lhe=bF(Dhe,(function(){const{resourceStore:e,router:t}=this.props,{locales:n}=t.route.options;return{locale:n?{value:e.locale.get(),onChange:e=>{t.navigate(t.route.name,{...t.attributes,locale:e})},options:n.map((e=>({value:e,label:e})))}:void 0,backButton:{onClick:()=>{t.restore("sulu_media.overview",{locale:e.locale.get()})}}}})),Ahe=Lhe;class zhe extends u.Component{constructor(...e){super(...e),this.handleChange=(e,t)=>{const{onHrefChange:n}=this.props;n(e.id,t)}}render(){const{href:e,locale:t,onCancel:n,onConfirm:i,onTitleChange:r,onTargetChange:o,open:s,title:a,target:l}=this.props;if("string"==typeof e)throw new Error("The id of a media should always be a number!");return u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmText:Xs("sulu_admin.confirm"),onCancel:n,onConfirm:i,open:s,title:Xs("sulu_admin.link")},u.createElement(hh,null,u.createElement(hh.Field,{label:Xs("sulu_admin.link_url"),required:!0},u.createElement(Jue,{locale:t||ue.box(sl.contentLocale),onChange:this.handleChange,value:{displayOption:void 0,id:e}})),!!o&&u.createElement(hh.Field,{label:Xs("sulu_admin.link_target"),required:!0},u.createElement(zp,{onChange:o,value:l},u.createElement(zp.Option,{value:"_blank"},"_blank"),u.createElement(zp.Option,{value:"_self"},"_self"),u.createElement(zp.Option,{value:"_parent"},"_parent"),u.createElement(zp.Option,{value:"_top"},"_top"))),!!r&&u.createElement(hh.Field,{label:Xs("sulu_admin.link_title")},u.createElement(kl,{onChange:r,value:a}))))}}const Ihe="media_selection",Rhe="single_media_selection";function jhe(e,t,n){const{options:i,metadataOptions:r}=n,o=e.webspace||i.webspace||r&&r.webspace,s={};return s.__webspaces=Mt(lse.allWebspaces),o&&lse.hasWebspace(o)&&(s.__webspace=lse.getWebspace(o)),s}Na.addUpdateConfigHook("sulu_media",((e,t)=>{const{media_permissions:n}=e;if(Coe.addable=n.add,Coe.deletable=n.delete,Coe.editable=n.edit,Coe.securable=n.security,t)return;vF.add("sulu_media.overview",ghe),vF.add("sulu_media.formats",Ahe),vF.add("sulu_media.history",She),Yg.add("media_card_overview",Wle),Yg.add("media_card_selection",$le),gh.add(Ihe,bce),gh.add(Rhe,ide),gh.add("single_media_upload",Bue),gh.add("media_version_upload",Yue),gh.add("image_map",Rde);const i=e.endpoints.image_format;F4.add(Ihe,new jde(i),2048),F4.add(Rhe,new Nde(i),2048),Rle.Item.mediaUrl=i+"?locale=en&format=sulu-25x25",Dt((()=>!!Na.initializedTranslationsLocale),(()=>{Aj.add("media",zhe,Xs("sulu_media.media"),{resourceKey:"media",displayProperties:["title"]})}))}));class Nhe extends u.Component{render(){const{description:e,title:t,url:n}=this.props;return u.createElement("div",{className:"search-result--hZoxnkOZ30"},u.createElement("div",{className:"title--HENhYBVEa5"},t),u.createElement("div",{className:"url--KHCevJ0rIw"},n),u.createElement("div",{className:"description--_u10ieNbrU"},e))}}var Fhe,Yhe=Nhe;var Bhe,Hhe=Br(Fhe=class extends u.Component{render(){const{formInspector:e}=this.props,t=e.locale?e.locale.get():void 0,n=e.getValueByPath("/ext/seo/description"),i=e.getValueByPath("/ext/seo/title"),r=e.getValueByPath("/url");if(void 0!==i&&"string"!=typeof i)throw new Error('If "title" is defined it must be a string!');if(void 0!==n&&"string"!=typeof n)throw new Error("If description is defined it must be a string!");if(void 0!==r&&"string"!=typeof r)throw new Error('If "url" is defined it must be a string!');return u.createElement(Yhe,{description:n,title:i,url:"www.example.org"+(t?"/"+t:"")+(r||"")})}})||Fhe;class Vhe extends u.Component{constructor(...e){super(...e),this.handleSelectChange=e=>{const{onChange:t,webspace:n}=this.props;t(n.key,e)}}render(){const{disabled:e,value:t,webspace:n,webspaceNameVisible:i}=this.props;return u.createElement("div",{className:"webspace-section--nhkBn7QQP8"},u.createElement("label",{className:tc.label},i&&n.name+" - ",Xs("sulu_admin.segment")),u.createElement(zp,{disabled:!!e,onChange:this.handleSelectChange,value:t},u.createElement(zp.Option,null,Xs("sulu_admin.none_selected")),n.segments.map((({key:e,title:t})=>u.createElement(zp.Option,{key:e,value:e},t)))))}}let Whe=(function(e,t,n,i,r){var o={};Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}((Bhe=class extends u.Component{constructor(...e){super(...e),this.handleWebspaceSegmentChange=(e,t)=>{const{onChange:n,value:i}=this.props;n({...i,[e]:t})}}get visibleWebspaces(){const{webspace:e}=this.props;return(e?[lse.getWebspace(e)]:lse.grantedWebspaces).filter((e=>e.segments.length>0))}render(){const{disabled:e,value:t}=this.props;return u.createElement(u.Fragment,null,this.visibleWebspaces.map((n=>u.createElement(Vhe,{disabled:!!e,key:n.key,onChange:this.handleWebspaceSegmentChange,value:t?t[n.key]:void 0,webspace:n,webspaceNameVisible:this.visibleWebspaces.length>1}))))}}).prototype,"visibleWebspaces",[ge],Object.getOwnPropertyDescriptor(Bhe.prototype,"visibleWebspaces"),Bhe.prototype),Bhe);var Uhe,$he,qhe=Whe;class Khe extends u.Component{constructor(...e){super(...e),this.handleChange=e=>{const{onChange:t,onFinish:n}=this.props;t(e),n()}}render(){const{disabled:e,formInspector:t,value:n}=this.props;return u.createElement(qhe,{disabled:e,onChange:this.handleChange,value:n,webspace:t.metadataOptions?.webspace})}}let Ghe=Br(($he=class extends u.Component{constructor(...e){super(...e),this.handleItemClick=(e,t)=>{if(!t)return;const{router:n}=this.props,{resultToView:i,view:r}=ple.get(t.type);n&&i&&r&&n.navigate(r,Object.keys(i).reduce(((e,n)=>(e[i[n]]=Pc().get(t,"/"+n),e)),{}))},this.handleTeaserSelectionChange=e=>{const{onChange:t,onFinish:n}=this.props;t(e),n()}}get locale(){const{formInspector:e}=this.props;return e.locale?e.locale:ue.box(sl.contentLocale)}render(){const{disabled:e,schemaOptions:t={},value:n}=this.props,{present_as:{value:i=[]}={}}=t;if(!O(i))throw new Error('The "present_as" schemaOption must be an array, but received '+typeof i+"!");const r=i.map((e=>{const{name:t,title:n}=e;if(!t)throw new Error('Every presentation in the "present_as" schema Option must contain a name');if(!n)throw new Error('Every presentation in the "present_as" schema Option must contain a title');return{label:n.toString(),value:t.toString()}}));return u.createElement(Rle,{disabled:null===e?void 0:e,locale:this.locale,onChange:this.handleTeaserSelectionChange,onItemClick:this.handleItemClick,presentations:r.length>0?r:void 0,value:null===n?void 0:n})}},function(e,t,n,i,r){var o={};Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}($he.prototype,"locale",[ge],Object.getOwnPropertyDescriptor($he.prototype,"locale"),$he.prototype),Uhe=$he))||Uhe;var Zhe,Jhe,Xhe=Ghe;let Qhe=Br((function(e,t,n,i,r){var o={};Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}((Jhe=class extends u.Component{constructor(...e){super(...e),this.handleChange=e=>{const{onChange:t,onFinish:n}=this.props;t(e),n()}}get webspace(){const{formInspector:e}=this.props;return lse.getWebspace(e.options.webspace)}render(){const{disabled:e,value:t}=this.props;return u.createElement(Iz,{allSelectedText:Xs("sulu_page.all_navigations"),disabled:!!e,noneSelectedText:Xs("sulu_page.no_navigation"),onChange:this.handleChange,values:t||[]},this.webspace.navigations.map((({key:e,title:t})=>u.createElement(Iz.Option,{key:e,value:e},t))))}}).prototype,"webspace",[ge],Object.getOwnPropertyDescriptor(Jhe.prototype,"webspace"),Jhe.prototype),Zhe=Jhe))||Zhe;var epe,tpe,npe,ipe,rpe,ope,spe,ape,lpe=Qhe;class cpe extends u.Component{constructor(...e){super(...e),this.handleChange=e=>{const{onChange:t,onFinish:n}=this.props;t(e),n()}}render(){const{disabled:e,formInspector:t,value:n}=this.props,i=Mt(t.getValueByPath("/contentLocales")),r=t.locale;if(!O(i))throw new Error('The "contentLocales" should be an array!');const o=i.filter((e=>r&&e!==r.get()));return u.createElement(zp,{disabled:!!e,onChange:this.handleChange,value:n},o.length>0&&o.map((e=>{if("string"!=typeof e)throw new Error('All entries in the "contentLocales" array must be strings!');return u.createElement(zp.Option,{key:e,value:e},e)})))}}function upe(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function dpe(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let hpe=Br((tpe=class extends u.Component{constructor(e){super(e),upe(this,"page",npe,this),upe(this,"restoreId",ipe,this),upe(this,"restoring",rpe,this),upe(this,"handleRestoreClick",ope,this),upe(this,"handleCancel",spe,this),upe(this,"handleConfirm",ape,this),this.getListItemActions=()=>[{icon:"su-process",onClick:this.handleRestoreClick}],c().warn('The "SettingsVersions" field-type is deprecated since 2.3 and will be removed. Use a list view with the the "RestoreVersionItemAction" to restore previous versions instead.');const{formInspector:t}=this.props;this.listStore=new ig(this.resourceKey,this.listKey,this.userSettingsKey,{locale:t.locale,page:this.page},{id:t.id,webspace:t.options.webspace}),t.addSaveHandler((e=>{"publish"===e&&this.listStore.reload()}))}get resourceKey(){const{schemaOptions:{resource_key:{value:e}={}}}=this.props;if(void 0===e||"string"!=typeof e)throw new Error('The "resource_key" schemaOption is mandatory and must be a string, but received '+typeof e+"!");return e}get listKey(){const{schemaOptions:{list_key:{value:e=this.resourceKey}={}}}=this.props;if("string"!=typeof e)throw new Error('The "list_key" schemaOption must be a string, but received '+typeof e+"!");return e}get userSettingsKey(){const{schemaOptions:{user_settings_key:{value:e=this.listKey}={}}}=this.props;if("string"!=typeof e)throw new Error('The "user_settings_key" schemaOption must be a string, but received '+typeof e+"!");return e}get parentRoute(){const{router:e}=this.props;if(!e?.route?.parent?.name)throw new Error("A route with a valid parent route is required for this field type to work properly!");return e.route.parent.name}render(){return u.createElement(u.Fragment,null,u.createElement(GC,{adapters:["table"],filterable:!1,itemActionsProvider:this.getListItemActions,searchable:!1,selectable:!1,showColumnOptions:!1,store:this.listStore}),u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmLoading:this.restoring,confirmText:Xs("sulu_admin.ok"),onCancel:this.handleCancel,onConfirm:this.handleConfirm,open:!!this.restoreId,title:Xs("sulu_page.restore_version")},Xs("sulu_page.restore_version_text")))}},npe=dpe(tpe.prototype,"page",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ue.box(1)}}),ipe=dpe(tpe.prototype,"restoreId",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),rpe=dpe(tpe.prototype,"restoring",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),dpe(tpe.prototype,"resourceKey",[ge],Object.getOwnPropertyDescriptor(tpe.prototype,"resourceKey"),tpe.prototype),dpe(tpe.prototype,"listKey",[ge],Object.getOwnPropertyDescriptor(tpe.prototype,"listKey"),tpe.prototype),dpe(tpe.prototype,"userSettingsKey",[ge],Object.getOwnPropertyDescriptor(tpe.prototype,"userSettingsKey"),tpe.prototype),dpe(tpe.prototype,"parentRoute",[ge],Object.getOwnPropertyDescriptor(tpe.prototype,"parentRoute"),tpe.prototype),ope=dpe(tpe.prototype,"handleRestoreClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.restoreId=e}}}),spe=dpe(tpe.prototype,"handleCancel",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.restoreId=void 0}}}),ape=dpe(tpe.prototype,"handleConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{formInspector:{id:e,locale:t,options:{webspace:n}},router:i}=this.props;this.restoring=!0,La.post(this.resourceKey,{},{action:"restore",id:e,version:this.restoreId,locale:t,webspace:n}).then(ht((()=>{if(this.restoring=!1,this.restoreId=void 0,!i)throw new Error("A router is required for this field type to work properly!");i.navigate(this.parentRoute,{id:e,locale:t,webspace:n})})))}}}),epe=tpe))||epe;var ppe,fpe=hpe;function mpe(){return mpe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},mpe.apply(this,arguments)}var gpe,bpe,ype,vpe,_pe,wpe=Br(ppe=class extends u.Component{render(){const e={...this.props},{router:{attributes:{webspace:t}}}=this.props;if("string"!=typeof t)throw new Error('The "webspace" router attribute must be a string!');return u.createElement(ZY,mpe({},e,{locales:lse.getWebspace(t).allLocalizations.map((e=>e.name)),titleProperty:"title"}))}})||ppe;function kpe(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Cpe(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let Epe=(bpe=Cpe((gpe=class{constructor(e){kpe(this,"cacheClearing",bpe,this),kpe(this,"showDialog",ype,this),kpe(this,"handleCancel",vpe,this),kpe(this,"handleConfirm",_pe,this),this.webspaceKey=e}getNode(){return u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmLoading:this.cacheClearing,confirmText:Xs("sulu_admin.ok"),onCancel:this.handleCancel,onConfirm:this.handleConfirm,open:this.showDialog,title:Xs("sulu_website.cache_clear_warning_title")},this.webspaceKey?Xs("sulu_website.cache_clear_warning_text_webspace",{webspace:this.webspaceKey}):Xs("sulu_website.cache_clear_warning_text"))}getToolbarItemConfig(){return{icon:"su-paint",label:Xs("sulu_website.cache_clear"),onClick:ht((()=>{this.showDialog=!0})),type:"button"}}}).prototype,"cacheClearing",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ype=Cpe(gpe.prototype,"showDialog",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vpe=Cpe(gpe.prototype,"handleCancel",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showDialog=!1}}}),_pe=Cpe(gpe.prototype,"handleConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.cacheClearing=!0;const e=Epe.clearCacheEndpoint+po({webspaceKey:this.webspaceKey});ri.delete(e).then(ht((()=>{this.showDialog=!1,this.cacheClearing=!1})))}}}),gpe);var xpe,Spe,Ope,Tpe,Mpe,Ppe,Dpe,Lpe=Epe;function Ape(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function zpe(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const Ipe="page_list",Rpe="pages";function jpe(e){return[Ipe,e].join("_")}let Npe=Br((Spe=class extends u.Component{static getDerivedRouteAttributes(e,t){if("string"!=typeof t.webspace)throw new Error('The "webspace" router attribute must be a string!');return{active:ig.getActiveSetting(Rpe,jpe(t.webspace))}}constructor(e){super(e),this.page=ue.box(),this.locale=ue.box(),this.excludeGhostsAndShadows=ue.box(!1),Ape(this,"availablePageTypes",Ope,this),Ape(this,"availablePageTypesLoading",Tpe,this),Ape(this,"errors",Mpe,this),Ape(this,"redirectToWebspaceLocale",Ppe,this),this.findDefaultLocale=e=>{for(const t of e){if(t.default)return t.locale;if(t.children){const e=this.findDefaultLocale(t.children);if(e)return e}}},this.handleEditClick=e=>{const{router:t}=this.props;t.navigate("sulu_page.page_edit_form",{id:e,locale:this.locale.get(),webspace:t.attributes.webspace})},this.handleItemAdd=e=>{const{router:t}=this.props;t.navigate("sulu_page.page_add_form",{parentId:e,locale:this.locale.get(),webspace:t.attributes.webspace})},this.handleCopyFinished=e=>{const{webspaceKey:t}=this.props;t.get()!==e.webspace&&t.set(e.webspace)},this.getIndicators=e=>{const t=[];return this.availablePageTypes.includes(e.template)||t.push(u.createElement(ro,{key:"missing-template",name:"su-exclamation-circle"})),t},Ape(this,"handleDeleteError",Dpe,this);const{router:t,webspaceKey:n}=this.props,{attributes:{webspace:i}}=t;if("string"!=typeof i)throw new Error('The "webspace" router attribute must be a string!');const r={},o={webspace:i};this.redirectToWebspaceLocale(),t.bind("locale",this.locale),t.bind("page",this.page,1),r.page=this.page,t.bind("excludeGhostsAndShadows",this.excludeGhostsAndShadows,!1),r["exclude-ghosts"]=this.excludeGhostsAndShadows,r["exclude-shadows"]=this.excludeGhostsAndShadows,r.locale=this.locale,this.cacheClearToolbarAction=new Lpe(i),this.listStore=new ig(Rpe,Rpe,jpe(i),r,o),t.bind("active",this.listStore.active),If.getSchemaTypes("page",{webspace:i,onlyKeys:!0}).then(ht((e=>{this.availablePageTypes=Object.keys(e.types),this.availablePageTypesLoading=!1}))),this.excludeGhostsAndShadowsDisposer=kt(this.excludeGhostsAndShadows,"",(e=>(this.listStore.clear(),e))),this.webspaceKeyDisposer=kt(n,"",(e=>(this.listStore.destroy(),this.listStore.active.set(void 0),e)))}componentWillUnmount(){this.webspaceKeyDisposer(),this.listStore.destroy(),this.excludeGhostsAndShadowsDisposer()}render(){const{getIndicators:e}=this;return u.createElement("div",{className:"page-list--Zb2DQJ9aIc"},this.availablePageTypesLoading?u.createElement(ao,null):u.createElement(GC,{adapterOptions:{column_list:{display_root_level_toolbar:!1,get_indicators:e}},adapters:["column_list","tree_table"],onCopyFinished:this.handleCopyFinished,onDeleteError:this.handleDeleteError,onItemAdd:this.handleItemAdd,onItemClick:this.handleEditClick,searchable:!1,selectable:!1,store:this.listStore,toolbarClassName:"list-toolbar--tfEAfxJJYC"}),this.cacheClearToolbarAction.getNode())}},Ope=zpe(Spe.prototype,"availablePageTypes",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Tpe=zpe(Spe.prototype,"availablePageTypesLoading",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Mpe=zpe(Spe.prototype,"errors",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ppe=zpe(Spe.prototype,"redirectToWebspaceLocale",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{webspace:e,router:t}=this.props;if(!e||!e.localizations)return;if(e.allLocalizations.find((e=>e.localization===this.locale.get())))return;const n=e.allLocalizations.find((e=>e.localization===il.contentLocale))?il.contentLocale:this.findDefaultLocale(e.localizations);if(!n)throw new Error('Default locale in webspace "'+e.key+'" not found');n!==this.locale.get()&&t.redirect(t.route.name,{...t.attributes,locale:n})}}}),Dpe=zpe(Spe.prototype,"handleDeleteError",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const t=e?.detail||e?.title||Xs("sulu_admin.unexpected_delete_server_error");this.errors.push(t)}}}),xpe=Spe))||xpe;var Fpe,Ype,Bpe,Hpe,Vpe,Wpe,Upe=bF(Npe,(function(){const{webspace:e}=this.props;return e?{errors:this.errors,items:[{label:Xs("sulu_page.show_ghost_and_shadow"),onClick:ht((()=>{this.excludeGhostsAndShadows.set(!this.excludeGhostsAndShadows.get())})),type:"toggler",value:!this.excludeGhostsAndShadows.get()},this.cacheClearToolbarAction.getToolbarItemConfig()],locale:{value:this.locale.get(),onChange:ht((e=>{this.locale.set(e)})),options:e.allLocalizations.map((e=>({value:e.localization,label:e.name})))}}:{}})),$pe="button-icon--Zwg6uFO0YH";function qpe(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Kpe(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let Gpe=Br((Wpe=class extends u.Component{constructor(...e){super(...e),qpe(this,"open",Bpe,this),qpe(this,"openMenu",Hpe,this),qpe(this,"closeMenu",Vpe,this),this.handleButtonClick=this.openMenu,this.handleMenuClose=this.closeMenu,this.handleChange=e=>{this.closeMenu(),this.props.onChange(e)}}get displayValue(){const{children:e,value:t}=this.props;let n="";return u.Children.forEach(e,(e=>{t===e.props.value&&(n=e.props.children)})),n}renderButton(){return u.createElement("div",{className:"webspace-select--VGrUoqX5AM"},u.createElement("button",{className:"button--jvTood9Sy6",onClick:this.handleButtonClick,type:"button"},u.createElement(ro,{className:$pe,name:"su-webspace"}),u.createElement("span",{className:"button-value--OWT7MjUesL"},this.displayValue),u.createElement(ro,{className:$pe,name:"su-angle-down"})))}render(){const{value:e,children:t}=this.props;return u.createElement(ih,{anchorElement:this.renderButton(),onClose:this.handleMenuClose,open:this.open},u.createElement(ih.SingleItemSection,{icon:"su-webspace",onChange:this.handleChange,title:"Webspaces",value:e},t))}},Wpe.Item=ih.Item,Bpe=Kpe((Ype=Wpe).prototype,"open",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Hpe=Kpe(Ype.prototype,"openMenu",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.open=!0}}}),Vpe=Kpe(Ype.prototype,"closeMenu",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.open=!1}}}),Fpe=Ype))||Fpe;var Zpe,Jpe,Xpe,Qpe=Gpe;function efe(){return efe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},efe.apply(this,arguments)}function tfe(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const nfe=["sulu_page.webspace_tabs","webspace"].join(".");let ife=Br((Jpe=class extends u.Component{static getDerivedRouteAttributes(e,t){return{webspace:t.webspace?t.webspace:sl.getPersistentSetting(nfe)}}get webspace(){return lse.getWebspace(this.webspaceKey.get())}constructor(e){super(e),this.webspaceKey=ue.box(),this.bindWebspaceToRouter=()=>{const{router:e}=this.props;return e.bind("webspace",this.webspaceKey),!0},function(e,t,n,i){n&&Object.defineProperty(e,"handleWebspaceChange",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}(this,0,Xpe,this);const{router:t}=this.props;this.bindWebspaceToRouter(),this.webspaceDisposer=kt(this.webspaceKey,"",(e=>e.newValue?(sl.setPersistentSetting(nfe,e.newValue),e):e)),this.bindWebspaceToRouterDisposer=t.addUpdateRouteHook(this.bindWebspaceToRouter)}componentWillUnmount(){this.bindWebspaceToRouterDisposer(),this.webspaceDisposer()}render(){return u.createElement(qY,efe({},this.props,{childrenProps:{webspace:this.webspace,webspaceKey:this.webspaceKey},header:u.createElement("div",{className:"webspace-select--jaC_ivBSCw"},u.createElement(Qpe,{onChange:this.handleWebspaceChange,value:this.webspaceKey.get()},lse.grantedWebspaces.map((e=>u.createElement(Qpe.Item,{key:e.key,value:e.key},e.name)))))}))}},tfe(Jpe.prototype,"webspace",[ge],Object.getOwnPropertyDescriptor(Jpe.prototype,"webspace"),Jpe.prototype),Xpe=tfe(Jpe.prototype,"handleWebspaceChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.webspaceKey.set(e)}}}),Zpe=Jpe))||Zpe;var rfe,ofe,sfe,afe,lfe,cfe,ufe=ife;function dfe(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function hfe(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let pfe=(ofe=hfe((rfe=class extends QY{constructor(...e){super(...e),dfe(this,"versionIdToBeRestored",ofe,this),dfe(this,"restoring",sfe,this),dfe(this,"handleRestoreClick",afe,this),dfe(this,"handleDialogCancel",lfe,this),dfe(this,"handleDialogConfirm",cfe,this)}getItemActionConfig(e){return{icon:"su-process",onClick:e?.id?()=>this.handleRestoreClick(e.id):void 0,disabled:!e?.id}}getNode(){return u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmLoading:this.restoring,confirmText:Xs("sulu_admin.ok"),key:"restore_version",onCancel:this.handleDialogCancel,onConfirm:this.handleDialogConfirm,open:!!this.versionIdToBeRestored,title:Xs("sulu_page.restore_version")},Xs("sulu_page.restore_version_text"))}}).prototype,"versionIdToBeRestored",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),sfe=hfe(rfe.prototype,"restoring",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),afe=hfe(rfe.prototype,"handleRestoreClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.versionIdToBeRestored=e}}}),lfe=hfe(rfe.prototype,"handleDialogCancel",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.versionIdToBeRestored=void 0}}}),cfe=hfe(rfe.prototype,"handleDialogConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{success_view:e}=this.options,{id:t,locale:n,webspace:i}=this.router.attributes;if("string"!=typeof e)throw new Error('The "success_view" option cannot be null and must contain a string value!');this.restoring=!0,La.post(this.listStore.resourceKey,{},{action:"restore",version:this.versionIdToBeRestored,id:t,locale:n,webspace:i}).then(ht((()=>{this.restoring=!1,this.versionIdToBeRestored=void 0,this.router.navigate(e,{id:t,locale:n,webspace:i})})))}}}),rfe);Na.addUpdateConfigHook("sulu_page",((e,t)=>{if(lse.setWebspaces(Object.values(e.webspaces)),!t){vF.add("sulu_page.page_tabs",wpe,{disableDefaultSpacing:!0}),vF.add("sulu_page.page_list",Upe),vF.add("sulu_page.webspace_tabs",ufe,{disableDefaultSpacing:!0}),gh.add("page_settings_navigation_select",lpe),gh.add("page_settings_shadow_locale_select",cpe),gh.add("search_result",Hhe),gh.add("segment_select",Khe),gh.add("teaser_selection",Xhe),mh.add(jhe),gh.add("resource_locator",AI,{modeResolver:e=>{return t=e.formInspector.options.webspace,Promise.resolve(lse.getWebspace(t).resourceLocatorStrategy.inputType);var t},generationUrl:va.endpoints.generateUrl,historyResourceKey:"page_resourcelocators",resourceStorePropertiesToRequest:{parentUuid:"parentId"}}),aB.add("restore_version",pfe),e.versioning&&gh.add("settings_versions",fpe);for(const t in e.teaser)ple.add(t,e.teaser[t])}}));var ffe,mfe,gfe,bfe,yfe,vfe,_fe,wfe,kfe,Cfe,Efe,xfe,Sfe,Ofe={container:"container--LeeNGc1kou",auto:"auto--H2qiuYg82N",iframe:"iframe--dI54DC7zcv",desktop:"desktop--j_9ozBMl3z",tablet:"tablet--vKCRPDHZFA","iframe-container":"iframe-container--_fbOTCEpt6",iframeContainer:"iframe-container--_fbOTCEpt6",smartphone:"smartphone--KqL__IyIME","preview-container":"preview-container--Vw32zyX92a",previewContainer:"preview-container--Vw32zyX92a","loader-container":"loader-container--Mm55y0_ABA",loaderContainer:"loader-container--Mm55y0_ABA","date-time-form":"date-time-form--lqzpv85vW7",dateTimeForm:"date-time-form--lqzpv85vW7"};function Tfe(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Mfe(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const Pfe=(e,t)=>Dfe.endpoints[e]+po(t);let Dfe=((Sfe=class{constructor(e,t,n,i,r){Tfe(this,"locale",mfe,this),Tfe(this,"webspace",gfe,this),Tfe(this,"segment",bfe,this),Tfe(this,"targetGroup",yfe,this),Tfe(this,"dateTime",vfe,this),Tfe(this,"token",_fe,this),Tfe(this,"setToken",wfe,this),Tfe(this,"setWebspace",kfe,this),Tfe(this,"setTargetGroup",Cfe,this),Tfe(this,"setSegment",Efe,this),Tfe(this,"setDateTime",xfe,this),"string"!=typeof n&&(n=Mt(n)),this.resourceKey=e,this.id=t,this.locale=n,this.webspace=i,this.segment=r}get starting(){return!this.token}get renderRoute(){return Pfe("render",{webspaceKey:this.webspace,segmentKey:this.segment,provider:this.resourceKey,id:this.id,locale:this.locale,token:this.token,targetGroupId:this.targetGroup,dateTime:this.dateTime&&di(this.dateTime)})}start(){const e=Pfe("start",{provider:this.resourceKey,id:this.id,locale:this.locale});return ri.post(e).then((e=>{this.setToken(e.token)}))}restart(e){return this.stop().then((()=>(e&&(this.locale=e),this.start())))}update(e){const t=Pfe("update",{locale:this.locale,webspaceKey:this.webspace,segmentKey:this.segment,token:this.token,provider:this.resourceKey,id:this.id,targetGroupId:this.targetGroup,dateTime:this.dateTime&&di(this.dateTime)});return ri.post(t,{data:e}).then((e=>e.content))}updateContext(e,t){const n=Pfe("update-context",{webspaceKey:this.webspace,segmentKey:this.segment,token:this.token,locale:this.locale,provider:this.resourceKey,id:this.id,targetGroupId:this.targetGroup,dateTime:this.dateTime&&di(this.dateTime)});return ri.post(n,{data:t,context:{template:e}}).then((e=>e.content))}stop(){const e=Pfe("stop",{token:this.token});return ri.post(e).then((()=>this.setToken(null)))}}).endpoints={},mfe=Mfe((ffe=Sfe).prototype,"locale",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gfe=Mfe(ffe.prototype,"webspace",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bfe=Mfe(ffe.prototype,"segment",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yfe=Mfe(ffe.prototype,"targetGroup",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),vfe=Mfe(ffe.prototype,"dateTime",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),_fe=Mfe(ffe.prototype,"token",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mfe(ffe.prototype,"starting",[ge],Object.getOwnPropertyDescriptor(ffe.prototype,"starting"),ffe.prototype),Mfe(ffe.prototype,"renderRoute",[ge],Object.getOwnPropertyDescriptor(ffe.prototype,"renderRoute"),ffe.prototype),wfe=Mfe(ffe.prototype,"setToken",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.token=e}}}),kfe=Mfe(ffe.prototype,"setWebspace",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.webspace=e}}}),Cfe=Mfe(ffe.prototype,"setTargetGroup",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.targetGroup=e}}}),Efe=Mfe(ffe.prototype,"setSegment",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.segment=e}}}),xfe=Mfe(ffe.prototype,"setDateTime",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.dateTime=e}}}),Mfe(ffe.prototype,"restart",[ht],Object.getOwnPropertyDescriptor(ffe.prototype,"restart"),ffe.prototype),ffe);var Lfe,Afe,zfe,Ife,Rfe,jfe,Nfe,Ffe;function Yfe(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Bfe(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Hfe,Vfe,Wfe,Ufe,$fe,qfe,Kfe,Gfe,Zfe,Jfe,Xfe,Qfe,eme,tme,nme,ime,rme,ome,sme,ame=Br((Afe=class extends u.Component{constructor(...e){super(...e),Yfe(this,"previewLink",zfe,this),Yfe(this,"loading",Ife,this),Yfe(this,"generating",Rfe,this),Yfe(this,"copying",jfe,this),Yfe(this,"handleGenerateClick",Nfe,this),this.handleRevokeClick=e=>{e.preventDefault();const{previewStore:t}=this.props;La.post("preview_links",{},{action:"revoke",resourceKey:t.resourceKey,resourceId:t.id,locale:t.locale}).then(ht((()=>{this.previewLink=null})))},Yfe(this,"handleCopyClick",Ffe,this)}componentDidMount(){this.loadPreviewLink()}loadPreviewLink(){const{previewStore:e}=this.props;this.loading=!0,La.get("preview_links",{resourceKey:e.resourceKey,resourceId:e.id,locale:e.locale}).then(ht((e=>{this.previewLink=e,this.loading=!1}))).catch(ht((e=>{if(404!==e.status)return Promise.reject(e);this.loading=!1})))}get link(){return this.previewLink?Dfe.endpoints["preview-link"].replace(":token",this.previewLink.token):""}render(){return this.loading?null:u.createElement("div",{className:"container--C3m1A4kvM3"},this.previewLink&&u.createElement(u.Fragment,null,u.createElement("div",null,u.createElement("label",{className:"label--D8h9hl0mwf"},Xs("sulu_preview.copy_preview_link")),u.createElement("div",{className:"input-container--V37i59rrTx"},u.createElement("input",{className:"input--go9T7s8cjp",readOnly:!0,value:this.link}),u.createElement(uo,{className:"copy-button--chCngnzep2",loading:this.copying,onClick:this.handleCopyClick,skin:"primary"},Xs("sulu_preview.copy")))),u.createElement("div",{className:"revoke--P9OazALrGt"},u.createElement("button",{className:"revoke-button--ucASqhgfzT",onClick:this.handleRevokeClick,type:"button"},Xs("sulu_preview.revoke")))),!this.previewLink&&u.createElement(u.Fragment,null,u.createElement(uo,{loading:this.generating,onClick:this.handleGenerateClick,skin:"primary"},Xs("sulu_preview.generate_link"))))}},zfe=Bfe(Afe.prototype,"previewLink",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ife=Bfe(Afe.prototype,"loading",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Rfe=Bfe(Afe.prototype,"generating",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jfe=Bfe(Afe.prototype,"copying",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bfe(Afe.prototype,"loadPreviewLink",[ht],Object.getOwnPropertyDescriptor(Afe.prototype,"loadPreviewLink"),Afe.prototype),Nfe=Bfe(Afe.prototype,"handleGenerateClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{previewStore:e}=this.props;this.generating=!0,La.post("preview_links",{},{action:"generate",resourceKey:e.resourceKey,resourceId:e.id,locale:e.locale,webspaceKey:e.webspace,segmentKey:e.segment,targetGroupId:e.targetGroup,dateTime:e.dateTime&&di(e.dateTime)}).then(ht((e=>{this.previewLink=e}))).finally(ht((()=>this.generating=!1)))}}}),Ffe=Bfe(Afe.prototype,"handleCopyClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.copying=!0,setTimeout(ht((()=>this.copying=!1)),125),The()(this.link)}}}),Bfe(Afe.prototype,"link",[ge],Object.getOwnPropertyDescriptor(Afe.prototype,"link"),Afe.prototype),Lfe=Afe))||Lfe;function lme(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function cme(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let ume=Br((sme=class e extends u.Component{get webspaceKey(){const{router:{attributes:{webspace:e}}}=this.props;if(void 0!==e&&"string"!=typeof e)throw new Error('The "webspace" router attribute must be a string if set!');return e||this.webspaceOptions[0].value}get segments(){return this.webspaceKey?lse.getWebspace(this.webspaceKey).segments:[]}get shouldUpdateFormStore(){return this.props.formStore.resourceKey===this.previewStore.resourceKey}constructor(t){super(t),this.availableDeviceOptions=[{label:Xs("sulu_preview.auto"),value:"auto"},{label:Xs("sulu_preview.desktop"),value:"desktop"},{label:Xs("sulu_preview.tablet"),value:"tablet"},{label:Xs("sulu_preview.smartphone"),value:"smartphone"}],lme(this,"iframeRef",Wfe,this),lme(this,"started",Ufe,this),lme(this,"selectedDeviceOption",$fe,this),lme(this,"targetGroupsStore",qfe,this),lme(this,"previewStore",Kfe,this),lme(this,"previewWindow",Gfe,this),lme(this,"webspaceOptions",Zfe,this),lme(this,"reloadCounter",Jfe,this),lme(this,"createPreviewStore",Xfe,this),lme(this,"setStarted",Qfe,this),this.startPreview=()=>{const{previewStore:e}=this,{formStore:t}=this.props;e.start(),Dt((()=>!(t.loading||e.starting||null===this.iframeRef||this.targetGroupsStore&&this.targetGroupsStore.loading)),this.initializeFormStoreReactions),this.setStarted(!0)},this.initializeFormStoreReactions=()=>{const{previewStore:e}=this,{formStore:t}=this.props;this.localeDisposer=bt((()=>Mt(t.locale)),(e=>{this.previewStore.restart(e)})),e.resourceKey===t.resourceKey&&(this.dataDisposer=bt((()=>Mt(t.data)),(e=>{(null!==this.iframeRef||this.previewWindow)&&this.updatePreview(e)})),this.schemaDisposer=bt((()=>Mt(t.schema)),(()=>{t.type&&e.updateContext(Mt(t.type),Mt(t.data)).then(this.setContent)})))},this.updatePreview=ya()((e=>{if(this.shouldUpdateFormStore&&this.previewStore.token){const{previewStore:t}=this;t.update(e).then(this.setContent)}}),e.debounceDelay),this.setContent=e=>{const t=this.getPreviewDocument();t&&(t.open(),t.write(e),t.close())},this.getPreviewDocument=()=>this.previewWindow?this.previewWindow.document:this.iframeRef instanceof HTMLIFrameElement?this.iframeRef.contentDocument:void 0,lme(this,"setIframe",eme,this),this.handleToggleSidebarClick=()=>{if("medium"===cN.size)return cN.setSize("large");cN.setSize("medium")},lme(this,"handleDeviceSelectChange",tme,this),lme(this,"handleDateTimeChange",nme,this),lme(this,"handleWebspaceChange",ime,this),this.handleTargetGroupChange=e=>{const{formStore:t}=this.props;this.previewStore.setTargetGroup(e),this.updatePreview(Mt(t.data))},this.handleSegmentChange=e=>{const{formStore:t}=this.props;this.previewStore.setSegment(e),this.updatePreview(Mt(t.data))},lme(this,"handleRefreshClick",rme,this),this.handleStartClick=()=>{this.startPreview()},lme(this,"handlePreviewWindowClick",ome,this),e.audienceTargeting&&(this.targetGroupsStore=new Tc("target_groups")),this.webspaceOptions=lse.grantedWebspaces.map((e=>({label:e.name,value:e.key}))),this.createPreviewStore(),"auto"===e.mode&&this.startPreview()}componentDidUpdate(e){const{formStore:t}=this.props;this.props.formStore!==e.formStore&&(this.disposeFormStoreReactions(),this.updatePreview(Mt(t.data)),this.initializeFormStoreReactions())}componentWillUnmount(){this.disposeFormStoreReactions(),this.started&&(this.updatePreview.clear(),this.previewStore.stop())}disposeFormStoreReactions(){this.schemaDisposer&&this.schemaDisposer(),this.dataDisposer&&this.dataDisposer(),this.localeDisposer&&this.localeDisposer()}render(){const{router:t}=this.props,{previewWebspaceChooser:n=!0}=t.route.options;if(this.previewWindow||this.targetGroupsStore&&this.targetGroupsStore.loading)return null;if("auto"!==e.mode&&!this.started)return u.createElement("button",{onClick:this.handleStartClick,type:"button"},"Start");const i=eo()(Ofe.container,{[Ofe[this.selectedDeviceOption]]:this.selectedDeviceOption});return u.createElement("div",{className:i},this.previewStore.starting?u.createElement("div",{className:Ofe.loaderContainer},u.createElement(ao,null)):u.createElement("div",{className:Ofe.previewContainer},u.createElement("div",{className:Ofe.iframeContainer},u.createElement("iframe",{className:Ofe.iframe,key:this.reloadCounter,ref:this.setIframe,src:this.previewStore.renderRoute}))),u.createElement(rF,{skin:"dark"},u.createElement(rF.Controls,{grow:!0},u.createElement(rF.Button,{icon:"medium"===cN.size?"su-arrow-left":"su-arrow-right",onClick:this.handleToggleSidebarClick}),u.createElement(rF.Items,null,u.createElement(rF.Select,{icon:"su-expand",onChange:this.handleDeviceSelectChange,options:this.availableDeviceOptions,value:this.selectedDeviceOption}),u.createElement(rF.Popover,{icon:"su-calendar",label:(this.previewStore?.dateTime||new Date).toLocaleString()},(()=>u.createElement("div",{className:Ofe.dateTimeForm},u.createElement(hh,{skin:"dark"},u.createElement(hh.Field,{description:Xs("sulu_admin.preview_date_time_description"),label:Xs("sulu_admin.preview_date_time")},u.createElement(a_,{onChange:this.handleDateTimeChange,options:{dateFormat:!0,timeFormat:!0},value:this.previewStore?.dateTime})))))),n&&u.createElement(rF.Select,{icon:"su-webspace",onChange:this.handleWebspaceChange,options:this.webspaceOptions,value:this.previewStore.webspace}),!!this.targetGroupsStore&&u.createElement(rF.Select,{icon:"su-user",loading:this.targetGroupsStore.loading,onChange:this.handleTargetGroupChange,options:[{label:Xs("sulu_audience_targeting.no_target_group"),value:-1},...this.targetGroupsStore?this.targetGroupsStore.data.map((e=>({label:e.title,value:e.id}))):[]],value:this.previewStore&&this.previewStore.targetGroup}),this.segments.length>0&&u.createElement(rF.Select,{icon:"su-focus",onChange:this.handleSegmentChange,options:this.segments.map((({title:e,key:t})=>({label:e,value:t}))),value:this.previewStore&&this.previewStore.segment}),u.createElement(rF.Button,{icon:"su-sync",onClick:this.handleRefreshClick},Xs("sulu_preview.reload")),u.createElement(rF.Popover,{icon:"su-share",label:Xs("sulu_preview.preview_link")},(()=>u.createElement(ame,{previewStore:this.previewStore}))),u.createElement(rF.Button,{icon:"su-link",onClick:this.handlePreviewWindowClick},Xs("sulu_preview.open_in_window"))))))}},sme.debounceDelay=250,sme.mode="auto",sme.audienceTargeting=!1,Wfe=cme((Vfe=sme).prototype,"iframeRef",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ufe=cme(Vfe.prototype,"started",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$fe=cme(Vfe.prototype,"selectedDeviceOption",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.availableDeviceOptions[0].value}}),qfe=cme(Vfe.prototype,"targetGroupsStore",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kfe=cme(Vfe.prototype,"previewStore",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gfe=cme(Vfe.prototype,"previewWindow",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zfe=cme(Vfe.prototype,"webspaceOptions",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Jfe=cme(Vfe.prototype,"reloadCounter",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),cme(Vfe.prototype,"webspaceKey",[ge],Object.getOwnPropertyDescriptor(Vfe.prototype,"webspaceKey"),Vfe.prototype),cme(Vfe.prototype,"segments",[ge],Object.getOwnPropertyDescriptor(Vfe.prototype,"segments"),Vfe.prototype),cme(Vfe.prototype,"shouldUpdateFormStore",[ge],Object.getOwnPropertyDescriptor(Vfe.prototype,"shouldUpdateFormStore"),Vfe.prototype),Xfe=cme(Vfe.prototype,"createPreviewStore",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{formStore:{resourceKey:e,id:t,locale:n},router:{route:{options:{previewResourceKey:i=null}}}}=this.props;this.previewStore=new Dfe(i||e,t,n,this.webspaceKey,this.segments.find((e=>!0===e.default))?.key)}}}),Qfe=cme(Vfe.prototype,"setStarted",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.started=e}}}),eme=cme(Vfe.prototype,"setIframe",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.iframeRef=e}}}),tme=cme(Vfe.prototype,"handleDeviceSelectChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.selectedDeviceOption=e}}}),nme=cme(Vfe.prototype,"handleDateTimeChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ya()((e=>{const{formStore:t}=this.props;this.previewStore.setDateTime(e||new Date),this.updatePreview(Mt(t.data))}),ume.debounceDelay)}}),ime=cme(Vfe.prototype,"handleWebspaceChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{formStore:t}=this.props;this.previewStore.setWebspace(e),this.updatePreview(Mt(t.data))}}}),rme=cme(Vfe.prototype,"handleRefreshClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{++this.reloadCounter}}}),ome=cme(Vfe.prototype,"handlePreviewWindowClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.previewWindow=window.open(this.previewStore.renderRoute),this.previewWindow.addEventListener("beforeunload",ht((()=>{this.previewWindow=void 0})))}}}),Hfe=Vfe))||Hfe;var dme,hme,pme,fme=ume;Na.addUpdateConfigHook("sulu_preview",(e=>{Dfe.endpoints=e.endpoints,fme.debounceDelay=e.debounceDelay,fme.mode=e.mode,fme.audienceTargeting=e.audienceTargeting,"off"===e.mode&&uN.disable("sulu_preview.preview")})),uN.add("sulu_preview.preview",fme);let mme=Br((hme=class extends u.Component{constructor(e){super(e),function(e,t,n,i){n&&Object.defineProperty(e,"mode",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}(this,0,pme,this),this.handlePageChange=(e,t={path:null})=>{const{onFinish:n}=this.props,i=e&&e.toString()||null,r=t&&t.url||null;this.handleChange({...this.props.value,page:{uuid:i,path:r}}),n()},this.handleSuffixChange=e=>{this.handleChange({...this.props.value,suffix:e})},this.handleChange=e=>{const{onChange:t}=this.props;t(e)};const{fieldTypeOptions:{modeResolver:t}}=e;if(!t)throw new Error('The "modeResolver" must be a function returning a promise with the desired mode');t(e).then(ht((e=>this.mode=e)))}get locale(){const{formInspector:e}=this.props;return e.locale?e.locale:ue.box(sl.contentLocale)}get pageValue(){const{value:e}=this.props;return e&&e.page&&e.page.uuid?e.page.uuid:null}get suffixValue(){const{value:e}=this.props;return e&&e.suffix?e.suffix:null}render(){if(!this.mode)return null;const{data:e,dataPath:t,defaultType:n,disabled:i,fieldTypeOptions:r,formInspector:o,onFinish:s,onSuccess:a,router:l,schemaOptions:c,schemaPath:d,types:h}=this.props;return u.createElement(u.Fragment,null,u.createElement(Ed,null,u.createElement(Ed.Item,{colSpan:5},u.createElement(Fx,{adapter:"column_list",disabled:!!i,displayProperties:["url"],emptyText:Xs("sulu_page.no_page_selected"),icon:"su-document",listKey:"pages",locale:this.locale,onChange:this.handlePageChange,overlayTitle:Xs("sulu_page.single_selection_overlay_title"),resourceKey:"pages",value:this.pageValue})),u.createElement(Ed.Item,{colSpan:7},u.createElement(AI,{data:e,dataPath:t,defaultType:n,disabled:i,error:void 0,fieldTypeOptions:{historyResourceKey:"routes",options:{history:!0},...r},formInspector:o,label:void 0,maxOccurs:1,minOccurs:1,onChange:this.handleSuffixChange,onFinish:s,onSuccess:a,router:l,schemaOptions:c,schemaPath:d,showAllErrors:!1,types:h,value:this.suffixValue}))))}},pme=function(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),void 0===(o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o)).initializer&&(Object.defineProperty(e,t,o),o=null),o}(hme.prototype,"mode",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dme=hme))||dme;var gme,bme,yme,vme,_me,wme=mme;function kme(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Cme(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Na.addUpdateConfigHook("sulu_admin",((e,t)=>{if(t)return;const n=Da.getUrl("list","routes",{action:"generate"});gh.add("route",AI,{historyResourceKey:"routes",modeResolver:e=>{const{schemaOptions:{mode:{value:t="full"}={}}}=e;return Promise.resolve(t)},generationUrl:n,options:{history:!0}}),gh.add("page_tree_route",wme,{modeResolver:()=>Promise.resolve("leaf")})}));var Eme,xme,Sme,Ome,Tme,Mme,Pme,Dme=new(bme=Cme((gme=class{constructor(){kme(this,"query",bme,this),kme(this,"indexName",yme,this),kme(this,"result",vme,this),kme(this,"loading",_me,this),ft((()=>{this.query?(this.setLoading(!0),La.getList("search",{q:this.query,index:this.indexName}).then(ht((e=>{this.setLoading(!1),this.result=e._embedded.result})))):this.resetResults()}))}search(e,t){this.query=e,this.indexName=t}resetResults(){this.result.splice(0,this.result.length)}setLoading(e){this.loading=e}}).prototype,"query",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),yme=Cme(gme.prototype,"indexName",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),vme=Cme(gme.prototype,"result",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_me=Cme(gme.prototype,"loading",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cme(gme.prototype,"search",[ht],Object.getOwnPropertyDescriptor(gme.prototype,"search"),gme.prototype),Cme(gme.prototype,"resetResults",[ht],Object.getOwnPropertyDescriptor(gme.prototype,"resetResults"),gme.prototype),Cme(gme.prototype,"setLoading",[ht],Object.getOwnPropertyDescriptor(gme.prototype,"setLoading"),gme.prototype),gme),Lme=new class{clear(){this.indexPromise=void 0}sendRequest(){return this.indexPromise||(this.indexPromise=La.getList("search_indexes")),this.indexPromise}loadIndexes(){return this.sendRequest().then((e=>e._embedded.search_indexes))}};function Ame(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function zme(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Ime=Br(((Pme=class extends u.Component{constructor(...e){super(...e),Ame(this,"showIndexes",Sme,this),Ame(this,"handleIndexClick",Ome,this),Ame(this,"handleIndexClose",Tme,this),Ame(this,"handleIndexChange",Mme,this),this.handleQueryChange=e=>{const{onQueryChange:t}=this.props;t(e.currentTarget.value)},this.handleQueryKeyPress=e=>{if("Enter"===e.key){const{onSearch:e}=this.props;e()}},this.handleClearClick=()=>{const{onQueryChange:e,onSearch:t}=this.props;e(void 0),t()}}get allIndexes(){const{indexes:e}=this.props;if(e)return Object.values(e)}get index(){const{indexName:e,indexes:t}=this.props;if(e&&t)return t[e]}render(){const{onSearch:e,query:t}=this.props,n=Xs("sulu_search.everything");return u.createElement(u.Fragment,null,u.createElement("div",{className:"search-field--zirlkb0T4H"},u.createElement(ih,{anchorElement:u.createElement("button",{className:"index-button--K1KQlPpJkT",onClick:this.handleIndexClick,type:"button"},u.createElement("span",{className:"index--K6UP1V5hms"},this.index?this.index.name:n),u.createElement(ro,{name:"su-angle-down"})),onClose:this.handleIndexClose,open:this.showIndexes},u.createElement(ih.SingleItemSection,{onChange:this.handleIndexChange,value:this.index?this.index.indexName:void 0},u.createElement(ih.Item,{value:void 0},n),this.allIndexes?this.allIndexes.map((e=>u.createElement(ih.Item,{key:e.indexName,value:e.indexName},e.name))):[])),u.createElement("div",{className:"input-container--kuC7oQENNl"},u.createElement("input",{autoFocus:!0,className:"input--kLHOkJ7vqm",onChange:this.handleQueryChange,onKeyPress:this.handleQueryKeyPress,value:t}),t&&u.createElement(ro,{className:"clear-icon--eIMFQSoBcI",name:"su-times",onClick:this.handleClearClick}),u.createElement(ro,{className:"search-icon--ZmLZSZJwNV",name:"su-search",onClick:e}))),u.createElement("p",{className:"hint--gSVxCyJ7Eg"},Xs("sulu_search.search_hint")))}}).defaultProps={query:""},Sme=zme((xme=Pme).prototype,"showIndexes",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),zme(xme.prototype,"allIndexes",[ge],Object.getOwnPropertyDescriptor(xme.prototype,"allIndexes"),xme.prototype),zme(xme.prototype,"index",[ge],Object.getOwnPropertyDescriptor(xme.prototype,"index"),xme.prototype),Ome=zme(xme.prototype,"handleIndexClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showIndexes=!0}}}),Tme=zme(xme.prototype,"handleIndexClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showIndexes=!1}}}),Mme=zme(xme.prototype,"handleIndexChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{onIndexChange:t,onSearch:n}=this.props;this.showIndexes=!1,t(e),n()}}}),Eme=xme))||Eme;class Rme extends u.Component{constructor(...e){super(...e),this.handleClick=()=>{const{index:e,onClick:t}=this.props;t(e)}}render(){const{description:e,icon:t,image:n,locale:i,resource:r,title:o}=this.props;return u.createElement("div",{className:"search-result--VK7Kt13Kky",onClick:this.handleClick,role:"button"},u.createElement("div",{className:"image-container--JI1yQwPtd4"},n&&u.createElement("img",{className:"image--n8ajQV72bc",src:n}),!n&&t&&u.createElement("div",{className:"icon--xafRK27ye6"},u.createElement(ro,{name:t}))),u.createElement("div",{className:"result-container--xup5cWWCj0"},r&&u.createElement("div",{className:"resource--j7CtA1X3UY"},r),u.createElement("div",{className:"title-container--fuve8LQ7iY"},u.createElement("div",{className:"title--JpQVD0Y_wn"},o),i&&u.createElement("div",{className:"locale--sueQzqcALv"}," (",i,")")),e&&u.createElement("div",{className:"description--vRVBXEVimG"},m8()(e))))}}var jme,Nme,Fme,Yme,Bme,Hme,Vme;function Wme(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Ume(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let $me=Br((Nme=class extends u.Component{constructor(...e){super(...e),Wme(this,"query",Fme,this),Wme(this,"indexes",Yme,this),Wme(this,"indexName",Bme,this),Wme(this,"handleIndexChange",Hme,this),Wme(this,"handleQueryChange",Vme,this),this.handleSearch=()=>{Dme.search(this.query,this.indexName)},this.handleResultClick=e=>{if(!this.indexes)throw new Error("The indexes must be available to route to a search result! This should not happen and is likely a bug.");const t=Dme.result[e],{route:{name:n,resultToRoute:i}}=this.indexes[t.document.index],{router:r}=this.props;r.navigate(n,Object.keys(i).reduce(((e,n)=>(e[i[n]]=Pc().get(t.document,"/"+n),e)),{}))}}componentDidMount(){this.query=Dme.query,this.indexName=Dme.indexName,Lme.loadIndexes().then(ht((e=>{this.indexes=e.reduce(((e,t)=>(e[t.indexName]=t,e)),{})})))}render(){const{indexes:e}=this;return e?u.createElement("div",{className:"search--gioTeENjD8"},u.createElement(Ime,{indexes:e,indexName:this.indexName,onIndexChange:this.handleIndexChange,onQueryChange:this.handleQueryChange,onSearch:this.handleSearch,query:this.query||void 0}),Dme.loading&&u.createElement(ao,null),!Dme.loading&&Dme.query&&0===Dme.result.length&&u.createElement("div",{className:"nothing-hint--uPE8gKJMUI"},u.createElement("div",{className:"nothing-icon--WeahGfgkLF"},u.createElement(ro,{name:"su-battery-low"})),Xs("sulu_search.nothing_found")),!Dme.loading&&Dme.result.length>0&&Dme.result.map(((t,n)=>u.createElement(Rme,{description:t.document.description,icon:e[t.document.index].icon,image:t.document.imageUrl,index:n,key:t.document.index+"_"+t.document.id+"_"+t.document.locale,locale:t.document.locale,onClick:this.handleResultClick,resource:e[t.document.index]?e[t.document.index].name:"",title:t.document.title})))):u.createElement(ao,null)}},Fme=Ume(Nme.prototype,"query",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Yme=Ume(Nme.prototype,"indexes",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Bme=Ume(Nme.prototype,"indexName",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Ume(Nme.prototype,"componentDidMount",[ht],Object.getOwnPropertyDescriptor(Nme.prototype,"componentDidMount"),Nme.prototype),Hme=Ume(Nme.prototype,"handleIndexChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.indexName=e}}}),Vme=Ume(Nme.prototype,"handleQueryChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.query=e}}}),jme=Nme))||jme;var qme=$me;class Kme extends u.Component{render(){const{router:e}=this.props;return u.createElement(qme,{router:e})}}var Gme=bF(Kme,(function(){return{}}));vF.add("sulu_search.search",Gme);var Zme,Jme,Xme=new class{getSystems(){return Object.keys(this.securityContexts)}setSecurityContexts(e){this.securityContexts=e}getSecurityContextByResourceKey(e){return this.resourceKeyMapping[e]}getSecurityContextGroups(e){return this.securityContexts[e]}getAvailableActions(e,t){const n=this.securityContexts[t||this.suluSecuritySystem];if(!n)return[];for(const t in n){const i=n[t];for(const t in i)if(t===this.resourceKeyMapping[e])return i[t]}return[]}loadSecurityContextGroups(e){return c().warn('The "loadSecurityContextGroups" method is deprecated since 2.2 and will be removed. Use the "getSecurityContextGroups" method instead.'),Promise.resolve(this.getSecurityContextGroups(e))}loadAvailableActions(e){return c().warn('The "loadAvailableActions" method is deprecated since 2.2 and will be removed. Use the "getAvailableActions" method instead.'),Promise.resolve(this.getAvailableActions(e))}},Qme="matrix-container--xQCsCGMsId";function ege(e){switch(e){case"view":return"su-eye";case"add":return"su-plus-circle";case"edit":return"su-pen";case"delete":return"su-trash-alt";case"security":return"su-lock";case"live":return"su-publish";default:throw new Error('No icon defined for "'+e+'"')}}let tge=Br((Jme=class extends u.Component{constructor(...e){super(...e),this.getMatrixValueFromContextPermission=e=>{for(const t of this.props.contextPermissions)if(e===t.context)return t.permissions;return{}},this.handleMatrixChange=e=>{const{onChange:t,contextPermissions:n}=this.props,i=Mt(n);Object.keys(e).map((t=>{const n=e[t];for(const e of i)if(t===e.context)return void(e.permissions=n);i.push({id:void 0,context:t,permissions:n})})),t(i)}}renderMatrixRow(e,t,n){const i=t.indexOf(".",t.indexOf(".")+1)+1,r=t.substring(i);return u.createElement(X7.Row,{key:"row-"+e,name:t,title:r},n.map(((e,t)=>u.createElement(X7.Item,{icon:ege(e),key:"item-"+t,name:e,title:Xs("sulu_security."+e)}))))}render(){const{disabled:e,title:t,subTitle:n,securityContexts:i}=this.props,r={},o=[];return Object.keys(i).map(((e,t)=>{const n=i[e];r[e]=this.getMatrixValueFromContextPermission(e),o.push(this.renderMatrixRow(t,e,n))})),u.createElement("div",{className:Qme},t&&u.createElement("h2",null,t),n&&u.createElement("h3",null,n),u.createElement(X7,{disabled:e,onChange:this.handleMatrixChange,values:r},o))}},Jme.defaultProps={disabled:!1},Zme=Jme))||Zme;var nge,ige,rge,oge,sge,age=tge;function lge(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function cge(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let uge=Br((sge=class e extends u.Component{constructor(...e){super(...e),lge(this,"securityContextGroups",rge,this),this.handleChange=e=>{const{onChange:t}=this.props;t(e)},lge(this,"handleWebspaceChange",oge,this)}componentDidMount(){this.systemDisposer=ft((()=>this.setSecurityContextGroups(Xme.getSecurityContextGroups(this.system))))}setSecurityContextGroups(e){this.securityContextGroups=e}componentWillUnmount(){this.systemDisposer()}get system(){return this.props.system}get webspaceContextPermissionPrefix(){if(this.webspaceSecurityContextGroupKey){const t=this.securityContextGroups[this.webspaceSecurityContextGroupKey];for(const n of Object.keys(t))if(n.includes(e.webspacePlaceholder))return n.substring(0,n.indexOf("#"))}throw new Error("Webspace context permission prefix not found")}get webspaceSecurityContextGroupKey(){for(const t of Object.keys(this.securityContextGroups)){const n=this.securityContextGroups[t];for(const i of Object.keys(n))if(i.includes(e.webspacePlaceholder))return t}return null}get selectedWebspaces(){const e=[];for(const t of this.props.value)if(t.context.startsWith(this.webspaceContextPermissionPrefix)){const n=t.context.replace(this.webspaceContextPermissionPrefix,"");if(n.includes("."))continue;e.push(n)}return e.sort()}getWebspaceSecurityContexts(t){if(!this.webspaceSecurityContextGroupKey)return{};const n=this.securityContextGroups[this.webspaceSecurityContextGroupKey],i={};return Object.keys(n).sort().map((r=>{i[r.replace(e.webspacePlaceholder,t)]=n[r]})),i}renderWebspaceMatrixes(){const{disabled:e,value:t}=this.props;return this.webspaceSecurityContextGroupKey?u.createElement(u.Fragment,null,u.createElement("h2",null,this.webspaceSecurityContextGroupKey),u.createElement("div",{className:"select-container--n8isJ9oCR3"},u.createElement(Iz,{disabled:e,onChange:this.handleWebspaceChange,values:this.selectedWebspaces},lse.allWebspaces.map((e=>u.createElement(Iz.Option,{key:e.key,value:e.key},e.name))))),u.createElement("div",{className:Qme},this.selectedWebspaces.map(((n,i)=>u.createElement(age,{contextPermissions:t,disabled:e,key:i,onChange:this.handleChange,securityContexts:this.getWebspaceSecurityContexts(n),subTitle:n}))))):null}renderMatrixes(){const{disabled:e,value:t}=this.props;return Object.keys(this.securityContextGroups).sort().map(((n,i)=>{if(this.webspaceSecurityContextGroupKey&&this.webspaceSecurityContextGroupKey===n)return null;const r=this.securityContextGroups[n];return u.createElement(age,{contextPermissions:t,disabled:e,key:i,onChange:this.handleChange,securityContexts:r,title:n})}))}render(){return this.securityContextGroups?u.createElement(u.Fragment,null,this.renderWebspaceMatrixes(),this.renderMatrixes()):u.createElement(ao,null)}},sge.defaultProps={disabled:!1},sge.webspacePlaceholder="#webspace#",rge=cge((ige=sge).prototype,"securityContextGroups",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cge(ige.prototype,"componentDidMount",[ht],Object.getOwnPropertyDescriptor(ige.prototype,"componentDidMount"),ige.prototype),cge(ige.prototype,"setSecurityContextGroups",[ht],Object.getOwnPropertyDescriptor(ige.prototype,"setSecurityContextGroups"),ige.prototype),cge(ige.prototype,"system",[ge],Object.getOwnPropertyDescriptor(ige.prototype,"system"),ige.prototype),cge(ige.prototype,"webspaceContextPermissionPrefix",[ge],Object.getOwnPropertyDescriptor(ige.prototype,"webspaceContextPermissionPrefix"),ige.prototype),cge(ige.prototype,"webspaceSecurityContextGroupKey",[ge],Object.getOwnPropertyDescriptor(ige.prototype,"webspaceSecurityContextGroupKey"),ige.prototype),cge(ige.prototype,"selectedWebspaces",[ge],Object.getOwnPropertyDescriptor(ige.prototype,"selectedWebspaces"),ige.prototype),oge=cge(ige.prototype,"handleWebspaceChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const t=[];for(const n of this.props.value){if(n.context.startsWith(this.webspaceContextPermissionPrefix)){const t=n.context.replace(this.webspaceContextPermissionPrefix,""),i=t.includes(".")?t.substring(0,t.indexOf(".")):t;if(!e.includes(i))continue}t.push(n)}const n=e.filter((e=>!this.selectedWebspaces.includes(e)));for(const e of n){const n=this.getWebspaceSecurityContexts(e.toString());Object.keys(n).map((e=>{const i={},r=n[e];for(const e of r)i[e]=!1;const o={id:void 0,context:e,permissions:i};t.push(o)}))}this.handleChange(t)}}}),nge=ige))||nge;var dge,hge,pge=uge;let fge=Br((function(e,t,n,i,r){var o={};Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}((hge=class extends u.Component{constructor(...e){super(...e),this.handleChange=e=>{const{onChange:t,onFinish:n}=this.props;t(e),n()}}get system(){const{formInspector:e}=this.props,t=e.getValueByPath("/system");return t&&"string"==typeof t?t:null}render(){const{disabled:e,value:t}=this.props;return this.system?u.createElement(pge,{disabled:!!e,onChange:this.handleChange,system:this.system,value:t||[]}):null}}).prototype,"system",[ge],Object.getOwnPropertyDescriptor(hge.prototype,"system"),hge.prototype),dge=hge))||dge;var mge,gge,bge=fge;var yge,vge,_ge,wge=Br(((gge=class extends u.Component{constructor(...e){super(...e),this.handleChange=e=>{const t={...this.props.value};t.locales=e,this.props.onChange(t)}}render(){const{disabled:e,localizations:t,value:n}=this.props,i=eo()("role-assignment--OIsPT2n5n1",{"disabled--yjmVmT20Uo":e});return u.createElement("tr",{className:i},u.createElement("td",null,n.role.name),u.createElement("td",null,n.role.system),u.createElement("td",{className:"locale--fc53bVnN8V"},u.createElement(Iz,{disabled:e,onChange:this.handleChange,values:n.locales},t.map(((e,t)=>u.createElement(Iz.Option,{key:t,value:e.locale},e.locale))))))}}).defaultProps={disabled:!1},mge=gge))||mge;let kge=Br(((_ge=class extends u.Component{constructor(...e){super(...e),this.handleRoleChange=(e,t=[])=>{const n=[];for(const t of this.props.value)e.includes(t.role.id)&&n.push(t);const i=t.filter((e=>!this.selectedRoles.includes(e.id)));for(const e of i)n.push({locales:[],role:e});this.props.onChange(n)},this.handleRoleAssignmentChange=e=>{const t=[];for(const n of this.props.value)n.role.id!==e.role.id?t.push(n):t.push(e);this.props.onChange(t)}}get selectedRoles(){const e=[];for(const t of this.props.value)e.push(t.role.id);return e.sort()}render(){const{disabled:e,value:t}=this.props;return u.createElement(Ed,null,u.createElement(Ed.Item,{colSpan:6},u.createElement(Hte,{disabled:e,displayProperty:"name",onChange:this.handleRoleChange,requestParameters:{sortBy:"name"},resourceKey:"roles",values:this.selectedRoles})),this.selectedRoles.length>0&&u.createElement(Ed.Item,{colSpan:12},u.createElement("table",{className:"role-assignments--Sk9SwF7i_6"},u.createElement("tbody",null,t.map(((t,n)=>u.createElement(wge,{disabled:e,key:n,localizations:Qa.localizations,onChange:this.handleRoleAssignmentChange,value:t})))))))}}).defaultProps={disabled:!1},function(e,t,n,i,r){var o={};Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}((vge=_ge).prototype,"selectedRoles",[ge],Object.getOwnPropertyDescriptor(vge.prototype,"selectedRoles"),vge.prototype),yge=vge))||yge;var Cge=kge;class Ege extends u.Component{constructor(...e){super(...e),this.handleChange=e=>{const{onChange:t,onFinish:n}=this.props;t(e),n()}}render(){const{disabled:e,value:t}=this.props;return u.createElement(Cge,{disabled:!!e,onChange:this.handleChange,value:t||[]})}}var xge,Sge,Oge,Tge,Mge;function Pge(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Dge(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Lge,Age,zge,Ige,Rge=Br((Mge=class e extends u.Component{constructor(...e){super(...e),Pge(this,"active",Oge,this),this.handleChange=e=>{const{onChange:t,system:n}=this.props;t(e,n)},Pge(this,"handleActiveChange",Tge,this)}componentDidMount(){this.active=this.hasValues}get defaultValue(){const{resourceKey:t,roles:n,webspaceKey:i}=this.props;if(!n)return{};const r=Xme.getSecurityContextByResourceKey(t)?.replace(e.webspacePlaceholder,i||e.webspacePlaceholder);return n.reduce(((e,n)=>{const i=n.permissions.find((e=>e.context===r));return e[n.id]=Xme.getAvailableActions(t,n.system).reduce(((e,t)=>(e[t]=!!i&&i.permissions[t],e)),{}),e}),{})}get hasValues(){const{values:e}=this.props;return Object.keys(e).length>0}render(){const{actions:e,disabled:t,roles:n,system:i,values:r}=this.props;return u.createElement("div",{className:"systemRolePermissions--qvJ1JcovMo"},u.createElement($x,{label:Xs("sulu_security.system_permission_heading",{system:i})},u.createElement(Nv,{checked:this.active,onChange:this.handleActiveChange})),this.active&&u.createElement(X7,{className:"matrix--AXFi_6EWY1",disabled:t,onChange:this.handleChange,values:this.hasValues?r:this.defaultValue},n.map((t=>u.createElement(X7.Row,{key:t.id,name:t.id.toString(),title:t.name},e.map((e=>u.createElement(X7.Item,{icon:ege(e),key:e,name:e}))))))))}},Mge.webspacePlaceholder="#webspace#",Oge=Dge((Sge=Mge).prototype,"active",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Dge(Sge.prototype,"componentDidMount",[ht],Object.getOwnPropertyDescriptor(Sge.prototype,"componentDidMount"),Sge.prototype),Tge=Dge(Sge.prototype,"handleActiveChange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{if(this.active=e,!this.active){const{onChange:e,system:t}=this.props;e({},t)}}}}),Dge(Sge.prototype,"defaultValue",[ge],Object.getOwnPropertyDescriptor(Sge.prototype,"defaultValue"),Sge.prototype),Dge(Sge.prototype,"hasValues",[ge],Object.getOwnPropertyDescriptor(Sge.prototype,"hasValues"),Sge.prototype),xge=Sge))||xge;function jge(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let Nge=Br((Ige=class e extends u.Component{constructor(...e){super(...e),function(e,t,n,i){n&&Object.defineProperty(e,"roles",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}(this,0,zge,this),this.handleChange=(e,t)=>{const{roles:n}=this;if(!n)return;const{onChange:i,value:r}=this.props,o=n.filter((e=>e.system===t));i({...Object.keys(r).reduce(((e,t)=>(o.some((e=>e.id.toString()==t))||(e[t]=r[t]),e)),{}),...e})}}componentDidMount(){La.get("roles",{"include-anonymous":!0}).then(ht((e=>{this.roles=e._embedded.roles})))}render(){const{roles:t}=this,{disabled:n,permissionCheck:i,resourceKey:r,system:o,value:s,webspaceKey:a}=this.props;return t?(i&&o?[e.suluSecuritySystem,o]:!i&&o?[e.suluSecuritySystem]:Xme.getSystems()).reduce(((e,i)=>{const o=Xme.getAvailableActions(r,i),l=t.filter((e=>e.system===i));if(0===l.length||0===o.length)return e;const c=Object.keys(s).reduce(((e,t)=>l.some((e=>e.id.toString()==t))?(e[t]=s[t],e):e),{});return e.push(u.createElement(Rge,{actions:o,disabled:n,key:i,onChange:this.handleChange,resourceKey:r,roles:l,system:i,values:c,webspaceKey:a})),e}),[]):u.createElement(ao,null)}},Ige.defaultProps={disabled:!1},zge=jge((Age=Ige).prototype,"roles",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jge(Age.prototype,"componentDidMount",[ht],Object.getOwnPropertyDescriptor(Age.prototype,"componentDidMount"),Age.prototype),Lge=Age))||Lge;var Fge,Yge=Nge;function Bge(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Hge,Vge,Wge,Uge=(Bge((Fge=class extends u.Component{constructor(...e){super(...e),this.handleChange=e=>{const{onChange:t,onFinish:n}=this.props;t(e),n()}}get webspace(){const{formInspector:{options:{webspace:e}}}=this.props;if(e&&lse.hasWebspace(e))return lse.getWebspace(e)}get webspaceKey(){const{webspace:{key:e}={}}=this;return e}get webspaceSecurity(){const{webspace:{security:e={}}={}}=this;return e}get permissionCheck(){const{permissionCheck:e}=this.webspaceSecurity;return e}get system(){const{system:e}=this.webspaceSecurity;return e}render(){const{disabled:e,formInspector:t,value:n}=this.props;if(!t.options.resourceKey)throw new Error('The "resourceKey" must be available in order to load the available permissions!');return u.createElement(Yge,{disabled:e||void 0,onChange:this.handleChange,permissionCheck:this.permissionCheck,resourceKey:t.options.resourceKey,system:this.system,value:n||{},webspaceKey:this.webspaceKey})}}).prototype,"webspace",[ge],Object.getOwnPropertyDescriptor(Fge.prototype,"webspace"),Fge.prototype),Bge(Fge.prototype,"webspaceKey",[ge],Object.getOwnPropertyDescriptor(Fge.prototype,"webspaceKey"),Fge.prototype),Bge(Fge.prototype,"webspaceSecurity",[ge],Object.getOwnPropertyDescriptor(Fge.prototype,"webspaceSecurity"),Fge.prototype),Bge(Fge.prototype,"permissionCheck",[ge],Object.getOwnPropertyDescriptor(Fge.prototype,"permissionCheck"),Fge.prototype),Bge(Fge.prototype,"system",[ge],Object.getOwnPropertyDescriptor(Fge.prototype,"system"),Fge.prototype),Fge);function $ge(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function qge(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let Kge=(Vge=qge((Hge=class extends w8{constructor(...e){super(...e),$ge(this,"loading",Vge,this),$ge(this,"handleEnableUserButtonClick",Wge,this)}getToolbarItemConfig(){return this.resourceFormStore.loading||!this.resourceFormStore.data.id||this.resourceFormStore.data.enabled?null:{type:"button",icon:"su-enter",onClick:this.handleEnableUserButtonClick,label:Xs("sulu_security.enable_user"),loading:this.loading}}}).prototype,"loading",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wge=qge(Hge.prototype,"handleEnableUserButtonClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{locale:e,data:{id:t}}=this.resourceFormStore;this.loading=!0,La.post("users",void 0,{action:"enable",locale:e,id:t}).then(ht((e=>{this.resourceFormStore.change("enabled",e.enabled,{isServerValue:!0}),this.loading=!1,this.form.showSuccessSnackbar()}))).catch(ht((e=>{this.form.errors.push(e),this.loading=!1})))}}}),Hge);var Gge,Zge,Jge,Xge,Qge;function ebe(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function tbe(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}gh.add("permissions",bge),gh.add("role_assignments",Ege),gh.add("role_permissions",Uge),j8.add("sulu_security.enable_user",Kge),Na.addUpdateConfigHook("sulu_security",(e=>{Yge.suluSecuritySystem=e.suluSecuritySystem,Xme.suluSecuritySystem=e.suluSecuritySystem,Xme.securityContexts=e.securityContexts,Xme.resourceKeyMapping=e.resourceKeySecurityContextMapping}));let nbe=(Zge=tbe((Gge=class{constructor(e){ebe(this,"snippetAreas",Zge,this),ebe(this,"loading",Jge,this),ebe(this,"saving",Xge,this),ebe(this,"deleting",Qge,this),this.webspaceKey=e,La.getList("snippet_areas",{webspace:e}).then(ht((e=>{this.snippetAreas=e._embedded.areas.reduce(((e,t)=>(e[t.key]=t,e)),{}),this.loading=!1})))}save(e,t){return this.saving=!0,La.put("snippet_areas",{defaultUuid:t},{key:e,webspace:this.webspaceKey}).then(ht((t=>{this.snippetAreas[e]=t,this.saving=!1})))}delete(e){return this.deleting=!0,La.delete("snippet_areas",{key:e,webspace:this.webspaceKey}).then(ht((t=>{this.snippetAreas[e]=t,this.deleting=!1})))}}).prototype,"snippetAreas",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Jge=tbe(Gge.prototype,"loading",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Xge=tbe(Gge.prototype,"saving",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qge=tbe(Gge.prototype,"deleting",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tbe(Gge.prototype,"save",[ht],Object.getOwnPropertyDescriptor(Gge.prototype,"save"),Gge.prototype),tbe(Gge.prototype,"delete",[ht],Object.getOwnPropertyDescriptor(Gge.prototype,"delete"),Gge.prototype),Gge);var ibe,rbe,obe,sbe,abe,lbe,cbe,ube,dbe,hbe;function pbe(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function fbe(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let mbe=Br((rbe=class extends u.Component{constructor(e){super(e),pbe(this,"openedAreaKey",obe,this),pbe(this,"deleteAreaKey",sbe,this),pbe(this,"handleSnippetClick",abe,this),pbe(this,"handleAddClick",lbe,this),pbe(this,"handleListOverlayClose",cbe,this),pbe(this,"handleListOverlayConfirm",ube,this),pbe(this,"handleDeleteClick",dbe,this),this.handleDeleteDialogConfirm=()=>{if(!this.deleteAreaKey)throw new Error("The area to delete has not been set! This should not happen and is likely a bug.");this.snippetAreaStore.delete(this.deleteAreaKey).then(ht((()=>{this.deleteAreaKey=void 0})))},pbe(this,"handleDeleteDialogCancel",hbe,this);const{router:t}=this.props,{attributes:{webspace:n}}=t;if("string"!=typeof n)throw new Error('The "webspace" router attribute must be a string!');this.snippetAreaStore=new nbe(n),this.cacheClearToolbarAction=new Lpe(n)}render(){return this.snippetAreaStore.loading?u.createElement(ao,null):u.createElement(u.Fragment,null,u.createElement(Gk,{skin:"light"},u.createElement(Gk.Header,null,u.createElement(Gk.HeaderCell,null,Xs("sulu_snippet.snippet_area")),u.createElement(Gk.HeaderCell,null,Xs("sulu_snippet.snippet"))),u.createElement(Gk.Body,null,Object.keys(this.snippetAreaStore.snippetAreas).map((e=>{const{defaultTitle:t,defaultUuid:n,key:i,title:r}=this.snippetAreaStore.snippetAreas[e];return u.createElement(Gk.Row,{key:i},u.createElement(Gk.Cell,null,r),u.createElement(Gk.Cell,null,n?u.createElement(u.Fragment,null,u.createElement(uo,{className:"title-button--vLhF98X0G6",onClick:this.handleSnippetClick,skin:"text",value:n},t),u.createElement(uo,{className:"delete-button--JJNdnxBue8",icon:"su-trash-alt",onClick:this.handleDeleteClick,skin:"link",value:i})):u.createElement(uo,{className:"add-button--HM0P3VOiA4",icon:"su-plus-circle",onClick:this.handleAddClick,skin:"link",value:i})))})))),u.createElement(hg,{adapter:"table",confirmLoading:this.snippetAreaStore.saving,key:this.openedAreaKey,listKey:"snippets",onClose:this.handleListOverlayClose,onConfirm:this.handleListOverlayConfirm,open:!!this.openedAreaKey,options:{areas:this.openedAreaKey},resourceKey:"snippets",title:Xs("sulu_snippet.selection_overlay_title")}),u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmLoading:this.snippetAreaStore.deleting,confirmText:Xs("sulu_admin.ok"),onCancel:this.handleDeleteDialogCancel,onConfirm:this.handleDeleteDialogConfirm,open:!!this.deleteAreaKey,title:Xs("sulu_admin.delete_warning_title")},Xs("sulu_admin.delete_warning_text")),this.cacheClearToolbarAction.getNode())}},obe=fbe(rbe.prototype,"openedAreaKey",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),sbe=fbe(rbe.prototype,"deleteAreaKey",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),abe=fbe(rbe.prototype,"handleSnippetClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{router:t,route:n}=this.props,{snippetEditView:i}=n.options;t.navigate(i,{id:e})}}}),lbe=fbe(rbe.prototype,"handleAddClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.openedAreaKey=e}}}),cbe=fbe(rbe.prototype,"handleListOverlayClose",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.openedAreaKey=void 0}}}),ube=fbe(rbe.prototype,"handleListOverlayConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{if(!this.openedAreaKey)throw new Error("The snippet area for saving has not been defined! This should not happen and is likely a bug.");this.snippetAreaStore.save(this.openedAreaKey,e.id).then(ht((()=>{this.openedAreaKey=void 0})))}}}),dbe=fbe(rbe.prototype,"handleDeleteClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.deleteAreaKey=e}}}),hbe=fbe(rbe.prototype,"handleDeleteDialogCancel",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.deleteAreaKey=void 0}}}),ibe=rbe))||ibe;var gbe,bbe,ybe,vbe,_be=bF(mbe,(function(){return{items:[this.cacheClearToolbarAction.getToolbarItemConfig()]}}));function wbe(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}vF.add("sulu_snippet.snippet_areas",_be);let kbe=Br((vbe=class extends u.Component{constructor(...e){super(...e),function(e,t,n,i){n&&Object.defineProperty(e,"formStore",{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}(this,0,ybe,this),this.handleConfirm=()=>{const{onConfirm:e}=this.props;e(Mt(this.formStore?.data))}}componentDidMount(){this.updateFormStoreInstance()}componentDidUpdate(e){const{open:t,formKey:n,trashItemId:i}=this.props;(e.formKey!==n||e.trashItemId!==i||!1===e.open&&!0===t)&&this.updateFormStoreInstance()}componentWillUnmount(){this.formStore&&this.formStore.destroy()}updateFormStoreInstance(){const{formKey:e,trashItemId:t}=this.props;if(this.formStore&&(this.formStore.destroy(),this.formStore=null),!e||!t)return;const n=new jf(((e,t)=>{const n=new Tf({},e,t);return n.loading=!0,n}),e);La.get("trash_items",{id:t}).then(ht((e=>{n.changeMultiple(e.restoreData,{isServerValue:!0}),n.loading=!1}))),this.formStore=n}render(){const{onClose:e,open:t,confirmLoading:n}=this.props,{formStore:i}=this;return i?u.createElement(Jj,{confirmLoading:n,confirmText:Xs("sulu_admin.ok"),formStore:i,onClose:e,onConfirm:this.handleConfirm,open:t,size:"small",title:Xs("sulu_trash.restore_element")}):null}},vbe.defaultProps={confirmLoading:!1},ybe=wbe((bbe=vbe).prototype,"formStore",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wbe(bbe.prototype,"updateFormStoreInstance",[ht],Object.getOwnPropertyDescriptor(bbe.prototype,"updateFormStoreInstance"),bbe.prototype),gbe=bbe))||gbe;var Cbe,Ebe,xbe,Sbe,Obe,Tbe,Mbe,Pbe,Dbe=kbe;function Lbe(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Abe(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let zbe=(Pbe=class e extends QY{constructor(...e){super(...e),Lbe(this,"idToBeRestored",Ebe,this),Lbe(this,"resourceKeyToBeRestored",xbe,this),Lbe(this,"restoring",Sbe,this),Lbe(this,"handleRestoreClick",Obe,this),Lbe(this,"handleCancel",Tbe,this),Lbe(this,"handleConfirm",Mbe,this)}get restoreConfiguration(){if(this.resourceKeyToBeRestored)return e.restoreConfigurationMapping[this.resourceKeyToBeRestored]||void 0}getItemActionConfig(e){return{icon:"su-process",onClick:e?.id?()=>this.handleRestoreClick(e.id,e?.resourceKey):void 0,disabled:!e?.id}}getNode(){return u.createElement(u.Fragment,{key:"restore"},u.createElement(Xh,{cancelText:Xs("sulu_admin.cancel"),confirmLoading:this.restoring,confirmText:Xs("sulu_admin.ok"),onCancel:this.handleCancel,onConfirm:this.handleConfirm,open:!!this.idToBeRestored&&!this.restoreConfiguration?.form,title:Xs("sulu_trash.restore_element")},Xs("sulu_trash.restore_element_dialog_text")),u.createElement(Dbe,{confirmLoading:this.restoring,formKey:this.restoreConfiguration?.form,onClose:this.handleCancel,onConfirm:this.handleConfirm,open:!!this.idToBeRestored&&!!this.restoreConfiguration?.form,trashItemId:this.idToBeRestored}))}},Pbe.restoreConfigurationMapping={},Ebe=Abe((Cbe=Pbe).prototype,"idToBeRestored",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),xbe=Abe(Cbe.prototype,"resourceKeyToBeRestored",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Sbe=Abe(Cbe.prototype,"restoring",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Abe(Cbe.prototype,"restoreConfiguration",[ge],Object.getOwnPropertyDescriptor(Cbe.prototype,"restoreConfiguration"),Cbe.prototype),Obe=Abe(Cbe.prototype,"handleRestoreClick",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{this.idToBeRestored=e,this.resourceKeyToBeRestored=t}}}),Tbe=Abe(Cbe.prototype,"handleCancel",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.idToBeRestored=void 0,this.resourceKeyToBeRestored=void 0}}}),Mbe=Abe(Cbe.prototype,"handleConfirm",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e={})=>{this.restoring=!0,La.post(this.listStore.resourceKey,e,{action:"restore",id:this.idToBeRestored}).then(ht((e=>{const{view:t,resultToView:n={}}=this.restoreConfiguration||{};this.restoring=!1,this.idToBeRestored=void 0,this.resourceKeyToBeRestored=void 0,t?this.router.navigate(t,Object.keys(n).reduce(((t,i)=>(t[n[i]]=Pc().get(e,"/"+i),t)),{})):this.listStore.reload()}))).catch(ht((e=>{this.restoring=!1,this.idToBeRestored=void 0,this.resourceKeyToBeRestored=void 0,this.listStore.reload(),e.json().then(ht((e=>{this.list.errors.push(e.detail||e.title||Xs("sulu_trash.restore_error"))})))})))}}}),Cbe);var Ibe,Rbe;aB.add("sulu_trash.restore",zbe),Na.addUpdateConfigHook("sulu_trash",(e=>{e&&(zbe.restoreConfigurationMapping=e.restoreConfigurationMapping)}));let jbe=Br((function(e,t,n,i,r){var o={};Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}((Rbe=class extends u.Component{constructor(...e){super(...e),this.handleChange=e=>{const{onChange:t,onFinish:n}=this.props;t(e),n()}}get webspace(){const{formInspector:e}=this.props;return lse.getWebspace(e.options.webspace)}render(){const{disabled:e,value:t}=this.props;return u.createElement(Iz,{disabled:!!e,onChange:this.handleChange,values:t||[]},this.webspace.urls.map((({url:e})=>u.createElement(Iz.Option,{key:e,value:e},e))))}}).prototype,"webspace",[ge],Object.getOwnPropertyDescriptor(Rbe.prototype,"webspace"),Rbe.prototype),Ibe=Rbe))||Ibe;var Nbe=jbe;Na.addUpdateConfigHook("sulu_website",(e=>{Lpe.clearCacheEndpoint=e.endpoints.clearCache})),gh.add("analytics_domain_select",Nbe),function(){console.log("%cWelcome to Sulu CMS \n%c\nThe Symfony based content management platform.\n\n Developer documentation: %chttps://docs.sulu.io/%c, %chttps://jsdocs.sulu.io/%c and %chttps://symfony.com/doc%c\n Contribute to Sulu: %chttps://github.com/sulu/sulu%c\n Create a new issue: %chttps://github.com/sulu/sulu/issues%c\n Implementation examples: %chttps://github.com/sulu/sulu-demo%c and %chttps://github.com/sulu/sulu-workshop%c\n\nIf you like Sulu  give it a  on Github: %chttps://github.com/sulu/sulu%c","font-family: monospace; font-size: 24px; font-weight: bold;","font-family: monospace; font-size: 10px;","font-family: monospace; font-size: 10px; text-decoration: underline;","font-family: monospace; font-size: 10px; text-decoration: none;","font-family: monospace; font-size: 10px; text-decoration: underline;","font-family: monospace; font-size: 10px; text-decoration: none;","font-family: monospace; font-size: 10px; text-decoration: underline;","font-family: monospace; font-size: 10px; text-decoration: none;","font-family: monospace; font-size: 10px; text-decoration: underline;","font-family: monospace; font-size: 10px; text-decoration: none;","font-family: monospace; font-size: 10px; text-decoration: underline;","font-family: monospace; font-size: 10px; text-decoration: none;","font-family: monospace; font-size: 10px; text-decoration: underline;","font-family: monospace; font-size: 10px; text-decoration: none;","font-family: monospace; font-size: 10px; text-decoration: underline;","font-family: monospace; font-size: 10px; text-decoration: none;","font-family: monospace; font-size: 10px; text-decoration: underline;","font-family: monospace; font-size: 10px; text-decoration: none;");const r="application",l=document.getElementById(r);if(!l)throw new Error(`DOM element with ID "${r}" was not found!`);if(!("config"in l.dataset))throw new Error("Configuration not found");Object.assign(va,JSON.parse(l.dataset.config)),Object.freeze(va),"2.6.x-dev"!==va.suluVersion&&c().error("Sulu administration interface: JavaScript build version mismatch\nJavaScript build of the Sulu administration interface does not match the version of the Sulu backend.\nBackend version: "+va.suluVersion+", JavaScript build version: 2.6.x-dev\n\nHave you forgotten to update the build while upgrading your application?\nhttps://docs.sulu.io/en/latest/upgrades/upgrade-2.x.html");const h=new Ai(function(r){void 0===r&&(r={});var l=r.window,c=void 0===l?document.defaultView:l,u=c.history;function d(){var e=a(c.location.hash.substr(1)),t=e.pathname,n=void 0===t?"/":t,i=e.search,r=void 0===i?"":i,o=e.hash,s=void 0===o?"":o,l=u.state||{};return[l.idx,{pathname:n,search:r,hash:s,state:l.usr||null,key:l.key||"default"}]}var h=null;function p(){if(h)v.call(h),h=null;else{var e=t.Pop,n=d(),i=n[0],r=n[1];if(v.length){if(null!=i){var o=g-i;o&&(h={action:e,location:r,retry:function(){x(-1*o)}},x(o))}}else E(e)}}c.addEventListener("popstate",p),c.addEventListener("hashchange",(function(){s(d()[1])!==s(b)&&p()}));var f=t.Pop,m=d(),g=m[0],b=m[1],y=o(),v=o();function _(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var n=c.location.href,i=n.indexOf("#");t=-1===i?n:n.slice(0,i)}return t}()+"#"+("string"==typeof e?e:s(e))}function w(t,n){return void 0===n&&(n=null),e({pathname:b.pathname,hash:"",search:""},"string"==typeof t?a(t):t,{state:n,key:Math.random().toString(36).substr(2,8)})}function k(e,t){return[{usr:e.state,key:e.key,idx:t},_(e)]}function C(e,t,n){return!v.length||(v.call({action:e,location:t,retry:n}),!1)}function E(e){f=e;var t=d();g=t[0],b=t[1],y.call({action:f,location:b})}function x(e){u.go(e)}return null==g&&(g=0,u.replaceState(e({},u.state,{idx:g}),"")),{get action(){return f},get location(){return b},createHref:_,push:function e(n,i){var r=t.Push,o=w(n,i);if(C(r,o,(function(){e(n,i)}))){var s=k(o,g+1),a=s[0],l=s[1];try{u.pushState(a,"",l)}catch(e){c.location.assign(l)}E(r)}},replace:function e(n,i){var r=t.Replace,o=w(n,i);if(C(r,o,(function(){e(n,i)}))){var s=k(o,g),a=s[0],l=s[1];u.replaceState(a,"",l),E(r)}},go:x,back:function(){x(-1)},forward:function(){x(1)},listen:function(e){return y.push(e)},block:function(e){var t=v.push(e);return 1===v.length&&c.addEventListener(n,i),function(){t(),v.length||c.removeEventListener(n,i)}}}}());h.addUpdateAttributesHook(wF),h.addUpdateAttributesHook(rl),h.addUpdateRouteHook(ol,-1024),Na.initialize(va.initialLoginState).then((()=>{h.reload()})),(0,d.render)(u.createElement(GF,{appVersion:va.appVersion,router:h,suluVersion:va.suluVersion}),l)}()}()}();
//# sourceMappingURL=main.cf0bdf1921fcfef2e3de.js.map